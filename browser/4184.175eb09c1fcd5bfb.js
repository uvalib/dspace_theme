(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[4184],{83648:(E,l,o)=>{"use strict";o.r(l),o.d(l,{ForgotEmailComponent:()=>s});var i=o(96134),r=o(48500),a=o(54438);let s=(()=>{class c{constructor(){this.typeRequest=r.TYPE_REQUEST_FORGOT}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275cmp=a.VBU({type:c,selectors:[["ds-base-forgot-email"]],standalone:!0,features:[a.aNF],decls:1,vars:2,consts:[[3,"MESSAGE_PREFIX","typeRequest"]],template:function(h,v){1&h&&a.nrm(0,"ds-register-email-form",0),2&h&&a.Y8G("MESSAGE_PREFIX","forgot-email.form")("typeRequest",v.typeRequest)},dependencies:[i.I]})}}return c})()},33938:(E,l,o)=>{"use strict";o.r(l),o.d(l,{ForgotPasswordFormComponent:()=>d});var i=o(60177),r=o(41780),a=o(96354),s=o(59836),c=o(74449),p=o(80183),g=o(13738),h=o(60456),v=o(39806),P=o(75465),t=o(54438),I=o(25499),n=o(7901);function T(m,_){if(1&m){const e=t.RV6();t.j41(0,"div",1)(1,"h1",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",3)(5,"div",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"span"),t.nI1(15,"dsBrowserOnly"),t.EFF(16),t.nI1(17,"async"),t.k0s()()()()(),t.j41(18,"div",3)(19,"div",4),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"div",5)(23,"ds-profile-page-security-form",9),t.bIt("isInvalid",function(u){t.eBV(e);const F=t.XpG();return t.Njj(F.setInValid(u))})("passwordValue",function(u){t.eBV(e);const F=t.XpG();return t.Njj(F.setPasswordValue(u))}),t.k0s()()(),t.j41(24,"div",6)(25,"div",7)(26,"button",10),t.bIt("click",function(){t.eBV(e);const u=t.XpG();return t.Njj(u.submit())}),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()}if(2&m){const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,10,"forgot-password.form.head")),t.R7$(4),t.JRh(t.bMT(7,12,"forgot-password.form.identification.header")),t.R7$(6),t.SpI("",t.bMT(13,14,"forgot-password.form.identification.email")," "),t.R7$(2),t.BMQ("data-test",t.bMT(15,16,"email")),t.R7$(2),t.JRh(t.bMT(17,18,e.registration$).email),t.R7$(4),t.JRh(t.bMT(21,20,"forgot-password.form.card.security")),t.R7$(3),t.Y8G("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),t.R7$(3),t.Y8G("dsBtnDisabled",e.isInValid),t.R7$(),t.JRh(t.bMT(28,22,"forgot-password.form.submit"))}}let d=(()=>{class m{constructor(e,f,u,F,C,O){this.ePersonDataService=e,this.translateService=f,this.notificationsService=u,this.store=F,this.router=C,this.route=O,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,a.T)(e=>e.registration),(0,p.ak)()),this.registration$.subscribe(e=>{this.email=e.email,this.token=e.token,this.user=e.user})}setInValid(e){this.isInValid=e}setPasswordValue(e){this.password=e}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,p.qD)()).subscribe(e=>{e.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new s.Sn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),e.errorMessage)})}static{this.\u0275fac=function(f){return new(f||m)(t.rXU(c.EPersonDataService),t.rXU(r.c$),t.rXU(v.I),t.rXU(I.il),t.rXU(n.Ix),t.rXU(n.nX))}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-base-forgot-password-form"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"],[3,"isInvalid","passwordValue","passwordCanBeEmpty","FORM_PREFIX"],[1,"btn","btn-default","btn-primary",3,"click","dsBtnDisabled"]],template:function(f,u){1&f&&(t.DNE(0,T,29,24,"div",0),t.nI1(1,"async")),2&f&&t.Y8G("ngIf",t.bMT(1,1,u.registration$))},dependencies:[r.h,r.D9,P.L,g.q,i.Jj,i.bT,h.A]})}}return m})()},64184:(E,l,o)=>{"use strict";o.r(l),o.d(l,{ROUTES:()=>I});var i=o(15694),r=o(8886),s=(o(83648),o(54438));const c=["*"];function p(n,T){}let g=(()=>{class n extends r.J{getComponentName(){return"ForgotEmailComponent"}importThemedComponent(d){return o(67646)(`./${d}/app/forgot-password/forgot-password-email/forgot-email.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,83648))}static{this.\u0275fac=(()=>{let d;return function(_){return(d||(d=s.xGo(n)))(_||n)}})()}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ds-forgot-email"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,_){1&m&&(s.NAR(),s.DNE(0,p,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}}return n})();o(33938);const v=["*"];function P(n,T){}const I=[{path:"",component:g,data:{title:"forgot-password.title"}},{path:":token",component:(()=>{class n extends r.J{getComponentName(){return"ForgotPasswordFormComponent"}importThemedComponent(d){return o(15706)(`./${d}/app/forgot-password/forgot-password-form/forgot-password-form.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,33938))}static{this.\u0275fac=(()=>{let d;return function(_){return(d||(d=s.xGo(n)))(_||n)}})()}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ds-forgot-password-form"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:v,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,_){1&m&&(s.NAR(),s.DNE(0,P,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}}return n})(),canActivate:[i.r]}]},67646:(E,l,o)=>{var i={"./custom/app/forgot-password/forgot-password-email/forgot-email.component":[82217,2217]};function r(a){if(!o.o(i,a))return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p});var s=i[a],c=s[0];return o.e(s[1]).then(()=>o(c))}r.keys=()=>Object.keys(i),r.id=67646,E.exports=r},15706:(E,l,o)=>{var i={"./custom/app/forgot-password/forgot-password-form/forgot-password-form.component":[42873,2873]};function r(a){if(!o.o(i,a))return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p});var s=i[a],c=s[0];return o.e(s[1]).then(()=>o(c))}r.keys=()=>Object.keys(i),r.id=15706,E.exports=r}}]);