"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[5079],{90839:(M,_,t)=>{t.d(_,{Q:()=>e});class e{constructor(r,i){this.text=r,this.url=i}}},2729:(M,_,t)=>{t.d(_,{h:()=>l});var e=t(54438),v=t(7901),r=t(41780),i=t(7673),o=t(96354),D=t(25558),B=t(69799),E=t(42673),n=t(80183),u=t(82777);const l=(a,h,y=(0,e.WQX)(E.BrowseDefinitionDataService),d=(0,e.WQX)(v.Ix),O=(0,e.WQX)(r.c$))=>{const p=a.data.title,c=a.params.id||a.queryParams.id||a.data.id;let s;s=(0,u.Tn)(a.data.browseDefinition)&&(0,u.a4)(c)?y.findById(c).pipe((0,n.qD)(),(0,o.T)(T=>T.payload)):(0,i.of)(a.data.browseDefinition);const P=a.queryParams.scope??a.parent?.params.id,b=a.queryParams.value,f=O.instant(`browse.metadata.${c}`);return s.pipe((0,D.n)(T=>(0,u.a4)(T)?(a.data=function m(a,h,y,d,O,p,c){return Object.assign({},p.data,{title:a,id:h,browseDefinition:y,field:d,value:(0,u.a4)(O)?`"${O}"`:"",scope:c})}(p,c,T,f,b,a,P),(0,i.of)(!0)):(d.navigate([B.RD]),(0,i.of)(!1))))}},94340:(M,_,t)=>{t.d(_,{p:()=>v});var e=t(70379);const v=(r,i)=>(r.data=Object.assign({},r.data,{breadcrumbKey:r.data.breadcrumbKey+"."+r.params.id}),(0,e.S)(r,i))},35079:(M,_,t)=>{t.r(_),t.d(_,{ROUTES:()=>y});var e=t(54438),v=t(96354),r=t(69799),i=t(67045),o=t(13989),D=t(80183),B=t(82777),n=t(2729),u=t(94340),l=t(60177),m=t(84009),a=t(7901);const y=[{path:"",resolve:{breadcrumb:(d,O,p=(0,e.WQX)(i.U),c=(0,e.WQX)(o.DSpaceObjectDataService))=>{const s=d.queryParams.scope;if((0,B.a4)(s))return c.findById(s).pipe((0,D.yd)(),(0,D.Bo)(),(0,v.T)(P=>({provider:p,key:P,url:(0,r.wN)(P)})))}},children:[{path:":id",component:(()=>{class d{constructor(p){this.route=p}ngOnInit(){this.browseByType$=this.route.data.pipe((0,v.T)(p=>({type:p.browseDefinition.getRenderType()})))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(a.nX))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-browse-by-page"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[[1,"container"],[3,"browseByType"]],template:function(c,s){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-browse-by-switcher",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("browseByType",e.bMT(2,1,s.browseByType$)))},dependencies:[m.e,l.Jj]})}}return d})(),canActivate:[n.h],resolve:{breadcrumb:u.p},data:{title:"browse.title.page",breadcrumbKey:"browse.metadata"}}]}]},84009:(M,_,t)=>{t.d(_,{e:()=>B}),t(26292);var v=t(22924),r=t(92827),i=t(81387),o=t(54438);function D(E,n){}let B=(()=>{class E extends v.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["context","browseByType"],this.inputNames=["context","browseByType","displayTitle","scope"]}getComponent(){return(0,i.cv)(this.browseByType.type,this.context,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let u;return function(m){return(u||(u=o.xGo(E)))(m||E)}})()}static{this.\u0275cmp=o.VBU({type:E,selectors:[["ds-browse-by-switcher"]],inputs:{context:"context",browseByType:"browseByType",displayTitle:"displayTitle",scope:"scope"},standalone:!0,features:[o.Vt3,o.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(l,m){1&l&&o.DNE(0,D,0,0,"ng-template",1,0,o.C5r)},dependencies:[r.z],encapsulation:2})}}return E})()},67045:(M,_,t)=>{t.d(_,{U:()=>m});var e=t(7673),v=t(47677),r=t(25558),i=t(96354),o=t(69799),D=t(90839),B=t(82777),E=t(67600),n=t(1321),u=t(96526),l=t(54438);let m=(()=>{class a{constructor(y,d){this.linkService=y,this.dsoNameService=d}getBreadcrumbs(y,d){const O=this.dsoNameService.getName(y),p=new D.Q(O,d),c=y.getParentLinkKey();return this.linkService.resolveLink(y,(0,E.s)(c))[c].pipe((0,v.I)(s=>s.hasSucceeded||204===s.statusCode),(0,r.n)(s=>{if((0,B.a4)(s)&&(0,B.a4)(s.payload)){const P=s.payload;return this.getBreadcrumbs(P,(0,o.wN)(P))}return(0,e.of)([])}),(0,i.T)(s=>[...s,p]))}static{this.\u0275fac=function(d){return new(d||a)(l.KVO(n._),l.KVO(u.f))}}static{this.\u0275prov=l.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},70379:(M,_,t)=>{t.d(_,{S:()=>E});var e=t(54438),v=t(82777),r=t(30506),i=t(7673),o=t(90839);let B=(()=>{class n{getBreadcrumbs(l,m){return(0,i.of)([new o.Q(l+".breadcrumbs",m)])}static{this.\u0275fac=function(m){return new(m||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const E=(n,u,l=(0,e.WQX)(B))=>{const m=n.data.breadcrumbKey;if((0,v.Tn)(m))throw new Error('You provided an i18nBreadcrumbResolver for url "'+n.url+"\" but no breadcrumbKey in the route's data");return{provider:l,key:m,url:(0,r.F)(n)}}}}]);