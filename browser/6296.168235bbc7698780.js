"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6296],{46296:(x,l,s)=>{s.r(l),s.d(l,{DsoEditMetadataComponent:()=>j});var _=s(60177),r=s(41780),c=s(33278),m=s(24591),p=s(40659),b=s(80987),u=s(28043),v=s(57227),f=s(16292),T=s(60456),M=s(82394),t=s(54438);function g(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",20),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.reinstate())}),t.nrm(4,"i",21),t.j41(5,"span",6),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("dsBtnDisabled",t.bMT(1,4,e.saving$))("title",t.bMT(2,6,e.dsoType+".edit.metadata.reinstate-button")),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(6),t.SpI("\xa0",t.bMT(7,10,e.dsoType+".edit.metadata.reinstate-button"),"")}}function E(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.nI1(1,"translate"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.discard())}),t.nrm(4,"i",23),t.j41(5,"span",6),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,4,e.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!e.hasChanges||t.bMT(2,6,e.saving$)),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.discard-button")),t.R7$(6),t.SpI("\xa0",t.bMT(7,10,e.dsoType+".edit.metadata.discard-button"),"")}}function D(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"ds-metadata-field-selector",26),t.mxI("mdFieldChange",function(d){t.eBV(e);const o=t.XpG(2);return t.DH7(o.newMdField,d)||(o.newMdField=d),t.Njj(d)}),t.k0s()(),t.j41(3,"div",27)(4,"div",11),t.nrm(5,"ds-dso-edit-metadata-value-headers",28),t.j41(6,"ds-dso-edit-metadata-value",29),t.bIt("confirm",function(d){t.eBV(e);const o=t.XpG(2);return t.Njj(o.confirmNewValue(d))})("remove",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.form.newValue=void 0)})("undo",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.form.newValue=void 0)}),t.k0s()()()()}if(2&a){const e=t.XpG(2);t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R50("mdField",e.newMdField),t.Y8G("autofocus",!0),t.R7$(3),t.Y8G("dsoType",e.dsoType),t.R7$(),t.Y8G("dso",e.dso)("mdValue",e.form.newValue)("dsoType",e.dsoType)("saving$",e.savingOrLoadingFieldValidation$)("isOnlyValue",!0)("mdField",e.newMdField)}}function I(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",34),t.bIt("click",function(){t.eBV(e);const d=t.XpG().$implicit,o=t.XpG(2);return o.form.resetOrder(d),t.Njj(o.onValueSaved())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&a){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.dsoType+".edit.metadata.reset-order-button")," ")}}function y(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",24)(1,"div",30)(2,"span",31),t.EFF(3),t.k0s(),t.DNE(4,I,3,3,"div",32),t.k0s(),t.j41(5,"ds-dso-edit-metadata-field-values",33),t.bIt("valueSaved",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.onValueSaved())}),t.k0s()()}if(2&a){const e=i.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e),t.R7$(),t.Y8G("ngIf",n.form.hasOrderChanges(e)),t.R7$(),t.Y8G("dso",n.dso)("form",n.form)("dsoType",n.dsoType)("saving$",n.saving$)("draggingMdField$",n.draggingMdField$)("mdField",e)}}function C(a,i){if(1&a&&(t.j41(0,"div"),t.nrm(1,"ds-alert",35),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.Y8G("content",e.dsoType+".edit.metadata.empty")("type",e.AlertTypeEnum.Info)}}function R(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",36),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.reinstate())}),t.nrm(4,"i",21),t.EFF(5),t.nI1(6,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("dsBtnDisabled",t.bMT(1,4,e.saving$))("title",t.bMT(2,6,e.dsoType+".edit.metadata.reinstate-button")),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(5),t.SpI(" ",t.bMT(6,10,e.dsoType+".edit.metadata.reinstate-button")," ")}}function h(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",37),t.nI1(1,"translate"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.discard())}),t.nrm(4,"i",23),t.EFF(5),t.nI1(6,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,4,e.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!e.hasChanges||t.bMT(2,6,e.saving$)),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.discard-button")),t.R7$(5),t.SpI(" ",t.bMT(6,10,e.dsoType+".edit.metadata.discard-button")," ")}}function B(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"button",4),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.add())}),t.nrm(6,"i",5),t.j41(7,"span",6),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,g,8,12,"button",7),t.j41(11,"button",8),t.nI1(12,"async"),t.nI1(13,"translate"),t.nI1(14,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.submit())}),t.nrm(15,"i",9),t.j41(16,"span",6),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,E,8,12,"button",10),t.k0s(),t.j41(20,"div",11),t.nI1(21,"translate"),t.nrm(22,"ds-dso-edit-metadata-headers",12),t.DNE(23,D,7,10,"div",13)(24,y,6,8,"div",14),t.k0s(),t.DNE(25,C,2,2,"div",1),t.j41(26,"div",15)(27,"div",16),t.DNE(28,R,7,12,"button",17),t.j41(29,"button",18),t.nI1(30,"async"),t.nI1(31,"translate"),t.nI1(32,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.submit())}),t.nrm(33,"i",9),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.DNE(36,h,7,12,"button",19),t.k0s()()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("dsBtnDisabled",e.form.newValue||t.bMT(3,21,e.saving$))("title",t.bMT(4,23,e.dsoType+".edit.metadata.add-button")),t.BMQ("aria-label",t.bMT(5,25,e.dsoType+".edit.metadata.add-button")),t.R7$(6),t.SpI("\xa0",t.bMT(9,27,e.dsoType+".edit.metadata.add-button"),""),t.R7$(2),t.Y8G("ngIf",e.isReinstatable),t.R7$(),t.Y8G("dsBtnDisabled",!e.hasChanges||t.bMT(12,29,e.saving$))("title",t.bMT(13,31,e.dsoType+".edit.metadata.save-button")),t.BMQ("aria-label",t.bMT(14,33,e.dsoType+".edit.metadata.save-button")),t.R7$(6),t.SpI("\xa0",t.bMT(18,35,e.dsoType+".edit.metadata.save-button"),""),t.R7$(2),t.Y8G("ngIf",!e.isReinstatable),t.R7$(),t.BMQ("aria-label",t.bMT(21,37,"item.edit.head")),t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R7$(),t.Y8G("ngIf",e.form.newValue),t.R7$(),t.Y8G("ngForOf",e.form.fieldKeys),t.R7$(),t.Y8G("ngIf",e.isEmpty&&!e.form.newValue),t.R7$(3),t.Y8G("ngIf",e.isReinstatable),t.R7$(),t.Y8G("dsBtnDisabled",!e.hasChanges||t.bMT(30,39,e.saving$))("title",t.bMT(31,41,e.dsoType+".edit.metadata.save-button")),t.BMQ("aria-label",t.bMT(32,43,e.dsoType+".edit.metadata.save-button")),t.R7$(5),t.SpI(" ",t.bMT(35,45,e.dsoType+".edit.metadata.save-button")," "),t.R7$(2),t.Y8G("ngIf",!e.isReinstatable)}}function G(a,i){1&a&&t.nrm(0,"ds-loading")}let j=(()=>{class a extends c.DsoEditMetadataComponent{static{this.\u0275fac=(()=>{let e;return function(d){return(e||(e=t.xGo(a)))(d||a)}})()}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-themed-dso-edit-metadata"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","item-metadata",4,"ngIf"],[4,"ngIf"],[1,"item-metadata"],[1,"button-row","top","d-flex","my-2","space-children-mr","ml-gap"],["id","dso-add-btn",1,"mr-auto","btn","btn-success",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["class","btn btn-warning ml-1","id","dso-reinstate-btn",3,"dsBtnDisabled","title","click",4,"ngIf"],["id","dso-save-btn",1,"btn","btn-primary","ml-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-save"],["class","btn btn-danger ml-1","id","dso-discard-btn",3,"title","dsBtnDisabled","click",4,"ngIf"],["role","table"],[3,"dsoType"],["class","d-flex flex-row ds-field-row","role","row",4,"ngIf"],["class","d-flex flex-row ds-field-row","role","row",4,"ngFor","ngForOf"],[1,"button-row","bottom","d-inline-block","w-100"],[1,"mt-2","float-right","space-children-mr","ml-gap"],["class","btn btn-warning",3,"dsBtnDisabled","title","click",4,"ngIf"],[1,"btn","btn-primary",3,"click","dsBtnDisabled","title"],["class","btn btn-danger",3,"title","dsBtnDisabled","click",4,"ngIf"],["id","dso-reinstate-btn",1,"btn","btn-warning","ml-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-undo-alt"],["id","dso-discard-btn",1,"btn","btn-danger","ml-1",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-times"],["role","row",1,"d-flex","flex-row","ds-field-row"],["role","rowheader",1,"lbl-cell","ds-success"],[3,"mdFieldChange","dsoType","mdField","autofocus"],["role","cell",1,"flex-grow-1","ds-drop-list"],["role","presentation",3,"dsoType"],[3,"confirm","remove","undo","dso","mdValue","dsoType","saving$","isOnlyValue","mdField"],["role","rowheader",1,"lbl-cell"],[1,"dont-break-out","preserve-line-breaks"],["class","btn btn-warning reset-order-button mt-2 w-100",3,"click",4,"ngIf"],["role","cell",1,"flex-grow-1",3,"valueSaved","dso","form","dsoType","saving$","draggingMdField$","mdField"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100",3,"click"],[3,"content","type"],[1,"btn","btn-warning",3,"click","dsBtnDisabled","title"],[1,"btn","btn-danger",3,"click","title","dsBtnDisabled"]],template:function(n,d){1&n&&t.DNE(0,B,37,47,"div",0)(1,G,1,0,"ds-loading",1),2&n&&(t.Y8G("ngIf",d.form),t.R7$(),t.Y8G("ngIf",!d.form))},dependencies:[_.bT,p.L,v.g,u.c,b.o,_.pM,m.t,f.C,M.v,_.Jj,r.h,r.D9,T.A],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.lbl-cell.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.reset-order-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return a})()}}]);