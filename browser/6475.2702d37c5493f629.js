(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6475],{82750:(z,U,e)=>{"use strict";e.d(U,{q:()=>H});var T=e(60177),g=e(1473),u=e(41780),t=e(82777),R=e(67116),M=e(41684),K=e(6983),W=e(30077),X=e(32473),L=e(6041),j=e(49623),V=e(80183),N=e(61434),P=e(31136),S=e(13143),a=e(39806),B=e(43095),y=e(18226),_=e(88280);const E={id:"entityType",name:"dspace.entity.type",disabled:!1},C=[new g.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new g.Zex({id:"description",name:"dc.description",spellCheck:_.c.form.spellCheck}),new g.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:_.c.form.spellCheck}),new g.Zex({id:"rights",name:"dc.rights",spellCheck:_.c.form.spellCheck}),new g.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:_.c.form.spellCheck}),new g.Zex({id:"license",name:"dc.rights.license",spellCheck:_.c.form.spellCheck})];var o=e(54438),x=e(52149);function p(h,F){if(1&h){const s=o.RV6();o.j41(0,"div",12)(1,"button",13),o.bIt("click",function(){o.eBV(s);const f=o.XpG(3);return o.Njj(f.confirmLogoDeleteWithModal())}),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}2&h&&(o.R7$(2),o.SpI("",o.bMT(3,1,"community.edit.logo.delete.title")," "))}function A(h,F){if(1&h&&(o.j41(0,"div",7)(1,"div",1)(2,"div",8),o.nrm(3,"ds-comcol-page-logo",9),o.k0s(),o.j41(4,"div",10),o.DNE(5,p,4,3,"div",11),o.k0s()()()),2&h){const s=o.XpG().ngVar,D=o.XpG();o.R7$(3),o.Y8G("alternateText",D.type.value+".logo.alt")("logo",s),o.R7$(2),o.Y8G("ngIf",s)}}function m(h,F){if(1&h){const s=o.RV6();o.j41(0,"ds-uploader",16),o.bIt("onCompleteItem",function(){o.eBV(s);const f=o.XpG(3);return o.Njj(f.onCompleteItem())})("onUploadError",function(){o.eBV(s);const f=o.XpG(3);return o.Njj(f.onUploadError())}),o.k0s()}if(2&h){const s=o.XpG(3);o.Y8G("ariaLabel",s.type.value+".browse.logo")("dropMsg",s.type.value+".edit.logo.upload")("dropOverDocumentMsg",s.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",s.uploadFilesOptions)}}function n(h,F){if(1&h&&(o.j41(0,"div",14),o.DNE(1,m,1,5,"ds-uploader",15),o.nI1(2,"async"),o.k0s()),2&h){const s=o.XpG(2);o.R7$(),o.Y8G("ngIf",o.bMT(2,1,s.initializedUploaderOptions))}}function G(h,F){if(1&h&&(o.qex(0),o.DNE(1,A,6,3,"div",5)(2,n,3,3,"div",6),o.bVm()),2&h){const s=F.ngVar;o.R7$(),o.Y8G("ngIf",s),o.R7$(),o.Y8G("ngIf",!s)}}function J(h,F){if(1&h){const s=o.RV6();o.j41(0,"ds-form",17),o.bIt("submitForm",function(){o.eBV(s);const f=o.XpG();return o.Njj(f.onSubmit())}),o.j41(1,"button",18),o.bIt("click",function(){o.eBV(s);const f=o.XpG();return o.Njj(f.back.emit())}),o.nrm(2,"i",19),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&h){const s=o.XpG();o.Y8G("formId","comcol-form-id")("formModel",s.formModel)("displayCancel",!1),o.R7$(3),o.SpI(" ",o.bMT(4,4,s.type.value+".edit.return")," ")}}let H=(()=>{class h extends N.V{constructor(s,D,f,c,$,i,O,Y,Z,Q){super(s,D,f,c,i,O,Q),this.formService=s,this.translate=D,this.notificationsService=f,this.authService=c,this.dsoService=$,this.requestService=i,this.objectCache=O,this.entityTypeService=Y,this.chd=Z,this.modalService=Q,this.dso=new L.p,this.type=L.p.type,this.entityTypeSelection=new g.z4z(E)}ngOnInit(){(0,t.Tn)(this.formModel)&&(0,t.Pe)(this.dso)&&this.initializeForm()}ngOnChanges(s){const D=s.dso;this.dso&&D&&!D.isFirstChange()&&this.initializeForm()}initializeForm(){let s;this.dso&&this.dso.metadata&&(s=this.dso.metadata["dspace.entity.type"]),this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe((0,V.Ar)()).subscribe(f=>{(f=f.filter(c=>c.label!==j.k)).forEach((c,$)=>{this.entityTypeSelection.add({disabled:!1,label:c.label,value:c.label}),s&&s.length>0&&s[0].value===c.label&&(this.entityTypeSelection.select($),this.entityTypeSelection.disabled=!0)}),this.formModel=0===f.length?C:[...C,this.entityTypeSelection],super.ngOnInit(),this.chd.detectChanges()})}static{this.\u0275fac=function(D){return new(D||h)(o.rXU(g.J9r),o.rXU(u.c$),o.rXU(a.I),o.rXU(R.uR),o.rXU(K.CollectionDataService),o.rXU(X.B),o.rXU(M.$),o.rXU(W.f),o.rXU(o.gRc),o.rXU(x.Bq))}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["ds-collection-form"]],inputs:{dso:"dso"},standalone:!0,features:[o.Vt3,o.OA$,o.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(D,f){if(1&D&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.DNE(6,G,3,2,"ng-container",3),o.nI1(7,"async"),o.k0s()(),o.DNE(8,J,5,6,"ds-form",4)),2&D){let c;o.R7$(4),o.JRh(o.bMT(5,3,f.type.value+".edit.logo.label")),o.R7$(2),o.Y8G("ngVar",null==(c=o.bMT(7,5,null==f.dso?null:f.dso.logo))?null:c.payload),o.R7$(2),o.Y8G("ngIf",f.formModel)}},dependencies:[S.s,u.h,u.D9,B.y,T.Jj,P.X,T.bT,y.r]})}}return h})()},16475:(z,U,e)=>{"use strict";e.r(U),e.d(U,{ROUTES:()=>ut});var T=e(2729),g=e(94340),u=e(49347),t=e(54438),R=e(54809),M=e(6983),K=e(70025),W=e(67045),L=e(89266),j=e(70379),V=e(10695),N=e(59397),P=e(85021),S=e(34237),a=e(7673),B=e(6056),y=e(3970);const _=(0,B.L)(()=>R.Q,()=>(0,a.of)(y._.AdministratorOf));var E=e(64611),C=e(60177),o=e(41780),x=e(96526),p=e(46660),A=e(32473),m=e(56760),n=e(6041),G=e(61084),J=e(82394),H=e(39806),h=e(82750),F=e(7901);const s=l=>({parent:l});function D(l,b){if(1&l){const d=t.RV6();t.j41(0,"div",1)(1,"div",3)(2,"div",4)(3,"h1",5),t.EFF(4),t.nI1(5,"async"),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ds-collection-form",6),t.bIt("submitForm",function(v){t.eBV(d);const I=t.XpG();return t.Njj(I.onSubmit(v))})("back",function(){t.eBV(d);const v=t.XpG();return t.Njj(v.navigateToHome())}),t.k0s()()}if(2&l){let d;const r=t.XpG();t.R7$(4),t.JRh(t.i5U(6,4,"collection.create.sub-head",t.eq3(7,s,r.dsoNameService.getName(null==(d=t.bMT(5,2,r.parentRD$))?null:d.payload)))),t.R7$(3),t.Y8G("isCreation",!0)}}function f(l,b){1&l&&t.nrm(0,"ds-loading")}let c=(()=>{class l extends G.Q{constructor(d,r,v,I,k,w,tt,et){super(v,d,r,I,k,w,tt,et),this.dsoNameService=d,this.communityDataService=r,this.collectionDataService=v,this.routeService=I,this.router=k,this.notificationsService=w,this.translate=tt,this.requestService=et,this.frontendURL="/collections/",this.type=n.p.type}static{this.\u0275fac=function(r){return new(r||l)(t.rXU(x.f),t.rXU(p.CommunityDataService),t.rXU(M.CollectionDataService),t.rXU(m.v$),t.rXU(F.Ix),t.rXU(H.I),t.rXU(o.c$),t.rXU(A.B))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["ds-create-collection"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:6,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","pb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"submitForm","back","isCreation"]],template:function(r,v){1&r&&(t.DNE(0,D,8,9,"div",0),t.nI1(1,"async"),t.j41(2,"div",1),t.DNE(3,f,1,0,"ds-loading",2),t.nI1(4,"async"),t.k0s()),2&r&&(t.Y8G("ngIf",!1===t.bMT(1,2,v.isLoading$)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,4,v.isLoading$)))},dependencies:[h.q,o.h,o.D9,C.Jj,J.v,C.bT]})}}return l})();var $=e(96354),i=e(88141),O=e(80183),Y=e(82777),Q=e(60456),ot=e(55326),nt=e(18226);const at=l=>({dso:l});function lt(l,b){1&l&&(t.j41(0,"span"),t.nrm(1,"i",12),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&l&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"collection.delete.processing"),""))}function it(l,b){1&l&&(t.j41(0,"span"),t.nrm(1,"i",13),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&l&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"collection.delete.confirm"),""))}function st(l,b){if(1&l){const d=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"h1",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.nI1(11,"async"),t.bIt("click",function(){const v=t.eBV(d).ngVar,I=t.XpG();return t.Njj(I.onCancel(v))}),t.nrm(12,"i",9),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",10),t.nI1(16,"async"),t.bIt("click",function(){const v=t.eBV(d).ngVar,I=t.XpG();return t.Njj(I.onConfirm(v))}),t.DNE(17,lt,4,3,"span",11),t.nI1(18,"async"),t.DNE(19,it,4,3,"span",11),t.nI1(20,"async"),t.k0s()()()(),t.bVm()}if(2&l){const d=b.ngVar,r=t.XpG();t.R7$(3),t.JRh(t.bMT(4,7,"collection.delete.head")),t.R7$(3),t.JRh(t.i5U(7,9,"collection.delete.text",t.eq3(22,at,r.dsoNameService.getName(d)))),t.R7$(4),t.Y8G("dsBtnDisabled",t.bMT(11,12,r.processing$)),t.R7$(3),t.SpI(" ",t.bMT(14,14,"collection.delete.cancel")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(16,16,r.processing$)),t.R7$(2),t.Y8G("ngIf",t.bMT(18,18,r.processing$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(20,20,r.processing$))}}let ct=(()=>{class l extends ot.D{constructor(d,r,v,I,k,w){super(d,r,v,I,k,w),this.dsoDataService=d,this.dsoNameService=r,this.router=v,this.route=I,this.notifications=k,this.translate=w,this.frontendURL="/collections/"}static{this.\u0275fac=function(r){return new(r||l)(t.rXU(M.CollectionDataService),t.rXU(x.f),t.rXU(F.Ix),t.rXU(F.nX),t.rXU(H.I),t.rXU(o.c$))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["ds-delete-collection"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(r,v){if(1&r&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,st,21,24,"ng-container",2),t.nI1(3,"async"),t.k0s()()),2&r){let I;t.R7$(2),t.Y8G("ngVar",null==(I=t.bMT(3,1,v.dsoRD$))?null:I.payload)}},dependencies:[o.h,o.D9,C.Jj,C.bT,nt.r,Q.A]})}}return l})();var rt=e(31827),dt=e(67600),q=e(8886);e(64767);const pt=["*"];function _t(l,b){}let vt=(()=>{class l extends q.J{getComponentName(){return"EditItemTemplatePageComponent"}importThemedComponent(d){return e(46563)(`./${d}/app/collection-page/edit-item-template-page/edit-item-template-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,64767))}static{this.\u0275fac=(()=>{let d;return function(v){return(d||(d=t.xGo(l)))(v||l)}})()}static{this.\u0275cmp=t.VBU({type:l,selectors:[["ds-edit-item-template-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:pt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,v){1&r&&(t.NAR(),t.DNE(0,_t,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return l})();e(22864);const gt=["*"];function ht(l,b){}const ut=[{path:E.gj,canActivate:[u.t,(l,b,d=(0,t.WQX)(p.CommunityDataService),r=(0,t.WQX)(F.Ix))=>{const v=l.queryParams.parent;return(0,Y.Tn)(v)?(r.navigate(["/404"]),(0,a.of)(!1)):d.findById(v).pipe((0,O.qD)(),(0,$.T)(I=>(0,Y.a4)(I)&&I.hasSucceeded&&(0,Y.a4)(I.payload)),(0,i.M)(I=>{I||r.navigate(["/404"])}))}],children:[{path:"",component:c,resolve:{breadcrumb:j.S},data:{breadcrumbKey:"collection.create"}}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:L.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:R.Q,breadcrumb:(l,b,d=(0,t.WQX)(W.U),r=(0,t.WQX)(M.CollectionDataService))=>(0,K.G)(l,b,d,r,...R.R)},runGuardsAndResolvers:"always",children:[{path:E._,loadChildren:()=>Promise.all([e.e(2754),e.e(9366),e.e(3534),e.e(2076),e.e(608)]).then(e.bind(e,70608)).then(l=>l.ROUTES),canActivate:[_]},{path:"delete",pathMatch:"full",component:ct,canActivate:[u.t]},{path:E.WJ,component:vt,canActivate:[u.t],resolve:{item:(l,b,d=(0,t.WQX)(rt.d))=>d.findByCollectionID(l.params.id,!0,!1,(0,dt.s)("templateItemOf")).pipe((0,O.qD)()),breadcrumb:j.S},data:{title:"collection.edit.template.title",breadcrumbKey:"collection.edit.template"}},{path:"",component:(()=>{class l extends q.J{getComponentName(){return"CollectionPageComponent"}importThemedComponent(d){return e(19862)(`./${d}/app/collection-page/collection-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,22864))}static{this.\u0275fac=(()=>{let d;return function(v){return(d||(d=t.xGo(l)))(v||l)}})()}static{this.\u0275cmp=t.VBU({type:l,selectors:[["ds-collection-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:gt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,v){1&r&&(t.NAR(),t.DNE(0,ht,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return l})(),resolve:{menu:P.c},children:[{path:"",pathMatch:"full",component:N.E},{path:"browse/:id",pathMatch:"full",component:V.O,canActivate:[T.h],resolve:{breadcrumb:g.p},data:{breadcrumbKey:"browse.metadata"}}]}],data:{menu:{public:[{id:"statistics_collection_:id",active:!0,visible:!0,index:2,model:{type:S.x.LINK,text:"menu.section.statistics",link:"statistics/collections/:id/"}}]}}}]},22864:(z,U,e)=>{"use strict";e.r(U),e.d(U,{CollectionPageComponent:()=>f});var T=e(60177),g=e(7901),u=e(41780),t=e(96354),R=e(96697),M=e(5964),K=e(73028),W=e(67116),X=e(96526),L=e(65007),j=e(3970),V=e(308),N=e(80183),P=e(50332),S=e(20538),a=e(76072),B=e(57632),y=e(23348),_=e(31136),E=e(17807),C=e(82777),o=e(79632),x=e(82394),p=e(18226),A=e(57850),m=e(64611),n=e(54438);function G(c,$){if(1&c&&(n.nrm(0,"ds-comcol-page-logo",16),n.nI1(1,"async"),n.nI1(2,"translate")),2&c){let i;const O=n.XpG(4);n.Y8G("logo",null==(i=n.bMT(1,2,O.logoRD$))?null:i.payload)("alternateText",n.bMT(2,4,"collection.logo"))}}function J(c,$){if(1&c&&(n.j41(0,"footer",17),n.nrm(1,"ds-comcol-page-content",11),n.k0s()),2&c){const i=n.XpG().ngIf;n.R7$(),n.Y8G("content",i.copyrightText)("hasInnerHtml",!0)}}function H(c,$){if(1&c&&(n.j41(0,"div"),n.nrm(1,"ds-view-tracker",5),n.j41(2,"div",6)(3,"header",7),n.nrm(4,"ds-comcol-page-header",8),n.DNE(5,G,3,6,"ds-comcol-page-logo",9),n.nrm(6,"ds-comcol-page-handle",10)(7,"ds-comcol-page-content",11)(8,"ds-comcol-page-content",12),n.k0s(),n.nrm(9,"ds-dso-edit-menu"),n.k0s(),n.j41(10,"section",13),n.nrm(11,"ds-comcol-page-browse-by",14)(12,"router-outlet"),n.k0s(),n.DNE(13,J,2,2,"footer",15),n.k0s()),2&c){const i=$.ngIf,O=n.XpG(3);n.R7$(),n.Y8G("object",i),n.R7$(3),n.Y8G("name",O.dsoNameService.getName(i)),n.R7$(),n.Y8G("ngIf",O.logoRD$),n.R7$(),n.Y8G("content",i.handle)("title","collection.page.handle"),n.R7$(),n.Y8G("content",i.introductoryText)("hasInnerHtml",!0),n.R7$(),n.Y8G("content",i.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),n.R7$(3),n.Y8G("id",i.id)("contentType",i.type),n.R7$(2),n.Y8G("ngIf",i.copyrightText)}}function h(c,$){if(1&c&&(n.j41(0,"div"),n.DNE(1,H,14,13,"div",3),n.k0s()),2&c){const i=n.XpG().ngVar;n.Y8G("@fadeInOut",void 0),n.R7$(),n.Y8G("ngIf",null==i?null:i.payload)}}function F(c,$){1&c&&(n.nrm(0,"ds-error",18),n.nI1(1,"translate")),2&c&&n.FS9("message",n.bMT(1,1,"error.collection"))}function s(c,$){1&c&&(n.nrm(0,"ds-loading",18),n.nI1(1,"translate")),2&c&&n.FS9("message",n.bMT(1,1,"loading.collection"))}function D(c,$){if(1&c&&(n.j41(0,"div",2),n.DNE(1,h,2,2,"div",3)(2,F,2,3,"ds-error",4)(3,s,2,3,"ds-loading",4),n.k0s()),2&c){const i=$.ngVar;n.R7$(),n.Y8G("ngIf",null==i?null:i.hasSucceeded),n.R7$(),n.Y8G("ngIf",null==i?null:i.hasFailed),n.R7$(),n.Y8G("ngIf",null==i?null:i.isLoading)}}let f=(()=>{class c{constructor(i,O,Y,Z,Q){this.route=i,this.router=O,this.authService=Y,this.authorizationDataService=Z,this.dsoNameService=Q}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,t.T)(i=>i.dso),(0,V.QD)(this.router,this.authService),(0,R.s)(1)),this.logoRD$=this.collectionRD$.pipe((0,t.T)(i=>i.payload),(0,M.p)(i=>(0,C.a4)(i)),(0,K.Z)(i=>i.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(j._.IsCollectionAdmin),this.collectionPageRoute$=this.collectionRD$.pipe((0,N.Hz)(),(0,t.T)(i=>(0,m.JW)(i.id)))}isNotEmpty(i){return(0,C.hj)(i)}static{this.\u0275fac=function(O){return new(O||c)(n.rXU(g.nX),n.rXU(g.Ix),n.rXU(W.uR),n.rXU(L.AuthorizationDataService),n.rXU(X.f))}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["ds-base-collection-page"]],standalone:!0,features:[n.aNF],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(O,Y){1&O&&(n.j41(0,"div",0),n.DNE(1,D,4,3,"div",1),n.nI1(2,"async"),n.k0s()),2&O&&(n.R7$(),n.Y8G("ngVar",n.bMT(2,1,Y.collectionRD$)))},dependencies:[a.s,o.A,T.bT,x.v,u.h,u.D9,A.H,p.r,T.Jj,y.H,_.X,B.T,E.T,S.g,g.n3],data:{animation:[P.qG,P.Ws]},changeDetection:0})}}return c})()},64767:(z,U,e)=>{"use strict";e.r(U),e.d(U,{EditItemTemplatePageComponent:()=>x});var T=e(60177),g=e(7901),u=e(41780),t=e(61594),R=e(96354),M=e(25558),K=e(96526),W=e(31827),X=e(80183),L=e(13707),j=e(16292),V=e(47978),N=e(82394),P=e(18226),S=e(64611),a=e(54438);const B=p=>({collection:p});function y(p,A){if(1&p&&(a.qex(0),a.j41(1,"h1",8),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.nrm(4,"ds-dso-edit-metadata",9),a.j41(5,"button",10),a.EFF(6),a.nI1(7,"translate"),a.k0s(),a.bVm()),2&p){const m=a.XpG().ngVar,n=a.XpG().ngVar,G=a.XpG();a.R7$(2),a.JRh(a.i5U(3,5,"collection.edit.template.head",a.eq3(10,B,G.dsoNameService.getName(n)))),a.R7$(2),a.Y8G("updateDataService",G.itemTemplateService)("dso",null==m?null:m.payload),a.R7$(),a.Y8G("routerLink",G.getCollectionEditUrl(n)),a.R7$(),a.JRh(a.bMT(7,8,"collection.edit.template.cancel"))}}function _(p,A){1&p&&(a.nrm(0,"ds-loading",11),a.nI1(1,"translate")),2&p&&a.Y8G("message",a.bMT(1,1,"collection.edit.template.loading"))}function E(p,A){if(1&p&&(a.nrm(0,"ds-alert",12),a.nI1(1,"translate")),2&p){const m=a.XpG(3);a.Y8G("type",m.AlertTypeEnum.Error)("content",a.bMT(1,2,"collection.edit.template.error"))}}function C(p,A){if(1&p&&(a.j41(0,"div",4),a.DNE(1,y,8,12,"ng-container",5)(2,_,2,3,"ds-loading",6)(3,E,2,4,"ds-alert",7),a.k0s()),2&p){const m=A.ngVar;a.R7$(),a.Y8G("ngIf",null==m?null:m.hasSucceeded),a.R7$(),a.Y8G("ngIf",null==m?null:m.isLoading),a.R7$(),a.Y8G("ngIf",null==m?null:m.hasFailed)}}function o(p,A){if(1&p&&(a.j41(0,"div",1)(1,"div",2),a.DNE(2,C,4,3,"div",3),a.nI1(3,"async"),a.k0s()()),2&p){const m=a.XpG();a.R7$(2),a.Y8G("ngVar",a.bMT(3,1,m.itemRD$))}}let x=(()=>{class p{constructor(m,n,G){this.route=m,this.itemTemplateService=n,this.dsoNameService=G,this.AlertTypeEnum=V.v}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,t.$)(),(0,R.T)(m=>m.dso)),this.itemRD$=this.collectionRD$.pipe((0,X.ak)(),(0,M.n)(m=>this.itemTemplateService.findByCollectionID(m.id)))}getCollectionEditUrl(m){return m?(0,S._E)(m.uuid):""}static{this.\u0275fac=function(n){return new(n||p)(a.rXU(g.nX),a.rXU(W.d),a.rXU(K.f))}}static{this.\u0275cmp=a.VBU({type:p,selectors:[["ds-base-edit-item-template-page"]],standalone:!0,features:[a.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"border-bottom"],[3,"updateDataService","dso"],[1,"btn","btn-outline-secondary",3,"routerLink"],[3,"message"],[3,"type","content"]],template:function(n,G){if(1&n&&(a.DNE(0,o,4,3,"div",0),a.nI1(1,"async")),2&n){let J;a.Y8G("ngVar",null==(J=a.bMT(1,1,G.collectionRD$))?null:J.payload)}},dependencies:[L.Q,g.Wk,T.Jj,P.r,T.bT,u.h,u.D9,N.v,j.C],encapsulation:2})}}return p})()},31827:(z,U,e)=>{"use strict";e.d(U,{d:()=>a});var T=e(25558),g=e(39806),u=e(37864),t=e(72734),R=e(41684),M=e(4910),K=e(39280),W=e(63897),X=e(81443),L=e(6983),j=e(12598),V=e(29326),N=e(32473),P=e(54438);class S extends W.W{constructor(y,_,E,C,o,x){super("itemtemplates",y,_,E,C,void 0),this.requestService=y,this.rdbService=_,this.objectCache=E,this.halService=C,this.notificationsService=o,this.collectionService=x,this.createData=new K.V(void 0,y,_,E,C,o,this.responseMsToLive)}getIDHrefObs(y){return this.collectionService.getIDHrefObs(y).pipe((0,T.n)(_=>this.halService.getEndpoint("itemtemplate",_)))}createTemplate(y,_){return this.createData.createOnEndpoint(y,this.getIDHrefObs(_))}}let a=(()=>{class B extends V.BaseItemDataService{constructor(_,E,C,o,x,p,A,m,n){super("itemtemplates",_,E,C,o,x,p,A,m),this.requestService=_,this.rdbService=E,this.objectCache=C,this.halService=o,this.notificationsService=x,this.comparator=p,this.browseService=A,this.bundleService=m,this.collectionService=n,this.byCollection=new S(_,E,C,o,x,n)}findByCollectionID(_,E=!0,C=!0,...o){return this.byCollection.findById(_,E,C,...o)}createByCollectionID(_,E){return this.byCollection.createTemplate(_,E)}getCollectionEndpoint(_){return this.byCollection.getIDHrefObs(_)}static{this.\u0275fac=function(E){return new(E||B)(P.KVO(N.B),P.KVO(t.o),P.KVO(R.$),P.KVO(M.Y),P.KVO(g.I),P.KVO(j.j),P.KVO(u.q),P.KVO(X.BundleDataService),P.KVO(L.CollectionDataService))}}static{this.\u0275prov=P.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},19862:(z,U,e)=>{var T={"./custom/app/collection-page/collection-page.component":[39751,9751]};function g(u){if(!e.o(T,u))return Promise.resolve().then(()=>{var M=new Error("Cannot find module '"+u+"'");throw M.code="MODULE_NOT_FOUND",M});var t=T[u],R=t[0];return e.e(t[1]).then(()=>e(R))}g.keys=()=>Object.keys(T),g.id=19862,z.exports=g},46563:(z,U,e)=>{var T={"./custom/app/collection-page/edit-item-template-page/edit-item-template-page.component":[1928,1928]};function g(u){if(!e.o(T,u))return Promise.resolve().then(()=>{var M=new Error("Cannot find module '"+u+"'");throw M.code="MODULE_NOT_FOUND",M});var t=T[u],R=t[0];return e.e(t[1]).then(()=>e(R))}g.keys=()=>Object.keys(T),g.id=46563,z.exports=g}}]);