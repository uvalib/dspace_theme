(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6864],{2076:(R,E,n)=>{"use strict";n.d(E,{p:()=>l});var p=n(60177),_=n(1473),h=n(41780),f=n(88280),D=n(67116),v=n(41684),b=n(46660),U=n(32473),P=n(10046),L=n(61434),M=n(31136),I=n(13143),B=n(39806),F=n(43095),S=n(18226),e=n(54438),i=n(52149);function x(d,o){if(1&d){const a=e.RV6();e.j41(0,"div",12)(1,"button",13),e.bIt("click",function(){e.eBV(a);const g=e.XpG(3);return e.Njj(g.confirmLogoDeleteWithModal())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&d&&(e.R7$(2),e.SpI("",e.bMT(3,1,"community.edit.logo.delete.title")," "))}function A(d,o){if(1&d&&(e.j41(0,"div",7)(1,"div",1)(2,"div",8),e.nrm(3,"ds-comcol-page-logo",9),e.k0s(),e.j41(4,"div",10),e.DNE(5,x,4,3,"div",11),e.k0s()()()),2&d){const a=e.XpG().ngVar,t=e.XpG();e.R7$(3),e.Y8G("alternateText",t.type.value+".logo.alt")("logo",a),e.R7$(2),e.Y8G("ngIf",a)}}function W(d,o){if(1&d){const a=e.RV6();e.j41(0,"ds-uploader",16),e.bIt("onCompleteItem",function(){e.eBV(a);const g=e.XpG(3);return e.Njj(g.onCompleteItem())})("onUploadError",function(){e.eBV(a);const g=e.XpG(3);return e.Njj(g.onUploadError())}),e.k0s()}if(2&d){const a=e.XpG(3);e.Y8G("ariaLabel",a.type.value+".browse.logo")("dropMsg",a.type.value+".edit.logo.upload")("dropOverDocumentMsg",a.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",a.uploadFilesOptions)}}function $(d,o){if(1&d&&(e.j41(0,"div",14),e.DNE(1,W,1,5,"ds-uploader",15),e.nI1(2,"async"),e.k0s()),2&d){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",e.bMT(2,1,a.initializedUploaderOptions))}}function K(d,o){if(1&d&&(e.qex(0),e.DNE(1,A,6,3,"div",5)(2,$,3,3,"div",6),e.bVm()),2&d){const a=o.ngVar;e.R7$(),e.Y8G("ngIf",a),e.R7$(),e.Y8G("ngIf",!a)}}function j(d,o){if(1&d){const a=e.RV6();e.j41(0,"ds-form",17),e.bIt("submitForm",function(){e.eBV(a);const g=e.XpG();return e.Njj(g.onSubmit())}),e.j41(1,"button",18),e.bIt("click",function(){e.eBV(a);const g=e.XpG();return e.Njj(g.back.emit())}),e.nrm(2,"i",19),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&d){const a=e.XpG();e.Y8G("formId","comcol-form-id")("formModel",a.formModel)("displayCancel",!1),e.R7$(3),e.SpI(" ",e.bMT(4,4,a.type.value+".edit.return")," ")}}let l=(()=>{class d extends L.V{constructor(a,t,g,X,z,N,V,Y){super(a,t,g,X,N,V,Y),this.formService=a,this.translate=t,this.notificationsService=g,this.authService=X,this.dsoService=z,this.requestService=N,this.objectCache=V,this.modalService=Y,this.dso=new P.E,this.type=P.E.type,this.formModel=[new _.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new _.Zex({id:"description",name:"dc.description",spellCheck:f.c.form.spellCheck}),new _.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:f.c.form.spellCheck}),new _.Zex({id:"rights",name:"dc.rights",spellCheck:f.c.form.spellCheck}),new _.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:f.c.form.spellCheck})]}ngOnChanges(a){const t=a.dso;this.dso&&t&&!t.isFirstChange()&&super.ngOnInit()}static{this.\u0275fac=function(t){return new(t||d)(e.rXU(_.J9r),e.rXU(h.c$),e.rXU(B.I),e.rXU(D.uR),e.rXU(b.CommunityDataService),e.rXU(U.B),e.rXU(v.$),e.rXU(i.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-community-form"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(t,g){if(1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,K,3,2,"ng-container",3),e.nI1(7,"async"),e.k0s()(),e.DNE(8,j,5,6,"ds-form",4)),2&t){let X;e.R7$(4),e.JRh(e.bMT(5,3,g.type.value+".edit.logo.label")),e.R7$(2),e.Y8G("ngVar",null==(X=e.bMT(7,5,null==g.dso?null:g.dso.logo))?null:X.payload),e.R7$(2),e.Y8G("ngIf",g.formModel)}},dependencies:[I.s,h.h,h.D9,F.y,p.Jj,M.X,p.bT,S.r]})}}return d})()},76864:(R,E,n)=>{"use strict";n.r(E),n.d(E,{ROUTES:()=>ft});var p=n(2729),_=n(94340),h=n(49347),f=n(89266),D=n(70379),v=n(10695),b=n(59397),U=n(85021),P=n(34237),L=n(22269),M=n(7673),I=n(6056),B=n(3970);const F=(0,I.L)(()=>L.D,()=>(0,M.of)(B._.AdministratorOf));var S=n(54671),e=n(60177),i=n(41780),x=n(96526),A=n(46660),W=n(32473),$=n(56760),K=n(10046),j=n(61084),l=n(82394),d=n(39806),o=n(18226),a=n(2076),t=n(54438),g=n(7901);const X=s=>({parent:s});function z(s,T){1&s&&(t.j41(0,"h1",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.JRh(t.bMT(2,1,"community.create.head")))}function N(s,T){if(1&s&&(t.j41(0,"h1",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s){const m=t.XpG().ngVar,r=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,"community.create.sub-head",t.eq3(4,X,r.dsoNameService.getName(m))))}}function V(s,T){if(1&s&&(t.qex(0),t.DNE(1,z,3,3,"h1",7)(2,N,3,6,"h1",8),t.bVm()),2&s){const m=T.ngVar;t.R7$(),t.Y8G("ngIf",!m),t.R7$(),t.Y8G("ngIf",m)}}function Y(s,T){if(1&s){const m=t.RV6();t.j41(0,"div",1)(1,"div",3)(2,"div",4),t.DNE(3,V,3,2,"ng-container",5),t.nI1(4,"async"),t.k0s()(),t.j41(5,"ds-community-form",6),t.bIt("submitForm",function(u){t.eBV(m);const y=t.XpG();return t.Njj(y.onSubmit(u))})("back",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.navigateToHome())}),t.k0s()()}if(2&s){let m;const r=t.XpG();t.R7$(3),t.Y8G("ngVar",null==(m=t.bMT(4,2,r.parentRD$))?null:m.payload),t.R7$(2),t.Y8G("isCreation",!0)}}function C(s,T){1&s&&t.nrm(0,"ds-loading")}let G=(()=>{class s extends j.Q{constructor(m,r,u,y,Q,Z,q){super(m,r,m,u,y,Q,Z,q),this.communityDataService=m,this.dsoNameService=r,this.routeService=u,this.router=y,this.notificationsService=Q,this.translate=Z,this.requestService=q,this.frontendURL="/communities/",this.type=K.E.type}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(A.CommunityDataService),t.rXU(x.f),t.rXU($.v$),t.rXU(g.Ix),t.rXU(d.I),t.rXU(i.c$),t.rXU(W.B))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-create-community"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:6,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","pb-4"],[4,"ngVar"],[3,"submitForm","back","isCreation"],["id","header","class","border-bottom p-2",4,"ngIf"],["id","sub-header","class","border-bottom pb-2",4,"ngIf"],["id","header",1,"border-bottom","p-2"],["id","sub-header",1,"border-bottom","pb-2"]],template:function(r,u){1&r&&(t.DNE(0,Y,6,4,"div",0),t.nI1(1,"async"),t.j41(2,"div",1),t.DNE(3,C,1,0,"ds-loading",2),t.nI1(4,"async"),t.k0s()),2&r&&(t.Y8G("ngIf",!1===t.bMT(1,2,u.isLoading$)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,4,u.isLoading$)))},dependencies:[a.p,i.h,i.D9,o.r,e.bT,e.Jj,l.v]})}}return s})();var c=n(96354),O=n(88141),J=n(80183),H=n(82777),tt=n(60456),nt=n(55326);const ot=s=>({dso:s});function et(s,T){1&s&&(t.j41(0,"span"),t.nrm(1,"i",12),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&s&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"community.delete.processing"),""))}function it(s,T){1&s&&(t.j41(0,"span"),t.nrm(1,"i",13),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&s&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"community.delete.confirm"),""))}function st(s,T){if(1&s){const m=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"h1",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.nI1(11,"async"),t.bIt("click",function(){const u=t.eBV(m).ngVar,y=t.XpG();return t.Njj(y.onCancel(u))}),t.nrm(12,"i",9),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",10),t.nI1(16,"async"),t.bIt("click",function(){const u=t.eBV(m).ngVar,y=t.XpG();return t.Njj(y.onConfirm(u))}),t.DNE(17,et,4,3,"span",11),t.nI1(18,"async"),t.DNE(19,it,4,3,"span",11),t.nI1(20,"async"),t.k0s()()()(),t.bVm()}if(2&s){const m=T.ngVar,r=t.XpG();t.R7$(3),t.JRh(t.bMT(4,7,"community.delete.head")),t.R7$(3),t.JRh(t.i5U(7,9,"community.delete.text",t.eq3(22,ot,r.dsoNameService.getName(m)))),t.R7$(4),t.Y8G("dsBtnDisabled",t.bMT(11,12,r.processing$)),t.R7$(3),t.SpI(" ",t.bMT(14,14,"community.delete.cancel")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(16,16,r.processing$)),t.R7$(2),t.Y8G("ngIf",t.bMT(18,18,r.processing$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(20,20,r.processing$))}}let at=(()=>{class s extends nt.D{constructor(m,r,u,y,Q,Z){super(m,r,u,y,Q,Z),this.dsoDataService=m,this.dsoNameService=r,this.router=u,this.route=y,this.notifications=Q,this.translate=Z,this.frontendURL="/communities/"}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(A.CommunityDataService),t.rXU(x.f),t.rXU(g.Ix),t.rXU(g.nX),t.rXU(d.I),t.rXU(i.c$))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-delete-community"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","dsBtnDisabled"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(r,u){if(1&r&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,st,21,24,"ng-container",2),t.nI1(3,"async"),t.k0s()()),2&r){let y;t.R7$(2),t.Y8G("ngVar",null==(y=t.bMT(3,1,u.dsoRD$))?null:y.payload)}},dependencies:[i.h,i.D9,e.Jj,o.r,e.bT,tt.A]})}}return s})();var w=n(8886);n(90187);const mt=["*"];function rt(s,T){}let ct=(()=>{class s extends w.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCollectionListComponent"}importThemedComponent(m){return n(60771)(`./${m}/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90187))}static{this.\u0275fac=(()=>{let m;return function(u){return(m||(m=t.xGo(s)))(u||s)}})()}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:mt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,u){1&r&&(t.NAR(),t.DNE(0,rt,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return s})();n(57525);const lt=["*"];function dt(s,T){}let _t=(()=>{class s extends w.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCommunityListComponent"}importThemedComponent(m){return n(24427)(`./${m}/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,57525))}static{this.\u0275fac=(()=>{let m;return function(u){return(m||(m=t.xGo(s)))(u||s)}})()}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:lt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,u){1&r&&(t.NAR(),t.DNE(0,dt,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return s})();function ut(s,T){if(1&s&&(t.qex(0),t.nrm(1,"ds-community-page-sub-community-list",1)(2,"ds-community-page-sub-collection-list",1),t.bVm()),2&s){const m=T.ngIf;t.R7$(),t.Y8G("community",m),t.R7$(),t.Y8G("community",m)}}let gt=(()=>{class s{constructor(m){this.route=m}ngOnInit(){this.community$=this.route.parent.data.pipe((0,c.T)(m=>m.dso.payload))}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(g.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-sub-com-col-section"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[3,"community"]],template:function(r,u){1&r&&(t.DNE(0,ut,3,2,"ng-container",0),t.nI1(1,"async")),2&r&&t.Y8G("ngIf",t.bMT(1,1,u.community$))},dependencies:[_t,ct,e.Jj,e.bT]})}}return s})();n(5548);const pt=["*"];function ht(s,T){}const ft=[{path:S.D6,children:[{path:"",component:G,resolve:{breadcrumb:D.S},data:{breadcrumbKey:"community.create"}}],canActivate:[h.t,(s,T,m=(0,t.WQX)(A.CommunityDataService),r=(0,t.WQX)(g.Ix))=>{const u=s.queryParams.parent;return(0,H.Tn)(u)?(0,M.of)(!0):m.findById(u).pipe((0,J.qD)(),(0,c.T)(y=>(0,H.a4)(y)&&y.hasSucceeded&&(0,H.a4)(y.payload)),(0,O.M)(y=>{y||r.navigate(["/404"])}))}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:f.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:L.D,breadcrumb:f.V},runGuardsAndResolvers:"always",children:[{path:S.zQ,loadChildren:()=>Promise.all([n.e(2754),n.e(9366),n.e(2076),n.e(8945)]).then(n.bind(n,71326)).then(s=>s.ROUTES),canActivate:[F]},{path:"delete",pathMatch:"full",component:at,canActivate:[h.t]},{path:"",component:(()=>{class s extends w.J{getComponentName(){return"CommunityPageComponent"}importThemedComponent(m){return n(76098)(`./${m}/app/community-page/community-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,5548))}static{this.\u0275fac=(()=>{let m;return function(u){return(m||(m=t.xGo(s)))(u||s)}})()}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ds-community-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:pt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,u){1&r&&(t.NAR(),t.DNE(0,ht,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return s})(),resolve:{menu:U.c},children:[{path:"",pathMatch:"full",component:b.E},{path:"subcoms-cols",pathMatch:"full",component:gt,resolve:{breadcrumb:D.S},data:{breadcrumbKey:"community.subcoms-cols"}},{path:"browse/:id",pathMatch:"full",component:v.O,canActivate:[p.h],resolve:{breadcrumb:_.p},data:{breadcrumbKey:"browse.metadata"}}]}],data:{menu:{public:[{id:"statistics_community_:id",active:!0,visible:!0,index:2,model:{type:P.x.LINK,text:"menu.section.statistics",link:"statistics/communities/:id/"}}]}}}]},5548:(R,E,n)=>{"use strict";n.r(E),n.d(E,{CommunityPageComponent:()=>Y});var p=n(60177),_=n(7901),h=n(41780),f=n(96354),D=n(5964),v=n(73028),b=n(67116),U=n(96526),P=n(65007),L=n(3970),M=n(308),I=n(80183),B=n(50332),F=n(20538),S=n(76072),e=n(57632),i=n(23348),x=n(31136),A=n(17807),W=n(82777),$=n(79632),K=n(82394),j=n(18226),l=n(57850),d=n(54671),o=n(54438);function a(C,G){if(1&C&&(o.nrm(0,"ds-comcol-page-logo",17),o.nI1(1,"async"),o.nI1(2,"translate")),2&C){let c;const O=o.XpG(4);o.Y8G("logo",null==(c=o.bMT(1,2,O.logoRD$))?null:c.payload)("alternateText",o.bMT(2,4,"community.logo"))}}function t(C,G){if(1&C&&(o.j41(0,"footer",18),o.nrm(1,"ds-comcol-page-content",12),o.k0s()),2&C){const c=o.XpG().$implicit;o.R7$(),o.Y8G("content",c.copyrightText)("hasInnerHtml",!0)}}function g(C,G){if(1&C&&(o.j41(0,"div"),o.nrm(1,"ds-view-tracker",6),o.j41(2,"div",7)(3,"header",8),o.nrm(4,"ds-comcol-page-header",9),o.DNE(5,a,3,6,"ds-comcol-page-logo",10),o.nrm(6,"ds-comcol-page-handle",11)(7,"ds-comcol-page-content",12)(8,"ds-comcol-page-content",13),o.k0s(),o.nrm(9,"ds-dso-edit-menu"),o.k0s(),o.j41(10,"section",14),o.nrm(11,"ds-comcol-page-browse-by",15)(12,"router-outlet"),o.k0s(),o.DNE(13,t,2,2,"footer",16),o.k0s()),2&C){const c=G.$implicit,O=o.XpG(3);o.R7$(),o.Y8G("object",c),o.R7$(3),o.Y8G("name",O.dsoNameService.getName(c)),o.R7$(),o.Y8G("ngIf",O.logoRD$),o.R7$(),o.Y8G("content",c.handle)("title","community.page.handle"),o.R7$(),o.Y8G("content",c.introductoryText)("hasInnerHtml",!0),o.R7$(),o.Y8G("content",c.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),o.R7$(3),o.Y8G("id",c.id)("contentType",c.type),o.R7$(2),o.Y8G("ngIf",c.copyrightText)}}function X(C,G){if(1&C&&(o.j41(0,"div",4),o.DNE(1,g,14,13,"div",5),o.k0s()),2&C){const c=o.XpG().ngVar;o.Y8G("@fadeInOut",void 0),o.R7$(),o.Y8G("ngIf",null==c?null:c.payload)}}function z(C,G){1&C&&(o.nrm(0,"ds-error",19),o.nI1(1,"translate")),2&C&&o.FS9("message",o.bMT(1,1,"error.community"))}function N(C,G){1&C&&(o.nrm(0,"ds-loading",19),o.nI1(1,"translate")),2&C&&o.FS9("message",o.bMT(1,1,"loading.community"))}function V(C,G){if(1&C&&(o.j41(0,"div",1),o.DNE(1,X,2,2,"div",2)(2,z,2,3,"ds-error",3)(3,N,2,3,"ds-loading",3),o.k0s()),2&C){const c=G.ngVar;o.R7$(),o.Y8G("ngIf",null==c?null:c.hasSucceeded),o.R7$(),o.Y8G("ngIf",null==c?null:c.hasFailed),o.R7$(),o.Y8G("ngIf",null==c?null:c.isLoading)}}let Y=(()=>{class C{constructor(c,O,J,H,k){this.route=c,this.router=O,this.authService=J,this.authorizationDataService=H,this.dsoNameService=k}ngOnInit(){this.communityRD$=this.route.data.pipe((0,f.T)(c=>c.dso),(0,M.QD)(this.router,this.authService)),this.logoRD$=this.communityRD$.pipe((0,f.T)(c=>c.payload),(0,D.p)(c=>(0,W.a4)(c)),(0,v.Z)(c=>c.logo)),this.communityPageRoute$=this.communityRD$.pipe((0,I.Hz)(),(0,f.T)(c=>(0,d.c5)(c.id))),this.isCommunityAdmin$=this.authorizationDataService.isAuthorized(L._.IsCommunityAdmin)}static{this.\u0275fac=function(O){return new(O||C)(o.rXU(_.nX),o.rXU(_.Ix),o.rXU(b.uR),o.rXU(P.AuthorizationDataService),o.rXU(U.f))}}static{this.\u0275cmp=o.VBU({type:C,selectors:[["ds-base-community-page"]],standalone:!0,features:[o.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","community-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"community-page"],[4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(O,J){1&O&&(o.DNE(0,V,4,3,"div",0),o.nI1(1,"async")),2&O&&o.Y8G("ngVar",o.bMT(1,1,J.communityRD$))},dependencies:[S.s,$.A,K.v,p.bT,h.h,h.D9,F.g,A.T,e.T,x.X,i.H,p.Jj,l.H,j.r,_.n3,_.iI],data:{animation:[B.Ws]},changeDetection:0})}}return C})()},90187:(R,E,n)=>{"use strict";n.r(E),n.d(E,{CommunityPageSubCollectionListComponent:()=>j});var p=n(60177),_=n(41780),h=n(84412),f=n(84572),D=n(25558),v=n(6238),b=n(6983),U=n(22978),L=(n(10046),n(50332)),M=n(82777),I=n(79632),B=n(82394),F=n(67560),S=n(23401),e=n(18226),i=n(54438),x=n(7901);function A(l,d){if(1&l&&(i.j41(0,"div")(1,"h3"),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.nrm(4,"ds-viewable-collection",3),i.k0s()),2&l){const o=i.XpG().ngVar,a=i.XpG();i.Y8G("@fadeIn",void 0),i.R7$(2),i.JRh(i.bMT(3,6,"community.sub-collection-list.head")),i.R7$(2),i.Y8G("config",a.config)("sortConfig",a.sortConfig)("objects",o)("hideGear",!1)}}function W(l,d){1&l&&(i.nrm(0,"ds-error",4),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"error.sub-collections"))}function $(l,d){1&l&&(i.nrm(0,"ds-loading",4),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"loading.sub-collections"))}function K(l,d){if(1&l&&(i.qex(0),i.DNE(1,A,5,8,"div",1)(2,W,2,3,"ds-error",2)(3,$,2,3,"ds-loading",2),i.bVm()),2&l){const o=d.ngVar;i.R7$(),i.Y8G("ngIf",(null==o?null:o.hasSucceeded)&&(null==o?null:o.payload.totalElements)>0),i.R7$(),i.Y8G("ngIf",null==o?null:o.hasFailed),i.R7$(),i.Y8G("ngIf",null==o?null:o.isLoading)}}let j=(()=>{class l{constructor(o,a,t){this.cds=o,this.paginationService=a,this.route=t,this.pageId="cmcl",this.subCollectionsRDObs=new h.t({}),this.subscriptions=[]}ngOnInit(){this.config=new S.W,this.config.id=this.pageId,this.config.pageSize=(0,M.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new v.z("dc.title",v.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??v.U.ASC),this.initPage()}initPage(){const o=this.paginationService.getCurrentPagination(this.config.id,this.config),a=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,f.z)([o,a]).pipe((0,D.n)(([t,g])=>this.cds.findByParent(this.community.id,{currentPage:t.currentPage,elementsPerPage:t.pageSize,sort:{field:g.field,direction:g.direction}}))).subscribe(t=>{this.subCollectionsRDObs.next(t)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(o=>o.unsubscribe())}static{this.\u0275fac=function(a){return new(a||l)(i.rXU(b.CollectionDataService),i.rXU(U.m),i.rXU(x.nX))}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["ds-base-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[i.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(a,t){1&a&&(i.DNE(0,K,4,3,"ng-container",0),i.nI1(1,"async")),2&a&&i.Y8G("ngVar",i.bMT(1,1,t.subCollectionsRDObs))},dependencies:[F.h,I.A,B.v,p.bT,_.h,_.D9,p.Jj,e.r],data:{animation:[L.qG]}})}}return l})()},57525:(R,E,n)=>{"use strict";n.r(E),n.d(E,{CommunityPageSubCommunityListComponent:()=>j});var p=n(60177),_=n(41780),h=n(84412),f=n(84572),D=n(25558),v=n(6238),b=n(46660),U=n(22978),L=(n(10046),n(50332)),M=n(82777),I=n(79632),B=n(82394),F=n(67560),S=n(23401),e=n(18226),i=n(54438),x=n(7901);function A(l,d){if(1&l&&(i.j41(0,"div")(1,"h3"),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.nrm(4,"ds-viewable-collection",3),i.k0s()),2&l){const o=i.XpG().ngVar,a=i.XpG();i.Y8G("@fadeIn",void 0),i.R7$(2),i.JRh(i.bMT(3,6,"community.sub-community-list.head")),i.R7$(2),i.Y8G("config",a.config)("sortConfig",a.sortConfig)("objects",o)("hideGear",!1)}}function W(l,d){1&l&&(i.nrm(0,"ds-error",4),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"error.sub-communities"))}function $(l,d){1&l&&(i.nrm(0,"ds-loading",4),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"loading.sub-communities"))}function K(l,d){if(1&l&&(i.qex(0),i.DNE(1,A,5,8,"div",1)(2,W,2,3,"ds-error",2)(3,$,2,3,"ds-loading",2),i.bVm()),2&l){const o=d.ngVar;i.R7$(),i.Y8G("ngIf",(null==o?null:o.hasSucceeded)&&(null==o?null:o.payload.totalElements)>0),i.R7$(),i.Y8G("ngIf",null==o?null:o.hasFailed),i.R7$(),i.Y8G("ngIf",null==o?null:o.isLoading)}}let j=(()=>{class l{constructor(o,a,t){this.cds=o,this.paginationService=a,this.route=t,this.pageId="cmscm",this.subCommunitiesRDObs=new h.t({}),this.subscriptions=[]}ngOnInit(){this.config=new S.W,this.config.id=this.pageId,this.config.pageSize=(0,M.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new v.z("dc.title",v.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??v.U.ASC),this.initPage()}initPage(){const o=this.paginationService.getCurrentPagination(this.config.id,this.config),a=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,f.z)([o,a]).pipe((0,D.n)(([t,g])=>this.cds.findByParent(this.community.id,{currentPage:t.currentPage,elementsPerPage:t.pageSize,sort:{field:g.field,direction:g.direction}}))).subscribe(t=>{this.subCommunitiesRDObs.next(t)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(o=>o.unsubscribe())}static{this.\u0275fac=function(a){return new(a||l)(i.rXU(b.CommunityDataService),i.rXU(U.m),i.rXU(x.nX))}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["ds-base-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[i.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(a,t){1&a&&(i.DNE(0,K,4,3,"ng-container",0),i.nI1(1,"async")),2&a&&i.Y8G("ngVar",i.bMT(1,1,t.subCommunitiesRDObs))},dependencies:[I.A,B.v,e.r,p.bT,F.h,p.Jj,_.h,_.D9],data:{animation:[L.qG]}})}}return l})()},70379:(R,E,n)=>{"use strict";n.d(E,{S:()=>U});var p=n(54438),_=n(82777),h=n(30506),f=n(7673),D=n(90839);let b=(()=>{class P{getBreadcrumbs(M,I){return(0,f.of)([new D.Q(M+".breadcrumbs",I)])}static{this.\u0275fac=function(I){return new(I||P)}}static{this.\u0275prov=p.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const U=(P,L,M=(0,p.WQX)(b))=>{const I=P.data.breadcrumbKey;if((0,_.Tn)(I))throw new Error('You provided an i18nBreadcrumbResolver for url "'+P.url+"\" but no breadcrumbKey in the route's data");return{provider:M,key:I,url:(0,h.F)(P)}}},76098:(R,E,n)=>{var p={"./custom/app/community-page/community-page.component":[17431,7431]};function _(h){if(!n.o(p,h))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v});var f=p[h],D=f[0];return n.e(f[1]).then(()=>n(D))}_.keys=()=>Object.keys(p),_.id=76098,R.exports=_},60771:(R,E,n)=>{var p={"./custom/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component":[71082,1082]};function _(h){if(!n.o(p,h))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v});var f=p[h],D=f[0];return n.e(f[1]).then(()=>n(D))}_.keys=()=>Object.keys(p),_.id=60771,R.exports=_},24427:(R,E,n)=>{var p={"./custom/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component":[98836,6455]};function _(h){if(!n.o(p,h))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v});var f=p[h],D=f[0];return n.e(f[1]).then(()=>n(D))}_.keys=()=>Object.keys(p),_.id=24427,R.exports=_}}]);