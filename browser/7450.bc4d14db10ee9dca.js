"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7450],{27450:(g,u,s)=>{s.r(u),s.d(u,{QualityAssuranceEventDataService:()=>m});var M=s(21626),p=s(47677),l=s(96697),P=s(25558),h=s(82777),T=s(39806),I=s(72734),L=s(53954),B=s(41684),R=s(39280),f=s(13617),K=s(63897),U=s(87158),A=s(35108),W=s(37419),E=s(43052),y=s(32473),C=s(4910),i=s(54438);let m=(()=>{class _ extends K.W{constructor(t,e,r,a,n,o){super("qualityassuranceevents",t,e,r,a),this.requestService=t,this.rdbService=e,this.objectCache=r,this.halService=a,this.notificationsService=n,this.comparator=o,this.createData=new R.V(this.linkPath,t,e,r,a,n,this.responseMsToLive),this.deleteData=new f.I(this.linkPath,t,e,r,a,n,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new U.n(this.linkPath,t,e,r,a,o,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new A.X(this.linkPath,t,e,r,a,this.responseMsToLive)}getEventsByTopic(t,e={},...r){return e.searchParams=[new L.x("topic",t)],this.searchData.searchBy("findByTopic",e,!0,!0,...r)}searchEventsByTopic(t={},...e){return this.searchData.searchBy("findByTopic",t,!0,!0,...e)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(t,...e){return this.findById(t,!0,!0,...e)}patchEvent(t,e,r){return this.patchData.patch(e,[{path:"/status",op:"replace",value:t}])}boundProject(t,e){return this.postOnRelated(t,e)}removeProject(t){return this.deleteOnRelated(t)}deleteOnRelated(t){const e=this.requestService.generateRequestId();return this.getIDHrefObs(t).pipe((0,p.I)(a=>(0,h.a4)(a))).subscribe(a=>{const n=new E.Dk(e,a+"/related",t);(0,h.a4)(this.responseMsToLive)&&(n.responseMsToLive=this.responseMsToLive),this.requestService.send(n)}),this.rdbService.buildFromRequestUUID(e)}postOnRelated(t,e,r){const a=this.requestService.generateRequestId();return this.getIDHrefObs(t).pipe((0,l.s)(1)).subscribe(o=>{const d=new E.Qf(a,o+"/related?item="+e,r);(0,h.a4)(this.responseMsToLive)&&(d.responseMsToLive=this.responseMsToLive),this.requestService.send(d)}),this.rdbService.buildFromRequestUUID(a)}postData(t,e,r,a){const n=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,P.n)(d=>{const D=Object.create({});let O=new M.Lr;O=O.append("Content-Type","application/json"),D.headers=O;let c=new M.Nl;c=c.append("target",t).append("correctionType",e),D.params=c;const v=new E.Qf(n,d,{reason:a},D);return(0,h.a4)(this.responseMsToLive)&&(v.responseMsToLive=this.responseMsToLive),this.requestService.send(v),this.rdbService.buildFromRequestUUID(n)}))}deleteQAEvent(t){return this.deleteData.delete(t.id)}static{this.\u0275fac=function(e){return new(e||_)(i.KVO(y.B),i.KVO(I.o),i.KVO(B.$),i.KVO(C.Y),i.KVO(T.I),i.KVO(W.Y))}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()}}]);