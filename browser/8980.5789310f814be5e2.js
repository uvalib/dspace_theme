"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8980,3860,1783,7450,5447],{90839:(W,O,s)=>{s.d(O,{Q:()=>R});class R{constructor(p,m){this.text=p,this.url=m}}},67045:(W,O,s)=>{s.d(O,{U:()=>g});var R=s(7673),e=s(47677),p=s(25558),m=s(96354),u=s(69799),L=s(90839),t=s(82777),v=s(67600),C=s(1321),y=s(96526),T=s(54438);let g=(()=>{class E{constructor(M,i){this.linkService=M,this.dsoNameService=i}getBreadcrumbs(M,i){const l=this.dsoNameService.getName(M),_=new L.Q(l,i),h=M.getParentLinkKey();return this.linkService.resolveLink(M,(0,v.s)(h))[h].pipe((0,e.I)(D=>D.hasSucceeded||204===D.statusCode),(0,p.n)(D=>{if((0,t.a4)(D)&&(0,t.a4)(D.payload)){const f=D.payload;return this.getBreadcrumbs(f,(0,u.wN)(f))}return(0,R.of)([])}),(0,m.T)(D=>[...D,_]))}static{this.\u0275fac=function(i){return new(i||E)(T.KVO(C._),T.KVO(y.f))}}static{this.\u0275prov=T.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},81783:(W,O,s)=>{s.r(O),s.d(O,{VersionDataService:()=>M});var R=s(983),e=s(25558),p=s(96354),m=s(82777),u=s(67600),L=s(72734),t=s(41684),v=s(4910),C=s(80183),y=s(63897),T=s(87158),g=s(37419),E=s(32473),B=s(54438);let M=(()=>{class i extends y.W{constructor(_,h,D,f,U){super("versions",_,h,D,f),this.requestService=_,this.rdbService=h,this.objectCache=D,this.halService=f,this.comparator=U,this.patchData=new T.n(this.linkPath,_,h,D,f,U,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(_,h=!1,D=!0){return(0,m.hj)(_)?this.findById(_.id,h,D,(0,u.s)("versionhistory")).pipe((0,C.ak)(),(0,e.n)(f=>f.versionhistory),(0,C.ak)()):R.w}getHistoryIdFromVersion(_){return this.getHistoryFromVersion(_).pipe((0,p.T)(h=>h.id))}patch(_,h){return this.patchData.patch(_,h)}update(_){return this.patchData.update(_)}commitUpdates(_){this.patchData.commitUpdates(_)}createPatchFromCache(_){return this.patchData.createPatchFromCache(_)}static{this.\u0275fac=function(h){return new(h||i)(B.KVO(E.B),B.KVO(L.o),B.KVO(t.$),B.KVO(v.Y),B.KVO(g.Y))}}static{this.\u0275prov=B.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},93860:(W,O,s)=>{s.r(O),s.d(O,{VersionHistoryDataService:()=>U});var R=s(21626),e=s(84572),p=s(7673),m=s(25558),u=s(96354),L=s(96697),t=s(47677),v=s(5964),C=s(82777),y=s(23401),T=s(33550),g=s(67600),E=s(72734),B=s(41684),M=s(4910),i=s(80183),l=s(63897),_=s(43052),h=s(32473),D=s(81783),f=s(54438);let U=(()=>{class d extends l.W{constructor(o,a,r,c,I){super("versionhistories",o,a,r,c),this.requestService=o,this.rdbService=a,this.objectCache=r,this.halService=c,this.versionDataService=I,this.versionsEndpoint="versions"}getBrowseEndpoint(o={},a){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(o){return this.getBrowseEndpoint().pipe((0,m.n)(a=>this.halService.getEndpoint(this.versionsEndpoint,`${a}/${o}`)))}getVersions(o,a,r=!0,c=!0,...I){const P=this.getVersionsEndpoint(o).pipe((0,u.T)(K=>a?a.toRestUrl(K):K));return this.versionDataService.findListByHref(P,void 0,r,c,...I)}createVersion(o,a){const r=this.requestService.generateRequestId(),c=Object.create({});let I=new R.Lr;return I=I.append("Content-Type","text/uri-list"),c.headers=I,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,L.s)(1),(0,u.T)(P=>a?.length>0?`${P}?summary=${a}`:`${P}`),(0,t.I)(P=>(0,C.a4)(P))).subscribe(P=>{const K=new _.Qf(r,P,o,c);(0,C.a4)(this.responseMsToLive)&&(K.responseMsToLive=this.responseMsToLive),this.requestService.send(K)}),this.rdbService.buildFromRequestUUIDAndAwait(r,P=>(0,e.z)([this.requestService.setStaleByHrefSubstring(P.payload._links.self.href),this.requestService.setStaleByHrefSubstring(P.payload._links.versionhistory.href)])).pipe((0,i.qD)())}getLatestVersionFromHistory$(o){const a=Object.assign(new y.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),r=new T.C({pagination:a});return this.getVersions(o.id,r,!1,!0,(0,g.s)("item")).pipe((0,i.v7)(),(0,i.Bo)(),(0,C.Az)(),(0,v.p)(c=>c.page.length>0),(0,u.T)(c=>c.page[0]))}getLatestVersion$(o){return o.id?this.versionDataService.findById(o.id,!1,!0,(0,g.s)("versionhistory")).pipe((0,i.ak)(),(0,m.n)(a=>a.versionhistory),(0,i.ak)(),(0,m.n)(a=>this.getLatestVersionFromHistory$(a))):(0,p.of)(null)}isLatest$(o){return o?this.getLatestVersion$(o).pipe((0,L.s)(1),(0,m.n)(a=>(0,p.of)(o.version===a.version))):(0,p.of)(null)}hasDraftVersion$(o){return this.versionDataService.findByHref(o,!1,!0,(0,g.s)("versionhistory")).pipe((0,i.qD)(),(0,m.n)(a=>a.hasSucceeded&&!a.hasNoContent&&(0,C.a4)(a.payload)?a.payload.versionhistory.pipe((0,i.qD)(),(0,u.T)(r=>!(!r.hasSucceeded||r.hasNoContent)&&r.payload.draftVersion)):(0,p.of)(!1)))}getLatestVersionItemFromHistory$(o){return this.getLatestVersionFromHistory$(o).pipe((0,m.n)(a=>a.item),(0,i.ak)())}getVersionHistoryFromVersion$(o){return this.versionDataService.getHistoryIdFromVersion(o).pipe((0,L.s)(1),(0,m.n)(a=>this.findById(a)),(0,i.ak)())}invalidateVersionHistoryCache(o){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+o)}static{this.\u0275fac=function(a){return new(a||d)(f.KVO(h.B),f.KVO(E.o),f.KVO(B.$),f.KVO(M.Y),f.KVO(D.VersionDataService))}}static{this.\u0275prov=f.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},27450:(W,O,s)=>{s.r(O),s.d(O,{QualityAssuranceEventDataService:()=>D});var R=s(21626),e=s(47677),p=s(96697),m=s(25558),u=s(82777),L=s(39806),t=s(72734),v=s(53954),C=s(41684),y=s(39280),T=s(13617),g=s(63897),E=s(87158),B=s(35108),M=s(37419),i=s(43052),l=s(32473),_=s(4910),h=s(54438);let D=(()=>{class f extends g.W{constructor(d,n,o,a,r,c){super("qualityassuranceevents",d,n,o,a),this.requestService=d,this.rdbService=n,this.objectCache=o,this.halService=a,this.notificationsService=r,this.comparator=c,this.createData=new y.V(this.linkPath,d,n,o,a,r,this.responseMsToLive),this.deleteData=new T.I(this.linkPath,d,n,o,a,r,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new E.n(this.linkPath,d,n,o,a,c,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new B.X(this.linkPath,d,n,o,a,this.responseMsToLive)}getEventsByTopic(d,n={},...o){return n.searchParams=[new v.x("topic",d)],this.searchData.searchBy("findByTopic",n,!0,!0,...o)}searchEventsByTopic(d={},...n){return this.searchData.searchBy("findByTopic",d,!0,!0,...n)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(d,...n){return this.findById(d,!0,!0,...n)}patchEvent(d,n,o){return this.patchData.patch(n,[{path:"/status",op:"replace",value:d}])}boundProject(d,n){return this.postOnRelated(d,n)}removeProject(d){return this.deleteOnRelated(d)}deleteOnRelated(d){const n=this.requestService.generateRequestId();return this.getIDHrefObs(d).pipe((0,e.I)(a=>(0,u.a4)(a))).subscribe(a=>{const r=new i.Dk(n,a+"/related",d);(0,u.a4)(this.responseMsToLive)&&(r.responseMsToLive=this.responseMsToLive),this.requestService.send(r)}),this.rdbService.buildFromRequestUUID(n)}postOnRelated(d,n,o){const a=this.requestService.generateRequestId();return this.getIDHrefObs(d).pipe((0,p.s)(1)).subscribe(c=>{const I=new i.Qf(a,c+"/related?item="+n,o);(0,u.a4)(this.responseMsToLive)&&(I.responseMsToLive=this.responseMsToLive),this.requestService.send(I)}),this.rdbService.buildFromRequestUUID(a)}postData(d,n,o,a){const r=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,m.n)(I=>{const P=Object.create({});let K=new R.Lr;K=K.append("Content-Type","application/json"),P.headers=K;let A=new R.Nl;A=A.append("target",d).append("correctionType",n),P.params=A;const S=new i.Qf(r,I,{reason:a},P);return(0,u.a4)(this.responseMsToLive)&&(S.responseMsToLive=this.responseMsToLive),this.requestService.send(S),this.rdbService.buildFromRequestUUID(r)}))}deleteQAEvent(d){return this.deleteData.delete(d.id)}static{this.\u0275fac=function(n){return new(n||f)(h.KVO(l.B),h.KVO(t.o),h.KVO(C.$),h.KVO(_.Y),h.KVO(L.I),h.KVO(M.Y))}}static{this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},75447:(W,O,s)=>{s.r(O),s.d(O,{CorrectionTypeDataService:()=>E});var R=s(96354),e=s(39806),p=s(72734),m=s(53954),u=s(41684),L=s(63897),t=s(35108),v=s(41023),C=s(32473),y=s(4910),T=s(80183),g=s(54438);let E=(()=>{class B extends L.W{constructor(i,l,_,h,D){super("correctiontypes",i,l,_,h),this.requestService=i,this.rdbService=l,this.objectCache=_,this.halService=h,this.notificationsService=D,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new t.X(this.linkPath,i,l,_,h,this.responseMsToLive)}getCorrectionTypeById(i,l=!0,_=!0){return this.findById(i,l,_)}findByItem(i,l){const _=new v._;return _.searchParams=[new m.x("uuid",i)],this.searchData.searchBy(this.searchFindByItem,_,l)}findByTopic(i,l=!0,_=!0){const h=new v._;return h.searchParams=[new m.x("topic",i)],this.searchData.searchBy(this.searchByTopic,h,l,_).pipe((0,T.Hz)(),(0,T.W8)(),(0,R.T)(D=>D[0]))}static{this.\u0275fac=function(l){return new(l||B)(g.KVO(C.B),g.KVO(p.o),g.KVO(u.$),g.KVO(y.Y),g.KVO(e.I))}}static{this.\u0275prov=g.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},76604:(W,O,s)=>{s.d(O,{h:()=>m});var R=s(39806),e=s(54438),p=s(41780);let m=(()=>{class u{constructor(t,v){this.notificationsService=t,this.translateService=v}static msg(t){return"item.version.create.notification."+t}notifyCreateNewVersion(t){const v=t?.payload?.version;t.hasSucceeded?this.notificationsService.success(null,this.translateService.get(u.msg("success"),{version:v})):this.notificationsService.error(null,this.translateService.get(u.msg(422===t?.statusCode?"inProgress":"failure")))}static{this.\u0275fac=function(v){return new(v||u)(e.KVO(R.I),e.KVO(p.c$))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},13574:(W,O,s)=>{s.d(O,{L:()=>g});var R=s(60177),e=s(54438),p=s(89417),m=s(41780),u=s(84412),L=s(82394),t=s(52149);const v=E=>({version:E});function C(E,B){if(1&E&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&E){const M=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,"item.version.create.modal.text.startingFrom",e.eq3(4,v,M.versionNumber))," ")}}function y(E,B){if(1&E){const M=e.RV6();e.j41(0,"div")(1,"div",2),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",3),e.bIt("click",function(){e.eBV(M);const l=e.XpG();return e.Njj(l.onModalClose())}),e.j41(5,"span",4),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",5)(8,"p",6),e.EFF(9),e.nI1(10,"translate"),e.DNE(11,C,3,6,"span",7),e.k0s(),e.j41(12,"div",8)(13,"label",9),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",10),e.nI1(17,"translate"),e.mxI("ngModelChange",function(l){e.eBV(M);const _=e.XpG();return e.DH7(_.newVersionSummary,l)||(_.newVersionSummary=l),e.Njj(l)}),e.bIt("keyup.enter",function(){e.eBV(M);const l=e.XpG();return e.Njj(l.onModalSubmit())}),e.k0s()()(),e.j41(18,"div",11)(19,"button",12),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(M);const l=e.XpG();return e.Njj(l.onModalClose())}),e.nrm(21,"i",13),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"button",14),e.nI1(25,"translate"),e.bIt("click",function(){e.eBV(M);const l=e.XpG();return e.Njj(l.onModalSubmit())}),e.nrm(26,"i",15),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()}if(2&E){const M=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,10,"item.version.create.modal.header")," "),e.R7$(7),e.SpI(" ",e.bMT(10,12,"item.version.create.modal.text")," "),e.R7$(2),e.Y8G("ngIf",!M.firstVersion),e.R7$(3),e.SpI("",e.bMT(15,14,"item.version.create.modal.form.summary.label"),":"),e.R7$(2),e.FS9("placeholder",e.bMT(17,16,"item.version.create.modal.form.summary.placeholder")),e.R50("ngModel",M.newVersionSummary),e.R7$(3),e.FS9("title",e.bMT(20,18,"item.version.create.modal.button.cancel.tooltip")),e.R7$(3),e.SpI(" ",e.bMT(23,20,"item.version.create.modal.button.cancel")," "),e.R7$(2),e.FS9("title",e.bMT(25,22,"item.version.create.modal.button.confirm.tooltip")),e.R7$(3),e.SpI(" ",e.bMT(28,24,"item.version.create.modal.button.confirm")," ")}}function T(E,B){1&E&&(e.j41(0,"div",2),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",5)(4,"p"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16),e.nrm(8,"ds-loading",17),e.k0s()()),2&E&&(e.R7$(),e.JRh(e.bMT(2,3,"item.version.create.modal.submitted.header")),e.R7$(4),e.JRh(e.bMT(6,5,"item.version.create.modal.submitted.text")),e.R7$(3),e.Y8G("showMessage",!1))}let g=(()=>{class E{constructor(M){this.activeModal=M,this.firstVersion=!0,this.createVersionEvent=new e.bkB}ngOnInit(){this.submitted$=new u.t(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static{this.\u0275fac=function(i){return new(i||E)(e.rXU(t.Lw))}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[["waiting",""],[4,"ngIf","ngIfElse"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[4,"ngIf"],[1,"form-group"],["for","summary"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(i,l){if(1&i&&(e.DNE(0,y,29,26,"div",1),e.nI1(1,"async"),e.DNE(2,T,9,7,"ng-template",null,0,e.C5r)),2&i){const _=e.sdS(3);e.Y8G("ngIf",!0!==e.bMT(1,2,l.submitted$))("ngIfElse",_)}},dependencies:[R.bT,p.YN,p.me,p.BC,p.vS,L.v,R.Jj,m.h,m.D9]})}}return E})()},71306:(W,O,s)=>{s.d(O,{Ee:()=>d,el:()=>U,pc:()=>f});var R=s(96697),e=s(65007),p=s(29326),m=s(27450),u=s(80183),L=s(60177),t=s(54438),v=s(89417),C=s(41780),y=s(84412),T=s(82394),g=s(52149);function E(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"button",14),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.onModalClose())}),t.j41(4,"span",15),t.EFF(5,"\xd7"),t.k0s()()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function B(n,o){if(1&n){const a=t.RV6();t.j41(0,"div"),t.DNE(1,E,6,3,"div",3),t.j41(2,"div",4)(3,"div",5)(4,"label",6),t.EFF(5),t.nI1(6,"translate"),t.nI1(7,"translate"),t.k0s(),t.j41(8,"label",6),t.EFF(9),t.nI1(10,"translate"),t.nI1(11,"translate"),t.k0s(),t.j41(12,"textarea",7),t.nI1(13,"translate"),t.nI1(14,"translate"),t.mxI("ngModelChange",function(c){t.eBV(a);const I=t.XpG();return t.DH7(I.reason,c)||(I.reason=c),t.Njj(c)}),t.k0s()()(),t.j41(15,"div",8)(16,"button",9),t.nI1(17,"translate"),t.bIt("click",function(){t.eBV(a);const c=t.XpG();return t.Njj(c.onModalClose())}),t.nrm(18,"i",10),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"button",11),t.nI1(22,"translate"),t.bIt("click",function(){t.eBV(a);const c=t.XpG();return t.Njj(c.onModalSubmit())}),t.nrm(23,"i",12),t.EFF(24),t.nI1(25,"translate"),t.nI1(26,"translate"),t.k0s()()()}if(2&n){const a=t.XpG(),r=t.sdS(5);t.R7$(),t.Y8G("ngIf",a.canWithdraw)("ngIfElse",r),t.R7$(4),t.JRh(a.canWithdraw?t.bMT(6,10,"qa-withdrawn.create.modal.form.summary.label"):t.bMT(7,12,"qa-reinstate.create.modal.form.summary.label")),t.R7$(4),t.JRh(a.canWithdraw?t.bMT(10,14,"qa-withdrawn.create.modal.form.summary2.label"):t.bMT(11,16,"qa-reinstate.create.modal.form.summary2.label")),t.R7$(3),t.FS9("placeholder",a.canWithdraw?t.bMT(13,18,"qa-withdrown.modal.form.summary.placeholder"):t.bMT(14,20,"qa-reinstate.modal.form.summary.placeholder")),t.R50("ngModel",a.reason),t.R7$(4),t.FS9("title",t.bMT(17,22,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(20,24,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),t.R7$(2),t.FS9("title",t.bMT(22,26,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),t.R7$(3),t.SpI(" ",a.canWithdraw?t.bMT(25,28,"qa-withdrown.create.modal.button.confirm"):t.bMT(26,30,"qa-reinstate.create.modal.button.confirm")," ")}}function M(n,o){1&n&&(t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",4)(4,"div",16),t.nrm(5,"ds-loading",17),t.k0s()()),2&n&&(t.R7$(),t.JRh(t.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),t.R7$(4),t.Y8G("showMessage",!1))}function i(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"button",14),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.onModalClose())}),t.j41(4,"span",15),t.EFF(5,"\xd7"),t.k0s()()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function l(n,o){if(1&n&&t.DNE(0,i,6,3,"div",18),2&n){const a=t.XpG();t.Y8G("ngIf",!a.canWithdraw)}}let _=(()=>{class n{constructor(a,r){this.activeModal=a,this.authorizationService=r,this.submitted$=new y.t(!1),this.createQAEvent=new t.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(a){this.canWithdraw=a}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(g.Lw),t.rXU(e.AuthorizationDataService))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[t.aNF],decls:6,vars:4,consts:[["waiting",""],["reinstateHeader",""],[4,"ngIf","ngIfElse"],["class","modal-header",4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"form-group"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-center"],[3,"showMessage"],["class","modal-header",4,"ngIf"]],template:function(r,c){if(1&r&&(t.DNE(0,B,27,32,"div",2),t.nI1(1,"async"),t.DNE(2,M,6,4,"ng-template",null,0,t.C5r)(4,l,1,1,"ng-template",null,1,t.C5r)),2&r){const I=t.sdS(3);t.Y8G("ngIf",!0!==t.bMT(1,2,c.submitted$))("ngIfElse",I)}},dependencies:[L.bT,C.h,C.D9,T.v,v.YN,v.me,v.BC,v.vS,L.Jj]})}}return n})();var h=s(39806),D=s(7901);const f="REQUEST/WITHDRAWN",U="REQUEST/REINSTATE";let d=(()=>{class n{constructor(a,r,c,I,P,K,A){this.router=a,this.modalService=r,this.itemService=c,this.notificationsService=I,this.authorizationService=P,this.translateService=K,this.qaEventDataService=A}openCreateWithdrawnReinstateModal(a,r,c){const I=a.id,P=this.modalService.open(_);P.componentInstance.setWithdraw(c),P.componentInstance.createQAEvent.pipe((0,R.s)(1)).subscribe(K=>{this.sendQARequest(I,r,K),P.close()})}sendQARequest(a,r,c){this.qaEventDataService.postData(a,r,"",c).pipe((0,u.qD)()).subscribe(I=>{I.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===r?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(a,r){const c=a?this.router.url:r;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${c}`])})}static{this.\u0275fac=function(r){return new(r||n)(t.KVO(D.Ix),t.KVO(g.Bq),t.KVO(p.ItemDataService),t.KVO(h.I),t.KVO(e.AuthorizationDataService),t.KVO(C.c$),t.KVO(m.QualityAssuranceEventDataService))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},57850:(W,O,s)=>{s.d(O,{H:()=>t});var R=s(96697),p=(s(76829),s(82777)),m=s(54438),u=s(97324),L=s(88091);let t=(()=>{class v{constructor(y,T){this.angulartics2=y,this.referrerService=T}ngOnInit(){this.sub=this.referrerService.getReferrer().pipe((0,R.s)(1)).subscribe(y=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.object,referrer:y}})})}ngOnDestroy(){(0,p.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(T){return new(T||v)(m.rXU(u.il),m.rXU(L.f))}}static{this.\u0275cmp=m.VBU({type:v,selectors:[["ds-view-tracker"]],inputs:{object:"object"},standalone:!0,features:[m.aNF],decls:1,vars:0,template:function(T,g){1&T&&m.EFF(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]})}}return v})()}}]);