(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{25093:(N,b,n)=>{"use strict";n.d(b,{Ax:()=>f,P5:()=>l,bL:()=>e,mK:()=>h,w4:()=>m,xl:()=>_});var i=n(69799),t=n(45663);const l="epeople";function e(){return new t.t((0,i.XG)(),l).toString()}function f(y){return new t.t(e(),y,"edit").toString()}const m="groups";function h(){return new t.t((0,i.XG)(),m).toString()}function _(y){return new t.t(h(),y,"edit").toString()}},19353:(N,b,n)=>{"use strict";n.d(b,{_c:()=>l,bA:()=>t,oQ:()=>e});var i=n(91e3);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class l{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},72796:(N,b,n)=>{"use strict";n.d(b,{v:()=>le});var i=n(60177),t=n(89417),l=n(7901),e=n(41780),f=n(84412),m=n(84572),h=n(7673),_=n(25558),y=n(96354),v=n(39901),D=n(96697),O=n(96526),M=n(96820),T=n(74449),R=n(44494),u=n(79145),w=n(22978),C=n(80183),S=n(60456),I=n(48674),L=n(39806),B=n(5682),U=n(23401),W=n(25093),j=n(54438);const G=()=>["top","right","bottom"],H=Ee=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Ee}),V=Ee=>({name:Ee}),X=Ee=>["btn btn-sm",Ee];function J(Ee,be){if(1&Ee){const pe=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(pe);const ye=j.XpG().$implicit,De=j.XpG(2);return j.Njj(De.deleteMemberFromGroup(ye.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&Ee){const pe=j.XpG().$implicit,re=j.XpG(2);j.FS9("title",j.i5U(1,4,re.messagePrefix+".table.edit.buttons.remove",j.eq3(7,V,re.dsoNameService.getName(pe.eperson)))),j.Y8G("dsBtnDisabled",re.actionConfig.remove.disabled)("ngClass",j.eq3(9,X,re.actionConfig.remove.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.remove.icon)}}function q(Ee,be){if(1&Ee){const pe=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(pe);const ye=j.XpG().$implicit,De=j.XpG(2);return j.Njj(De.addMemberToGroup(ye.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&Ee){const pe=j.XpG().$implicit,re=j.XpG(2);j.FS9("title",j.i5U(1,4,re.messagePrefix+".table.edit.buttons.add",j.eq3(7,V,re.dsoNameService.getName(pe.eperson)))),j.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",j.eq3(9,X,re.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.add.icon)}}function Q(Ee,be){if(1&Ee&&(j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20),j.DNE(14,J,3,11,"button",21)(15,q,3,11,"button",21),j.k0s()()()),2&Ee){const pe=be.$implicit,re=j.XpG(2);j.R7$(2),j.JRh(pe.eperson.id),j.R7$(2),j.Y8G("routerLink",re.getEPersonEditRoute(pe.eperson.id)),j.R7$(),j.SpI(" ",re.dsoNameService.getName(pe.eperson)," "),j.R7$(2),j.Lme(" ",j.bMT(8,9,re.messagePrefix+".table.email"),": ",pe.eperson.email?pe.eperson.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,11,re.messagePrefix+".table.netid"),": ",pe.eperson.netid?pe.eperson.netid:"-"," "),j.R7$(4),j.Y8G("ngIf",pe.ableToDelete),j.R7$(),j.Y8G("ngIf",!pe.ableToDelete)}}function Y(Ee,be){if(1&Ee&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,Q,16,13,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&Ee){let pe,re;const ye=j.XpG();j.Y8G("paginationOptions",ye.config)("collectionSize",null==(pe=j.bMT(1,9,ye.ePeopleMembersOfGroup))?null:pe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ye.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ye.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ye.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ye.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(re=j.bMT(20,19,ye.ePeopleMembersOfGroup))?null:re.page)}}function z(Ee,be){if(1&Ee&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ee){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".no-members-yet")," ")}}function Z(Ee,be){if(1&Ee&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ee){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".search.head")," ")}}function oe(Ee,be){if(1&Ee){const pe=j.RV6();j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20)(14,"button",22),j.nI1(15,"translate"),j.bIt("click",function(){const ye=j.eBV(pe).$implicit,De=j.XpG(2);return j.Njj(De.addMemberToGroup(ye))}),j.nrm(16,"i",23),j.k0s()()()()}if(2&Ee){const pe=be.$implicit,re=j.XpG(2);j.R7$(2),j.JRh(pe.id),j.R7$(2),j.Y8G("routerLink",re.getEPersonEditRoute(pe.id)),j.R7$(),j.SpI(" ",re.dsoNameService.getName(pe)," "),j.R7$(2),j.Lme(" ",j.bMT(8,11,re.messagePrefix+".table.email"),": ",pe.email?pe.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,13,re.messagePrefix+".table.netid"),": ",pe.netid?pe.netid:"-"," "),j.R7$(4),j.FS9("title",j.i5U(15,15,re.messagePrefix+".table.edit.buttons.add",j.eq3(18,V,re.dsoNameService.getName(pe)))),j.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",j.eq3(20,X,re.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.add.icon)}}function se(Ee,be){if(1&Ee&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,oe,17,22,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&Ee){let pe,re;const ye=j.XpG();j.Y8G("paginationOptions",ye.configSearch)("collectionSize",null==(pe=j.bMT(1,9,ye.ePeopleSearch))?null:pe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ye.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ye.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ye.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ye.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(re=j.bMT(20,19,ye.ePeopleSearch))?null:re.page)}}function de(Ee,be){if(1&Ee&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ee){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".no-items")," ")}}var te=function(Ee){return Ee[Ee.ActiveGroup=0]="ActiveGroup",Ee[Ee.Members=1]="Members",Ee[Ee.SearchResults=2]="SearchResults",Ee}(te||{});let le=(()=>{class Ee{constructor(pe,re,ye,De,nt,mt,xe,ot){this.groupDataService=pe,this.ePersonDataService=re,this.translateService=ye,this.notificationsService=De,this.formBuilder=nt,this.paginationService=mt,this.router=xe,this.dsoNameService=ot,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new f.t(void 0),this.ePeopleMembersOfGroup=new f.t(void 0),this.configSearch=Object.assign(new U.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new U.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=W.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(te.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(pe=>{null!=pe&&(this.groupBeingEdited=pe,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(pe){this.unsubFrom(te.Members),this.subs.set(te.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,_.n)(re=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:re.currentPage,elementsPerPage:re.pageSize})),(0,C.bD)(),(0,y.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,_.n)(re=>(0,m.z)([...re.payload.page.map(De=>(0,m.z)(this.isMemberOfGroup(De),mt=>{const xe=new u.h;return xe.eperson=De,xe.ableToDelete=mt,xe}))]).pipe((0,v.U)([]),(0,y.T)(De=>(0,M.g)(re.payload.pageInfo,De))))).subscribe(re=>{this.ePeopleMembersOfGroup.next(re)}))}isMemberOfGroup(pe){return(0,h.of)(!0)}unsubFrom(pe){this.subs.has(pe)&&(this.subs.get(pe).unsubscribe(),this.subs.delete(pe))}deleteMemberFromGroup(pe){this.groupDataService.getActiveGroup().pipe((0,D.s)(1)).subscribe(re=>{if(null!=re){const ye=this.groupDataService.deleteMemberFromGroup(re,pe);this.showNotifications("deleteMember",ye,this.dsoNameService.getName(pe),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(pe){this.groupDataService.getActiveGroup().pipe((0,D.s)(1)).subscribe(re=>{if(null!=re){const ye=this.groupDataService.addMemberToGroup(re,pe);this.showNotifications("addMember",ye,this.dsoNameService.getName(pe),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(pe){this.unsubFrom(te.SearchResults),this.subs.set(te.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,_.n)(re=>{const ye=pe.query;return null!=ye&&this.currentSearchQuery!==ye&&this.groupBeingEdited&&(this.currentSearchQuery=ye,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:re.currentPage,elementsPerPage:re.pageSize},!1,!0)}),(0,C.bD)(),(0,y.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,C.Bo)()).subscribe(re=>{this.ePeopleSearch.next(re)}))}ngOnDestroy(){for(const pe of this.subs.keys())this.unsubFrom(pe);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(pe,re,ye,De){re.pipe((0,C.qD)()).subscribe(nt=>{nt.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+pe,{name:ye})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+pe,{name:ye}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(re){return new(re||Ee)(j.rXU(R.GroupDataService),j.rXU(T.EPersonDataService),j.rXU(e.c$),j.rXU(L.I),j.rXU(t.ze),j.rXU(w.m),j.rXU(l.Ix),j.rXU(O.f))}}static{this.\u0275cmp=j.VBU({type:Ee,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[j.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(re,ye){if(1&re&&(j.qex(0),j.j41(1,"h2",0),j.EFF(2),j.nI1(3,"translate"),j.k0s(),j.j41(4,"h3"),j.EFF(5),j.nI1(6,"translate"),j.k0s(),j.DNE(7,Y,21,21,"ds-pagination",1),j.nI1(8,"async"),j.DNE(9,z,3,3,"div",2),j.nI1(10,"async"),j.nI1(11,"async"),j.j41(12,"h3",3),j.DNE(13,Z,3,3,"span",4),j.k0s(),j.j41(14,"form",5),j.bIt("ngSubmit",function(){return ye.search(ye.searchForm.value)}),j.j41(15,"div",6)(16,"div",7),j.nrm(17,"input",8),j.j41(18,"span",9)(19,"button",10),j.nrm(20,"i",11),j.EFF(21),j.nI1(22,"translate"),j.k0s()()()(),j.j41(23,"div")(24,"button",12),j.bIt("click",function(){return ye.clearFormAndResetResult()}),j.EFF(25),j.nI1(26,"translate"),j.k0s()()(),j.DNE(27,se,21,21,"ds-pagination",1),j.nI1(28,"async"),j.DNE(29,de,3,3,"div",2),j.nI1(30,"async"),j.bVm()),2&re){let De,nt,mt,xe;j.R7$(2),j.JRh(j.bMT(3,10,ye.messagePrefix+".head")),j.R7$(3),j.JRh(j.bMT(6,12,ye.messagePrefix+".headMembers")),j.R7$(2),j.Y8G("ngIf",(null==(De=j.bMT(8,14,ye.ePeopleMembersOfGroup))?null:De.totalElements)>0),j.R7$(2),j.Y8G("ngIf",void 0===j.bMT(10,16,ye.ePeopleMembersOfGroup)||0===(null==(nt=j.bMT(11,18,ye.ePeopleMembersOfGroup))?null:nt.totalElements)),j.R7$(4),j.Y8G("dsContextHelp",j.eq3(29,H,j.lJ4(28,G))),j.R7$(),j.Y8G("formGroup",ye.searchForm),j.R7$(7),j.SpI(" ",j.bMT(22,20,ye.messagePrefix+".search.button"),""),j.R7$(4),j.JRh(j.bMT(26,22,ye.messagePrefix+".button.see-all")),j.R7$(2),j.Y8G("ngIf",(null==(mt=j.bMT(28,24,ye.ePeopleSearch))?null:mt.totalElements)>0),j.R7$(2),j.Y8G("ngIf",0===(null==(xe=j.bMT(30,26,ye.ePeopleSearch))?null:xe.totalElements)&&ye.searchDone)}},dependencies:[e.h,e.D9,I.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,B.e,i.bT,i.Jj,l.Wk,i.YU,i.Sq,S.A],encapsulation:2})}}return Ee})()},85255:(N,b,n)=>{"use strict";n.d(b,{C:()=>l,O3:()=>t,Sb:()=>e});var i=n(91e3);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class l{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},68630:(N,b,n)=>{"use strict";n.r(b),n.d(b,{LdnServicesService:()=>S});var i=n(96697),t=n(96354),l=n(72734),e=n(53954),f=n(41684),m=n(39280),h=n(13617),_=n(46787),y=n(63897),v=n(87158),D=n(35108),O=n(41023),M=n(43052),T=n(32473),R=n(4910),u=n(45663),w=n(39806),C=n(54438);let S=(()=>{class I extends y.W{constructor(B,U,W,j,G){super("ldnservices",B,U,W,j),this.requestService=B,this.rdbService=U,this.objectCache=W,this.halService=j,this.notificationsService=G,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new _.H(this.linkPath,B,U,W,j,this.responseMsToLive),this.searchData=new D.X(this.linkPath,B,U,W,j,this.responseMsToLive),this.deleteData=new h.I(this.linkPath,B,U,W,j,G,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new v.n(this.linkPath,B,U,W,j,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,B,U,W,j,G,this.responseMsToLive)}create(B,...U){return this.createData.create(B,...U)}patch(B,U){return this.patchData.patch(B,U)}update(B){return this.patchData.update(B)}commitUpdates(B){return this.patchData.commitUpdates(B)}createPatchFromCache(B){return this.patchData.createPatchFromCache(B)}findAll(B,U,W,...j){return this.findAllData.findAll(B,U,W,...j)}findByInboundPattern(B,U,W,j,...G){const H=[new e.x("pattern",B)],V=Object.assign(new O._,U,{searchParams:H});return this.searchBy(this.findByPatternEndpoint,V,W,j,...G)}delete(B,U){return this.deleteData.delete(B,U)}deleteByHref(B,U){return this.deleteData.deleteByHref(B,U)}searchBy(B,U,W,j,...G){return this.searchData.searchBy(B,U,W,j,...G)}invoke(B,U,W,j){const G=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(H=>new u.t(H,B,"processes",U).toString()),(0,t.T)(H=>{const V=this.getInvocationFormData(W,j);return new M.E0(G,H,V)})).subscribe(H=>this.requestService.send(H)),this.rdbService.buildFromRequestUUID(G)}getInvocationFormData(B,U){const W=new FormData;return W.set("properties",JSON.stringify(B)),U.forEach(j=>{W.append("file",j)}),W}static{this.\u0275fac=function(U){return new(U||I)(C.KVO(T.B),C.KVO(l.o),C.KVO(f.$),C.KVO(R.Y),C.KVO(w.I))}}static{this.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},29009:(N,b,n)=>{"use strict";n.d(b,{tc:()=>l,uC:()=>e,zd:()=>t});var i=n(42547);const t=new i.v("ldnservice"),l=new i.v("itemfilters"),e=new i.v("itemfilter")},13275:(N,b,n)=>{"use strict";n.d(b,{VZ:()=>t,rn:()=>i,wU:()=>l});const i="quality-assurance",t="publication-claim";function l(){return`/${i}`}},40887:(N,b,n)=>{"use strict";n.d(b,{o:()=>t});var i=n(78541);class t extends i.q{}},3e3:(N,b,n)=>{"use strict";n.d(b,{a:()=>_});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(98688),h=n(60654);let _=class extends f.M{constructor(){super(...arguments),this.type=h.g}static{this.type=h.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],_.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],_.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",l.c)],_.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",l.c)],_.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],_)},60654:(N,b,n)=>{"use strict";n.d(b,{g:()=>t});const t=new(n(42547).v)("message")},88857:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AdminNotifyMessagesService:()=>S});var i=n(22806),t=n(7673),l=n(31943),e=n(73028),f=n(96354),m=n(88141),h=n(25558),_=n(72734),y=n(41684),v=n(63897),D=n(29326),O=n(43052),M=n(32473),T=n(4910),R=n(80183),u=n(39806),w=n(68630),C=n(54438);let S=(()=>{class I extends v.W{constructor(B,U,W,j,G,H,V){super("messages",B,U,W,j),this.requestService=B,this.rdbService=U,this.objectCache=W,this.halService=j,this.notificationsService=G,this.ldnServicesService=H,this.itemDataService=V,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(B){return(0,i.H)(B).pipe((0,e.Z)(U=>U.target||U.origin?this.ldnServicesService.findById((U.target||U.origin).toString()).pipe((0,R.Hz)(),(0,f.T)(W=>({...U,ldnService:W.name}))):(0,t.of)(U)),(0,e.Z)(U=>U.object||U.context?this.itemDataService.findById(U.object||U.context).pipe((0,R.Hz)(),(0,f.T)(W=>({...U,relatedItem:W.name}))):(0,t.of)(U)),(0,l.S)((U,W)=>[...U,W],[]))}reprocessMessage(B,U){const W=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,f.T)(j=>j.replace("{id}",B.id)),(0,f.T)(j=>new O.Qf(W,j)),(0,m.M)(j=>this.requestService.send(j)),(0,h.n)(j=>this.rdbService.buildFromRequestUUID(j.uuid)),(0,R.qD)(),(0,R.Hz)(),(0,e.Z)(j=>this.getDetailedMessages([j]))).pipe((0,e.Z)(j=>U.pipe((0,f.T)(G=>{const H=j[0],V=G.find(J=>J.id===B.id),X=G.indexOf(V);return H.target=B.target,H.object=B.object,H.origin=B.origin,H.context=B.context,G[X]=H,G}))))}static{this.\u0275fac=function(U){return new(U||I)(C.KVO(M.B),C.KVO(_.o),C.KVO(y.$),C.KVO(T.Y),C.KVO(u.I),C.KVO(w.LdnServicesService),C.KVO(D.ItemDataService))}}static{this.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},29679:(N,b,n)=>{"use strict";n.d(b,{Cv:()=>e,Sh:()=>t,ZU:()=>f,hO:()=>l});var i=n(91e3);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class l{constructor(h){this.type=t.SELECT_FORMAT,this.bitstreamFormat=h}}class e{constructor(h){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=h}}class f{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},86628:(N,b,n)=>{"use strict";n.d(b,{Gr:()=>h,Kt:()=>t,Q6:()=>f,TE:()=>O,Tf:()=>y,Wi:()=>e,dF:()=>_,jC:()=>v,w2:()=>l,yb:()=>D,zn:()=>m});var i=n(91e3);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class l{constructor(T){this.type=t.EDIT_SCHEMA,this.schema=T}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class f{constructor(T){this.type=t.SELECT_SCHEMA,this.schema=T}}class m{constructor(T){this.type=t.DESELECT_SCHEMA,this.schema=T}}class h{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class _{constructor(T){this.type=t.EDIT_FIELD,this.field=T}}class y{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class v{constructor(T){this.type=t.SELECT_FIELD,this.field=T}}class D{constructor(T){this.type=t.DESELECT_FIELD,this.field=T}}class O{constructor(){this.type=t.DESELECT_ALL_FIELD}}},47483:(N,b,n)=>{"use strict";n.d(b,{P$:()=>y,b7:()=>O,iF:()=>_,jE:()=>e,p8:()=>h,uD:()=>f,z$:()=>m});var i=n(69799),t=n(45663),l=n(13275);const e="registries",f="notifications",m="ldn",h="reports",_="notify-dashboard";function y(){return new t.t((0,i.D6)(),e).toString()}function O(){return new t.t(`/${f}`,(0,l.wU)()).toString()}},9901:(N,b,n)=>{"use strict";n.d(b,{g:()=>v});var i=n(60177),t=n(7901),l=n(41780),e=n(82777),f=n(39548),m=n(19340),h=n(6446),_=n(54438);const y=D=>({disabled:D});let v=(()=>{class D extends h.a{constructor(M,T,R,u){super(M,T,R),this.menuService=T,this.injector=R,this.router=u,this.menuID=m.D.ADMIN,this.itemModel=M.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(M){M.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(M){return`admin-menu-section-${M}`}adminMenuSectionTitleId(M){return`admin-menu-section-${M}-title`}static{this.\u0275fac=function(T){return new(T||D)(_.rXU("sectionDataProvider"),_.rXU(f.$),_.rXU(_.zZn),_.rXU(t.Ix))}}static{this.\u0275cmp=_.VBU({type:D,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[_.Vt3,_.aNF],decls:9,vars:13,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(T,R){1&T&&(_.j41(0,"div")(1,"a",0),_.bIt("keyup.space",function(w){return R.navigate(w)})("keyup.enter",function(w){return R.navigate(w)}),_.j41(2,"div",1),_.nrm(3,"i"),_.k0s(),_.j41(4,"div",2)(5,"div",3)(6,"span",4),_.EFF(7),_.nI1(8,"translate"),_.k0s()()()()()),2&T&&(_.R7$(),_.Y8G("ngClass",_.eq3(11,y,R.isDisabled))("routerLink",R.itemModel.link),_.BMQ("aria-disabled",R.isDisabled)("aria-labelledby",R.adminMenuSectionTitleId(R.section.id)),_.R7$(2),_.ZvI("fas fa-",R.section.icon," fa-fw"),_.R7$(3),_.Y8G("id",R.adminMenuSectionTitleId(R.section.id)),_.R7$(),_.JRh(_.bMT(8,9,R.itemModel.text)))},dependencies:[i.YU,t.Wk,l.h,l.D9]})}}return D})()},43832:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AdminSidebarComponent:()=>X});var i=n(60177),t=n(52149),l=n(41780),e=n(84412),f=n(84572),m=n(61594),h=n(96354),_=n(70152),y=n(23294),v=n(53993),D=n(67116),O=n(65007),M=n(621),T=n(30458),R=n(39548),u=n(19340),w=n(1221),C=n(82522),S=n(54438),I=n(7901);const L=(J,q,Q)=>({expanded:J,collapsed:q,transitioning:Q}),B=(J,q)=>({collapsedWidth:J,expandedWidth:q}),U=(J,q)=>({value:J,params:q});function W(J,q){1&J&&S.eu8(0)}function j(J,q){if(1&J&&(S.qex(0),S.DNE(1,W,1,0,"ng-container",16),S.nI1(2,"async"),S.nI1(3,"async"),S.bVm()),2&J){const Q=q.$implicit,Y=S.XpG(2);S.R7$(),S.Y8G("ngComponentOutlet",S.bMT(2,2,Y.sectionMap$).get(Q.id).component)("ngComponentOutletInjector",S.bMT(3,4,Y.sectionMap$).get(Q.id).injector)}}function G(J,q){1&J&&(S.nrm(0,"i",17),S.nI1(1,"translate")),2&J&&S.Y8G("title",S.bMT(1,1,"menu.section.icon.pin"))}function H(J,q){1&J&&(S.nrm(0,"i",18),S.nI1(1,"translate")),2&J&&S.Y8G("title",S.bMT(1,1,"menu.section.icon.unpin"))}function V(J,q){if(1&J){const Q=S.RV6();S.j41(0,"nav",1),S.nI1(1,"async"),S.nI1(2,"async"),S.nI1(3,"async"),S.nI1(4,"translate"),S.bIt("@slideSidebar.done",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.finishSlide(z))})("@slideSidebar.start",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.startSlide(z))})("mouseenter",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.handleMouseEnter(z))})("mouseleave",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.handleMouseLeave(z))}),S.j41(5,"div",2)(6,"div",3)(7,"div",4),S.nrm(8,"img",5),S.nI1(9,"translate"),S.k0s(),S.j41(10,"div",6)(11,"div",7)(12,"h4",8),S.EFF(13),S.nI1(14,"translate"),S.k0s()()()()(),S.j41(15,"div",9)(16,"div",10),S.nI1(17,"translate"),S.DNE(18,j,4,6,"ng-container",11),S.nI1(19,"async"),S.k0s()(),S.j41(20,"div",12)(21,"a",13),S.bIt("click",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.toggle(z))})("keyup.space",function(z){S.eBV(Q);const Z=S.XpG();return S.Njj(Z.toggle(z))}),S.j41(22,"div",4),S.DNE(23,G,2,3,"i",14),S.nI1(24,"async"),S.DNE(25,H,2,3,"i",15),S.nI1(26,"async"),S.k0s(),S.j41(27,"div",6)(28,"div",7),S.EFF(29),S.nI1(30,"async"),S.nI1(31,"translate"),S.k0s()()()()()}if(2&J){const Q=S.XpG();S.Y8G("ngClass",S.sMw(34,L,Q.sidebarOpen,Q.sidebarClosed,Q.sidebarTransitioning))("@slideSidebar",S.l_i(41,U,!0!==S.bMT(1,10,Q.sidebarExpanded)?"collapsed":"expanded",S.l_i(38,B,S.bMT(2,12,Q.collapsedSidebarWidth$),S.bMT(3,14,Q.expandedSidebarWidth$)))),S.BMQ("aria-label",S.bMT(4,16,"menu.header.nav.description")),S.R7$(8),S.Y8G("alt",S.bMT(9,18,"menu.header.image.logo")),S.R7$(5),S.JRh(S.bMT(14,20,"menu.header.admin")),S.R7$(3),S.BMQ("aria-label",S.bMT(17,22,"menu.header.admin.description")),S.R7$(2),S.Y8G("ngForOf",S.bMT(19,24,Q.sections)),S.R7$(5),S.Y8G("ngIf",S.bMT(24,26,Q.menuCollapsed)),S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(26,28,Q.menuCollapsed)),S.R7$(4),S.SpI(" ",S.bMT(31,32,S.bMT(30,30,Q.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let X=(()=>{class J extends T.Z{constructor(Q,Y,z,Z,oe,se,de){super(Q,Y,oe,se,de),this.menuService=Q,this.injector=Y,this.variableService=z,this.authService=Z,this.authorizationService=oe,this.route=se,this.themeService=de,this.menuID=u.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(Q=>{Q&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(Q=>{this.sidebarOpen=!Q,this.sidebarClosed=Q}),this.sidebarExpanded=(0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,h.T)(([Q,Y])=>!Q||!Y)),this.inFocus$.pipe((0,_.B)(50),(0,y.F)(),(0,v.E)((0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([Q,[Y,z]])=>{Y&&(Q&&z?this.expandPreview(new Event("focusin \u2192 expand")):!Q&&!z&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(Q){this.inFocus$.getValue()?Q.preventDefault():this.expandPreview(Q)}handleMouseLeave(Q){this.inFocus$.getValue()?Q.preventDefault():this.collapsePreview(Q)}startSlide(Q){this.sidebarTransitioning=!0,"expanded"===Q.toState?this.sidebarClosed=!1:"collapsed"===Q.toState&&(this.sidebarOpen=!1)}finishSlide(Q){this.sidebarTransitioning=!1,"expanded"===Q.fromState?this.sidebarClosed=!0:"collapsed"===Q.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(Y){return new(Y||J)(S.rXU(R.$),S.rXU(S.zZn),S.rXU(w.J),S.rXU(D.uR),S.rXU(O.AuthorizationDataService),S.rXU(I.nX),S.rXU(C.Fs))}}static{this.\u0275cmp=S.VBU({type:J,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(Y,z){1&Y&&S.bIt("focusin",function(){return z.handleFocusIn()})("focusout",function(){return z.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0 vh-100","id","admin-sidebar",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"]],template:function(Y,z){1&Y&&(S.DNE(0,V,32,44,"nav",0),S.nI1(1,"async")),2&Y&&S.Y8G("ngIf",S.bMT(1,1,z.menuVisible))},dependencies:[i.bT,t.zH,t.QE,i.YU,i.pM,i.OI,i.Jj,l.h,l.D9],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[M.ck]}})}}return J})()},99452:(N,b,n)=>{"use strict";n.d(b,{W:()=>W});var i=n(60177),t=n(41780),l=n(84572),e=n(96354),f=n(49969);const m=(0,f.iF)({backgroundColor:"{{ startColor }}"}),h=(0,f.iF)({backgroundColor:"{{ endColor }}"}),_=(0,f.hZ)("bgColor",[(0,f.wk)("startBackground",m,{params:{startColor:"*"}}),(0,f.wk)("endBackground",h,{params:{endColor:"*"}}),(0,f.kY)("startBackground <=> endBackground",(0,f.Os)([(0,f.P)("@*",(0,f.MA)()),(0,f.i0)("200ms")]))]);var y=n(68681),v=n(621),D=n(39548),O=n(19340),M=n(1221),T=n(9901),R=n(54438),u=n(7901);const w=j=>({expanded:j}),C=j=>({endColor:j}),S=(j,G)=>({value:j,params:G});function I(j,G){1&j&&R.eu8(0)}function L(j,G){1&j&&R.eu8(0)}function B(j,G){if(1&j&&(R.j41(0,"div",14),R.DNE(1,L,1,0,"ng-container",6),R.nI1(2,"async"),R.nI1(3,"async"),R.k0s()),2&j){const H=G.$implicit,V=R.XpG(2);R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(2,2,V.sectionMap$).get(H.id).component)("ngComponentOutletInjector",R.bMT(3,4,V.sectionMap$).get(H.id).injector)}}function U(j,G){if(1&j&&(R.j41(0,"div",9),R.nrm(1,"div",10),R.j41(2,"div",3)(3,"div",11)(4,"div",12),R.nI1(5,"translate"),R.DNE(6,B,4,6,"div",13),R.nI1(7,"async"),R.k0s()()()()),2&j){const H=R.XpG();R.Y8G("@slide",void 0),R.R7$(4),R.Y8G("id",H.adminMenuSectionId(H.section.id)),R.BMQ("aria-label",R.bMT(5,4,"menu.section."+H.section.id)),R.R7$(2),R.Y8G("ngForOf",R.bMT(7,6,H.subSections$))}}let W=(()=>{class j extends T.g{constructor(H,V,X,J,q){super(H,V,J,q),this.menuService=V,this.variableService=X,this.injector=J,this.router=q,this.menuID=O.D.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,l.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([H,V,X])=>H&&(!V||!X)))}toggleSection(H){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(H)}adminMenuSubsectionId(H,V){return`admin-menu-section-${H}-${V}`}static{this.\u0275fac=function(V){return new(V||j)(R.rXU("sectionDataProvider"),R.rXU(D.$),R.rXU(M.J),R.rXU(R.zZn),R.rXU(u.Ix))}}static{this.\u0275cmp=R.VBU({type:j,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[R.Vt3,R.aNF],decls:19,vars:40,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],["class","sidebar-section-wrapper subsection",4,"ngIf"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item"]],template:function(V,X){1&V&&(R.j41(0,"div",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.j41(4,"a",1),R.nI1(5,"async"),R.nI1(6,"translate"),R.bIt("click",function(q){return X.toggleSection(q)})("keyup.space",function(q){return X.toggleSection(q)}),R.j41(7,"div",2),R.nrm(8,"i"),R.k0s(),R.j41(9,"div",3)(10,"div",4)(11,"span",5),R.DNE(12,I,1,0,"ng-container",6),R.nI1(13,"async"),R.nI1(14,"async"),R.k0s(),R.nrm(15,"i",7),R.nI1(16,"async"),R.k0s()()(),R.DNE(17,U,8,8,"div",8),R.nI1(18,"async"),R.k0s()),2&V&&(R.Y8G("ngClass",R.eq3(33,w,R.bMT(1,15,X.isExpanded$)))("@bgColor",R.l_i(37,S,R.bMT(2,17,X.isExpanded$)?"endBackground":"startBackground",R.eq3(35,C,R.bMT(3,19,X.sidebarActiveBg$)))),R.R7$(4),R.AVh("disabled",null==X.section.model?null:X.section.model.disabled),R.BMQ("aria-controls",X.adminMenuSectionId(X.section.id))("aria-expanded",R.bMT(5,21,X.isExpanded$))("aria-label",R.bMT(6,23,"menu.section.toggle."+X.section.id)),R.R7$(4),R.ZvI("fas fa-",X.section.icon," fa-fw"),R.R7$(3),R.Y8G("id",X.adminMenuSectionTitleId(X.section.id)),R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(13,25,X.sectionMap$).get(X.section.id).component)("ngComponentOutletInjector",R.bMT(14,27,X.sectionMap$).get(X.section.id).injector),R.R7$(3),R.Y8G("@rotate",R.bMT(16,29,X.isExpanded$)?"expanded":"collapsed"),R.R7$(2),R.Y8G("ngIf",R.bMT(18,31,X.isExpanded$)))},dependencies:[i.YU,i.OI,i.bT,i.pM,i.Jj,t.h,t.D9],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[y.e$,v.M6,_]}})}}return j})()},61242:(N,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(8886),l=(n(43832),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(y){return n(48832)(`./${y}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,43832))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},69799:(N,b,n)=>{"use strict";n.d(b,{D6:()=>w,Do:()=>L,EI:()=>Ee,ET:()=>M,EX:()=>Q,Eo:()=>T,Ep:()=>oe,H_:()=>v,N2:()=>z,OC:()=>X,Q:()=>j,RC:()=>Z,RD:()=>q,RZ:()=>le,Th:()=>S,UP:()=>de,Vv:()=>W,XG:()=>te,al:()=>U,bZ:()=>J,cp:()=>H,dF:()=>D,e_:()=>se,gf:()=>re,hV:()=>O,il:()=>I,l2:()=>y,lH:()=>be,n:()=>Y,pU:()=>u,pX:()=>C,sB:()=>R,sT:()=>B,wN:()=>V});var i=n(64611),t=n(54671),l=n(6041),e=n(10046),f=n(88318),m=n(45663),h=n(90887),_=n(82777);const y="bitstreams",v="bitstream";function D(){return`/${y}`}function O(mt){return new m.t(D(),mt.uuid,"download").toString()}function M(mt,xe){return{routerLink:new m.t((0,h.Fy)(),mt.uuid,"request-a-copy").toString(),queryParams:{bitstream:xe.uuid}}}const T="home";function R(){return`/${T}`}const u="admin";function w(){return`/${u}`}const C="profile";function S(){return`/${C}`}const I="register";function L(){return`/${I}`}const B="forgot";function U(){return`/${B}`}const W="workflowitems";function j(){return`/${W}`}const G="workspaceitems";function H(){return`/${G}`}function V(mt){if((0,_.a4)(mt))switch(mt.type){case e.E.type.value:return(0,t.c5)(mt.uuid);case l.p.type.value:return(0,i.JW)(mt.uuid);case f.q.type.value:return(0,h._o)(mt)}}const X="403";function J(){return`/${X}`}const q="404";function Q(){return`/${q}`}const Y="500";function z(){return`/${Y}`}const Z="error",oe="info";function se(){return`/${oe}`}const de="access-control";function te(){return`/${de}`}const le="request-a-copy";function Ee(){return`/${le}`}const be="health",pe="subscriptions";function re(){return`/${pe}`}},72352:(N,b,n)=>{"use strict";n.d(b,{rd:()=>Cn,pc:()=>us,ox:()=>ss,wP:()=>Vs});var i=n(20766),t=n(25499),l=n(19353);const e={editEPerson:null};var m=n(85255);const h={editGroup:null};var y=n(86628);const v={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var O=n(11596);const M={expandedNodes:[],loadingNode:null};var R=n(10110),C=n(55116);const S={allIconsVisible:!1,models:{}};function L(gt,lt,Yt){const{[lt]:Pn,...kn}=gt.models,as={...kn,[lt]:{...Pn,isTooltipVisible:Yt(Pn.isTooltipVisible)}};return{...gt,models:as}}var B=n(82777),U=n(94337);function j(gt,lt,Yt){return Object.assign({},gt,{[lt]:Yt})}var G=n(48125),H=n.n(G),V=n(63448),X=n.n(V),J=n(32710);const q=Object.create(null);var Ee=n(19340);const be={[Ee.D.ADMIN]:{id:Ee.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[Ee.D.PUBLIC]:{id:Ee.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[Ee.D.DSO_EDIT]:{id:Ee.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};var pe=n(54476);function Ie(gt,lt,Yt){const Pn=gt[lt.menuID],kn=Object.assign({},Pn.sections,{[Yt.id]:Yt}),is=Object.assign({},Pn,{sections:kn});return Object.assign({},gt,{[lt.menuID]:is})}function We(gt,lt,Yt){const kn=gt[lt.menuID].sections[lt.id];return(0,B.a4)(kn)?Ie(gt,lt,Object.assign({},kn,Yt)):gt}var Dt=n(11568);const kt=[];var ve=n(61281);function Wt(gt){return{id:gt,selection:[]}}function It(gt,lt){return gt.findIndex(Yt=>Yt.equals(lt))>=0}var qt=n(65580);const ln=Object.create(null);var Ht=n(18757);const Kt=Object.create({});var Ct=n(65354);const Qt={width:null,height:null};var Lt=n(22180);const it=Object.create(null);var ke=n(52680);const ze={sidebarCollapsed:!0};var St=n(15314);const Qe={currentTheme:null};var _t=n(26500);const Zt=Object.create(null),Cn={router:i.C_,hostWindow:function Et(gt=Qt,lt){return lt.type===Ct.O.RESIZE?Object.assign({},gt,lt.payload):gt},forms:function Q(gt=q,lt){switch(lt.type){case J.AI.FORM_INIT:return function oe(gt,lt){const Yt={data:lt.payload.formData,valid:lt.payload.valid,touched:{},errors:[]};if((0,B.a4)(gt[lt.payload.formId])){const Pn=Object.assign({},gt);return Pn[lt.payload.formId]=Object.assign({},Pn[lt.payload.formId],Yt),Pn}return Object.assign({},gt,{[lt.payload.formId]:Yt})}(gt,lt);case J.AI.FORM_CHANGE:return function se(gt,lt){if((0,B.a4)(gt[lt.payload.formId])){const Yt=Object.assign({},gt);return Yt[lt.payload.formId]=Object.assign({},Yt[lt.payload.formId],{data:lt.payload.formData,valid:gt[lt.payload.formId].valid}),Yt}return gt}(gt,lt);case J.AI.FORM_ADD_TOUCHED:return function le(gt,lt){if((0,B.a4)(gt[lt.payload.formId])){const Yt=Object.assign({},gt),Pn=Object.assign({},Yt[lt.payload.formId]);return Yt[lt.payload.formId]=Pn,Pn.touched={...Pn.touched},lt.payload.touched.forEach(kn=>Pn.touched[kn]=!0),Yt}return gt}(gt,lt);case J.AI.FORM_REMOVE:return function te(gt,lt){if((0,B.a4)(gt[lt.payload.formId])){const Yt=Object.assign({},gt);return delete Yt[lt.payload.formId],Yt}return gt}(gt,lt);case J.AI.FORM_STATUS_CHANGE:return function de(gt,lt){if((0,B.a4)(gt[lt.payload.formId])){const Yt=Object.assign({},gt);return Yt[lt.payload.formId]=Object.assign({},Yt[lt.payload.formId],{data:gt[lt.payload.formId].data,valid:lt.payload.valid}),Yt}return Object.assign({},gt,{[lt.payload.formId]:{data:gt[lt.payload.formId].data,valid:lt.payload.valid}})}(gt,lt);case J.AI.FORM_ADD_ERROR:return function Y(gt,lt){const Yt=lt.payload.formId;if((0,B.a4)(gt[Yt])){const Pn={fieldId:lt.payload.fieldId,fieldIndex:lt.payload.fieldIndex,message:lt.payload.errorMessage},kn=lt.payload.fieldId.replace(/\_/g,"."),is=Object.assign({},gt[Yt].touched,{[kn]:!0});return Object.assign({},gt,{[Yt]:{data:gt[Yt].data,valid:gt[Yt].valid,errors:gt[Yt].errors?X()(gt[Yt].errors.concat(Pn),H()):[].concat(Pn),touched:is}})}return gt}(gt,lt);case J.AI.FORM_REMOVE_ERROR:return function z(gt,lt){const Yt=lt.payload.formId,Pn=lt.payload.fieldId,kn=lt.payload.fieldIndex;if((0,B.a4)(gt[Yt])){const is=gt[Yt].errors.filter(Ys=>Ys.fieldId!==Pn||Ys.fieldIndex!==kn),as=Object.assign({},gt);return as[Yt]=Object.assign({},gt[Yt],{errors:is}),as}return gt}(gt,lt);case J.AI.FORM_CLEAR_ERRORS:return function Z(gt,lt){const Yt=lt.payload.formId;if((0,B.a4)(gt[Yt])){const Pn=[],kn=Object.assign({},gt);return kn[Yt]=Object.assign({},gt[Yt],{errors:Pn}),kn}return gt}(gt,lt);default:return gt}},metadataRegistry:function D(gt=v,lt){switch(lt.type){case y.Kt.EDIT_SCHEMA:return Object.assign({},gt,{editSchema:lt.schema});case y.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},gt,{editSchema:null});case y.Kt.SELECT_SCHEMA:return Object.assign({},gt,{selectedSchemas:[...gt.selectedSchemas,lt.schema]});case y.Kt.DESELECT_SCHEMA:return Object.assign({},gt,{selectedSchemas:gt.selectedSchemas.filter(Yt=>Yt!==lt.schema)});case y.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},gt,{selectedSchemas:[]});case y.Kt.EDIT_FIELD:return Object.assign({},gt,{editField:lt.field});case y.Kt.CANCEL_EDIT_FIELD:return Object.assign({},gt,{editField:null});case y.Kt.SELECT_FIELD:return Object.assign({},gt,{selectedFields:[...gt.selectedFields,lt.field]});case y.Kt.DESELECT_FIELD:return Object.assign({},gt,{selectedFields:gt.selectedFields.filter(Yt=>Yt!==lt.field)});case y.Kt.DESELECT_ALL_FIELD:return Object.assign({},gt,{selectedFields:[]});default:return gt}},notifications:function ct(gt=kt,lt){switch(lt.type){case Dt.Is.NEW_NOTIFICATION:return[...gt,lt.payload];case Dt.Is.REMOVE_ALL_NOTIFICATIONS:return[];case Dt.Is.REMOVE_NOTIFICATION:return((gt,lt)=>gt.filter(Yt=>Yt.id!==lt.payload))(gt,lt);default:return gt}},sidebar:function Ue(gt=ze,lt){switch(lt.type){case ke.Kd.COLLAPSE:return Object.assign({},gt,{sidebarCollapsed:!0});case ke.Kd.EXPAND:return Object.assign({},gt,{sidebarCollapsed:!1});case ke.Kd.TOGGLE:return Object.assign({},gt,{sidebarCollapsed:!gt.sidebarCollapsed});default:return gt}},searchFilter:function Ne(gt=it,lt){switch(lt.type){case Lt.y$.INITIALIZE:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:!lt.initiallyExpanded,minimized:!1,page:1}});case Lt.y$.COLLAPSE:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:!0,minimized:gt[lt.filterName].minimized,page:gt[lt.filterName].page}});case Lt.y$.EXPAND:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:!1,minimized:gt[lt.filterName].minimized,page:gt[lt.filterName].page}});case Lt.y$.DECREMENT_PAGE:{const Yt=gt[lt.filterName].page-1;return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:gt[lt.filterName].filterCollapsed,minimized:gt[lt.filterName].minimized,page:Yt>=1?Yt:1}})}case Lt.y$.INCREMENT_PAGE:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:gt[lt.filterName].filterCollapsed,minimized:gt[lt.filterName].minimized,page:gt[lt.filterName].page+1}});case Lt.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(gt).map(([Yt,Pn])=>({[Yt]:{...Pn,minimized:!0}})));case Lt.y$.RESET_PAGE:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:gt[lt.filterName].filterCollapsed,minimized:!1,page:1}});case Lt.y$.TOGGLE:return Object.assign({},gt,{[lt.filterName]:{filterCollapsed:!gt[lt.filterName].filterCollapsed,minimized:gt[lt.filterName].minimized,page:gt[lt.filterName].page}});default:return gt}},truncatable:function fn(gt=Zt,lt){switch(lt.type){case _t.VR.COLLAPSE:return Object.assign({},gt,{[lt.id]:{collapsed:!0}});case _t.VR.EXPAND:return Object.assign({},gt,{[lt.id]:{collapsed:!1}});case _t.VR.TOGGLE:return gt[lt.id]||(gt[lt.id]={collapsed:!1}),Object.assign({},gt,{[lt.id]:{collapsed:!gt[lt.id].collapsed}});default:return gt}},cssVariables:function Pt(gt=Kt,lt){switch(lt.type){case Ht.$s.ADD:{const Yt=lt.payload;return Object.assign({},gt,{[Yt.name]:Yt.value})}case Ht.$s.ADD_ALL:return Object.assign({},gt,...lt.payload.map(({key:Pn,value:kn})=>({[Pn]:kn})));case Ht.$s.CLEAR:return Kt;default:return gt}},theme:function xt(gt=Qe,lt){return lt.type===St.t.SET?{currentTheme:lt.payload.name}:gt},menus:function re(gt=be,lt){switch(lt.type){case pe.jZ.COLLAPSE_MENU:{const Yt=Object.assign({},gt[lt.menuID],{collapsed:!0});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.EXPAND_MENU:{const Yt=Object.assign({},gt[lt.menuID],{collapsed:!1});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.COLLAPSE_MENU_PREVIEW:{const Yt=Object.assign({},gt[lt.menuID],{previewCollapsed:!0});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.EXPAND_MENU_PREVIEW:{const Yt=Object.assign({},gt[lt.menuID],{previewCollapsed:!1});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.TOGGLE_MENU:{const Yt=gt[lt.menuID],Pn=Object.assign({},Yt,{collapsed:!Yt.collapsed});return Object.assign({},gt,{[lt.menuID]:Pn})}case pe.jZ.SHOW_MENU:{const Yt=Object.assign({},gt[lt.menuID],{visible:!0});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.HIDE_MENU:{const Yt=Object.assign({},gt[lt.menuID],{visible:!1});return Object.assign({},gt,{[lt.menuID]:Yt})}case pe.jZ.REINIT_MENUS:return Object.assign({},be);case pe.jZ.ADD_SECTION:return function ye(gt,lt){return function De(gt,lt){const Yt=gt[lt.menuID],Pn={},kn={};Object.values(Yt.sections).sort((as,Ys)=>(as.index||0)-(Ys.index||0)).forEach(as=>{if(Pn[as.id]=as,(0,B.a4)(as.parentID)){const Ys=(0,B.a4)(kn[as.parentID])?kn[as.parentID]:[];kn[as.parentID]=[...Ys,as.id]}});const is=Object.assign({},Yt,{sections:Pn,sectionToSubsectionIndex:kn});return Object.assign({},gt,{[lt.menuID]:is})}(Ie(gt,lt,lt.section),lt)}(gt,lt);case pe.jZ.REMOVE_SECTION:return function nt(gt,lt){const Pn=lt.id,kn=function mt(gt,lt,Yt){const Pn=lt.id,kn=lt.parentID;if((0,B.a4)(kn)){const is=gt[Yt],as=is.sectionToSubsectionIndex,Ys=(0,B.a4)(as[kn])?as[kn]:[],gs=Object.assign({},as,{[kn]:Ys.filter(os=>os!==Pn)}),Ss=Object.assign({},is,{sectionToSubsectionIndex:gs});return Object.assign({},gt,{[Yt]:Ss})}return gt}(gt,gt[lt.menuID].sections[lt.id],lt.menuID),is=Object.assign({},kn[lt.menuID],{sections:Object.assign({},kn[lt.menuID].sections)});return delete is.sections[Pn],Object.assign({},kn,{[lt.menuID]:is})}(gt,lt);case pe.jZ.ACTIVATE_SECTION:return function Fe(gt,lt){if((0,B.a4)(gt[lt.menuID].sections[lt.id]))return We(gt,lt,{active:!0})}(gt,lt);case pe.jZ.DEACTIVATE_SECTION:return function $e(gt,lt){if((0,B.a4)(gt[lt.menuID].sections[lt.id]))return We(gt,lt,{active:!1})}(gt,lt);case pe.jZ.TOGGLE_ACTIVE_SECTION:return function st(gt,lt){const Yt=gt[lt.menuID].sections[lt.id];return(0,B.a4)(Yt)?We(gt,lt,{active:!Yt.active}):gt}(gt,lt);case pe.jZ.HIDE_SECTION:return function xe(gt,lt){return We(gt,lt,{visible:!1})}(gt,lt);case pe.jZ.SHOW_SECTION:return function ot(gt,lt){return We(gt,lt,{visible:!0})}(gt,lt);default:return gt}},objectSelection:function Mt(gt=ln,lt){switch(lt.type){case qt.T8.INITIAL_SELECT:return(0,B.Im)(gt)||(0,B.Im)(gt[lt.key])||(0,B.Im)(gt[lt.key][lt.id])?Object.assign({},gt,{[lt.key]:Object.assign({},gt[lt.key],{[lt.id]:{checked:!0}})}):gt;case qt.T8.INITIAL_DESELECT:return(0,B.Im)(gt)||(0,B.Im)(gt[lt.key])||(0,B.Im)(gt[lt.key][lt.id])?Object.assign({},gt,{[lt.key]:Object.assign({},gt[lt.key],{[lt.id]:{checked:!1}})}):gt;case qt.T8.SELECT:return Object.assign({},gt,{[lt.key]:Object.assign({},gt[lt.key],{[lt.id]:{checked:!0}})});case qt.T8.DESELECT:return Object.assign({},gt,{[lt.key]:Object.assign({},gt[lt.key],{[lt.id]:{checked:!1}})});case qt.T8.SWITCH:return Object.assign({},gt,{[lt.key]:Object.assign({},gt[lt.key],{[lt.id]:{checked:!!((0,B.Im)(gt)||(0,B.Im)(gt[lt.key])||(0,B.Im)(gt[lt.key][lt.id]))||!gt[lt.key][lt.id].checked}})});case qt.T8.RESET:return(0,B.Im)(lt.key)?{}:Object.assign({},gt,{[lt.key]:{}});default:return gt}},selectableLists:function Be(gt={},lt){const Yt=gt[lt.id]||Wt(lt.id);switch(lt.type){case ve.Sg.SELECT:{const Pn=function pt(gt,lt){const Yt=lt.payload.filter(kn=>!It(gt.selection,kn)),Pn=[...gt.selection,...Yt];return Object.assign({},gt,{selection:Pn})}(Yt,lt);return Object.assign({},gt,{[lt.id]:Pn})}case ve.Sg.SELECT_SINGLE:{const Pn=function dn(gt,lt){let Yt=gt.selection;return It(gt.selection,lt.payload.object)||(Yt=[...gt.selection,lt.payload.object]),Object.assign({},gt,{selection:Yt})}(Yt,lt);return Object.assign({},gt,{[lt.id]:Pn})}case ve.Sg.DESELECT:{const Pn=function an(gt,lt){const Yt=gt.selection.filter(Pn=>(0,B.Tn)(lt.payload.find(kn=>kn.equals(Pn))));return Object.assign({},gt,{selection:Yt})}(Yt,lt);return Object.assign({},gt,{[lt.id]:Pn})}case ve.Sg.DESELECT_SINGLE:{const Pn=function In(gt,lt){const Yt=gt.selection.filter(Pn=>!Pn.equals(lt.payload));return Object.assign({},gt,{selection:Yt})}(Yt,lt);return Object.assign({},gt,{[lt.id]:Pn})}case ve.Sg.SET_SELECTION:{const Pn=function Tt(gt,lt){return Object.assign({},gt,{selection:lt.payload})}(Yt,lt);return Object.assign({},gt,{[lt.id]:Pn})}case ve.Sg.DESELECT_ALL:{const Pn=Wt(lt.id);return Object.assign({},gt,{[lt.id]:Pn})}default:return gt}},relationshipLists:function W(gt={},lt){switch(lt.type){case U.SF.SET_NAME_VARIANT:{const kn=j(gt[lt.payload.listID]||{},lt.payload.itemID,lt.payload.nameVariant);return Object.assign({},gt,{[lt.payload.listID]:kn})}case U.SF.REMOVE_NAME_VARIANT:{const Yt=gt[lt.payload.listID];if((0,B.a4)(Yt)&&(0,B.a4)(Yt[lt.payload.itemID])){const Pn=j(Yt,lt.payload.itemID,void 0);return Object.assign({},gt,{[lt.payload.listID]:Pn})}return gt}default:return gt}},communityList:function T(gt=M,lt){return lt.type===O.x.SAVE?Object.assign({},gt,{expandedNodes:lt.payload.expandedNodes,loadingNode:lt.payload.loadingNode}):gt},epeopleRegistry:function f(gt=e,lt){switch(lt.type){case l.bA.EDIT_EPERSON:return Object.assign({},gt,{editEPerson:lt.eperson});case l.bA.CANCEL_EDIT_EPERSON:return Object.assign({},gt,{editEPerson:null});default:return gt}},groupRegistry:function _(gt=h,lt){switch(lt.type){case m.O3.EDIT_GROUP:return Object.assign({},gt,{editGroup:lt.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},gt,{editGroup:null});default:return gt}},correlationId:(gt=null,lt)=>lt.type===R.N.SET?lt.payload:gt,contextHelp:function I(gt=S,lt){switch(lt.type){case C.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...gt,allIconsVisible:!gt.allIconsVisible};case C.y5.CONTEXT_HELP_ADD:{const Yt={...gt.models,[lt.model.id]:lt.model};return{...gt,models:Yt}}case C.y5.CONTEXT_HELP_REMOVE:{const{[lt.id]:Yt,...Pn}=gt.models;return{...gt,models:Pn}}case C.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return L(gt,lt.id,Yt=>!Yt);case C.y5.CONTEXT_HELP_SHOW_TOOLTIP:return L(gt,lt.id,Yt=>!0);case C.y5.CONTEXT_HELP_HIDE_TOOLTIP:return L(gt,lt.id,Yt=>!1);default:return gt}}},ss=gt=>gt.router;function us(gt,lt){return(0,t.Mz)(lt,Yt=>{if((0,B.a4)(Yt))return Yt[gt]})}const Vs={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},87832:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BreadcrumbsComponent:()=>u});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(18226),m=n(54438),h=n(87152);const _=()=>({text:"home.breadcrumbs",url:"/"});function y(w,C){1&w&&m.eu8(0)}function v(w,C){1&w&&m.eu8(0)}function D(w,C){if(1&w&&(m.qex(0),m.DNE(1,v,1,0,"ng-container",6),m.bVm()),2&w){const S=C.$implicit,I=C.last;m.XpG(2);const L=m.sdS(4),B=m.sdS(6);m.R7$(),m.Y8G("ngTemplateOutlet",I?B:L)("ngTemplateOutletContext",S)}}function O(w,C){if(1&w&&(m.j41(0,"nav",4)(1,"ol",5),m.DNE(2,y,1,0,"ng-container",6)(3,D,2,2,"ng-container",7),m.k0s()()),2&w){const S=m.XpG().ngVar,I=m.sdS(4),L=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==S?null:S.length)>0?I:L)("ngTemplateOutletContext",m.lJ4(3,_)),m.R7$(),m.Y8G("ngForOf",S)}}function M(w,C){if(1&w&&(m.j41(0,"li",8)(1,"div",9)(2,"a",10),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&w){const S=C.text,I=C.url;m.R7$(2),m.Y8G("routerLink",I)("ngbTooltip",m.bMT(3,3,S)),m.R7$(2),m.JRh(m.bMT(5,5,S))}}function T(w,C){if(1&w&&(m.j41(0,"li",11)(1,"div",9)(2,"div",12),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&w){const S=C.text;m.R7$(3),m.JRh(m.bMT(4,1,S))}}function R(w,C){if(1&w&&(m.qex(0),m.DNE(1,O,4,4,"nav",3),m.nI1(2,"async"),m.DNE(3,M,6,7,"ng-template",null,0,m.C5r)(5,T,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&w){const S=m.XpG();m.R7$(),m.Y8G("ngIf",m.bMT(2,1,S.showBreadcrumbs$))}}let u=(()=>{class w{constructor(S){this.breadcrumbsService=S,this.breadcrumbs$=S.breadcrumbs$,this.showBreadcrumbs$=S.showBreadcrumbs$}static{this.\u0275fac=function(I){return new(I||w)(m.rXU(h.E))}}static{this.\u0275cmp=m.VBU({type:w,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(I,L){1&I&&(m.DNE(0,R,7,3,"ng-container",2),m.nI1(1,"async")),2&I&&m.Y8G("ngVar",m.bMT(1,1,L.breadcrumbs$))},dependencies:[f.r,i.bT,i.T3,i.pM,t.Wk,l.n8,l.md,i.Jj,e.h,e.D9],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return w})()},87152:(N,b,n)=>{"use strict";n.d(b,{E:()=>D});var i=n(7901),t=n(92771),l=n(84572),e=n(7673),f=n(5964),m=n(88141),h=n(25558),_=n(96354),y=n(82777),v=n(54438);let D=(()=>{class O{constructor(T,R){this.route=T,this.router=R,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,f.p)(T=>T instanceof i.wF),(0,m.M)(()=>this.reset()),(0,h.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(T){const R=T.snapshot.data,u=T.snapshot.routeConfig,w=(0,y.Tn)(T.firstChild);if(w&&((0,y.a4)(R.showBreadcrumbs)?this.showBreadcrumbs$.next(R.showBreadcrumbs):(0,y.b0)(R.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,y.a4)(R)&&(0,y.a4)(R.breadcrumb)&&(0,y.a4)(u)&&(0,y.a4)(u.resolve)&&(0,y.a4)(u.resolve.breadcrumb)){const{provider:C,key:S,url:I}=R.breadcrumb;return w?C.getBreadcrumbs(S,I):(0,l.z)(C.getBreadcrumbs(S,I),this.resolveBreadcrumbs(T.firstChild)).pipe((0,_.T)(L=>[].concat.apply([],L)))}return w?(0,e.of)([]):this.resolveBreadcrumbs(T.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(R){return new(R||O)(v.KVO(i.nX),v.KVO(i.Ix))}}static{this.\u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},46754:(N,b,n)=>{"use strict";n.d(b,{B:()=>f});var i=n(8886),t=n(54438);const l=["*"];function e(m,h){}let f=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(_){return n(32012)(`./${_}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87832))}static{this.\u0275fac=(()=>{let _;return function(v){return(_||(_=t.xGo(m)))(v||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:l,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,v){1&y&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},49010:(N,b,n)=>{"use strict";n.d(b,{v0:()=>q,el:()=>Q,M0:()=>z});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(7673),m=n(84572),h=n(96354),_=n(23294),y=n(37958),v=n(82640),D=n(88280),O=n(96526),M=n(37864);class T{constructor(oe,se,de,te,le,Ee){this.metadataDefinition=oe,this.pagination=se,this.sort=de,this.startsWith=te,this.scope=le,this.fetchThumbnail=Ee}}var R=n(6238),u=n(13989),w=n(22978),S=(n(26292),n(80183)),I=n(82777),L=n(82394),B=n(23401),U=n(19798),j=(n(1624),n(7901));const G=Z=>({startsWith:Z}),H=(Z,oe,se)=>({field:Z,startsWith:oe,value:se});function V(Z,oe){if(1&Z){const se=t.RV6();t.j41(0,"ds-browse-by",5),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(se);const te=t.XpG(2);return t.Njj(te.goPrev())})("next",function(){t.eBV(se);const te=t.XpG(2);return t.Njj(te.goNext())}),t.k0s()}if(2&Z){const se=t.XpG(2);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,H,t.bMT(1,7,"browse.metadata."+se.browseId),se.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,G,'"'+se.startsWith+'"')):"",se.value?'"'+se.value+'"':""))),t.Y8G("displayTitle",se.displayTitle)("objects$",void 0!==se.items$?se.items$:se.browseEntries$)("paginationConfig",t.bMT(4,15,se.currentPagination$))("sortConfig",t.bMT(5,17,se.currentSort$))("type",se.startsWithType)("startsWithOptions",se.startsWithOptions)}}function X(Z,oe){1&Z&&(t.nrm(0,"ds-loading",6),t.nI1(1,"translate")),2&Z&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function J(Z,oe){if(1&Z&&(t.j41(0,"section",1)(1,"div",2),t.DNE(2,V,6,25,"ds-browse-by",3),t.nI1(3,"async"),t.DNE(4,X,2,3,"ds-loading",4),t.nI1(5,"async"),t.k0s()()),2&Z){const se=t.XpG();t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,2,se.loading$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,se.loading$))}}const q="bbm";let Q=(()=>{class Z{constructor(se,de,te,le,Ee,be,pe,re){this.route=se,this.browseService=de,this.dsoService=te,this.paginationService=le,this.router=Ee,this.appConfig=be,this.dsoNameService=pe,this.platformId=re,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=U.c.text,this.value="",this.loading$=(0,f.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new B.W,{id:q,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!D.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,f.of)(!1));const se=new R.z("default",R.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,se);const de=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,h.T)(([te,le])=>Object.assign({},te,le)),(0,_.F)((te,le)=>te.id===le.id&&te.authority===le.authority&&te.value===le.value&&te.startsWith===le.startsWith));this.subs.push((0,m.z)([de,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([te,le,Ee,be])=>{this.browseId=te.id||this.defaultBrowseId,this.authority=te.authority,this.value="string"==typeof te.value?te.value.trim():"",(void 0===te.startsWith||""===te.startsWith)&&(this.startsWith=void 0),"string"==typeof te.startsWith&&(this.startsWith=te.startsWith.trim()),(0,I.hj)(this.value)?this.updatePageWithItems(z(te,le,Ee,be,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(z(te,le,Ee,be,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(se){(0,I.a4)(se.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(se){this.browseEntries$=this.browseService.getBrowseEntriesFor(se),this.loading$=this.browseEntries$.pipe((0,h.T)(de=>de.isLoading)),this.items$=void 0}updatePageWithItems(se,de,te){this.items$=this.browseService.getBrowseItemsFor(de,te,se),this.loading$=this.items$.pipe((0,h.T)(le=>le.isLoading))}goPrev(){this.items$?this.items$.pipe((0,S.yd)()).subscribe(se=>{this.items$=this.browseService.getPrevBrowseItems(se)}):this.browseEntries$&&this.browseEntries$.pipe((0,S.yd)()).subscribe(se=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(se)})}goNext(){this.items$?this.items$.pipe((0,S.yd)()).subscribe(se=>{this.items$=this.browseService.getNextBrowseItems(se)}):this.browseEntries$&&this.browseEntries$.pipe((0,S.yd)()).subscribe(se=>{this.browseEntries$=this.browseService.getNextBrowseEntries(se)})}ngOnDestroy(){this.subs.filter(se=>(0,I.a4)(se)).forEach(se=>se.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(de){return new(de||Z)(t.rXU(j.nX),t.rXU(M.q),t.rXU(u.DSpaceObjectDataService),t.rXU(w.m),t.rXU(j.Ix),t.rXU(v.vQ),t.rXU(O.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:Z,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(de,te){1&de&&t.DNE(0,J,6,6,"section",0),2&de&&t.Y8G("ngIf",!te.ssrRenderingDisabled)},dependencies:[i.Jj,i.bT,l.h,l.D9,L.v,y.U]})}}return Z})();function z(Z,oe,se,de,te,le){return new T(te,se,de,Z.startsWith,oe,le)}},1624:(N,b,n)=>{"use strict";n.d(b,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},81387:(N,b,n)=>{"use strict";n.d(b,{cv:()=>mt});var i=n(26292),t=n(82777),l=n(81569),e=n(60177),f=n(54438),m=n(41780),h=n(7673),_=n(84572),y=n(96354),v=n(23294),D=n(37958),O=n(82640),M=n(88280),T=n(96526),R=n(37864),u=n(6238),w=n(13989),C=n(22978),S=n(12866),I=n(82394),L=n(19798),B=n(49010),U=n(7901);const W=xe=>({startsWith:xe}),j=(xe,ot,$e)=>({field:xe,startsWith:ot,value:$e});function G(xe,ot){if(1&xe){const $e=f.RV6();f.j41(0,"ds-browse-by",5),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV($e);const st=f.XpG(2);return f.Njj(st.goPrev())})("next",function(){f.eBV($e);const st=f.XpG(2);return f.Njj(st.goNext())}),f.k0s()}if(2&xe){const $e=f.XpG(2);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,j,f.bMT(1,7,"browse.metadata."+$e.browseId),$e.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,W,'"'+$e.startsWith+'"')):"",$e.value?'"'+$e.value+'"':""))),f.Y8G("displayTitle",$e.displayTitle)("objects$",void 0!==$e.items$?$e.items$:$e.browseEntries$)("paginationConfig",f.bMT(4,15,$e.currentPagination$))("sortConfig",f.bMT(5,17,$e.currentSort$))("type",$e.startsWithType)("startsWithOptions",$e.startsWithOptions)}}function H(xe,ot){1&xe&&(f.nrm(0,"ds-loading",6),f.nI1(1,"translate")),2&xe&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function V(xe,ot){if(1&xe&&(f.j41(0,"section",1)(1,"div",2),f.DNE(2,G,6,25,"ds-browse-by",3),f.nI1(3,"async"),f.DNE(4,H,2,3,"ds-loading",4),f.nI1(5,"async"),f.k0s()()),2&xe){const $e=f.XpG();f.R7$(2),f.Y8G("ngIf",!0!==f.bMT(3,2,$e.loading$)),f.R7$(2),f.Y8G("ngIf",f.bMT(5,4,$e.loading$))}}let X=(()=>{class xe extends B.el{constructor($e,Fe,st,Ie,We,Dt,kt,ct,Ot){super($e,Fe,st,Ie,We,Dt,kt,Ot),this.route=$e,this.browseService=Fe,this.dsoService=st,this.paginationService=Ie,this.router=We,this.appConfig=Dt,this.dsoNameService=kt,this.cdRef=ct,this.platformId=Ot,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!M.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,h.of)(!1));const $e=new u.z("default",u.U.ASC);this.startsWithType=L.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,$e);const Fe=(0,_.z)([this.route.params,this.route.queryParams]).pipe((0,y.T)(([st,Ie])=>Object.assign({},st,Ie)),(0,v.F)((st,Ie)=>st.id===Ie.id&&st.startsWith===Ie.startsWith));this.subs.push((0,_.z)([Fe,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([st,Ie,We,Dt])=>{const kt=st.browseDefinition?st.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=st.id||this.defaultBrowseId,this.startsWith=+st.startsWith||st.startsWith;const ct=(0,B.M0)(st,Ie,We,Dt,this.browseId,this.fetchThumbnails);this.updatePageWithItems(ct,this.value,void 0),this.updateStartsWithOptions(this.browseId,kt,st.scope)}))}updateStartsWithOptions($e,Fe,st){const Ie=this.browseService.getFirstItemFor($e,st,u.U.ASC),We=this.browseService.getFirstItemFor($e,st,u.U.DESC);this.loading$=(0,_.z)([Ie,We]).pipe((0,y.T)(([Dt,kt])=>Dt.isLoading||kt.isLoading)),this.subs.push((0,_.z)([Ie,We]).subscribe(([Dt,kt])=>{let ct=this.getLimit(Dt,Fe,this.appConfig.browseBy.defaultLowerLimit);const Ot=this.getLimit(kt,Fe,(new Date).getUTCFullYear()),ve=[],Be=5*Math.floor((Ot-this.appConfig.browseBy.oneYearLimit)/5),pt=10*Math.floor((Ot-this.appConfig.browseBy.fiveYearLimit)/10);ct-=ct<=pt?10:ct<=Be?5:1;let dn=Ot;for(;dn>ct;)ve.push(dn),dn<=pt?dn-=10:dn<=Be?dn-=5:dn--;(0,t.hj)(ve)&&(this.startsWithOptions=ve,this.cdRef.detectChanges())}))}getLimit($e,Fe,st){if((0,t.a4)($e.payload)){const Ie=$e.payload.firstMetadataValue(Fe);if((0,t.hj)(Ie)&&(0,S.vd)(Ie)){const We=new Date(Ie);return isNaN(We.getUTCFullYear())?st:We.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(Fe){return new(Fe||xe)(f.rXU(U.nX),f.rXU(R.q),f.rXU(w.DSpaceObjectDataService),f.rXU(C.m),f.rXU(U.Ix),f.rXU(O.vQ),f.rXU(T.f),f.rXU(f.gRc),f.rXU(f.Agw))}}static{this.\u0275cmp=f.VBU({type:xe,selectors:[["ds-browse-by-date"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(Fe,st){1&Fe&&f.DNE(0,V,6,6,"section",0),2&Fe&&f.Y8G("ngIf",!st.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,I.v,D.U]})}}return xe})();var J=n(84412),q=n(77516),Q=n(1624);const Y=()=>["/search"],z=xe=>({field:xe,startsWith:"",value:""});function Z(xe,ot){if(1&xe&&(f.j41(0,"h1"),f.EFF(1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.k0s()),2&xe){const $e=f.XpG();f.R7$(),f.SpI(" ",f.i5U(3,3,"browse.title",f.eq3(6,z,f.bMT(2,1,"browse.metadata."+$e.vocabularyName)))," ")}}let oe=(()=>{class xe{constructor($e,Fe){this.route=$e,this.translate=Fe,this.displayTitle=!0,this.scope$=new J.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,y.T)($e=>$e.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe($e=>{this.selectedItems=[],this.facetType=$e.facetType,this.vocabularyName=$e.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.descrption`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect($e){this.selectedItems.push($e),this.filterValues=this.selectedItems.map(Fe=>`${Fe.value},equals`),this.updateQueryParams()}onDeselect($e){this.selectedItems=this.selectedItems.filter(Fe=>Fe.id!==$e.id),this.filterValues=this.filterValues.filter(Fe=>Fe!==`${$e.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach($e=>$e.unsubscribe())}static{this.\u0275fac=function(Fe){return new(Fe||xe)(f.rXU(U.nX),f.rXU(m.c$))}}static{this.\u0275cmp=f.VBU({type:xe,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[f.OA$,f.aNF],decls:7,vars:12,consts:[[4,"ngIf"],[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],[1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(Fe,st){1&Fe&&(f.j41(0,"section"),f.DNE(1,Z,4,8,"h1",0),f.j41(2,"div",1)(3,"ds-vocabulary-treeview",2),f.bIt("select",function(We){return st.onSelect(We)})("deselect",function(We){return st.onDeselect(We)}),f.k0s()(),f.j41(4,"a",3),f.EFF(5),f.nI1(6,"translate"),f.k0s()()),2&Fe&&(f.R7$(),f.Y8G("ngIf",st.displayTitle),f.R7$(2),f.Y8G("description",st.description)("vocabularyOptions",st.vocabularyOptions)("multiSelect",!0)("showAdd",!1),f.R7$(),f.Y8G("routerLink",f.lJ4(11,Y))("queryParams",st.queryParams)("queryParamsHandling","merge"),f.R7$(),f.SpI(" ",f.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[e.bT,m.h,m.D9,q.P,U.Wk]})}}return xe})();const se=xe=>({startsWith:xe}),de=(xe,ot,$e)=>({field:xe,startsWith:ot,value:$e});function te(xe,ot){if(1&xe){const $e=f.RV6();f.j41(0,"ds-browse-by",5),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV($e);const st=f.XpG(2);return f.Njj(st.goPrev())})("next",function(){f.eBV($e);const st=f.XpG(2);return f.Njj(st.goNext())}),f.k0s()}if(2&xe){const $e=f.XpG(2);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,de,f.bMT(1,7,"browse.metadata."+$e.browseId),$e.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,se,'"'+$e.startsWith+'"')):"",$e.value?'"'+$e.value+'"':""))),f.Y8G("displayTitle",$e.displayTitle)("objects$",void 0!==$e.items$?$e.items$:$e.browseEntries$)("paginationConfig",f.bMT(4,15,$e.currentPagination$))("sortConfig",f.bMT(5,17,$e.currentSort$))("type",$e.startsWithType)("startsWithOptions",$e.startsWithOptions)}}function le(xe,ot){1&xe&&(f.nrm(0,"ds-loading",6),f.nI1(1,"translate")),2&xe&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function Ee(xe,ot){if(1&xe&&(f.j41(0,"section",1)(1,"div",2),f.DNE(2,te,6,25,"ds-browse-by",3),f.nI1(3,"async"),f.DNE(4,le,2,3,"ds-loading",4),f.nI1(5,"async"),f.k0s()()),2&xe){const $e=f.XpG();f.R7$(2),f.Y8G("ngIf",!0!==f.bMT(3,2,$e.loading$)),f.R7$(2),f.Y8G("ngIf",f.bMT(5,4,$e.loading$))}}let be=(()=>{class xe extends B.el{ngOnInit(){if(!this.renderOnServerSide&&!M.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,h.of)(!1));const $e=new u.z("dc.title",u.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,$e);const Fe=(0,_.z)([this.route.params,this.route.queryParams]).pipe((0,y.T)(([st,Ie])=>Object.assign({},st,Ie)),(0,v.F)((st,Ie)=>st.id===Ie.id&&st.startsWith===Ie.startsWith));this.subs.push((0,_.z)([Fe,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([st,Ie,We,Dt])=>{this.startsWith=+st.startsWith||st.startsWith,this.browseId=st.id||this.defaultBrowseId,this.updatePageWithItems((0,B.M0)(st,Ie,We,Dt,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let $e;return function(st){return($e||($e=f.xGo(xe)))(st||xe)}})()}static{this.\u0275cmp=f.VBU({type:xe,selectors:[["ds-browse-by-title"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(Fe,st){1&Fe&&f.DNE(0,Ee,6,6,"section",0),2&Fe&&f.Y8G("ngIf",!st.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,I.v,D.U]})}}return xe})();const pe=Q.O.Metadata,re=i.o.Any,De=new Map([[Q.O.Date,new Map([[re,new Map([[l.SS,X]])]])],[Q.O.Metadata,new Map([[re,new Map([[l.SS,B.el]])]])],[Q.O.Hierarchy,new Map([[re,new Map([[l.SS,oe]])]])],[Q.O.Title,new Map([[re,new Map([[l.SS,be]])]])]]);function mt(xe,ot,$e){let Fe=De.get(xe);(0,t.Tn)(Fe)&&(Fe=De.get(pe));let st=Fe.get(ot);(0,t.Tn)(st)&&(st=Fe.get(re));const Ie=(0,l.eW)(st,$e);return(0,t.Tn)(Ie)?st.get(l.SS):Ie}},64611:(N,b,n)=>{"use strict";n.d(b,{BW:()=>_,CC:()=>l,Cb:()=>t,JW:()=>f,WJ:()=>M,_:()=>D,_E:()=>m,dv:()=>y,gH:()=>h,gj:()=>v});var i=n(45663);const t="parent",l="collections";function e(){return`/${l}`}function f(T){return new i.t(e(),T).toString()}function m(T){return new i.t(e(),T,D).toString()}function h(){return new i.t(e(),v).toString()}function _(T){return new i.t(f(T),D,O).toString()}function y(T){return new i.t(f(T),M).toString()}const v="create",D="edit",O="roles",M="itemtemplate"},11596:(N,b,n)=>{"use strict";n.d(b,{H:()=>l,x:()=>t});const t={SAVE:(0,n(91e3).N)("dspace/community-list-page/SAVE")};class l{constructor(f,m){this.type=t.SAVE,this.payload={expandedNodes:f,loadingNode:m}}}},54671:(N,b,n)=>{"use strict";n.d(b,{D6:()=>v,EU:()=>y,b2:()=>e,c5:()=>m,f2:()=>l,lG:()=>_,pk:()=>h,zQ:()=>D});var i=n(64611),t=n(45663);const l="parent",e="communities";function f(){return`/${e}`}function m(M){return new t.t(f(),M).toString()}function h(M){return new t.t(f(),M,D).toString()}function _(){return new t.t(f(),v).toString()}function y(M){return new t.t((0,i.JW)(M),D,O).toString()}const v="create",D="edit",O="roles"},13820:(N,b,n)=>{"use strict";n.d(b,{H:()=>D});var i=n(5964),t=n(96354),l=n(23294),e=n(96697),f=n(25558),m=n(88141),h=n(82777),_=n(43052),y=n(80183),v=n(45663);class D{constructor(M,T,R){this.halService=M,this.requestService=T,this.rdbService=R,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(M,...T){return this.rdbService.buildFromRequestUUID(M,...T).pipe((0,y.qD)())}getEndpointByMethod(M,T,...R){let u=(0,h.hj)(T)?`${M}/${T}`:`${M}`;return R?.length>0&&R.forEach((w,C)=>{u+=(0===C?"?":"&")+`embed=${w.name}`}),u}postToEndpoint(M,T,R){const u=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(C=>(0,h.hj)(C)),(0,t.T)(C=>this.getEndpointByMethod(C,M)),(0,l.F)(),(0,t.T)(C=>new _.Qf(u,C,T,R)),(0,e.s)(1)).subscribe(C=>{this.requestService.send(C)}),w.pipe((0,f.n)(()=>this.fetchRequest(u)))}getRequest(M,T,...R){const u=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(C=>(0,h.hj)(C)),(0,t.T)(C=>this.getEndpointByMethod(C,M,...R)),(0,l.F)(),(0,t.T)(C=>new _.IP(u,C,void 0,T)),(0,e.s)(1)).subscribe(C=>{this.requestService.send(C)}),w.pipe((0,f.n)(()=>this.fetchRequest(u,...R)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(M=>(0,h.hj)(M)),(0,l.F)(),(0,t.T)(M=>new v.t(M,this.shortlivedtokensEndpoint).toString()),(0,f.n)(M=>this.createShortLivedTokenRequest(M)),(0,m.M)(M=>this.requestService.send(M)),(0,f.n)(M=>this.rdbService.buildFromRequestUUID(M.uuid)),(0,y.qD)(),(0,t.T)(M=>M.hasSucceeded?M.payload.value:null))}}},59836:(N,b,n)=>{"use strict";n.d(b,{$K:()=>S,$X:()=>j,D9:()=>f,FD:()=>H,G2:()=>T,HQ:()=>h,IO:()=>C,IV:()=>m,JT:()=>X,K0:()=>V,S3:()=>y,Sn:()=>l,VU:()=>M,Wu:()=>u,YO:()=>G,Yk:()=>t,cU:()=>J,dj:()=>w,du:()=>O,e0:()=>v,eh:()=>B,es:()=>q,j3:()=>U,kZ:()=>I,ks:()=>e,mg:()=>D,nB:()=>L,qY:()=>W,sy:()=>_,v1:()=>Q});var i=n(91e3);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class l{constructor(z,Z){this.type=t.AUTHENTICATE,this.payload={email:z,password:Z}}}class e{constructor(z){this.type=t.AUTHENTICATED,this.payload=z}}class f{constructor(z,Z,oe){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:z,authToken:Z,userHref:oe}}}class m{constructor(z){this.type=t.AUTHENTICATED_ERROR,this.payload=z}}class h{constructor(z){this.type=t.AUTHENTICATE_ERROR,this.payload=z}}class _{constructor(z){this.type=t.AUTHENTICATE_SUCCESS,this.payload=z}}class y{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class v{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class D{constructor(z){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=z}}class O{constructor(z){this.payload=z,this.type=t.LOG_OUT}}class M{constructor(z){this.type=t.LOG_OUT_ERROR,this.payload=z}}class T{constructor(z){this.payload=z,this.type=t.LOG_OUT_SUCCESS}}class u{constructor(z){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=z}}class w{constructor(z){this.type=t.REFRESH_TOKEN,this.payload=z}}class C{constructor(z){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=z}}class S{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class I{constructor(){this.type=t.RETRIEVE_TOKEN}}class L{constructor(z){this.type=t.ADD_MESSAGE,this.payload=z}}class B{constructor(){this.type=t.RESET_MESSAGES}}class U{constructor(z){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=z}}class W{constructor(z){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=z}}class j{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class G{constructor(z){this.type=t.SET_REDIRECT_URL,this.payload=z}}class H{constructor(z){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=z}}class V{constructor(z){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=z}}class X{constructor(z){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=z}}class J{constructor(z){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=z}}class q{constructor(){this.type=t.SET_USER_AS_IDLE}}class Q{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},67116:(N,b,n)=>{"use strict";n.d(b,{Ru:()=>Q,S0:()=>q,kL:()=>Y,of:()=>z,uR:()=>Z});var i=n(21626),t=n(25499),l=n(7673),e=n(5964),f=n(99172),m=n(96354),h=n(25558),_=n(96697),y=n(88280),v=n(59540),D=n(82777),O=n(39806),M=n(43404),T=n(67600),R=n(96820),u=n(74449),w=n(93130),C=n(56760),S=n(1676),I=n(80183),L=n(32089),B=n(59836),U=n(13820),W=n(40667),j=n(10034),G=n(38169),H=n(54438),V=n(7901),X=n(59752),J=n(41780);const q="/login",Q="/logout",Y="dsRedirectUrl",z="dsImpersonatingEPerson";let Z=(()=>{class oe{constructor(de,te,le,Ee,be,pe,re,ye,De,nt,mt,xe){this.req=de,this._window=te,this.response=le,this.authRequestService=Ee,this.epersonService=be,this.router=pe,this.routeService=re,this.storage=ye,this.store=De,this.hardRedirectService=nt,this.notificationService=mt,this.translateService=xe,this.store.pipe((0,e.p)(ot=>void 0!==ot?.core?.auth),(0,t.Lt)(G.wR),(0,f.Z)(!1)).subscribe(ot=>this._authenticated=ot)}authenticate(de,te){const le=`password=${encodeURIComponent(te)}&user=${encodeURIComponent(de)}`,Ee=Object.create({});let be=new i.Lr;return be=be.append("Content-Type","application/x-www-form-urlencoded"),Ee.headers=be,this.authRequestService.postToEndpoint("login",le,Ee).pipe((0,m.T)(pe=>{if((0,D.a4)(pe.payload)&&pe.payload.authenticated)return pe.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const de=Object.create({});let te=new i.Lr;return te=te.append("Accept","application/json"),de.headers=te,de.withCredentials=!0,this.authRequestService.getRequest("status",de).pipe((0,m.T)(le=>Object.assign(new W.T,le.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(G.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(G.TR))}setExternalAuthStatus(de){this.store.dispatch(new B.mg(de))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(G.qD))}authenticatedUser(de){const te=Object.create({});let le=new i.Lr;return le=le.append("Accept","application/json"),le=le.append("Authorization",`Bearer ${de.accessToken}`),te.headers=le,this.authRequestService.getRequest("status",te).pipe((0,m.T)(Ee=>{const be=Ee.payload;if((0,D.a4)(be)&&be.authenticated)return be._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(de){return this.epersonService.findByHref(de).pipe((0,I.Hz)())}retrieveAuthenticatedUserById(de){return this.epersonService.findById(de).pipe((0,I.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(G.At),(0,D.Az)(),(0,h.n)(de=>this.epersonService.findById(de)),(0,I.Hz)())}checkAuthenticationToken(){this.store.dispatch(new B.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,T.s)("specialGroups")).pipe((0,I.qD)(),(0,h.n)(de=>de.hasSucceeded?de.payload.specialGroups:(0,M.CX)((0,R.g)(new L.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(G.Y5),(0,_.s)(1),(0,m.T)(de=>{const te=(0,D.hj)(de)?de:this.storage.get(j.R);if((0,D.hj)(te)&&te.hasOwnProperty("accessToken")&&(0,D.hj)(te.accessToken)&&!this.isTokenExpired(te))return te;throw!1}))}refreshAuthenticationToken(de){const te=Object.create({});let le=new i.Lr;return le=le.append("Accept","application/json"),de&&de.accessToken&&(le=le.append("Authorization",`Bearer ${de.accessToken}`)),te.headers=le,te.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},te).pipe((0,m.T)(Ee=>{const be=Ee.payload;if((0,D.a4)(be)&&be.authenticated)return be.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new B.eh)}retrieveAuthMethodsFromAuthStatus(de){let te=[];return(0,D.hj)(de.authMethods)&&(te=de.authMethods),(0,l.of)(te)}logout(){let de=new i.Lr;return de=de.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:de,responseType:"text"})).pipe((0,m.T)(le=>{const Ee=le.payload;if((0,D.a4)(Ee)&&!Ee.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(de){return(0,D.Im)(de)&&(de=this.getToken()),this._authenticated&&(0,D.Pe)(de)?`Bearer ${de.accessToken}`:""}getToken(){let de;return this.store.pipe((0,_.s)(1),(0,t.Lt)(G.Y5)).subscribe(te=>{de=te||null}),de}trackTokenExpiration(){let de,te=!1;this.store.pipe((0,t.Lt)(G.Y5)).subscribe(le=>{if(te&&void 0!==de&&void 0===le&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),te=!1),te&&void 0!==le&&de.expires!==le.expires&&(te=!1),!te&&(de=le||null,null!=de)){let Ee=de.expires-(new Date).getTime()-y.c.auth.rest.timeLeftBeforeTokenRefresh;Ee<0&&(Ee=0),(0,D.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new B.dj(de)),te=!0},Ee)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(G.Pc),(0,_.s)(1),(0,m.T)(de=>!this.isTokenExpired()&&!de&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(de){return(de=de||this.getToken())&&de.expires<Date.now()}storeToken(de){const te=Date.now()+864e5,Ee={expires:new Date(te)};return this.storage.set(j.R,de,Ee)}removeToken(){return this.storage.remove(j.R)}replaceToken(de){return this.removeToken(),this.storeToken(de)}redirectToLogin(){this.router.navigate([q])}redirectToLoginWhenTokenExpired(){const de=q+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=de:this.response?this.response._headerSent||this.response.redirect(302,de):this.router.navigateByUrl(de)}navigateToRedirectUrl(de){if(!(0,D.a4)(de)||!de.includes("reload/")){let te=`reload/${(new Date).getTime()}`;(0,D.hj)(de)&&!de.startsWith(q)&&(te+=`?redirect=${encodeURIComponent(de)}`),this.hardRedirectService.redirect(te)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(G.M3),(0,m.T)(de=>(0,D.a4)(de)?de:this.storage.get(Y)))}setRedirectUrl(de){const te=Date.now()+36e5,Ee={expires:new Date(te)};this.storage.set(Y,de,Ee),this.store.dispatch(new B.YO((0,D.EA)(de)?de:""))}setRedirectUrlIfNotSet(de){this.getRedirectUrl().pipe((0,_.s)(1)).subscribe(te=>{(0,D.Tn)(te)&&this.setRedirectUrl(de)})}clearRedirectUrl(){this.store.dispatch(new B.YO(void 0)),this.storage.remove(Y)}impersonate(de){this.storage.set(z,de),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(z)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(z)}isImpersonating(){return(0,D.a4)(this.getImpersonateID())}isImpersonatingUser(de){return this.getImpersonateID()===de}getShortlivedToken(){return this.isAuthenticated().pipe((0,h.n)(de=>de?this.authRequestService.getShortlivedToken():(0,l.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(G.xB))}setIdle(de){this.store.dispatch(de?new B.es:new B.v1)}static{this.\u0275fac=function(te){return new(te||oe)(H.KVO(v.S),H.KVO(S.lc),H.KVO(v.C,8),H.KVO(U.H),H.KVO(u.EPersonDataService),H.KVO(V.Ix),H.KVO(C.v$),H.KVO(w.O),H.KVO(t.il),H.KVO(X.$),H.KVO(O.I),H.KVO(J.c$))}}static{this.\u0275prov=H.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},49347:(N,b,n)=>{"use strict";n.d(b,{t:()=>y});var i=n(54438),t=n(7901),l=n(25499),e=n(47677),f=n(25558),m=n(96354),h=n(67116),_=n(38169);const y=(D,O,M=(0,i.WQX)(h.uR),T=(0,i.WQX)(t.Ix),R=(0,i.WQX)(l.il))=>{const u=O.url;return R.pipe((0,l.Lt)(_.VV)).pipe((0,e.I)(w=>!1===w),(0,f.n)(()=>R.pipe((0,l.Lt)(_.wR))),(0,m.T)(w=>w||(M.setRedirectUrl(u),M.removeToken(),T.createUrlTree([h.S0]))))}},40667:(N,b,n)=>{"use strict";n.d(b,{T:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(58235),h=n(36074),_=n(42547),y=n(98688);const v=new _.v("status");var D=n(10034);let O=class{static{this.type=v}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([y.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],O.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],O.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",l.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(h.U,!0),(0,i.Sn)("design:type",l.c)],O.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",D.S)],O.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],O.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],O.prototype,"authMethods",void 0),O=(0,i.Cg)([e.gV],O)},10034:(N,b,n)=>{"use strict";function i(y){this.message=y}n.d(b,{S:()=>_,R:()=>h}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(y){var v=String(y).replace(/=+$/,"");if(v.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var D,O,M=0,T=0,R="";O=v.charAt(T++);~O&&(D=M%4?64*D+O:O,M++%4)?R+=String.fromCharCode(255&D>>(-2*M&6)):0)O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(O);return R};function e(y){this.message=y}(e.prototype=new Error).name="InvalidTokenError";const h="dsAuthInfo";class _{constructor(v){this.accessToken=v.replace("Bearer ","");try{const D=function f(y,v){if("string"!=typeof y)throw new e("Invalid token specified");var D=!0===(v=v||{}).header?0:1;try{return JSON.parse(function l(y){var v=y.replace(/-/g,"+").replace(/_/g,"/");switch(v.length%4){case 0:break;case 2:v+="==";break;case 3:v+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(v).replace(/(.)/g,function(O,M){var T=M.charCodeAt(0).toString(16).toUpperCase();return T.length<2&&(T="0"+T),"%"+T}))}catch{return t(v)}}(y.split(".")[D]))}catch(O){throw new e("Invalid token specified: "+O.message)}}(this.accessToken);this.expires=1e3*D.exp}catch{this.expires=0}}}},2044:(N,b,n)=>{"use strict";n.d(b,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t}(i||{})},52027:(N,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(2044);class t{constructor(e,f,m){switch(this.position=f,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m}}}},38169:(N,b,n)=>{"use strict";n.d(b,{At:()=>I,F8:()=>J,Gv:()=>H,H8:()=>L,M3:()=>Q,Pc:()=>V,TR:()=>W,VV:()=>G,Y5:()=>X,dx:()=>B,hx:()=>S,qD:()=>j,wR:()=>U,xB:()=>Y});var i=n(25499),t=n(47797);const l=(0,i.Mz)(t.N,z=>z.auth),S=(0,i.Mz)(l,z=>z.authMethods),I=(0,i.Mz)(l,z=>z.userId),L=(0,i.Mz)(l,z=>z.error),B=(0,i.Mz)(l,z=>z.info),U=(0,i.Mz)(l,z=>z.authenticated),W=(0,i.Mz)(l,z=>z.loaded),j=(0,i.Mz)(l,z=>z.externalAuth),G=(0,i.Mz)(l,z=>z.loading),H=(0,i.Mz)(l,z=>z.blocking),V=(0,i.Mz)(l,z=>z.refreshing),X=(0,i.Mz)(l,z=>z.authToken),J=(0,i.Mz)(l,z=>z.error),Q=((0,i.Mz)(l,z=>z.error),(0,i.Mz)(l,z=>z.redirectUrl)),Y=(0,i.Mz)(l,z=>z.idle)},96526:(N,b,n)=>{"use strict";n.d(b,{f:()=>f});var i=n(82777),t=n(39552),l=n(54438),e=n(41780);let f=(()=>{class m{constructor(_){this.translateService=_,this.factories={EPerson:y=>{const v=y.firstMetadataValue("eperson.firstname"),D=y.firstMetadataValue("eperson.lastname");return(0,i.Im)(v)&&(0,i.Im)(D)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(v)||(0,i.Im)(D)?v||D:`${v} ${D}`},Person:y=>{const v=y.firstMetadataValue("person.familyName"),D=y.firstMetadataValue("person.givenName");return(0,i.Im)(v)&&(0,i.Im)(D)?y.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(v)||(0,i.Im)(D)?v||D:`${v}, ${D}`},OrgUnit:y=>y.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:y=>y.firstMetadataValue("dc.title")||y.name||this.translateService.instant("dso.name.untitled")}}getName(_){if(_){const v=_.getRenderTypes().filter(O=>"string"==typeof O).find(O=>Object.keys(this.factories).includes(O));let D;return(0,i.a4)(v)&&(D=this.factories[v](_)),(0,i.Im)(D)&&(D=this.factories.Default(_)),D}return""}getHitHighlights(_,y){const D=y.getRenderTypes().filter(O=>"string"==typeof O).find(O=>["Person","OrgUnit"].includes(O));if("Person"===D){const O=this.firstMetadataValue(_,y,"person.familyName"),M=this.firstMetadataValue(_,y,"person.givenName");return(0,i.Im)(O)&&(0,i.Im)(M)?this.firstMetadataValue(_,y,"dc.title")||y.name:(0,i.Im)(O)||(0,i.Im)(M)?O||M:`${O}, ${M}`}return"OrgUnit"===D?this.firstMetadataValue(_,y,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(_,y,"dc.title")||y.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(_,y,v){return t.O.firstValue([_.hitHighlights,y.metadata],v)}static{this.\u0275fac=function(y){return new(y||m)(l.KVO(e.c$))}}static{this.\u0275prov=l.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},42673:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseDefinitionDataService:()=>u,createAndSendBrowseDefinitionGetRequest:()=>T});var i=n(7673),t=n(96697),l=n(82777),e=n(72734),f=n(53954),m=n(41684),h=n(46787),_=n(63897),y=n(35108),v=n(43052),D=n(32473),O=n(4910),M=n(54438);const T=(w,C,S,I=!0)=>{(0,l.hj)(S)&&("string"==typeof S&&(S=(0,i.of)(S)),S.pipe((0,l.VT)(),(0,t.s)(1)).subscribe(L=>{const B=w.generateRequestId(),U=new v.FQ(B,L);(0,l.a4)(C)&&(U.responseMsToLive=C),w.send(U,I)}))};class R extends h.H{createAndSendGetRequest(C,S=!0){T(this.requestService,this.responseMsToLive,C,S)}}let u=(()=>{class w extends _.W{constructor(S,I,L,B){super("browses",S,I,L,B),this.requestService=S,this.rdbService=I,this.objectCache=L,this.halService=B,this.searchData=new y.X(this.linkPath,S,I,L,B,this.responseMsToLive),this.findAllData=new R(this.linkPath,S,I,L,B,this.responseMsToLive)}findAll(S={},I=!0,L=!0,...B){return this.findAllData.findAll(S,I,L,...B)}searchBy(S,I,L,B,...U){return this.searchData.searchBy(S,I,L,B,...U)}getSearchByHref(S,I,...L){return this.searchData.getSearchByHref(S,I,...L)}findByFields(S,I=!0,L=!0,...B){const U=[];U.push(new f.x("fields",S));const W=this.getSearchByHref("byFields",{searchParams:U},...B);return this.findByHref(W,I,L,...B)}createAndSendGetRequest(S,I=!0){T(this.requestService,this.responseMsToLive,S,I)}static{this.\u0275fac=function(I){return new(I||w)(M.KVO(D.B),M.KVO(e.o),M.KVO(m.$),M.KVO(O.Y))}}static{this.\u0275prov=M.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},37864:(N,b,n)=>{"use strict";n.d(b,{q:()=>R});var i=n(96354),t=n(99172),l=n(23294),e=n(88280),f=n(82777),m=n(67600),h=n(70413),_=n(32473),y=n(4910),v=n(80183),D=n(45663),O=n(42673),M=n(54438);function T(){const u=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&u.push((0,m.s)("accessStatus")),u}let R=(()=>{class u{static toSearchKeyArray(C){const S=C.split("."),I=[];I.push("*");for(let L=0;L<S.length-1;L++){const U=[...S.slice(0,L+1),"*"].join(".");I.push(U)}return I.push(C),I}constructor(C,S,I,L){this.requestService=C,this.halService=S,this.browseDefinitionDataService=I,this.hrefOnlyDataService=L,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,v.yd)())}getBrowseEntriesFor(C){const S=this.getBrowseDefinitions().pipe((0,v.Jq)(C.metadataDefinition),(0,f.Az)(),(0,i.T)(I=>I.entries.href||I.entries),(0,f.Az)(),(0,i.T)(I=>{const L=[];return(0,f.hj)(C.scope)&&L.push(`scope=${C.scope}`),(0,f.hj)(C.sort)&&L.push(`sort=${C.sort.field},${C.sort.direction}`),(0,f.hj)(C.pagination)&&(L.push("page="+(C.pagination.currentPage-1)),L.push(`size=${C.pagination.pageSize}`)),(0,f.hj)(C.startsWith)&&L.push(`startsWith=${C.startsWith}`),(0,f.hj)(L)&&(I=new D.t(I,`?${L.join("&")}`).toString()),I}));return C.fetchThumbnail?this.hrefOnlyDataService.findListByHref(S,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(S)}getBrowseItemsFor(C,S,I){const L=this.getBrowseDefinitions().pipe((0,v.Jq)(I.metadataDefinition),(0,f.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,f.Az)(),(0,i.T)(B=>{const U=[];return(0,f.hj)(I.scope)&&U.push(`scope=${I.scope}`),(0,f.hj)(I.sort)&&U.push(`sort=${I.sort.field},${I.sort.direction}`),(0,f.hj)(I.pagination)&&(U.push("page="+(I.pagination.currentPage-1)),U.push(`size=${I.pagination.pageSize}`)),(0,f.hj)(I.startsWith)&&U.push(`startsWith=${I.startsWith}`),(0,f.hj)(C)&&U.push(`filterValue=${encodeURIComponent(C)}`),(0,f.hj)(S)&&U.push(`filterAuthority=${encodeURIComponent(S)}`),(0,f.hj)(U)&&(B=new D.t(B,`?${U.join("&")}`).toString()),B}));return I.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(L)}getFirstItemFor(C,S,I){const L=this.getBrowseDefinitions().pipe((0,v.Jq)(C),(0,f.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,f.Az)(),(0,i.T)(B=>{const U=[];return(0,f.a4)(S)&&U.push(`scope=${S}`),U.push("page=0"),U.push("size=1"),I&&U.push("sort=default,"+I),(0,f.hj)(U)&&(B=new D.t(B,`?${U.join("&")}`).toString()),B}));return this.hrefOnlyDataService.findListByHref(L).pipe((0,v.yd)(),(0,v.GD)())}getPrevBrowseItems(C){return this.hrefOnlyDataService.findListByHref(C.payload.prev)}getNextBrowseItems(C){return this.hrefOnlyDataService.findListByHref(C.payload.next)}getPrevBrowseEntries(C){return this.hrefOnlyDataService.findListByHref(C.payload.prev)}getNextBrowseEntries(C){return this.hrefOnlyDataService.findListByHref(C.payload.next)}getBrowseURLFor(C,S){const I=u.toSearchKeyArray(C);return this.getBrowseDefinitions().pipe((0,v.Bo)(),(0,v.W8)(),(0,i.T)(L=>L.find(B=>{let U="";return Array.isArray(B.metadataKeys)&&(U=B.metadataKeys.find(W=>I.indexOf(W)>=0)),(0,f.hj)(U)})),(0,i.T)(L=>{if((0,f.Im)(L)||(0,f.Im)(L._links)||(0,f.Im)(L._links[S]))throw new Error(`A browse endpoint for ${S} on ${C} isn't configured`);return L._links[S]||L._links[S].href}),(0,t.Z)(void 0),(0,l.F)())}static{this.\u0275fac=function(S){return new(S||u)(M.KVO(_.B),M.KVO(y.Y),M.KVO(O.BrowseDefinitionDataService),M.KVO(h.HrefOnlyDataService))}}static{this.\u0275prov=M.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},21921:(N,b,n)=>{"use strict";n.d(b,{FR:()=>m,Qt:()=>M,gV:()=>O,nf:()=>w,o8:()=>I,qP:()=>f});var i=n(54438),t=n(82777),l=n(87891);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>R});const f=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>S}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>C}),y=(Symbol("resolvedLink"),new Map),v=new Map,D=new Map;function O(L){y.set(L.type.value,L)}function M(L){return y.get((0,l.zA)(L))}function R(L){return v.get(L.value)}const w=(L,B=!1,U)=>(W,j)=>{let G=D.get(W.constructor);(0,t.Tn)(G)&&(G=new Map),(0,t.Tn)(U)&&(U=j),G.set(U,{resourceType:L,isList:B,linkName:U,propertyName:j}),D.set(W.constructor,G)},C=L=>D.get(L),S=(L,B)=>{const U=D.get(L);if((0,t.a4)(U))return U.get(B)};function I(L){return B=>{const U=D.get(L)||new Map,W=D.get(B)||new Map;U.forEach((j,G)=>{W.has(G)||W.set(G,j)}),D.set(B,W)}}},1321:(N,b,n)=>{"use strict";n.d(b,{_:()=>y});var i=n(983),t=n(25558),l=n(99437),e=n(82640),f=n(82777),m=n(4047),h=n(21921),_=n(54438);let y=(()=>{class v{constructor(O,M,T,R){this.injector=O,this.map=M,this.getLinkDefinition=T,this.getLinkDefinitions=R}resolveLinks(O,...M){return M.forEach(T=>{this.resolveLink(O,T)}),O}resolveLinkWithoutAttaching(O,M){const T=this.getLinkDefinition(O.constructor,M.name);if((0,f.a4)(T))return(0,m.M)(this.map,T.resourceType.value,this.injector).pipe((0,t.n)(u=>{const w=O._links[T.linkName];if((0,f.a4)(w)){const C=w.href;try{return T.isList?u.findListByHref(C,M.findListOptions,M.useCachedVersionIfAvailable,M.reRequestOnStale,...M.linksToFollow):u.findByHref(C,M.useCachedVersionIfAvailable,M.reRequestOnStale,...M.linksToFollow)}catch(S){throw console.error(`Something went wrong when using ${T.resourceType.value}) ${(0,f.a4)(u)?"":"(undefined) "}to resolve link ${String(M.name)} at ${C}`),S}}return i.w}),(0,l.W)(u=>{throw new Error(`The @link() for ${String(M.name)} on ${O.constructor.name} models uses the resource type ${T.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${T.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!M.isOptional)throw new Error(`followLink('${String(M.name)}') was used as a required link for a ${O.constructor.name}, but there is no property on ${O.constructor.name} models with an @link() for ${String(M.name)}`);return i.w}resolveLink(O,M){return O[M.name]=this.resolveLinkWithoutAttaching(O,M),O}removeResolvedLinks(O){const M=Object.assign(new O.constructor,O),T=this.getLinkDefinitions(O.constructor);return(0,f.hj)(T)&&T.forEach(R=>{M[R.propertyName]=void 0}),M}static{this.\u0275fac=function(M){return new(M||v)(_.KVO(_.zZn),_.KVO(e.l9),_.KVO(h.qP),_.KVO(h.FR))}}static{this.\u0275prov=_.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},72734:(N,b,n)=>{"use strict";n.d(b,{o:()=>G});var i=n(7673),t=n(84572),l=n(77876),e=n(25558),f=n(96354),m=n(99172),h=n(5964),_=n(23294),v=n(82777),D=n(43404),O=n(67600),M=n(96820),T=n(74346),R=n(1716),u=n(32473),w=n(7434),C=n(69227),S=n(80183),I=n(91098),L=n(87891),B=n(41684),U=n(21921),W=n(1321),j=n(54438);let G=(()=>{class H{constructor(X,J,q){this.objectCache=X,this.linkService=J,this.requestService=q}buildPayload(X,J,...q){return(0,v.Tn)(J)&&(J=(0,i.of)(void 0)),(0,t.z)([J,X]).pipe((0,e.n)(([Q,Y])=>{const z=this.hasExactMatchInObjectCache(Q,Y);return(0,v.a4)(Y.response)&&(z||this.isCacheablePayload(Y)||this.isUnCacheablePayload(Y))?z?this.objectCache.getObjectByHref(Q):this.isCacheablePayload(Y)?this.objectCache.getObjectByHref(Y.response.payloadLink.href):[this.plainObjectToInstance(Y.response.unCacheableObject)]:(0,w.yO)(Y.state)?[null]:[void 0]}),(0,e.n)(Q=>{if((0,v.a4)(Q)){if((0,L.zA)(Q.type)===T.v.value)return this.buildPaginatedList(Q,...q);if((0,v.hj)(q))return[this.linkService.resolveLinks(Q,...q)]}return[Q]}))}plainObjectToInstance(X){const J=(0,U.Qt)(X.type);return Object.assign("function"==typeof J?new J:{},X)}hasExactMatchInObjectCache(X,J){return(0,v.a4)(J)&&(0,v.a4)(J.request)&&(0,v.hj)(J.request.uuid)&&(0,v.a4)(X)&&this.objectCache.hasByHref(X,J.request.uuid)}isCacheablePayload(X){return(0,v.a4)(X.response.payloadLink)&&(0,v.hj)(X.response.payloadLink.href)}isUnCacheablePayload(X){return(0,v.a4)(X.response.unCacheableObject)}buildPaginatedList(X,...J){const q=J.find(z=>"page"===z.name),Q=J.filter(z=>"page"!==z.name),Y=Object.assign(new M.O,X);if((0,v.a4)(q)){if((0,v.Im)(Y.page)){const z=Y._links.page.map(Z=>Z.href);return this.objectCache.getList(z).pipe((0,f.T)(Z=>(Y.page=Z.map(oe=>this.plainObjectToInstance(oe)).map(oe=>this.linkService.resolveLinks(oe,...q.linksToFollow)),(0,v.hj)(Q)?this.linkService.resolveLinks(Y,...Q):Y)))}if(Y.page=Y.page.filter(z=>null!=z).map(z=>this.plainObjectToInstance(z)).map(z=>this.linkService.resolveLinks(z,...q.linksToFollow)),(0,v.hj)(Q))return(0,i.of)(this.linkService.resolveLinks(Y,...Q))}return(0,i.of)(Y)}buildFromRequestUUID(X,...J){"string"==typeof X&&(X=(0,i.of)(X));const q=X.pipe((0,I.m9)(this.requestService)),Q=this.buildPayload(q,void 0,...J);return this.toRemoteDataObservable(q,Q)}buildFromRequestUUIDAndAwait(X,J,...q){const Q=this.buildFromRequestUUID(X,...q),Y=new l.h;return Q.pipe((0,S.qD)(),(0,e.n)(z=>z.hasSucceeded?J(z):[!0])).subscribe(()=>{Y.next(!0),Y.complete()}),Q.pipe((0,e.n)(z=>z.hasSucceeded?Y.pipe((0,f.T)(()=>z)):[z]))}buildFromHref(X,...J){"string"==typeof X&&(X=(0,i.of)(X));const q=(X=X.pipe((0,f.T)(z=>(0,C.tJ)(z)))).pipe((0,e.n)(z=>this.objectCache.getRequestUUIDBySelfLink(z))),Q=(0,t.z)([X.pipe((0,I.Ky)(this.requestService),(0,m.Z)(void 0)),q.pipe((0,I.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,h.p)(([z,Z])=>(0,v.a4)(z)||(0,v.a4)(Z)),(0,f.T)(([z,Z])=>(0,v.Tn)(Z)?z:(0,v.Tn)(z)?Z:(0,w.QO)(z.state)&&(0,w.QO)(Z.state)||!(0,w.QO)(z.state)&&!(0,w.QO)(Z.state)?z.lastUpdated>=Z.lastUpdated?z:Z:(0,w.QO)(Z.state)?z:Z)),Y=this.buildPayload(Q,X,...J);return this.toRemoteDataObservable(Q,Y).pipe(function y(H,V){return(0,_.F)((X,J)=>V?V(X[H],J[H]):X[H]===J[H])}("lastUpdated"))}buildSingle(X,...J){return this.buildFromHref(X,...J)}toRemoteDataObservable(X,J){return(0,t.z)([X,J]).pipe((0,h.p)(([q,Q])=>(0,v.a4)(q)&&!((0,w.yO)(q.state)&&(0,v.b0)(Q))),(0,f.T)(([q,Q])=>{let Y=q.response;return(0,v.Tn)(Y)&&(Y={}),new R.j(Y.timeCompleted,q.request.responseMsToLive,q.lastUpdated,q.state,Y.errorMessage,Q,Y.statusCode)}))}buildList(X,...J){return this.buildFromHref(X,(0,O.s)("page",{shouldEmbed:!1},...J))}aggregate(X){return(0,v.Im)(X)?(0,D.CX)([],(new Date).getTime()):(0,t.z)(X).pipe((0,f.T)(J=>{const q=J.map(te=>te.timeCompleted).reduce((te,le)=>le>te?le:te),Q=J.map(te=>te.msToLive).reduce((te,le)=>le<te?le:te),Y=J.map(te=>te.lastUpdated).reduce((te,le)=>le>te?le:te);let z;z=J.some(te=>te.isRequestPending)?w.zE.RequestPending:J.some(te=>te.isResponsePending)?w.zE.ResponsePending:J.some(te=>te.isErrorStale)?w.zE.ErrorStale:J.some(te=>te.isError)?w.zE.Error:J.some(te=>te.isSuccessStale)?w.zE.SuccessStale:w.zE.Success;const Z=J.map(te=>te.errorMessage).map((te,le)=>{if((0,v.a4)(te))return`[${le}]: ${te}`}).filter(te=>(0,v.a4)(te)).join(", "),oe=new Set(J.map(te=>te.statusCode));let se;1===oe.size?se=oe.values().next().value:oe.size>1&&(se=207);const de=J.map(te=>te.payload);return new R.j(q,Q,Y,z,Z,de,se)}))}static{this.\u0275fac=function(J){return new(J||H)(j.KVO(B.$),j.KVO(W._),j.KVO(u.B))}}static{this.\u0275prov=j.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},56970:(N,b,n)=>{"use strict";n.d(b,{I:()=>t});class i{}class t extends i{}},24547:(N,b,n)=>{"use strict";n.d(b,{a:()=>t});var i=n(82777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},53954:(N,b,n)=>{"use strict";n.d(b,{x:()=>i});class i{constructor(l,e,f=!0){this.fieldName=l,this.fieldValue=e,this.encodeValue=f,f&&(this.fieldValue=encodeURIComponent(e))}}},6238:(N,b,n)=>{"use strict";n.d(b,{U:()=>i,z:()=>t});var i=function(l){return l.ASC="ASC",l.DESC="DESC",l}(i||{});class t{constructor(e,f){this.field=e,this.direction=f}}},98372:(N,b,n)=>{"use strict";n.d(b,{Bc:()=>_,YA:()=>l,Yp:()=>f,dL:()=>m,db:()=>t,gL:()=>h,ok:()=>y,sI:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class l{constructor(D,O,M,T,R){this.type=t.ADD,this.payload={objectToCache:D,timeCompleted:O,msToLive:M,requestUUID:T,alternativeLink:R}}}class e{constructor(D){this.type=t.REMOVE,this.payload=D}}class f{constructor(D){this.type=t.RESET_TIMESTAMPS,this.payload=D}}class m{constructor(D,O){this.type=t.ADD_PATCH,this.payload={href:D,operations:O}}}class h{constructor(D){this.type=t.APPLY_PATCH,this.payload=D}}class _{constructor(D,O){this.type=t.ADD_DEPENDENTS,this.payload={href:D,dependentRequestUUIDs:O}}}class y{constructor(D){this.type=t.REMOVE_DEPENDENTS,this.payload=D}}},87891:(N,b,n)=>{"use strict";n.d(b,{gT:()=>h,zA:()=>e});var i=n(93583),t=n(82777),l=n(98372);const e=R=>{if((0,t.a4)(R)){if("string"==typeof R)return R;if("string"==typeof R.value)return R.value}},m=Object.create(null);function h(R=m,u){switch(u.type){case l.db.ADD:return function _(R,u){const w=(0,t.a4)(u.payload.objectToCache?._links?.self)?u.payload.objectToCache._links.self.href:u.payload.alternativeLink,C=R[w]||{},S=(0,t.a4)(u.payload.alternativeLink)?[u.payload.alternativeLink]:[];return(0,t.a4)(w)?Object.assign({},R,{[w]:{data:u.payload.objectToCache,timeCompleted:u.payload.timeCompleted,msToLive:u.payload.msToLive,requestUUIDs:[u.payload.requestUUID,...C.requestUUIDs||[]],dependentRequestUUIDs:C.dependentRequestUUIDs||[],isDirty:(0,t.hj)(C.patches),patches:C.patches||[],alternativeLinks:[...C.alternativeLinks||[],...S]}}):R}(R,u);case l.db.REMOVE:return function y(R,u){if((0,t.a4)(R[u.payload])){const w=Object.assign({},R);return delete w[u.payload],w}return R}(R,u);case l.db.RESET_TIMESTAMPS:return function v(R,u){const w=Object.create(null);return Object.keys(R).forEach(C=>{w[C]=Object.assign({},R[C],{timeCompleted:u.payload})}),w}(R,u);case l.db.ADD_PATCH:return function D(R,u){const w=u.payload.href,C=u.payload.operations,S=Object.assign({},R);return(0,t.a4)(S[w])&&(S[w]=Object.assign({},S[w],{patches:[...S[w].patches,{operations:C}],isDirty:!0})),S}(R,u);case l.db.APPLY_PATCH:return function O(R,u){const w=u.payload,C=Object.assign({},R);if((0,t.a4)(C[w])){const S=[].concat(...C[w].patches.map(L=>L.operations)),I=(0,i.X6)(C[w].data,S,void 0,!1);C[w]=Object.assign({},C[w],{data:I.newDocument,patches:[]})}return C}(R,u);case l.db.ADD_DEPENDENTS:return function M(R,u){const w=u.payload.href,C=Object.assign({},R);return(0,t.a4)(C[w])&&(C[w]=Object.assign({},C[w],{dependentRequestUUIDs:[...new Set([...C[w]?.dependentRequestUUIDs||[],...u.payload.dependentRequestUUIDs])]})),C}(R,u);case l.db.REMOVE_DEPENDENTS:return function T(R,u){const w=u.payload,C=Object.assign({},R);return(0,t.a4)(C[w])&&(C[w]=Object.assign({},C[w],{dependentRequestUUIDs:[]})),C}(R,u);default:return R}}},41684:(N,b,n)=>{"use strict";n.d(b,{$:()=>W});var i=n(25499),t=n(93583),l=n(84572),e=n(7673),f=n(96354),m=n(96697),h=n(73028),_=n(5964),y=n(25558),v=n(23294),D=n(82777),O=n(47797),M=n(43377),T=n(71442),R=n(69227),u=n(51672),w=n(21921),C=n(1321),S=n(98372),I=n(78394),L=n(54438);const B=(0,i.Mz)(O.N,j=>j["cache/object"]);let W=(()=>{class j{constructor(H,V){this.store=H,this.linkService=V}add(H,V,X,J){(0,D.a4)(H)&&(H=this.linkService.removeResolvedLinks(H)),this.store.dispatch(new S.YA(H,(new Date).getTime(),V,X,J))}remove(H){this.removeRelatedLinksFromIndex(H),this.store.dispatch(new S.sI(H))}removeRelatedLinksFromIndex(H){const V=this.getByHref(H),X=V.pipe((0,f.T)(q=>q.alternativeLinks),(0,m.s)(1)),J=V.pipe((0,f.T)(q=>Object.entries(q.data._links).filter(([Q,Y])=>"self"!==Q).map(([Q,Y])=>Y.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(X),this.removeLinksFromAlternativeLinkIndex(J)}removeLinksFromAlternativeLinkIndex(H){H.subscribe(V=>V.forEach(X=>{this.store.dispatch(new T.NL(u.U.ALTERNATIVE_OBJECT_LINK,X))}))}getObjectByUUID(H){return this.store.pipe((0,i.Lt)((0,R.vH)(H)),(0,h.Z)(V=>this.getObjectByHref(V)))}getObjectByHref(H){return this.getByHref(H).pipe((0,f.T)(V=>{if((0,D.hj)(V.patches)){const X=[].concat(...V.patches.map(q=>q.operations)),J=(0,t.X6)(V.data,X,void 0,!1).newDocument;return Object.assign({},V,{data:J})}return V}),(0,f.T)(V=>{if((0,D.a4)(V.data)){const X=(0,w.Qt)(V.data.type);if("function"!=typeof X)throw new Error(`${X} is not a valid constructor for ${JSON.stringify(V.data)}`);return Object.assign(new X,V.data)}return null}))}getByHref(H){return(0,l.z)([this.getByAlternativeLink(H),this.getBySelfLink(H)]).pipe((0,f.T)(V=>V.find(X=>(0,D.a4)(X))),(0,_.p)(V=>(0,D.a4)(V)))}getBySelfLink(H){return this.store.pipe((0,i.Lt)((j=>(0,i.Mz)(B,G=>G[j]))(H)))}getByAlternativeLink(H){return this.store.pipe((0,i.Lt)((0,R.Fn)(H)),(0,y.n)(V=>this.getBySelfLink(V)))}getRequestUUIDBySelfLink(H){return this.getByHref(H).pipe((0,f.T)(V=>V.requestUUIDs[0]),(0,v.F)())}getRequestUUIDByObjectUUID(H){return this.store.pipe((0,i.Lt)((0,R.vH)(H)),(0,h.Z)(V=>this.getRequestUUIDBySelfLink(V)))}getList(H){return(0,D.Im)(H)?(0,e.of)([]):(0,l.z)(H.map(V=>this.getObjectByHref(V)))}hasByUUID(H){let V=!1;return this.store.pipe((0,i.Lt)((0,R.vH)(H)),(0,m.s)(1)).subscribe(X=>V=this.hasByHref(X)),V}hasByHref(H,V){let X=!1;return this.getByHref(H).subscribe(J=>{X=!(0,D.hj)(V)||J.requestUUIDs.includes(V)}).unsubscribe(),X}hasByHref$(H){return(0,l.z)(this.getBySelfLink(H),this.getByAlternativeLink(H)).pipe((0,f.T)(V=>V.some(X=>(0,D.a4)(X))))}addPatch(H,V){this.store.dispatch(new S.dL(H,V)),this.store.dispatch(new I.Fs(H,M.D.PATCH))}isDirty(H){return(0,D.hj)(H.patches)}applyPatchesToCachedObject(H){this.store.dispatch(new S.gL(H))}addDependency(H,V){(0,D.Tn)(H)||(0,D.Tn)(V)||("string"==typeof H&&(H=(0,e.of)(H)),"string"==typeof V&&(V=(0,e.of)(V)),(0,l.z)([H,V.pipe((0,y.n)(X=>this.resolveSelfLink(X)))]).pipe((0,y.n)(([X,J])=>{const q=(0,e.of)(J);return(0,l.z)([q,q.pipe((0,y.n)(Q=>this.getBySelfLink(Q)),(0,f.T)(Q=>Q?.dependentRequestUUIDs||[])),this.getByHref(X).pipe((0,f.T)(Q=>Q?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([X,J,q])=>{(0,D.a4)(X)&&(0,D.a4)(q)&&!J.includes(q)&&this.store.dispatch(new S.Bc(X,[q]))}))}removeDependents(H){this.resolveSelfLink(H).pipe((0,m.s)(1)).subscribe(V=>{(0,D.a4)(V)&&this.store.dispatch(new S.ok(V))})}resolveSelfLink(H){return this.getBySelfLink(H).pipe((0,y.n)(V=>(0,D.hj)(V)?[H]:this.store.pipe((0,i.Lt)((0,R.Fn)(H)))))}static{this.\u0275fac=function(V){return new(V||j)(L.KVO(i.il),L.KVO(C._))}}static{this.\u0275prov=L.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},13808:(N,b,n)=>{"use strict";n.d(b,{Ku:()=>i,_p:()=>m,bM:()=>l,hT:()=>t});class i{constructor(R,u,w){this.isSuccessful=R,this.statusCode=u,this.statusText=w,this.toCache=!0}}class t extends i{constructor(R,u,w){super(!0,R,`${R}`),this.link=u,this.unCacheableObject=w}}class l extends i{constructor(R,u,w,C){super(!0,u,w),this.resourceSelfLinks=R,this.statusCode=u,this.statusText=w,this.pageInfo=C}}class m extends i{constructor(R){super(!1,R.statusCode,R.statusText),console.error(R),this.errorMessage=R.message}}},78394:(N,b,n)=>{"use strict";n.d(b,{Fs:()=>l,G9:()=>t,a0:()=>f,eR:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class l{constructor(h,_){this.type=t.ADD,this.payload={href:h,method:_}}}class e{constructor(h){this.type=t.COMMIT,this.payload=h}}class f{constructor(h){this.type=t.EMPTY,this.payload=h}}},42084:(N,b,n)=>{"use strict";n.d(b,{P:()=>h});var i=n(96354),t=n(8917),l=n(65007),e=n(3970),f=n(80183),m=n(54438);let h=(()=>{class _{constructor(v,D){this.configService=v,this.authorizationService=D,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,f.qD)(),(0,i.T)(v=>v.hasSucceeded?v.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(t.ConfigurationDataService),m.KVO(l.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},25168:(N,b,n)=>{"use strict";n.d(b,{M:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(96820),f=n(49797),m=n(96787);let h=class extends f.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],h.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],h.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0),h=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.G)],h);let _=class extends h{static{this.type=m.Nm}};_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(h)],_)},7232:(N,b,n)=>{"use strict";n.d(b,{f:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(49797),f=n(96787);let m=class extends e.G{static{this.type=f.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.G)],m);let h=class extends m{static{this.type=f.KX}};h=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m)],h)},96787:(N,b,n)=>{"use strict";n.d(b,{KX:()=>f,NS:()=>v,Nm:()=>t,V_:()=>_,WJ:()=>h,XI:()=>D,gf:()=>l,mU:()=>y,vH:()=>e});var i=n(42547);const t=new i.v("submissiondefinitions"),l=new i.v("submissiondefinition"),e=new i.v("submissionform"),f=new i.v("submissionforms"),h=(new i.v("submissionsections"),new i.v("submissionsection")),_=new i.v("submissionuploads"),y=new i.v("submissionupload"),v=new i.v("submissionaccessoption"),D=new i.v("bulkaccessconditionoption")},49797:(N,b,n)=>{"use strict";n.d(b,{G:()=>f});var i=n(31635),t=n(74850),l=n(42547),e=n(98688);class f{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",l.v)],f.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0)},47797:(N,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=(0,n(25499).UX)("core")},45022:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AccessStatusDataService:()=>h});var i=n(72734),t=n(41684),l=n(4910),e=n(49802),f=n(32473),m=n(54438);let h=(()=>{class _ extends e.L{constructor(v,D,O,M){super("accessStatus",v,D,O,M),this.requestService=v,this.rdbService=D,this.objectCache=O,this.halService=M}findAccessStatusFor(v){return this.findByHref(v._links.accessStatus.href)}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},51538:(N,b,n)=>{"use strict";n.d(b,{aE:()=>y});var i=n(88280),t=n(82777),l=n(21921),e=n(28580),f=n(32089),m=n(96820);function h(v){return(0,t.hj)(v._links)&&(0,t.a4)(v._links.self)}function _(v){return(0,t.a4)(v.page)&&(0,t.a4)(v.page.size)&&(0,t.a4)(v.page.totalElements)&&(0,t.a4)(v.page.totalPages)&&(0,t.a4)(v.page.number)}class y{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(D,O,M){if((0,t.hj)(D)){if((0,t.Tn)(D)||"object"!=typeof D)return D;if(_(D))return this.processPaginatedList(D,O);if(Array.isArray(D))return this.processArray(D,O);if(h(D)){const R=this.deserialize(D);return(0,t.hj)(D._embedded)&&Object.keys(D._embedded).filter(u=>D._embedded.hasOwnProperty(u)).forEach(u=>{const w=this.process(D._embedded[u],O,D._links[u].href);(0,t.a4)(R)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(w)&&(_(D._embedded[u])?(R[u]=w,R[u].page=w.page.map(C=>this.retrieveObjectOrUrl(C))):h(D._embedded[u])?R[u]=this.retrieveObjectOrUrl(w):Array.isArray(w)&&(R[u]=w.map(C=>this.retrieveObjectOrUrl(C))))}),this.cache(R,O,D,M),R}const T={};return Object.keys(D).filter(R=>D.hasOwnProperty(R)).filter(R=>(0,t.a4)(D[R])).forEach(R=>{T[R]=this.process(D[R],O)}),T}}processPaginatedList(D,O){const M=this.processPageInfo(D);let T=D._embedded;(0,t.Tn)(T)?T=[]:Array.isArray(T)||(T=this.flattenSingleKeyObject(T));const R=this.processArray(T,O);return(0,m.g)(M,R)}processArray(D,O){let M=[];return D.forEach(T=>{M=[...M,this.process(T,O)]}),M}deserialize(D){const O=D.type;if((0,t.a4)(O)){const M=(0,l.Qt)(O);return(0,t.a4)(M)?new this.serializerConstructor(M).deserialize(D):(console.warn("cannot deserialize type "+O),null)}return console.warn("cannot deserialize type "+O),null}cache(D,O,M,T){this.toCache&&this.addToObjectCache(D,O,M,T)}addToObjectCache(D,O,M,T){if((0,t.Tn)(D)||(0,t.Tn)(D._links)||(0,t.Tn)(D._links.self)||(0,t.Tn)(D._links.self.href)){const R=(0,t.a4)(M)&&(0,t.a4)(M.type)?M.type:"object";let u;return u=(0,t.a4)(M._embedded)?JSON.stringify(Object.assign({},M,{_embedded:"..."})):JSON.stringify(M),void console.warn(`Can't cache incomplete ${R}: ${JSON.stringify(D)}, parsed from (partial) response: ${u}`)}this.objectCache.add(D,(0,t.a4)(O.responseMsToLive)?O.responseMsToLive:i.c.cache.msToLive.default,O.uuid,T)}processPageInfo(D){if((0,t.a4)(D.page)){const O=Object.assign({},D.page,{_links:D._links}),M=new e.T(f.Q).deserialize(O);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(D){const O=Object.keys(D);if(1!==O.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(D)}`);return D[O[0]]}retrieveObjectOrUrl(D){return this.toCache?D._links.self.href:D}isSuccessStatus(D){return D>=200&&D<300}}},49802:(N,b,n)=>{"use strict";n.d(b,{L:()=>w});var i=n(7673),t=n(44668),l=n(77876),e=n(22806),f=n(88141),m=n(96697),h=n(96354),_=n(28492),y=n(25558),v=n(73028),D=n(56594),O=n(82777),M=n(80183),T=n(45663),R=n(43052);class w{constructor(S,I,L,B,U,W){this.linkPath=S,this.requestService=I,this.rdbService=L,this.objectCache=B,this.halService=U,this.responseMsToLive=W}getBrowseEndpoint(S={},I){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(S,I,L=[],...B){let U=[...L];return(0,O.a4)(I.currentPage)&&"number"==typeof I.currentPage&&(U=this.addHrefArg(S,U,"page="+(I.currentPage-1))),(0,O.a4)(I.elementsPerPage)&&(U=this.addHrefArg(S,U,`size=${I.elementsPerPage}`)),(0,O.a4)(I.sort)&&(U=this.addHrefArg(S,U,`sort=${I.sort.field},${I.sort.direction}`)),(0,O.a4)(I.startsWith)&&(U=this.addHrefArg(S,U,`startsWith=${I.startsWith}`)),(0,O.a4)(I.searchParams)&&I.searchParams.forEach(W=>{U=this.addHrefArg(S,U,`${W.fieldName}=${W.fieldValue}`)}),U=this.addEmbedParams(S,U,...B),(0,O.hj)(U)?new T.t(S,`?${U.join("&")}`).toString():S}buildHrefWithParams(S,I,...L){let B=[];return(0,O.a4)(I)&&I.forEach(U=>{B=this.addHrefArg(S,B,`${U.fieldName}=${U.fieldValue}`)}),B=this.addEmbedParams(S,B,...L),(0,O.hj)(B)?new T.t(S,`?${B.join("&")}`).toString():S}addEmbedParams(S,I,...L){return L.forEach(B=>{if((0,O.a4)(B)&&B.shouldEmbed){const U="embed="+String(B.name);(0,O.a4)(B.findListOptions)&&(0,O.a4)(B.findListOptions.elementsPerPage)&&(I=this.addHrefArg(S,I,"embed.size="+String(B.name)+"="+B.findListOptions.elementsPerPage)),I=(0,O.hj)(B.linksToFollow)?this.addNestedEmbeds(U,S,I,...B.linksToFollow):this.addHrefArg(S,I,U)}}),I}addHrefArg(S,I,L){return S.includes(L)||I.includes(L)?[...I]:[...I,L]}addNestedEmbeds(S,I,L,...B){let U=S;return B.forEach(W=>{if((0,O.a4)(W)&&W.shouldEmbed){if(U=U+"%2F"+String(W.name),(0,O.a4)(W.findListOptions)&&(0,O.a4)(W.findListOptions.elementsPerPage)){const j="embed.size="+U.split("=")[1]+"="+W.findListOptions.elementsPerPage;L=this.addHrefArg(I,L,j)}L=(0,O.a4)(W.linksToFollow)&&(0,O.hj)(W.linksToFollow)?this.addNestedEmbeds(U,I,L,...W.linksToFollow):this.addHrefArg(I,L,U)}}),L}reRequestStaleRemoteData(S,I){return L=>!0===S?L.pipe((0,f.M)(B=>{(0,O.a4)(B)&&B.isStale&&I()})):L}findByHref(S,I=!0,L=!0,...B){"string"==typeof S&&(S=(0,i.of)(S));const U=S.pipe((0,O.VT)(),(0,m.s)(1),(0,h.T)(G=>this.buildHrefFromFindOptions(G,{},[],...B)),(0,t.t)({bufferSize:1,refCount:!0})),W=(new Date).getTime();this.createAndSendGetRequest(U,I);const j=this.rdbService.buildSingle(U,...B).pipe((0,_.j)(G=>G.isStale||!I&&G.lastUpdated<W),this.reRequestStaleRemoteData(L,()=>this.findByHref(S,I,L,...B)));return j.pipe((0,f.M)(G=>{if((0,O.a4)(G?.payload?._links))for(const H of Object.keys(G.payload._links))if((0,O.a4)(G.payload[H])&&"self"!==H){const V=[].concat(G.payload._links[H]);for(const X of V)(0,O.a4)(X?.href)&&this.addDependency(j,X.href)}}))}findListByHref(S,I={},L=!0,B=!0,...U){"string"==typeof S&&(S=(0,i.of)(S));const W=S.pipe((0,O.VT)(),(0,m.s)(1),(0,h.T)(H=>this.buildHrefFromFindOptions(H,I,[],...U)),(0,t.t)({bufferSize:1,refCount:!0})),j=(new Date).getTime();this.createAndSendGetRequest(W,L);const G=this.rdbService.buildList(W,...U).pipe((0,_.j)(H=>H.isStale||!L&&H.lastUpdated<j),this.reRequestStaleRemoteData(B,()=>this.findListByHref(S,I,L,B,...U)));return G.pipe((0,f.M)(H=>{if((0,O.a4)(H?.payload?.page))for(const V of H.payload.page)if((0,O.a4)(V?._links))for(const X of Object.keys(V._links))if((0,O.a4)(V[X])&&"self"!==X){const J=[].concat(V._links[X]);for(const q of J)(0,O.a4)(q?.href)&&this.addDependency(G,q.href)}}))}createAndSendGetRequest(S,I=!0){(0,O.hj)(S)&&("string"==typeof S&&(S=(0,i.of)(S)),S.pipe((0,O.VT)(),(0,m.s)(1)).subscribe(L=>{const B=this.requestService.generateRequestId(),U=new R.IP(B,L);(0,O.a4)(this.responseMsToLive)&&(U.responseMsToLive=this.responseMsToLive),this.requestService.send(U,I)}))}hasCachedResponse(S){if((0,O.hj)(S))return"string"==typeof S&&(S=(0,i.of)(S)),S.pipe((0,O.VT)(),(0,m.s)(1),(0,h.T)(I=>{const L=this.requestService.generateRequestId(),B=new R.IP(L,I);return!this.requestService.shouldDispatchRequest(B,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(S){return this.hasCachedResponse(S).pipe((0,y.n)(I=>I?this.rdbService.buildSingle(S).pipe((0,M.qD)(),(0,h.T)(L=>L.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(S,I){this.objectCache.addDependency(S.pipe((0,M.qD)(),(0,y.n)(L=>L.hasSucceeded?[L.payload._links.self.href]:[void 0])),I)}invalidateByHref(S){const I=new l.h;return this.objectCache.getByHref(S).pipe((0,m.s)(1),(0,y.n)(L=>(0,e.H)([...L.requestUUIDs,...L.dependentRequestUUIDs]).pipe((0,v.Z)(B=>this.requestService.setStaleByUUID(B)),(0,D.$)()))).subscribe(()=>{this.objectCache.removeDependents(S),I.next(!0),I.complete()}),I}}},39280:(N,b,n)=>{"use strict";n.d(b,{V:()=>D});var i=n(23294),t=n(96354),l=n(96697),e=n(77048),f=n(82777),m=n(4065),h=n(21921),_=n(28580),y=n(43052),v=n(49802);class D extends v.L{constructor(M,T,R,u,w,C,S){super(M,T,R,u,w,S),this.linkPath=M,this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w,this.notificationsService=C,this.responseMsToLive=S}create(M,...T){const R=this.getEndpoint().pipe((0,f.VT)(),(0,i.F)(),(0,t.T)(u=>this.buildHrefWithParams(u,T)));return this.createOnEndpoint(M,R)}createOnEndpoint(M,T){const R=this.requestService.generateRequestId(),u=new _.T((0,h.Qt)(M.type)).serialize(M);T.pipe((0,l.s)(1)).subscribe(C=>{const S=new y.QU(R,C,JSON.stringify(u));(0,f.a4)(this.responseMsToLive)&&(S.responseMsToLive=this.responseMsToLive),this.requestService.send(S)});const w=this.rdbService.buildFromRequestUUID(R);return w.pipe((0,e.v)(C=>C.isLoading,!0)).subscribe(C=>{C.hasFailed&&this.notificationsService.error("Server Error:",C.errorMessage,new m.y(-1))}),w}}},13617:(N,b,n)=>{"use strict";n.d(b,{I:()=>f});var i=n(25558),t=n(82777),l=n(43052),e=n(63897);class f extends e.W{constructor(h,_,y,v,D,O,M,T){if(super(h,_,y,v,D,M,T),this.linkPath=h,this.requestService=_,this.rdbService=y,this.objectCache=v,this.halService=D,this.notificationsService=O,this.responseMsToLive=M,this.constructIdEndpoint=T,(0,t.Tn)(T))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${h})`)}delete(h,_){return this.getIDHrefObs(h).pipe((0,i.n)(y=>this.deleteByHref(y,_)))}deleteByHref(h,_){const y=this.requestService.generateRequestId();let v=h;_&&_.forEach(O=>v+=(v.includes("?")?"&":"?")+"copyVirtualMetadata="+O);const D=new l.$(y,v);return(0,t.a4)(this.responseMsToLive)&&(D.responseMsToLive=this.responseMsToLive),this.requestService.send(D),this.rdbService.buildFromRequestUUIDAndAwait(y,()=>this.invalidateByHref(h))}}},46787:(N,b,n)=>{"use strict";n.d(b,{H:()=>m});var i=n(5964),t=n(96354),l=n(23294),e=n(82777),f=n(49802);class m extends f.L{constructor(_,y,v,D,O,M){super(_,y,v,D,O,M),this.linkPath=_,this.requestService=y,this.rdbService=v,this.objectCache=D,this.halService=O,this.responseMsToLive=M}findAll(_={},y=!0,v=!0,...D){return this.findListByHref(this.getFindAllHref(_),_,y,v,...D)}getFindAllHref(_={},y,...v){const D=[];return this.getBrowseEndpoint(_).pipe((0,i.p)(M=>(0,e.hj)(M)),(0,t.T)(M=>(0,e.hj)(y)?`${M}/${y}`:M),(0,l.F)()).pipe((0,t.T)(M=>this.buildHrefFromFindOptions(M,_,D,...v)))}}},63897:(N,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(96354),t=n(96697),l=n(25558),e=n(49802);const f=(h,_)=>`${h}/${_}`;class m extends e.L{constructor(_,y,v,D,O,M,T=f){super(_,y,v,D,O,M),this.linkPath=_,this.requestService=y,this.rdbService=v,this.objectCache=D,this.halService=O,this.responseMsToLive=M,this.constructIdEndpoint=T}findById(_,y=!0,v=!0,...D){const O=this.getIDHrefObs(encodeURIComponent(_),...D);return this.findByHref(O,y,v,...D)}getIDHref(_,y,...v){return this.buildHrefFromFindOptions(this.constructIdEndpoint(_,y),{},[],...v)}getIDHrefObs(_,...y){return this.getEndpoint().pipe((0,i.T)(v=>this.getIDHref(v,_,...y)))}invalidateById(_){const y=this.getIDHrefObs(_).pipe((0,t.s)(1),(0,l.n)(v=>this.invalidateByHref(v)));return y.subscribe(),y}}},87158:(N,b,n)=>{"use strict";n.d(b,{n:()=>_});var i=n(96354),t=n(47677),l=n(73028),e=n(82777),f=n(80183),m=n(43052),h=n(63897);class _ extends h.W{constructor(v,D,O,M,T,R,u,w){if(super(v,D,O,M,T,u,w),this.linkPath=v,this.requestService=D,this.rdbService=O,this.objectCache=M,this.halService=T,this.comparator=R,this.responseMsToLive=u,this.constructIdEndpoint=w,(0,e.Tn)(w))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${v})`)}patch(v,D){const O=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(T=>this.getIDHref(T,v.uuid))).pipe((0,t.I)(T=>(0,e.a4)(T))).subscribe(T=>{const R=new m.EA(O,T,D);(0,e.a4)(this.responseMsToLive)&&(R.responseMsToLive=this.responseMsToLive),this.requestService.send(R)}),this.rdbService.buildFromRequestUUIDAndAwait(O,()=>this.invalidateByHref(v._links.self.href))}update(v){return this.createPatchFromCache(v).pipe((0,l.Z)(D=>((0,e.hj)(D)&&this.objectCache.addPatch(v._links.self.href,D),this.findByHref(v._links.self.href,!0,!0))))}commitUpdates(v){this.requestService.commit(v)}createPatchFromCache(v){return this.findByHref(v._links.self.href,!0,!1).pipe((0,f.yd)(),(0,f.Bo)(),(0,i.T)(O=>this.comparator.diff(O,v)))}}},91967:(N,b,n)=>{"use strict";n.d(b,{W:()=>f});var i=n(82777),t=n(28580),l=n(43052),e=n(49802);class f extends e.L{constructor(h,_,y,v,D,O){super(h,_,y,v,D,O),this.linkPath=h,this.requestService=_,this.rdbService=y,this.objectCache=v,this.halService=D,this.responseMsToLive=O}put(h){const _=this.requestService.generateRequestId(),y=new t.T(h.constructor).serialize(h),v=new l.v_(_,h._links.self.href,y);return(0,i.a4)(this.responseMsToLive)&&(v.responseMsToLive=this.responseMsToLive),this.requestService.send(v),this.rdbService.buildFromRequestUUID(_)}}},35108:(N,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(96354),t=n(5964),l=n(82777),e=n(49802);const f=(h,_)=>`${h}/search/${_}`;class m extends e.L{constructor(_,y,v,D,O,M,T=f){if(super(_,y,v,D,O,M),this.linkPath=_,this.requestService=y,this.rdbService=v,this.objectCache=D,this.halService=O,this.responseMsToLive=M,this.constructSearchEndpoint=T,(0,l.Tn)(T))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${_})`)}searchBy(_,y={},v=!0,D=!0,...O){const M=this.getSearchByHref(_,y,...O);return this.findListByHref(M,void 0,v,D,...O)}getSearchByHref(_,y={},...v){const D=[];return this.getSearchEndpoint(_).pipe((0,i.T)(M=>this.buildHrefFromFindOptions(M,y,D,...v)))}getSearchEndpoint(_){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(y=>(0,l.hj)(y)),(0,i.T)(y=>this.constructSearchEndpoint(y,_)))}}},42578:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamDataService:()=>J});var i=n(21626),t=n(84572),l=n(983),e=n(25558),f=n(96354),m=n(96697),h=n(47677),_=n(82777),y=n(39806),v=n(43404),D=n(67600),O=n(72734),M=n(53954),T=n(41684),R=n(4910),u=n(80183),w=n(32089),C=n(91098),S=n(13617),I=n(63897),L=n(87158),B=n(35108),U=n(4856),W=n(81443),j=n(12598),G=n(96820),H=n(43052),V=n(32473),X=n(54438);let J=(()=>{class q extends I.W{constructor(Y,z,Z,oe,se,de,te,le){super("bitstreams",Y,z,Z,oe),this.requestService=Y,this.rdbService=z,this.objectCache=Z,this.halService=oe,this.bundleService=se,this.bitstreamFormatService=de,this.comparator=te,this.notificationsService=le,this.searchData=new B.X(this.linkPath,Y,z,Z,oe,this.responseMsToLive),this.patchData=new L.n(this.linkPath,Y,z,Z,oe,te,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new S.I(this.linkPath,Y,z,Z,oe,le,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(Y,z,Z=!0,oe=!0,...se){return this.findListByHref(Y._links.bitstreams.href,z,Z,oe,...se)}findAllByItemAndBundleName(Y,z,Z,oe=!0,se=!0,...de){return this.bundleService.findByItemAndName(Y,z).pipe((0,e.n)(te=>te.hasSucceeded&&(0,_.a4)(te.payload)?this.findAllByBundle(te.payload,Z,oe,se,...de):te.hasSucceeded||404!==te.statusCode?[te]:(0,v.CX)((0,G.g)(new w.Q,[]),(new Date).getTime())))}updateFormat(Y,z){const Z=this.requestService.generateRequestId(),oe=this.getBrowseEndpoint().pipe((0,f.T)(de=>`${de}/${Y.id}`),(0,e.n)(de=>this.halService.getEndpoint("format",de))),se=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,f.T)(de=>`${de}/${z.id}`));return(0,t.z)([oe,se]).pipe((0,f.T)(([de,te])=>{const le=Object.create({});let Ee=new i.Lr;return Ee=Ee.append("Content-Type","text/uri-list"),le.headers=Ee,new H.v_(Z,de,te,le)}),(0,C.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(Y.self+"/format")}),this.rdbService.buildFromRequestUUID(Z)}findByItemHandle(Y,z,Z,oe=!0,se=!0,...de){const te=[];te.push(new M.x("handle",Y)),(0,_.a4)(z)&&te.push(new M.x("sequenceId",z)),(0,_.a4)(Z)&&te.push(new M.x("filename",Z));const le=this.getSearchByHref("byItemHandle",{searchParams:te},...de);return this.findByHref(le,oe,se,...de)}getSearchByHref(Y,z,...Z){return this.searchData.getSearchByHref(Y,z,...Z)}findPrimaryBitstreamByItemAndName(Y,z,Z=!0,oe=!0,se){return this.bundleService.findByItemAndName(Y,z,Z,oe,se,(0,D.s)("primaryBitstream")).pipe((0,u.qD)(),(0,e.n)(de=>de.hasSucceeded?de.payload.primaryBitstream.pipe((0,u.qD)(),(0,f.T)(te=>te.hasSucceeded?te.payload:null)):l.w))}searchBy(Y,z,Z,oe,...se){return this.searchData.searchBy(Y,z,Z,oe,...se)}commitUpdates(Y){this.patchData.commitUpdates(Y)}patch(Y,z){return this.patchData.patch(Y,z)}update(Y){return this.patchData.update(Y)}createPatchFromCache(Y){return this.patchData.createPatchFromCache(Y)}delete(Y,z){return this.deleteData.delete(Y,z)}deleteByHref(Y,z){return this.deleteData.deleteByHref(Y,z)}removeMultiple(Y){const z=Y.map(se=>({op:"remove",path:`/bitstreams/${se.id}`})),Z=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,h.I)(se=>(0,_.a4)(se))).subscribe(se=>{const de=new H.EA(Z,se,z);(0,_.a4)(this.responseMsToLive)&&(de.responseMsToLive=this.responseMsToLive),this.requestService.send(de)}),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,t.z)(Y.map(se=>this.invalidateByHref(se._links.self.href))))}static{this.\u0275fac=function(z){return new(z||q)(X.KVO(V.B),X.KVO(O.o),X.KVO(T.$),X.KVO(R.Y),X.KVO(W.BundleDataService),X.KVO(U.BitstreamFormatDataService),X.KVO(j.j),X.KVO(y.I))}}static{this.\u0275prov=X.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},4856:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamFormatDataService:()=>I});var i=n(25499),t=n(96354),l=n(23294),e=n(88141),f=n(29679),m=n(39806),h=n(72734),_=n(41684),y=n(47797),v=n(4910),D=n(91098),O=n(13617),M=n(46787),T=n(63897),R=n(43052),u=n(32473),w=n(54438);const C=(0,i.Mz)(y.N,L=>L.bitstreamFormats),S=(0,i.Mz)(C,L=>L.selectedBitstreamFormats);let I=(()=>{class L extends T.W{constructor(U,W,j,G,H,V){super("bitstreamformats",U,W,j,G),this.requestService=U,this.rdbService=W,this.objectCache=j,this.halService=G,this.notificationsService=H,this.store=V,this.linkPath="bitstreamformats",this.findAllData=new M.H(this.linkPath,U,W,j,G,this.responseMsToLive),this.deleteData=new O.I(this.linkPath,U,W,j,G,H,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(U){return this.getBrowseEndpoint().pipe((0,t.T)(W=>this.getIDHref(W,U)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(U){const W=this.requestService.generateRequestId();return this.getUpdateEndpoint(U.id).pipe((0,l.F)(),(0,t.T)(j=>new R.v_(W,j,U)),(0,D.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(W)}createBitstreamFormat(U){const W=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(j=>new R.Qf(W,j,U)),(0,D.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(W)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(U=>this.requestService.removeByHrefSubstring(U)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(S))}selectBitstreamFormat(U){this.store.dispatch(new f.hO(U))}deselectBitstreamFormat(U){this.store.dispatch(new f.Cv(U))}deselectAllBitstreamFormats(){this.store.dispatch(new f.ZU)}findByBitstream(U){return this.findByHref(U._links.format.href)}findAll(U,W,j,...G){return this.findAllData.findAll(U,W,j,...G)}delete(U,W){return this.deleteData.delete(U,W)}deleteByHref(U,W){return this.deleteData.deleteByHref(U,W)}static{this.\u0275fac=function(W){return new(W||L)(w.KVO(u.B),w.KVO(h.o),w.KVO(_.$),w.KVO(v.Y),w.KVO(m.I),w.KVO(i.il))}}static{this.\u0275prov=w.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},81443:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BundleDataService:()=>u});var i=n(96354),t=n(25558),l=n(96697),e=n(82777),f=n(72734),m=n(41684),h=n(4910),_=n(63897),y=n(87158),v=n(12598),D=n(1716),O=n(43052),M=n(32473),T=n(7434),R=n(54438);let u=(()=>{class w extends _.W{constructor(S,I,L,B,U){super("bundles",S,I,L,B),this.requestService=S,this.rdbService=I,this.objectCache=L,this.halService=B,this.comparator=U,this.bitstreamsEndpoint="bitstreams",this.patchData=new y.n(this.linkPath,S,I,L,B,U,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(S,I,L=!0,B=!0,...U){return this.findListByHref(S._links.bundles.href,I,L,B,...U)}findByItemAndName(S,I,L=!0,B=!0,U,...W){return this.findAllByItem(S,U??{elementsPerPage:9999},L,B,...W).pipe((0,i.T)(G=>{if((0,e.a4)(G.payload)&&(0,e.a4)(G.payload.page)){const H=G.payload.page.find(V=>V.name===I);return(0,e.a4)(H)?new D.j(G.timeCompleted,G.msToLive,G.lastUpdated,T.zE.Success,null,H,200):new D.j(G.timeCompleted,G.msToLive,G.lastUpdated,T.zE.Error,`The bundle with name ${I} was not found.`,null,404)}return G}))}getBitstreamsEndpoint(S,I){return this.getBrowseEndpoint().pipe((0,t.n)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${S}`)),(0,i.T)(L=>I?I.toRestUrl(L):L))}getBitstreams(S,I,...L){const B=this.getBitstreamsEndpoint(S,I);return B.pipe((0,l.s)(1)).subscribe(U=>{const W=new O.IP(this.requestService.generateRequestId(),U);this.requestService.send(W,!0)}),this.rdbService.buildList(B,...L)}commitUpdates(S){this.patchData.commitUpdates(S)}patch(S,I){return this.patchData.patch(S,I)}update(S){return this.patchData.update(S)}createPatchFromCache(S){return this.patchData.createPatchFromCache(S)}static{this.\u0275fac=function(I){return new(I||w)(R.KVO(M.B),R.KVO(f.o),R.KVO(m.$),R.KVO(h.Y),R.KVO(v.j))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},6983:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDataService:()=>j});var i=n(21626),t=n(96354),l=n(25558),e=n(96697),f=n(5964),m=n(82777),h=n(4065),_=n(39806),y=n(72734),v=n(53954),D=n(41684),O=n(28580),M=n(45348),T=n(4910),R=n(80183),u=n(42578),w=n(3440),C=n(46660),S=n(12598),I=n(41023),L=n(43052),B=n(32473),U=n(54438),W=n(41780);let j=(()=>{class G extends w.x{constructor(V,X,J,q,Q,Y,z,Z,oe){super("collections",V,X,J,q,Q,Y,z),this.requestService=V,this.rdbService=X,this.objectCache=J,this.halService=q,this.comparator=Q,this.notificationsService=Y,this.bitstreamDataService=z,this.communityDataService=Z,this.translate=oe,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(V,X={},J=!0,q=!0,...Q){return X=Object.assign({},X,{searchParams:[new v.x("query",V)]}),this.searchBy("findSubmitAuthorized",X,J,q,...Q).pipe((0,R.bD)())}getAuthorizedCollectionByEntityType(V,X,J={},q=!0,...Q){return J=Object.assign({},J,{searchParams:[new v.x("query",V),new v.x("entityType",X)]}),this.searchBy("findSubmitAuthorizedByEntityType",J,!0,q,...Q).pipe((0,R.bD)())}getAuthorizedCollectionByCommunity(V,X,J={},q=!0){return J=Object.assign({},J,{searchParams:[new v.x("uuid",V),new v.x("query",X)]}),this.searchBy("findSubmitAuthorizedByCommunity",J,q).pipe((0,R.bD)())}getAuthorizedCollectionByCommunityAndEntityType(V,X,J={},q=!0,...Q){const z=[new v.x("uuid",V),new v.x("entityType",X)];return J=Object.assign({},J,{searchParams:z}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",J,!0,q,...Q).pipe((0,R.bD)())}hasAuthorizedCollection(){const X=new I._;return X.elementsPerPage=1,this.searchBy("findSubmitAuthorized",X).pipe((0,R.qD)(),(0,t.T)(J=>J?.payload?.totalElements>0))}getHarvesterEndpoint(V){return this.halService.getEndpoint(this.linkPath).pipe((0,l.n)(X=>this.halService.getEndpoint("harvester",`${X}/${V}`)))}getContentSource(V,X=!0){const J=this.getHarvesterEndpoint(V).pipe((0,m.VT)(),(0,e.s)(1));return J.subscribe(q=>{const Q=new L.IL(this.requestService.generateRequestId(),q);this.requestService.send(Q,X)}),this.rdbService.buildSingle(J)}updateContentSource(V,X){const J=this.requestService.generateRequestId(),q=new O.T(M.Z).serialize(X);return this.getHarvesterEndpoint(V).pipe((0,e.s)(1),(0,t.T)(Y=>{const z=Object.create({});let Z=new i.Lr;return Z=Z.append("Content-Type","application/json"),z.headers=Z,new L.xu(J,Y,JSON.stringify(q),z)})).subscribe(Y=>this.requestService.send(Y)),this.rdbService.buildFromRequestUUID(J).pipe((0,R.qD)(),(0,t.T)(Y=>Y.hasFailed?(0,m.a4)(Y.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===Y.statusCode?this.translate.instant(this.contentSourceError):Y.errorMessage,new h.y(-1)):void 0:Y),(0,m.VT)(),(0,t.T)(Y=>(0,m.hj)(Y.payload)?Y.payload:Y))}getFindByParentHref(V){return this.halService.getEndpoint("communities").pipe((0,l.n)(X=>this.halService.getEndpoint("collections",`${X}/${V}`)))}findOwningCollectionFor(V){return this.findByHref(V._links.owningCollection.href)}findMappedCollectionsFor(V,X){return this.findListByHref(V._links.mappedCollections.href,X)}getScopeCommunityHref(V){return this.communityDataService.getEndpoint().pipe((0,t.T)(X=>this.communityDataService.getIDHref(X,V.scopeID)),(0,f.p)(X=>(0,m.hj)(X)),(0,e.s)(1))}static{this.\u0275fac=function(X){return new(X||G)(U.KVO(B.B),U.KVO(y.o),U.KVO(D.$),U.KVO(T.Y),U.KVO(S.j),U.KVO(_.I),U.KVO(u.BitstreamDataService),U.KVO(C.CommunityDataService),U.KVO(W.c$))}}static{this.\u0275prov=U.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},3440:(N,b,n)=>{"use strict";n.d(b,{x:()=>w});var i=n(84572),t=n(25558),l=n(96354),e=n(5964),f=n(23294),m=n(96697),h=n(82777),_=n(43404),y=n(80183),v=n(45663),D=n(39280),O=n(13617),M=n(46787),T=n(63897),R=n(87158),u=n(35108);class w extends T.W{constructor(S,I,L,B,U,W,j,G){super(S,I,L,B,U),this.linkPath=S,this.requestService=I,this.rdbService=L,this.objectCache=B,this.halService=U,this.comparator=W,this.notificationsService=j,this.bitstreamDataService=G,this.createData=new D.V(this.linkPath,I,L,B,U,j,this.responseMsToLive),this.findAllData=new M.H(this.linkPath,I,L,B,U,this.responseMsToLive),this.searchData=new u.X(this.linkPath,I,L,B,U,this.responseMsToLive),this.patchData=new R.n(this.linkPath,I,L,B,U,W,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new O.I(this.linkPath,I,L,B,U,j,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(S={},I=this.linkPath){if((0,h.Im)(S.scopeID))return this.halService.getEndpoint(I);{const L=this.getScopeCommunityHref(S);return this.createAndSendGetRequest(L,!0),L.pipe((0,t.n)(B=>this.rdbService.buildSingle(B)),(0,y.qD)(),(0,l.T)(B=>{if(B.hasFailed)throw new Error(`The Community with scope ${S.scopeID} couldn't be retrieved`);return B.payload._links[I]}),(0,e.p)(B=>(0,h.hj)(B)),(0,l.T)(B=>B.href),(0,f.F)())}}findByParent(S,I={},...L){const B=this.getFindByParentHref(S).pipe((0,l.T)(U=>this.buildHrefFromFindOptions(U,I)));return this.findListByHref(B,I,!0,!0,...L)}getLogoEndpoint(S){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(I=>new v.t(I,S,"logo").toString()))}deleteLogo(S){const I=S.logo;return(0,h.a4)(I)?I.pipe((0,y.qD)(),(0,t.n)(L=>L.hasFailed?(console.error(`Couldn't retrieve the logo '${S._links.logo.href}' in order to delete it.`),[L]):this.bitstreamDataService.deleteByHref(L.payload._links.self.href))):(0,_.PM)("The given object doesn't have a logo",400)}refreshCache(S){const I=this.parentCommunityUrlLookup(S);(0,h.a4)(I)&&(0,i.z)([this.findByHref(I).pipe((0,y.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([L,B])=>{L.hasSucceeded&&(0,h.hj)(L.payload)&&(0,h.hj)(L.payload.id)?this.requestService.setStaleByHrefSubstring(L.payload.id):this.requestService.setStaleByHrefSubstring(B)})}parentCommunityUrlLookup(S){const I=S._links.parentCommunity;return(0,h.hj)(I)?I.href:null}create(S,...I){return this.createData.create(S,...I)}findAll(S,I,L,...B){return this.findAllData.findAll(S,I,L,...B)}searchBy(S,I,L,B,...U){return this.searchData.searchBy(S,I,L,B,...U)}commitUpdates(S){this.patchData.commitUpdates(S)}patch(S,I){return this.patchData.patch(S,I)}update(S){return this.patchData.update(S)}createPatchFromCache(S){return this.patchData.createPatchFromCache(S)}delete(S,I){return this.deleteData.delete(S,I)}deleteByHref(S,I){return this.deleteData.deleteByHref(S,I)}}},46660:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CommunityDataService:()=>R});var i=n(96354),t=n(25558),l=n(5964),e=n(96697),f=n(82777),m=n(39806),h=n(72734),_=n(41684),y=n(4910),v=n(42578),D=n(3440),O=n(12598),M=n(32473),T=n(54438);let R=(()=>{class u extends D.x{constructor(C,S,I,L,B,U,W){super("communities",C,S,I,L,B,U,W),this.requestService=C,this.rdbService=S,this.objectCache=I,this.halService=L,this.comparator=B,this.notificationsService=U,this.bitstreamDataService=W,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(C={},...S){return this.getEndpoint().pipe((0,i.T)(I=>`${I}/search/top`),(0,t.n)(I=>this.findListByHref(I,C,!0,!0,...S)))}getFindByParentHref(C){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(S=>this.halService.getEndpoint("subcommunities",`${S}/${C}`)))}getScopeCommunityHref(C){return this.getEndpoint().pipe((0,i.T)(S=>this.getIDHref(S,C.scopeID)),(0,l.p)(S=>(0,f.hj)(S)),(0,e.s)(1))}static{this.\u0275fac=function(S){return new(S||u)(T.KVO(M.B),T.KVO(h.o),T.KVO(_.$),T.KVO(y.Y),T.KVO(O.j),T.KVO(m.I),T.KVO(v.BitstreamDataService))}}static{this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},8917:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationDataService:()=>h});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let h=(()=>{class _ extends e.W{constructor(v,D,O,M){super("properties",v,D,O,M),this.requestService=v,this.rdbService=D,this.objectCache=O,this.halService=M}findByPropertyName(v){return this.findById(v)}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},37419:(N,b,n)=>{"use strict";n.d(b,{Y:()=>h});var i=n(93583),t=n(21921),l=n(74850);class e{constructor(y){this.modelType=y}serialize(y){return f((0,l.Serialize)(y,this.modelType))}serializeArray(y){return f((0,l.Serialize)(y,this.modelType))}deserialize(y){if(Array.isArray(y))throw new Error("Expected a single model, use deserializeArray() instead");return(0,l.Deserialize)(y,this.modelType)}deserializeArray(y){if(!Array.isArray(y))throw new Error("Expected an Array, use deserialize() instead");return(0,l.Deserialize)(y,this.modelType)}}function f(_){const y={};for(const[v,D]of Object.entries(_))null!==D&&(y[v]=D);return y}var m=n(54438);let h=(()=>{class _{diff(v,D){const O=new e((0,t.Qt)(v.type)),M=new e((0,t.Qt)(D.type));return(0,i.UD)(O.serialize(v),M.serialize(D))}static{this.\u0275fac=function(D){return new(D||_)}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},12598:(N,b,n)=>{"use strict";n.d(b,{j:()=>f});var i=n(93583),t=n(84418),l=n.n(t),e=n(54438);let f=(()=>{class m{diff(_,y){return(0,i.UD)(this.filterUUIDsFromMetadata(_.metadata),this.filterUUIDsFromMetadata(y.metadata)).map(v=>Object.assign({},v,{path:"/metadata"+v.path}))}filterUUIDsFromMetadata(_){const y=l()(_);for(const v of Object.keys(y))for(const D of y[v])D.uuid=void 0;return y}static{this.\u0275fac=function(y){return new(y||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},13989:(N,b,n)=>{"use strict";n.r(b),n.d(b,{DSpaceObjectDataService:()=>h});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let h=(()=>{class _ extends e.W{constructor(v,D,O,M){super("dso",v,D,O,M,void 0,(T,R)=>T.replace(/{\?uuid}/,`?uuid=${R}`)),this.requestService=v,this.rdbService=D,this.objectCache=O,this.halService=M}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},49872:(N,b,n)=>{"use strict";n.d(b,{D3:()=>u,k_:()=>M});var i=n(88280),t=n(82777),l=n(21921),e=n(41684),f=n(13808),m=n(28580),h=n(69227),_=n(32089),y=n(45663),v=n(96820),D=n(43377),O=n(54438);function M(w){return(0,t.a4)(w)&&(0,t.a4)(w._links)&&(0,t.a4)(w._links.self)&&(0,t.a4)(w._links.self.href)}const R=w=>w.split("?").map(C=>C.split("&")).reduce((C,S)=>[...C,...S]);let u=(()=>{class w{constructor(S){this.objectCache=S,this.serializerConstructor=m.T}parse(S,I){let L;I=this.ensureSelfLink(S,I),S.method===D.D.GET&&(L=(0,h.tJ)(S.href));const B=this.process(I.payload,S,L);return(0,t.a4)(B)?M(B)?new f.hT(I.statusCode,B._links.self):new f.hT(I.statusCode,void 0,B):new f.hT(I.statusCode)}process(S,I,L){const B=(0,h.fW)(I.href);if((0,t.hj)(S)){if((0,t.Tn)(S)||"object"!=typeof S)return S;if(function T(w){return(0,t.a4)(w.page)&&(0,t.a4)(w.page.size)&&(0,t.a4)(w.page.totalElements)&&(0,t.a4)(w.page.totalPages)&&(0,t.a4)(w.page.number)}(S))return this.processPaginatedList(S,I,L);if(Array.isArray(S))return this.processArray(S,I);if(M(S)){const W=this.deserialize(S);return(0,t.hj)(S._embedded)&&Object.keys(S._embedded).filter(j=>S._embedded.hasOwnProperty(j)).forEach(j=>{let G=S._links[j].href;const H=B.find(V=>V.name===j);(0,t.a4)(H)&&(G=new y.t(G,`?size=${H.size}`).toString()),null==S._embedded[j]?this.addToObjectCache(null,I,S,G):M(S._embedded[j])||this.objectCache.add(S._embedded[j],(0,t.a4)(I.responseMsToLive)?I.responseMsToLive:i.c.cache.msToLive.default,I.uuid,G),this.process(S._embedded[j],I,G)}),this.addToObjectCache(W,I,S,L),W}const U={};return Object.keys(S).filter(W=>S.hasOwnProperty(W)).filter(W=>(0,t.a4)(S[W])).forEach(W=>{U[W]=this.process(S[W],I)}),U}}ensureSelfLink(S,I){const L=(0,h.tJ)(S.href);if(S.method===D.D.GET&&(0,t.a4)(I)&&(0,t.a4)(I.payload)&&(0,t.a4)(I.payload._links))if((0,t.Tn)(I.payload._links.self)||(0,t.Tn)(I.payload._links.self.href))console.warn(`The response for '${S.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),I.payload._links=Object.assign({},I.payload._links,{self:{href:L}});else{const B=R(L),U=R(I.payload._links.self.href);B[0]===U[0]&&(B.some(W=>!U.includes(W))||U.some(W=>!B.includes(W)))&&(console.warn(`The response for '${L}' has the self link '${I.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),I.payload._links=Object.assign({},I.payload._links,{self:{href:L}}))}return I}processPaginatedList(S,I,L){const B=this.processPageInfo(S);let U=S._embedded;(0,t.Tn)(U)?U=[]:Array.isArray(U)||(U=this.flattenSingleKeyObject(U));const W=this.processArray(U,I),j=(0,v.g)(B,W,!0,S._links);return this.addToObjectCache(j,I,S,L),j}processArray(S,I){let L=[];return S.forEach(B=>{L=[...L,this.process(B,I)]}),L}deserialize(S){const I=S.type,L=this.getConstructorFor(I);return(0,t.a4)(L)?new this.serializerConstructor(L).deserialize(S):(console.warn("cannot deserialize type "+I),null)}getConstructorFor(S){return(0,t.a4)(S)?(0,l.Qt)(S):null}addToObjectCache(S,I,L,B){if((0,t.a4)(S)&&!M(S)){const U=(0,t.a4)(L)&&(0,t.a4)(L.type)?L.type:"object";let W;return W=(0,t.a4)(L._embedded)?JSON.stringify(Object.assign({},L,{_embedded:"..."})):JSON.stringify(L),void console.warn(`Can't cache incomplete ${U}: ${JSON.stringify(S)}, parsed from (partial) response: ${W}`)}(0,t.a4)(S)&&B===S._links.self.href&&(B=void 0),this.objectCache.add(S,(0,t.a4)(I.responseMsToLive)?I.responseMsToLive:i.c.cache.msToLive.default,I.uuid,B)}processPageInfo(S){if((0,t.a4)(S.page)){const I=new m.T(_.Q).deserialize(S.page);return I.currentPage>=0&&Object.assign(I,{currentPage:I.currentPage+1}),I}}flattenSingleKeyObject(S){const I=Object.keys(S);if(1!==I.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(S)}`);return S[I[0]]}isSuccessStatus(S){return S>=200&&S<300}static{this.\u0275fac=function(I){return new(I||w)(O.KVO(e.$))}}static{this.\u0275prov=O.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},30077:(N,b,n)=>{"use strict";n.d(b,{f:()=>T});var i=n(25558),t=n(96354),l=n(96697),e=n(72734),f=n(41684),m=n(4910),h=n(80183),_=n(49802),y=n(46787),v=n(35108),D=n(38096),O=n(32473),M=n(54438);let T=(()=>{class R extends _.L{constructor(w,C,S,I,L){super("entitytypes",w,C,S,I),this.requestService=w,this.rdbService=C,this.objectCache=S,this.halService=I,this.relationshipTypeService=L,this.findAllData=new y.H(this.linkPath,w,C,S,I,this.responseMsToLive),this.searchData=new v.X(this.linkPath,w,C,S,I,this.responseMsToLive)}getBrowseEndpoint(w,C){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(C=>this.halService.getEndpoint("relationshiptypes",`${C}/${w}`)))}isLeftType(w,C){return w.leftType.pipe((0,h.yd)(),(0,h.Bo)(),(0,t.T)(S=>S.uuid===C.uuid))}getAllAuthorizedRelationshipType(w={}){return this.searchBy("findAllByAuthorizedCollection",w).pipe((0,h.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(C=>{let S;return S=!!C.payload&&C.payload.page.length>1,S}))}getAllAuthorizedRelationshipTypeImport(w={}){return this.searchBy("findAllByAuthorizedExternalSource",w).pipe((0,h.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,l.s)(1),(0,t.T)(C=>C?.payload?.totalElements>1))}getEntityTypeRelationships(w,C=!0,S=!0,...I){const L=this.getRelationshipTypesEndpoint(w);return this.relationshipTypeService.findListByHref(L,void 0,C,S,...I)}getEntityTypeByLabel(w){return this.halService.getEndpoint(this.linkPath).pipe((0,l.s)(1),(0,i.n)(C=>this.findByHref(C+"/label/"+w)))}findAll(w,C,S,...I){return this.findAllData.findAll(w,C,S,...I)}searchBy(w,C,S,I,...L){return this.searchData.searchBy(w,C,S,I,...L)}static{this.\u0275fac=function(C){return new(C||R)(M.KVO(O.B),M.KVO(e.o),M.KVO(f.$),M.KVO(m.Y),M.KVO(D.RelationshipTypeDataService))}}static{this.\u0275prov=M.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},57514:(N,b,n)=>{"use strict";n.d(b,{Q:()=>M});var i=n(96354),t=n(25558),l=n(23294),e=n(96697),f=n(82777),m=n(72734),h=n(41684),_=n(4910),y=n(63897),v=n(35108),D=n(32473),O=n(54438);let M=(()=>{class T extends y.W{constructor(u,w,C,S){super("externalsources",u,w,C,S),this.requestService=u,this.rdbService=w,this.objectCache=C,this.halService=S,this.searchData=new v.X(this.linkPath,u,w,C,S,this.responseMsToLive)}getBrowseEndpoint(u={},w=this.linkPath){return this.halService.getEndpoint(w)}getEntriesEndpoint(u){return this.getBrowseEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,u)),(0,t.n)(w=>this.halService.getEndpoint("entries",w)))}getExternalSourceEntries(u,w,C=!0,S=!0,...I){const L=this.getEntriesEndpoint(u).pipe((0,f.VT)(),(0,l.F)(),(0,i.T)(B=>(0,f.a4)(w)?w.toRestUrl(B):B),(0,e.s)(1));return this.hasCachedErrorResponse(L).pipe((0,t.n)(B=>this.findListByHref(L,void 0,!B,S,...I)))}searchBy(u,w,C,S,...I){return this.searchData.searchBy(u,w,C,S,...I)}static{this.\u0275fac=function(w){return new(w||T)(O.KVO(D.B),O.KVO(m.o),O.KVO(h.$),O.KVO(_.Y))}}static{this.\u0275prov=O.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},65007:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AuthorizationDataService:()=>U});var i=n(7673),t=n(96354),l=n(99437),e=n(25558),f=n(82777),m=n(67600),h=n(72734),_=n(53954),y=n(41684),v=n(4910),D=n(80183),O=n(49802),M=n(35108),T=n(41023),R=n(32473),u=n(5090);class w{constructor(j,G,H){this.objectUrl=j,this.ePersonUuid=G,this.featureId=H}}var C=n(84572),B=n(54438);let U=(()=>{class W extends O.L{constructor(G,H,V,X,J){super("authorizations",G,H,V,X),this.requestService=G,this.rdbService=H,this.objectCache=V,this.halService=X,this.siteService=J,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new M.X(this.linkPath,G,H,V,X,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(G,H,V,X=!0,J=!0){return this.searchByObject(G,H,V,{},X,J,(0,m.s)("feature")).pipe((0,D.qD)(),(0,t.T)(q=>401!==q.statusCode&&(0,f.a4)(q.payload)&&(0,f.hj)(q.payload.page)?q.payload.page:[]),(0,l.W)(()=>(0,i.of)([])),(W=>j=>j.pipe((0,e.n)(G=>(0,f.hj)(G)?(0,C.z)([...G.filter(H=>(0,f.a4)(H.feature)).map(H=>H.feature.pipe((0,D.ak)()))]):(0,i.of)([])),(0,t.T)(G=>G.filter(H=>H.id===W.valueOf()).length>0)))(G))}searchByObject(G,H,V,X={},J=!0,q=!0,...Q){const Y=(0,i.of)(H).pipe((0,e.n)(Z=>(0,f.Tn)(Z)?this.siteService.find().pipe((0,t.T)(oe=>oe.self)):(0,i.of)(Z))),z=Y.pipe((0,t.T)(Z=>new w(Z,V,G)),(0,e.n)(Z=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(Z.objectUrl,X,Z.ePersonUuid,Z.featureId),J,q,...Q)));return this.addDependency(z,Y),z}createSearchOptions(G,H={},V,X){let J=[];return(0,f.hj)(H.searchParams)&&(J=[...H.searchParams]),J.push(new _.x("uri",G,!1)),(0,f.a4)(X)&&J.push(new _.x("feature",X)),(0,f.a4)(V)&&J.push(new _.x("eperson",V)),Object.assign(new T._,H,{searchParams:[...J]})}searchBy(G,H,V,X,...J){return this.searchData.searchBy(G,H,V,X,...J)}static{this.\u0275fac=function(H){return new(H||W)(B.KVO(R.B),B.KVO(h.o),B.KVO(y.$),B.KVO(v.Y),B.KVO(u.SiteDataService))}}static{this.\u0275prov=B.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},36673:(N,b,n)=>{"use strict";n.d(b,{i:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.CanManageGroups))},89673:(N,b,n)=>{"use strict";n.d(b,{L:()=>l});var i=n(96354),t=n(51581);const l=(e,f,m)=>(0,t.h)((h,_)=>e(h,_).pipe((0,i.T)(y=>[y])),f,m)},36329:(N,b,n)=>{"use strict";n.d(b,{Y:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.AdministratorOf))},51581:(N,b,n)=>{"use strict";n.d(b,{h:()=>v});var i=n(54438),t=n(7901),l=n(7673),e=n(84572),f=n(25558),m=n(67116),h=n(308),_=n(65007);const y=()=>(0,l.of)(void 0),v=(D,O=y,M=y)=>(T,R)=>{const u=(0,i.WQX)(_.AuthorizationDataService),w=(0,i.WQX)(t.Ix),C=(0,i.WQX)(m.uR);return(0,e.z)([D(T,R),O(T,R),M(T,R)]).pipe((0,f.n)(([S,I,L])=>(0,e.z)(S.map(B=>u.isAuthorized(B,I,L)))),(0,h.ci)(w,C,R.url))}},3970:(N,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},41023:(N,b,n)=>{"use strict";n.d(b,{_:()=>i});class i{}},70413:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HrefOnlyDataService:()=>h});var i=n(72734),t=n(41684),l=n(4910),e=n(49802),f=n(32473),m=n(54438);let h=(()=>{class _{constructor(v,D,O,M){this.requestService=v,this.rdbService=D,this.objectCache=O,this.halService=M,this.dataService=new e.L(void 0,v,D,O,M)}findByHref(v,D=!0,O=!0,...M){return this.dataService.findByHref(v,D,O,...M)}findListByHref(v,D={},O=!0,M=!0,...T){return this.dataService.findListByHref(v,D,O,M,...T)}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},29326:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BaseItemDataService:()=>G,ItemDataService:()=>H});var i=n(21626),t=n(5964),l=n(96354),e=n(23294),f=n(25558),m=n(96697),h=n(47677),_=n(82777),y=n(39806),v=n(37864),D=n(72734),O=n(41684),M=n(4910),T=n(91098),R=n(45663),u=n(39280),w=n(13617),C=n(63897),S=n(87158),I=n(81443),L=n(12598),B=n(43052),U=n(32473),W=n(14410),j=n(54438);class G extends C.W{constructor(X,J,q,Q,Y,z,Z,oe,se,de=((te,le)=>`${te}/${le}`)){super(X,J,q,Q,Y,void 0,de),this.linkPath=X,this.requestService=J,this.rdbService=q,this.objectCache=Q,this.halService=Y,this.notificationsService=z,this.comparator=Z,this.browseService=oe,this.bundleService=se,this.constructIdEndpoint=de,this.createData=new u.V(this.linkPath,J,q,Q,Y,z,this.responseMsToLive),this.patchData=new S.n(this.linkPath,J,q,Q,Y,Z,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,J,q,Q,Y,z,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(X={},J=this.linkPath){let q="dc.date.issued";return X.sort&&X.sort.field&&(q=X.sort.field),this.browseService.getBrowseURLFor(q,J).pipe((0,t.p)(Q=>(0,_.hj)(Q)),(0,l.T)(Q=>new R.t(Q,`?scope=${X.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(q=>this.getIDHref(q,X)),(0,l.T)(q=>`${q}/mappedCollections${J?`/${J}`:""}`))}removeMappingFromCollection(X,J){return this.getMappedCollectionsEndpoint(X,J).pipe((0,_.VT)(),(0,e.F)(),(0,l.T)(q=>new B.$(this.requestService.generateRequestId(),q)),(0,T.w$)(this.requestService),(0,f.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)))}mapToCollection(X,J){return this.getMappedCollectionsEndpoint(X).pipe((0,_.VT)(),(0,e.F)(),(0,l.T)(q=>{const Q=Object.create({});let Y=new i.Lr;return Y=Y.append("Content-Type","text/uri-list"),Q.headers=Y,new B.Qf(this.requestService.generateRequestId(),q,J,Q)}),(0,T.w$)(this.requestService),(0,f.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)))}setWithDrawn(X,J){const q={op:"replace",path:"/withdrawn",value:J};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[q])}setDiscoverable(X,J){const q={op:"replace",path:"/discoverable",value:J};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[q])}getBundlesEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("bundles",`${J}/${X}`)))}getBundles(X,J){const q=this.getBundlesEndpoint(X).pipe((0,l.T)(Q=>J?J.toRestUrl(Q):Q));return q.pipe((0,m.s)(1)).subscribe(Q=>{const Y=new B.IP(this.requestService.generateRequestId(),Q);this.requestService.send(Y)}),this.rdbService.buildList(q)}createBundle(X,J,q){const Q=this.requestService.generateRequestId(),Y=this.getBundlesEndpoint(X),z={name:J,metadata:q||{}};return Y.pipe((0,m.s)(1)).subscribe(Z=>{const oe=Object.create({});let se=new i.Lr;se=se.append("Content-Type","application/json"),oe.headers=se;const de=new B.Qf(Q,Z,JSON.stringify(z),oe);this.requestService.send(de)}),this.rdbService.buildFromRequestUUID(Q)}getIdentifiersEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("identifiers",`${J}/${X}`)))}getMoveItemEndpoint(X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(q=>this.getIDHref(q,X)),(0,l.T)(q=>`${q}/owningCollection?inheritPolicies=${J}`))}moveToCollection(X,J,q){const Q=Object.create({});let Y=new i.Lr;Y=Y.append("Content-Type","text/uri-list"),Q.headers=Y;const z=this.requestService.generateRequestId();return this.getMoveItemEndpoint(X,q).pipe((0,h.I)(oe=>(0,_.a4)(oe)),(0,l.T)(oe=>{const se=new B.v_(z,oe,J._links.self.href,Q);return Object.assign(se,{getResponseParser:()=>W.M}),se})).subscribe(oe=>{this.requestService.send(oe)}),this.rdbService.buildFromRequestUUID(z)}importExternalSourceEntry(X,J){const q=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),q.headers=Q;const Y=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(Z=>`${Z}?owningCollection=${J}`)).pipe((0,h.I)(Z=>(0,_.a4)(Z)),(0,l.T)(Z=>{const oe=new B.Qf(Y,Z,X._links.self.href,q);this.requestService.send(oe)})).subscribe(),this.rdbService.buildFromRequestUUID(Y)}getBitstreamsEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("bitstreams",`${J}/${X}`)))}invalidateItemCache(X){this.requestService.setStaleByHrefSubstring("item/"+X)}commitUpdates(X){this.patchData.commitUpdates(X)}patch(X,J){return this.patchData.patch(X,J)}update(X){return this.patchData.update(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}delete(X,J){return this.deleteData.delete(X,J)}deleteByHref(X,J){return this.deleteData.deleteByHref(X,J)}create(X,...J){return this.createData.create(X,...J)}}let H=(()=>{class V extends G{constructor(J,q,Q,Y,z,Z,oe,se){super("items",J,q,Q,Y,z,Z,oe,se),this.requestService=J,this.rdbService=q,this.objectCache=Q,this.halService=Y,this.notificationsService=z,this.comparator=Z,this.browseService=oe,this.bundleService=se}static{this.\u0275fac=function(q){return new(q||V)(j.KVO(U.B),j.KVO(D.o),j.KVO(O.$),j.KVO(M.Y),j.KVO(y.I),j.KVO(L.j),j.KVO(v.q),j.KVO(I.BundleDataService))}}static{this.\u0275prov=j.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},57568:(N,b,n)=>{"use strict";n.d(b,{c:()=>V});var i=n(92771),t=n(30017),l=n(98071),e=n(21413),f=n(58750),m=n(39974),h=n(71985);const y={connector:()=>new e.B};var O=n(77048),M=n(79131),T=n(9326),R=n(22806),w=n(96697),C=n(96354),S=n(99172),I=n(23294),L=n(23401),B=n(33550),U=n(80183),W=n(78655),j=n(57514),G=n(32473),H=n(54438);let V=(()=>{class X{constructor(q,Q,Y){this.externalSourceService=q,this.searchService=Q,this.requestService=Y,this.singleResultOptions=Object.assign(new L.W,{id:"single-result-options",pageSize:1})}getLocalResults(q,Q,Y=!0){const z=Object.assign(new B.C({}),Q,{fixedFilter:q.filter,configuration:q.searchConfiguration});return Y&&(this.searchConfig=z),this.searchService.search(z).pipe(function D(X,J){const q=(0,l.T)(X)?X:()=>X;return(0,l.T)(J)?function v(X,J=y){const{connector:q}=J;return(0,m.N)((Q,Y)=>{const z=q();(0,f.Tg)(X(function _(X){return new h.c(J=>X.subscribe(J))}(z))).subscribe(Y),Y.add(Q.subscribe(z))})}(J,{connector:q}):Q=>new t.G(Q,q)}(()=>new i.m(1),Z=>Z.pipe((0,O.v)(oe=>oe.isLoading),function u(...X){const J=(0,T.lI)(X);return(0,m.N)((q,Q)=>{(0,M.K)()((0,R.H)([q,...X],J)).subscribe(Q)})}(Z.pipe((0,w.s)(1))))))}getTotalLocalResults(q,Q){return this.getLocalResults(q,Object.assign(new B.C({}),Q,{pagination:this.singleResultOptions}),!1).pipe((0,U.v7)(),(0,U.Bo)(),(0,C.T)(Y=>Y.totalElements),(0,S.Z)(0))}getTotalExternalResults(q,Q){return this.externalSourceService.getExternalSourceEntries(q.id,Object.assign(new B.C({}),Q,{pagination:this.singleResultOptions})).pipe((0,U.v7)(),(0,U.Bo)(),(0,C.T)(Y=>Y.totalElements),(0,S.Z)(0),(0,I.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(q=>this.requestService.removeByHrefSubstring(q))}static{this.\u0275fac=function(Q){return new(Q||X)(H.KVO(j.Q),H.KVO(W.S),H.KVO(G.B))}}static{this.\u0275prov=H.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},25103:(N,b,n)=>{"use strict";n.d(b,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},16105:(N,b,n)=>{"use strict";n.d(b,{Ft:()=>t,KD:()=>m,S3:()=>v,XO:()=>e,Y8:()=>_,g$:()=>l,jX:()=>y,mW:()=>O,nY:()=>f,wS:()=>h,zJ:()=>D});var i=n(91e3);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class l{constructor(T,R,u,w){this.type=t.INITIALIZE_FIELDS,this.payload={url:T,fields:R,lastModified:u,patchOperationService:w}}}class e{constructor(T,R,u){this.type=t.ADD_FIELD,this.payload={url:T,field:R,changeType:u}}}class f{constructor(T,R,u,w){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:T,source:R,uuid:u,select:w}}}class m{constructor(T,R,u){this.type=t.SET_EDITABLE_FIELD,this.payload={url:T,uuid:R,editable:u}}}class h{constructor(T,R,u){this.type=t.SET_VALID_FIELD,this.payload={url:T,uuid:R,isValid:u}}}class _{constructor(T,R,u=!1){this.type=t.DISCARD,this.payload={url:T,notification:R,discardAll:u}}}class y{constructor(T){this.type=t.REINSTATE,this.payload={url:T}}}class v{constructor(T){this.type=t.REMOVE,this.payload={url:T}}}class D{constructor(){this.type=t.REMOVE_ALL}}class O{constructor(T,R){this.type=t.REMOVE_FIELD,this.payload={url:T,uuid:R}}}},66898:(N,b,n)=>{"use strict";n.d(b,{O:()=>_,U:()=>e});var i=n(82777),t=n(25103),l=n(16105);const e="/trash",f={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},h=Object.create(null);function _(U=h,W){switch(W.type){case l.Ft.INITIALIZE_FIELDS:return function y(U,W){const j=W.payload.url,H=W.payload.lastModified,V=W.payload.patchOperationService,X=function B(U){const W=U.map(G=>G.uuid),j={};return W.forEach(G=>j[G]=f),j}(W.payload.fields),J=Object.assign({},U[j],{fieldStates:X},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:H},{patchOperationService:V});return Object.assign({},U,{[j]:J})}(U,W);case l.Ft.ADD_FIELD:return function v(U,W){const j=W.payload.url,G=W.payload.field,H=W.payload.changeType,V=U[j]||{fieldUpdates:{}};let X=V.fieldStates;H===t.B.ADD&&(X=Object.assign({},{[G.uuid]:m},V.fieldStates));let J=V.fieldUpdates[G.uuid]||{};const q=function S(U,W){return(0,i.Tn)(W)?U:(0,i.Tn)(U)?W:U.valueOf()>W.valueOf()?U:W}(J.changeType,H);J=Object.assign({},{field:G,changeType:q});const Q=Object.assign({},V.fieldUpdates,{[G.uuid]:J}),Y=Object.assign({},V,{fieldStates:X},{fieldUpdates:Q});return Object.assign({},U,{[j]:Y})}(U,W);case l.Ft.SELECT_VIRTUAL_METADATA:return function D(U,W){const j=W.payload.url,G=W.payload.source,X=U[j]||{},J=Object.assign({},X.virtualMetadataSources[G],{[W.payload.uuid]:W.payload.select}),q=Object.assign({},X.virtualMetadataSources,{[G]:J}),Q=Object.assign({},X,{virtualMetadataSources:q});return Object.assign({},U,{[j]:Q})}(U,W);case l.Ft.DISCARD:return function O(U,W){if(W.payload.discardAll){let j=Object.assign({},U);return Object.keys(U).filter(G=>!G.endsWith(e)).forEach(G=>{j=M(G,j)}),j}return M(W.payload.url,U)}(U,W);case l.Ft.REINSTATE:return function T(U,W){const j=W.payload.url,H=Object.assign({},U,{[j]:U[j+e]});return delete H[j+e],H}(U,W);case l.Ft.REMOVE:return function R(U,W){return function u(U,W){const j=Object.assign({},U);return delete j[W+e],j}(U,W.payload.url)}(U,W);case l.Ft.REMOVE_ALL:return function w(U){const W=Object.assign({},U);return Object.keys(U).filter(j=>j.endsWith(e)).forEach(j=>{delete W[j]}),W}(U);case l.Ft.REMOVE_FIELD:return function C(U,W){const j=W.payload.url,G=W.payload.uuid;let H=U[j];if((0,i.a4)(H)){const V=Object.assign({},H.fieldUpdates);(0,i.a4)(V[G])&&delete V[G];const X=Object.assign({},H.fieldStates);(0,i.a4)(X[G])&&(X[G].isNew?delete X[G]:X[G]=Object.assign({},X[G],{editable:!1,isValid:!0})),H=Object.assign({},U[j],{fieldUpdates:V,fieldStates:X})}return Object.assign({},U,{[j]:H})}(U,W);case l.Ft.SET_EDITABLE_FIELD:return function I(U,W){const j=W.payload.url,G=W.payload.uuid,V=U[j],J=Object.assign({},V.fieldStates[G],{editable:W.payload.editable}),q=Object.assign({},V.fieldStates,{[G]:J}),Q=Object.assign({},V,{fieldStates:q});return Object.assign({},U,{[j]:Q})}(U,W);case l.Ft.SET_VALID_FIELD:return function L(U,W){const j=W.payload.url,G=W.payload.uuid,V=U[j],J=Object.assign({},V.fieldStates[G],{isValid:W.payload.isValid}),q=Object.assign({},V.fieldStates,{[G]:J}),Q=Object.assign({},V,{fieldStates:q});return Object.assign({},U,{[j]:Q})}(U,W);default:return U}}function M(U,W){const j=W[U],G={};Object.keys(j.fieldStates).forEach(V=>{const X=j.fieldStates[V];X.isNew||(G[V]=Object.assign({},X,{editable:!1,isValid:!0}))});const H=Object.assign({},j,{fieldUpdates:{},fieldStates:G});return Object.assign({},W,{[U]:H},{[U+e]:j})}},96820:(N,b,n)=>{"use strict";n.d(b,{O:()=>D,g:()=>v});var i=n(31635),t=n(74850),l=n(82777),e=n(21921),f=n(56970),m=n(32089),h=n(42547),_=n(98688),y=n(74346);const v=(O,M,T=!1,R)=>{const u=new D;let w;return(0,l.Tn)(O)&&(O=new m.Q),u.pageInfo=O,(0,l.Im)(M)?w=[]:(w=M.map(C=>(0,l.a4)(C)&&(0,l.a4)(C._links)&&(0,l.a4)(C._links.self)?C._links.self:null),w.every(C=>(0,l.Tn)(C))&&(w=void 0)),u._links=Object.assign({},R,O._links,{page:w}),(!T||(0,l.b0)(w))&&(u.page=M),u};let D=class extends f.I{constructor(){super(...arguments),this.type=y.v}static{this.type=y.v}get elementsPerPage(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(M){this.pageInfo.elementsPerPage=M}get totalElements(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(M){this.pageInfo.totalElements=M}get totalPages(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(M){this.pageInfo.totalPages=M}get currentPage(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(M){this.pageInfo.currentPage=M}get first(){if((0,l.a4)(this._links.first)&&(0,l.a4)(this._links.first.href))return this._links.first.href}set first(M){this._links.first={href:M},this.pageInfo._links.first={href:M}}get prev(){if((0,l.a4)(this._links.prev)&&(0,l.a4)(this._links.prev.href))return this._links.prev.href}set prev(M){this._links.prev={href:M},this.pageInfo._links.prev={href:M}}get next(){if((0,l.a4)(this._links.next)&&(0,l.a4)(this._links.next.href))return this._links.next.href}set next(M){this._links.next={href:M},this.pageInfo._links.next={href:M}}get last(){if((0,l.a4)(this._links.last)&&(0,l.a4)(this._links.last.href))return this._links.last.href}set last(M){this._links.last={href:M},this.pageInfo._links.last={href:M}}get self(){return this._links.self.href}set self(M){this._links.self={href:M},this.pageInfo._links.self={href:M}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([_.aK,(0,i.Sn)("design:type",Object)],D.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",h.v)],D.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],D.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],D.prototype,"_links",void 0),D=(0,i.Cg)([e.gV],D)},74346:(N,b,n)=>{"use strict";n.d(b,{v:()=>t});const t=new(n(42547).v)("paginated-list")},32736:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BATCH_EXPORT_SCRIPT_NAME:()=>w,BATCH_IMPORT_SCRIPT_NAME:()=>u,METADATA_EXPORT_SCRIPT_NAME:()=>R,METADATA_IMPORT_SCRIPT_NAME:()=>T,ScriptDataService:()=>C});var i=n(96697),t=n(96354),l=n(82777),e=n(72734),f=n(41684),m=n(4910),h=n(80183),_=n(45663),y=n(46787),v=n(63897),D=n(43052),O=n(32473),M=n(54438);const T="metadata-import",R="metadata-export",u="import",w="export";let C=(()=>{class S extends v.W{constructor(L,B,U,W){super("scripts",L,B,U,W),this.requestService=L,this.rdbService=B,this.objectCache=U,this.halService=W,this.findAllData=new y.H(this.linkPath,L,B,U,W,this.responseMsToLive)}invoke(L,B,U){const W=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(j=>new _.t(j,L,"processes").toString()),(0,t.T)(j=>{const G=this.getInvocationFormData(B,U);return new D.E0(W,j,G)})).subscribe(j=>this.requestService.send(j)),this.rdbService.buildFromRequestUUID(W)}getInvocationFormData(L,B){const U=new FormData;return U.set("properties",JSON.stringify(L)),B.forEach(W=>{U.append("file",W)}),U}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,h.qD)(),(0,t.T)(B=>(0,l.a4)(B.payload)))}findAll(L,B,U,...W){return this.findAllData.findAll(L,B,U,...W)}static{this.\u0275fac=function(B){return new(B||S)(M.KVO(O.B),M.KVO(e.o),M.KVO(f.$),M.KVO(m.Y))}}static{this.\u0275prov=M.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},48833:(N,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipDataService:()=>pe});var i=n(21626),t=n(25499),l=n(84572),e=n(7673),f=n(96354),m=n(96697),h=n(23294),_=n(25558),y=n(88141),v=n(5964),D=n(99172),O=n(73028),M=n(82640),T=n(72352),R=n(46588),u=n(82777),w=n(94337),C=n(67600),S=n(49656),I=n(72734),L=n(53954),B=n(41684),U=n(5410),W=n(4910),j=n(67359),G=n(93498),H=n(90424),V=n(80183),X=n(91098),J=n(63897),q=n(91967),Q=n(35108),Y=n(41023),z=n(29326),Z=n(43052),oe=n(32473),se=n(7434),de=n(54438);const te=re=>re.relationshipLists,le=re=>(0,T.pc)(re,te),be=re=>ye=>ye.pipe((0,V.ak)(),(0,f.T)(De=>De.uuid===re.uuid));let pe=(()=>{class re extends J.W{constructor(De,nt,mt,xe,ot,$e,Fe,st,Ie){super("relationships",De,nt,xe,mt,9e5),this.requestService=De,this.rdbService=nt,this.halService=mt,this.objectCache=xe,this.metadataService=ot,this.itemService=$e,this.appStore=Fe,this.paginatedRelationsToItems=st,this.appConfig=Ie,this.searchData=new Q.X(this.linkPath,De,nt,xe,mt,this.responseMsToLive),this.putData=new q.W(this.linkPath,De,nt,xe,mt,this.responseMsToLive)}getRelationshipEndpoint(De){return this.getBrowseEndpoint().pipe((0,f.T)(nt=>`${nt}/${De}`))}deleteRelationship(De,nt,mt=!0){return this.getRelationshipEndpoint(De).pipe((0,u.VT)(),(0,m.s)(1),(0,h.F)(),(0,f.T)(xe=>new Z.$(this.requestService.generateRequestId(),xe+"?copyVirtualMetadata="+nt)),(0,X.w$)(this.requestService),(0,_.n)(xe=>this.rdbService.buildFromRequestUUID(xe.uuid)),(0,V.qD)(),(0,y.M)(()=>{mt&&this.refreshRelationshipItemsInCacheByRelationship(De)}))}addRelationship(De,nt,mt,xe,ot,$e=!0){const Fe=Object.create({});let st=new i.Lr;return st=st.append("Content-Type","text/uri-list"),Fe.headers=st,this.halService.getEndpoint(this.linkPath).pipe((0,u.VT)(),(0,m.s)(1),(0,f.T)(Ie=>`${Ie}?relationshipType=${De}`),(0,f.T)(Ie=>(0,u.hj)(xe)?`${Ie}&leftwardValue=${xe}`:Ie),(0,f.T)(Ie=>(0,u.hj)(ot)?`${Ie}&rightwardValue=${ot}`:Ie),(0,f.T)(Ie=>new Z.Qf(this.requestService.generateRequestId(),Ie,`${nt.self} \n ${mt.self}`,Fe)),(0,X.w$)(this.requestService),(0,_.n)(Ie=>this.rdbService.buildFromRequestUUID(Ie.uuid)),(0,V.qD)(),(0,y.M)(()=>{$e&&(this.refreshRelationshipItemsInCache(nt),this.refreshRelationshipItemsInCache(mt))}))}refreshRelationshipItemsInCacheByRelationship(De){this.findById(De,!0,!1,(0,C.s)("leftItem"),(0,C.s)("rightItem")).pipe((0,V.yd)(),(0,V.Bo)(),(0,_.n)(nt=>(0,l.z)(nt.leftItem.pipe((0,V.yd)(),(0,V.Bo)()),nt.rightItem.pipe((0,V.yd)(),(0,V.Bo)()))),(0,m.s)(1)).subscribe(([nt,mt])=>{this.refreshRelationshipItemsInCache(nt),this.refreshRelationshipItemsInCache(mt)})}refreshRelationshipItemsInCache(De){this.objectCache.remove(De._links.self.href),this.requestService.removeByHrefSubstring(De.uuid),(0,l.z)([this.objectCache.hasByHref$(De._links.self.href),this.requestService.hasByHref$(De.self)]).pipe((0,v.p)(([nt,mt])=>!nt&&!mt),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(De._links.self.href))}getItemRelationshipsArray(De,...nt){return this.findListByHref(De._links.relationships.href,void 0,!0,!1,...nt).pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)(mt=>mt.page),(0,u.Az)(),(0,h.F)((0,R.W2)()))}getRelationshipTypeLabelsByItem(De){return this.getItemRelationshipsArray(De,(0,C.s)("leftItem"),(0,C.s)("rightItem"),(0,C.s)("relationshipType")).pipe((0,_.n)(nt=>(0,l.z)(nt.map(mt=>this.getRelationshipTypeLabelByRelationshipAndItem(mt,De)))),(0,f.T)(nt=>Array.from(new Set(nt))))}getRelationshipTypeLabelByRelationshipAndItem(De,nt){return De.leftItem.pipe((0,V.yd)(),(0,f.T)(mt=>mt.payload),(0,_.n)(mt=>De.relationshipType.pipe((0,V.yd)(),(0,f.T)(xe=>xe.payload),(0,f.T)(xe=>mt.uuid===nt.uuid?xe.leftwardType:xe.rightwardType))))}getRelatedItems(De){return this.getItemRelationshipsArray(De,(0,C.s)("leftItem"),(0,C.s)("rightItem"),(0,C.s)("relationshipType")).pipe((0,R.NG)(De.uuid))}getRelatedItemsByLabel(De,nt,mt){const xe=(0,S.nW)(mt.fetchThumbnail,this.appConfig.item.showAccessStatuses);return xe.push((0,C.s)("relationshipType")),this.getItemRelationshipsByLabel(De,nt,mt,!0,!0,...xe).pipe(this.paginatedRelationsToItems(De.uuid))}getItemRelationshipsByLabel(De,nt,mt,xe=!0,ot=!0,...$e){let Fe=new Y._;mt&&(Fe=Object.assign(new Y._,mt));const st=[new L.x("label",nt),new L.x("dso",De.id)];Fe.searchParams=Fe.searchParams?[...Fe.searchParams,...st]:st;const Ie=this.searchBy("byLabel",Fe,xe,!1,...$e);return this.addDependency(Ie,De._links.self.href),Ie.pipe(this.reRequestStaleRemoteData(ot,()=>this.getItemRelationshipsByLabel(De,nt,mt,xe,ot,...$e)))}getRelationshipsByRelatedItemIds(De,nt){return this.getItemRelationshipsArray(De,(0,C.s)("leftItem"),(0,C.s)("rightItem")).pipe((0,_.n)(mt=>(0,l.z)(mt.map(xe=>{const ot=this.isItemInUUIDArray(xe.leftItem,nt),$e=this.isItemInUUIDArray(xe.rightItem,nt);return(0,l.z)([ot,$e]).pipe((0,v.p)(([Fe,st])=>Fe||st),(0,f.T)(()=>xe),(0,D.Z)(void 0))}))),(0,f.T)(mt=>mt.filter(xe=>(0,u.a4)(xe))))}isItemInUUIDArray(De,nt){return De.pipe((0,V.yd)(),(0,f.T)(mt=>mt.payload),(0,f.T)(mt=>nt.includes(mt.uuid)))}getRelationshipByItemsAndLabel(De,nt,mt,xe){return this.getItemRelationshipsByLabel(De,mt,xe,!0,!1,(0,C.s)("relationshipType"),(0,C.s)("leftItem"),(0,C.s)("rightItem")).pipe((0,V.yd)(),(0,O.Z)(ot=>ot.payload.page),(0,O.Z)(ot=>(0,l.z)([this.itemService.findByHref(ot._links.leftItem.href).pipe(be(nt)),this.itemService.findByHref(ot._links.rightItem.href).pipe(be(nt))]).pipe((0,f.T)(([$e,Fe])=>$e||Fe),(0,f.T)($e=>$e?ot:void 0))),(0,v.p)(ot=>(0,u.a4)(ot)),(0,m.s)(1))}setNameVariant(De,nt,mt){this.appStore.dispatch(new w.dD(De,nt,mt))}getNameVariant(De,nt){return this.appStore.pipe((0,t.Lt)(((re,ye)=>(0,T.pc)(ye,le(re)))(De,nt)))}removeNameVariant(De,nt){this.appStore.dispatch(new w.zH(De,nt))}getNameVariantsByListID(De){return this.appStore.pipe((0,t.Lt)(le(De)))}updateNameVariant(De,nt,mt,xe){return this.getRelationshipByItemsAndLabel(De,nt,mt).pipe((0,_.n)(ot=>ot.relationshipType.pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)($e=>({relation:ot,type:$e})))),(0,_.n)(ot=>{const{relation:$e,type:Fe}=ot;let st;return st=Object.assign(new j.b,$e,mt===Fe.leftwardType?{rightwardValue:xe}:{leftwardValue:xe}),this.update(st)}))}isLeftItem(De,nt){return De.leftItem.pipe((0,V.yd)(),(0,V.Bo)(),(0,v.p)(mt=>(0,u.a4)(mt)&&(0,u.hj)(mt.uuid)),(0,f.T)(mt=>mt.uuid===nt.uuid))}updatePlace(De){let nt;nt=Object.assign(new j.b,De.relationship,De.useLeftItem?{rightPlace:De.newIndex}:{leftPlace:De.newIndex});const mt=this.update(nt);return mt.pipe((0,v.p)(xe=>xe.state===se.zE.ResponsePending),(0,m.s)(1)).subscribe(xe=>{xe.state===se.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(De.relationship.id)}),mt}update(De){return this.putData.put(De)}searchByItemsAndType(De,nt,mt,xe){const ot=[new L.x("typeId",De),new L.x("focusItem",nt),new L.x("relationshipLabel",mt),new L.x("size",xe.length),new L.x("embed","leftItem"),new L.x("embed","rightItem")];xe.forEach(Fe=>{ot.push(new L.x("relatedItem",Fe))});const $e=this.searchBy("byItemsAndType",{searchParams:ot});return xe.forEach(Fe=>{this.addDependency($e,this.itemService.getIDHrefObs(encodeURIComponent(Fe)))}),$e}searchBy(De,nt,mt,xe,...ot){return this.searchData.searchBy(De,nt,mt,xe,...ot)}resolveMetadataRepresentation(De,nt,mt){return this.metadataService.isVirtual(De)?this.findById(this.metadataService.virtualValue(De),!0,!1,(0,C.s)("leftItem"),(0,C.s)("rightItem")).pipe((0,V.yd)(),(0,_.n)(xe=>(0,l.z)(xe.payload.leftItem,xe.payload.rightItem).pipe((0,v.p)(([ot,$e])=>ot.hasCompleted&&$e.hasCompleted),(0,f.T)(([ot,$e])=>ot.hasSucceeded&&$e.hasSucceeded?$e.hasSucceeded&&ot.payload.id===nt.id?$e.payload:$e.payload.id===nt.id?ot.payload:void 0:null),(0,f.T)(ot=>(0,u.a4)(ot)?Object.assign(new G.y(De),ot):Object.assign(new H.Q(mt),De))))):(0,e.of)(Object.assign(new H.Q(mt),De))}static{this.\u0275fac=function(nt){return new(nt||re)(de.KVO(oe.B),de.KVO(I.o),de.KVO(W.Y),de.KVO(B.$),de.KVO(U.T),de.KVO(z.ItemDataService),de.KVO(t.il),de.KVO(R.ky),de.KVO(M.vQ))}}static{this.\u0275prov=de.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},38096:(N,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipTypeDataService:()=>S});var i=n(84572),t=n(25558),l=n(73028),e=n(56594),f=n(96354),m=n(82777),h=n(67600),_=n(72734),y=n(53954),v=n(41684),D=n(4910),O=n(80183),M=n(49802),T=n(46787),R=n(35108),u=n(32473),w=n(54438);const C=(I,L)=>I.hasSucceeded&&I.payload.label===L;let S=(()=>{class I extends M.L{constructor(B,U,W,j){super("relationshiptypes",B,U,W,j),this.requestService=B,this.rdbService=U,this.objectCache=W,this.halService=j,this.searchData=new R.X(this.linkPath,B,U,W,j,this.responseMsToLive),this.findAllData=new T.H(this.linkPath,B,U,W,j,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(B,U,W){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,h.s)("leftType"),(0,h.s)("rightType")).pipe((0,O.yd)(),(0,t.n)(j=>j.payload.page),(0,l.Z)(j=>j.leftwardType===B?this.checkType(j,U,W):j.rightwardType===B?this.checkType(j,W,U):[null]),(0,e.$)(),(0,f.T)(j=>{const G=j.find(H=>(0,m.a4)(H));return(0,m.a4)(G)?G:null}))}checkType(B,U,W){return(0,i.z)([B.leftType.pipe((0,O.qD)()),B.rightType.pipe((0,O.qD)())]).pipe((0,f.T)(([j,G])=>C(j,U)&&C(G,W)?B:null))}searchByEntityType(B,U=!0,W=!0,...j){return this.searchData.searchBy("byEntityType",{searchParams:[new y.x("type",B),new y.x("size",100)]},U,W,...j).pipe((0,O.yd)(),(0,O.Bo)())}static{this.\u0275fac=function(U){return new(U||I)(w.KVO(u.B),w.KVO(_.o),w.KVO(v.$),w.KVO(D.Y))}}static{this.\u0275prov=w.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},1716:(N,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(7434);class t{constructor(e,f,m,h,_,y,v){this.timeCompleted=e,this.msToLive=f,this.lastUpdated=m,this.state=h,this.errorMessage=_,this.payload=y,this.statusCode=v}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},7434:(N,b,n)=>{"use strict";n.d(b,{DB:()=>t,DF:()=>m,QO:()=>M,Uj:()=>O,VP:()=>y,WN:()=>v,bJ:()=>l,oJ:()=>e,uN:()=>f,vT:()=>h,yO:()=>D,zE:()=>i});var i=function(T){return T.RequestPending="RequestPending",T.ResponsePending="ResponsePending",T.Error="Error",T.Success="Success",T.ResponsePendingStale="ResponsePendingStale",T.ErrorStale="ErrorStale",T.SuccessStale="SuccessStale",T}(i||{});const t=T=>T===i.RequestPending,l=T=>T===i.Error,e=T=>T===i.Success,f=T=>T===i.ErrorStale,m=T=>T===i.SuccessStale,h=T=>T===i.ResponsePending,_=T=>T===i.ResponsePendingStale,y=T=>t(T)||h(T)||_(T),v=T=>{if(!y(T))return l(T)||f(T)},D=T=>{if(!y(T))return e(T)||m(T)},O=T=>!y(T),M=T=>_(T)||m(T)||f(T)},10524:(N,b,n)=>{"use strict";n.d(b,{G:()=>i});class i extends Error{}},96393:(N,b,n)=>{"use strict";n.d(b,{Di:()=>m,Gl:()=>h,HL:()=>_,PW:()=>f,cX:()=>y,tO:()=>t,uw:()=>e});var i=n(91e3);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class l{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends l{constructor(O){super(),this.type=t.CONFIGURE,this.payload=O}}class f extends l{constructor(O){super(),this.type=t.EXECUTE,this.payload=O}}class m extends l{constructor(O,M,T,R){super(),this.type=t.SUCCESS,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:M,link:T,unCacheableObject:R}}}class h extends l{constructor(O,M,T){super(),this.type=t.ERROR,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:M,errorMessage:T}}}class _ extends l{constructor(O){super(),this.type=t.STALE,this.payload={uuid:O}}}class y{constructor(O){this.type=t.RESET_TIMESTAMPS,this.payload=O}}},43052:(N,b,n)=>{"use strict";n.d(b,{FQ:()=>se,IL:()=>ye,QU:()=>re,Dk:()=>nt,$:()=>Y,ld:()=>te,IP:()=>X,Wx:()=>H,E0:()=>q,WP:()=>ot,EA:()=>oe,Qf:()=>J,v_:()=>Q,Rn:()=>Ee,e$:()=>be,aY:()=>pe,Iu:()=>le,_w:()=>xe,$I:()=>mt,xu:()=>De});var i=n(68552),t=n(41684),l=n(13808),e=n(51538),f=n(54438);let m=(()=>{class $e extends e.aE{constructor(st){super(),this.objectCache=st,this.toCache=!1}parse(st,Ie){if(this.isSuccessStatus(Ie.statusCode))return new l.hT(Ie.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(Ie){return new(Ie||$e)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var h=n(82777),_=n(87369),y=n(55451),v=n(393),D=n(98277),O=n(70035),M=n(50800),T=n(7654),R=n(49872);let u=(()=>{class $e extends R.D3{constructor(st){super(st),this.objectCache=st}deserialize(st){const Ie=st.browseType;if(st.type===_.z.value&&(0,h.a4)(Ie)){let We;if(Ie===O.L.value)We=new this.serializerConstructor(D.R);else if(Ie===v.z.value)We=new this.serializerConstructor(y.P);else{if(Ie!==T.o.value)throw new Error("An error occurred while retrieving the browse definitions.");We=new this.serializerConstructor(M.f)}return We.deserialize(st)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(Ie){return new(Ie||$e)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var w=n(28580),C=n(45348);class S{}let I=(()=>{class $e extends R.D3{parse(st,Ie){const We=Ie.payload,Dt=new w.T(C.Z).deserialize(We);let kt=[];return We._embedded&&We._embedded.harvestermetadata&&We._embedded.harvestermetadata.configs&&(kt=new w.T(S).serializeArray(We._embedded.harvestermetadata.configs)),Dt.metadataConfigs=kt,this.addToObjectCache(Dt,st,Ie),new l.hT(Ie.statusCode,Dt._links.self)}static{this.\u0275fac=(()=>{let st;return function(We){return(st||(st=f.xGo($e)))(We||$e)}})()}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var L=n(88280),B=n(21921);let U=(()=>{class $e extends R.D3{parse(st,Ie){try{Ie=this.ensureSelfLink(st,Ie);const We=this.process(Ie.payload,st);if((0,h.a4)(We)){const Dt=We.type;let kt;return(0,h.a4)(Dt)&&(kt=(0,B.Qt)(Dt)),(0,R.k_)(We)&&(0,h.a4)(kt)?new l.hT(Ie.statusCode,We._links.self):new l.hT(Ie.statusCode,void 0,We)}return new l.hT(Ie.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${st.href}`),new l.hT(Ie.statusCode,void 0,{_links:Ie.payload._links})}}deserialize(st){const Ie=st.type;if((0,h.a4)(Ie)){const We=(0,B.Qt)(Ie);if((0,h.a4)(We))return new this.serializerConstructor(We).deserialize(st)}return st}addToObjectCache(st,Ie,We,Dt){if(!(0,R.k_)(st)){const kt=(0,h.a4)(We)&&(0,h.a4)(We.type)?We.type:"object";let ct;return ct=(0,h.a4)(We._embedded)?JSON.stringify(Object.assign({},We,{_embedded:"..."})):JSON.stringify(We),void console.warn(`Can't cache incomplete ${kt}: ${JSON.stringify(st)}, parsed from (partial) response: ${ct}`)}(0,h.a4)(this.getConstructorFor(st.type))&&this.objectCache.add(st,(0,h.a4)(Ie.responseMsToLive)?Ie.responseMsToLive:L.c.cache.msToLive.default,Ie.uuid,Dt)}static{this.\u0275fac=(()=>{let st;return function(We){return(st||(st=f.xGo($e)))(We||$e)}})()}static{this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var W=n(43377);class j{constructor(Fe,st,Ie=W.D.GET,We,Dt){this.uuid=Fe,this.href=st,this.method=Ie,this.body=We,this.options=Dt,this.responseMsToLive=L.c.cache.msToLive.default,this.isMultipart=!1}}class G extends j{}var H=function($e){return $e.UUID="uuid",$e.HANDLE="handle",$e}(H||{});class V extends G{getResponseParser(){return R.D3}}class X extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.GET,Ie,We),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}}class J extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.POST,Ie),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}}class q extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.POST,Ie),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We,this.isMultipart=!0}}class Q extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.PUT,Ie),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}}class Y extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.DELETE,Ie),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}}class oe extends V{constructor(Fe,st,Ie,We){super(Fe,st,W.D.PATCH,Ie),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}}class se extends V{getResponseParser(){return u}}class te extends X{getResponseParser(){return U}}class le extends X{constructor(Fe,st){super(Fe,st)}getResponseParser(){return i.BE}}class Ee extends Y{constructor(Fe,st){super(Fe,st),this.uuid=Fe,this.href=st}getResponseParser(){return i.BE}}class be extends oe{constructor(Fe,st,Ie){super(Fe,st,Ie),this.uuid=Fe,this.href=st,this.body=Ie}getResponseParser(){return i.BE}}class pe extends J{constructor(Fe,st,Ie,We){super(Fe,st,Ie,We),this.uuid=Fe,this.href=st,this.body=Ie,this.options=We}getResponseParser(){return i.BE}}class re extends J{constructor(Fe,st,Ie,We){super(Fe,st,Ie,We),this.body=Ie,this.options=We}}class ye extends X{constructor(Fe,st){super(Fe,st)}getResponseParser(){return I}}class De extends Q{constructor(Fe,st,Ie,We){super(Fe,st,Ie,We),this.body=Ie,this.options=We}getResponseParser(){return I}}class nt extends Y{constructor(Fe,st,Ie){super(Fe,st),this.resourceID=Ie}}class mt extends J{constructor(Fe,st,Ie,We){super(Fe,st,Ie,We),this.body=Ie,this.options=We}getResponseParser(){return m}}class xe extends Y{constructor(Fe,st,Ie,We){super(Fe,st,Ie,We),this.body=Ie,this.options=We}getResponseParser(){return m}}class ot extends X{constructor(){super(...arguments),this.responseMsToLive=1e4}}},32473:(N,b,n)=>{"use strict";n.d(b,{B:()=>q});var i=n(21626),t=n(25499),l=n(84418),e=n.n(l),f=n(25007),m=n(22806),h=n(96697),_=n(96354),y=n(88141),v=n(25558),D=n(73028),O=n(47677),M=n(56594),T=n(5964),R=n(82777),u=n(41684),w=n(78394),C=n(47797),S=n(69227),I=n(96393),L=n(7434),B=n(43377),U=n(54438),W=n(30164);const j=(0,t.Mz)(C.N,Q=>Q["data/request"]),J=Q=>{if((0,R.Tn)(Q))return!1;if((0,L.VP)(Q.state))return!0;if((0,L.QO)(Q.state))return!1;{const Y=Q.response.timeCompleted+Q.request.responseMsToLive;return!((new Date).getTime()>Y)}};let q=(()=>{class Q{constructor(z,Z,oe){this.objectCache=z,this.uuidService=Z,this.store=oe,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(z){if(z.method!==B.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(z.href))return!0;let Z=!1;return this.getByHref(z.href).pipe((0,h.s)(1)).subscribe(oe=>{Z=(0,R.a4)(oe)&&(0,L.VP)(oe.state)&&!(0,L.QO)(oe.state)}),Z}getByUUID(z){return this.store.pipe((0,t.Lt)((Q=>(0,t.Mz)(j,Y=>(0,R.a4)(Y)?Y[Q]:void 0))(z)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return z=>z.pipe((0,_.T)(Z=>((0,R.a4)(Z)&&(0,R.a4)(Z.request)&&(0,R.a4)(Z.request.options)&&(0,R.a4)(Z.request.options.headers)&&((Z=e()(Z)).request.options.headers=Object.assign(new i.Lr,Z.request.options.headers)),Z)))}checkStale(){return z=>z.pipe((0,y.M)(Z=>{(0,R.a4)(Z)&&(0,R.a4)(Z.request)&&!(0,L.QO)(Z.state)&&!J(Z)&&f.$.schedule(()=>this.store.dispatch(new I.HL(Z.request.uuid)))}))}getByHref(z){return this.store.pipe((0,t.Lt)((Q=>(0,t.Mz)(S.bS,j,(Y,z)=>{let Z;if((0,R.a4)(Y))return Z=Y[(0,S.tJ)(Q)],(0,R.a4)(z)?z[Z]:void 0}))(z)),this.fixRequestHeaders(),this.checkStale())}send(z,Z=!1){return Z&&z.method!==B.D.GET&&console.warn(`${JSON.stringify(z,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(z,Z)&&(this.dispatchRequest(z),z.method===B.D.GET&&this.trackRequestsOnTheirWayToTheStore(z),!0)}uriEncodeBody(z){let Z="";return(0,R.hj)(z)&&"object"==typeof z&&Object.keys(z).forEach(oe=>{const se=encodeURIComponent(oe);if(Array.isArray(z[oe]))for(const de of z[oe]){const le=`${se}=${encodeURIComponent(de)}`;Z=(0,R.Im)(Z)?Z.concat(le):Z.concat("&",le)}else{const te=`${se}=${encodeURIComponent(z[oe])}`;Z=(0,R.Im)(Z)?Z.concat(te):Z.concat("&",te)}}),Z}removeByHrefSubstring(z){return this.setStaleByHrefSubstring(z)}setStaleByHrefSubstring(z){const Z=this.store.pipe((0,t.Lt)(((Q,Y)=>(0,t.Mz)(Q,z=>((Q,Y)=>{let z=[];return(0,R.hj)(Q)&&(z=Object.keys(Q).filter(Z=>Z.includes(Y)).map(Z=>Q[Z])),z})(z,Y)))(S.bS,z)),(0,h.s)(1));return Z.subscribe(oe=>{for(const se of oe)this.store.dispatch(new I.HL(se))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(oe=>oe.indexOf(z)<0),Z.pipe((0,v.n)(oe=>(0,R.Im)(oe)?[!0]:(0,m.H)(oe).pipe((0,D.Z)(se=>this.getByUUID(se)),(0,_.T)(se=>(0,R.Tn)(se)||(0,L.QO)(se.state)),(0,O.I)(se=>!0===se),(0,M.$)(),(0,_.T)(()=>!0))))}setStaleByUUID(z){return this.store.dispatch(new I.HL(z)),this.getByUUID(z).pipe((0,_.T)(Z=>(0,L.QO)(Z.state)),(0,T.p)(Z=>Z),(0,h.s)(1))}setStaleByHref(z){const Z=this.getByHref(z);return Z.pipe((0,T.p)(oe=>(0,R.hj)(oe)),(0,_.T)(oe=>oe.request.uuid),(0,h.s)(1)).subscribe(oe=>{this.store.dispatch(new I.HL(oe))}),Z.pipe((0,_.T)(oe=>(0,L.QO)(oe.state)),(0,T.p)(oe=>oe),(0,h.s)(1))}shouldDispatchRequest(z,Z){if(z.method!==B.D.GET)return!0;if(this.isPending(z))return!1;if(Z){const oe=(0,S.tJ)(z.href);if(!0===this.hasByHref(oe))return!1;{let se=!1;return this.objectCache.getByHref(oe).subscribe(de=>{se=this.hasByUUID(de.requestUUIDs[0])}).unsubscribe(),!se}}return!0}dispatchRequest(z){f.$.schedule(()=>{this.store.dispatch(new I.uw(z)),this.store.dispatch(new I.PW(z.uuid))})}trackRequestsOnTheirWayToTheStore(z){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,z.href],this.getByHref(z.href).pipe((0,T.p)(Z=>(0,R.a4)(Z)&&(0,R.a4)(Z.request)&&Z.request.uuid===z.uuid),(0,h.s)(1)).subscribe(Z=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(oe=>oe!==z.href)})}commit(z){this.store.dispatch(new w.eR(z))}hasByHref(z,Z=!0){let oe=!1;return this.hasByHref$(z,Z).subscribe(se=>oe=se).unsubscribe(),oe}hasByHref$(z,Z=!0){return this.getByHref(z).pipe((0,_.T)(oe=>Z?J(oe):(0,R.a4)(oe)))}hasByUUID(z,Z=!0){let oe=!1;return this.hasByUUID$(z,Z).subscribe(se=>oe=se).unsubscribe(),oe}hasByUUID$(z,Z=!0){return this.getByUUID(z).pipe((0,_.T)(oe=>Z?J(oe):(0,R.a4)(oe)))}static{this.\u0275fac=function(Z){return new(Z||Q)(U.KVO(u.$),U.KVO(W.v),U.KVO(t.il))}}static{this.\u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},43377:(N,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},29443:(N,b,n)=>{"use strict";n.r(b),n.d(b,{RootDataService:()=>D});var i=n(7673),t=n(99437),l=n(96354),e=n(72734),f=n(41684),m=n(4910),h=n(80183),_=n(49802),y=n(32473),v=n(54438);let D=(()=>{class O extends _.L{constructor(T,R,u,w){super("",T,R,u,w,216e5),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(T=>(console.error(T),(0,i.of)(!1))),(0,h.qD)(),(0,l.T)(T=>200===T.statusCode))}findRoot(T=!0,R=!0,...u){return this.findByHref(this.halService.getRootHref(),T,R,...u)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(R){return new(R||O)(v.KVO(y.B),v.KVO(e.o),v.KVO(f.$),v.KVO(m.Y))}}static{this.\u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},44701:(N,b,n)=>{"use strict";n.d(b,{z:()=>_});var i=n(82777),t=n(1102),l=n(13808),e=n(28580),f=n(14391),m=n(49872),h=n(54438);let _=(()=>{class y extends m.D3{parse(D,O){const T=O.payload._embedded.searchResult||{_embedded:{objects:[]}};T.appliedFilters=O.payload.appliedFilters,T.sort=O.payload.sort,T.scope=O.payload.scope,T.configuration=O.payload.configuration;const R=T._embedded.objects.map(S=>S.hitHighlights).map(S=>{const I={};if(S)for(const L of Object.keys(S)){const B=Object.assign(new f.vD,{value:S[L].join("..."),language:null});I[L]=[B]}return I}),u=T._embedded.objects.filter(S=>(0,i.a4)(S._embedded)).map(S=>S._embedded.indexableObject).map(S=>this.process(S,D)).map(S=>S._links.self.href).reduce((S,I)=>[...S,I],[]),w=T._embedded.objects.filter(S=>(0,i.a4)(S._embedded)).map((S,I)=>Object.assign({},S,{indexableObject:u[I],hitHighlights:R[I]}));T.objects=w;const C=new e.T(t.n).deserialize(T);return C.pageInfo=this.processPageInfo(T),this.addToObjectCache(C,D,O),new l.hT(O.statusCode,C._links.self)}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=h.xGo(y)))(M||y)}})()}static{this.\u0275prov=h.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},5090:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SiteDataService:()=>v});var i=n(96354),t=n(72734),l=n(41684),e=n(4910),f=n(80183),m=n(49802),h=n(46787),_=n(32473),y=n(54438);let v=(()=>{class D extends m.L{constructor(M,T,R,u){super("sites",M,T,R,u),this.requestService=M,this.rdbService=T,this.objectCache=R,this.halService=u,this.findAllData=new h.H(this.linkPath,M,T,R,u,this.responseMsToLive)}find(){return this.findAll().pipe((0,f.yd)(),(0,i.T)(M=>M.payload),(0,i.T)(M=>M.page[0]))}findAll(M,T,R,...u){return this.findAllData.findAll(M,T,R,...u)}static{this.\u0275fac=function(T){return new(T||D)(y.KVO(_.B),y.KVO(t.o),y.KVO(l.$),y.KVO(e.Y))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},14410:(N,b,n)=>{"use strict";n.d(b,{M:()=>l});var i=n(13808),t=n(54438);let l=(()=>{class e{parse(m,h){return new i.Ku(h.statusCode>=200&&h.statusCode<300,h.statusCode,h.statusText)}static{this.\u0275fac=function(h){return new(h||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},27795:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SystemWideAlertDataService:()=>O});var i=n(39806),t=n(72734),l=n(41684),e=n(4910),f=n(39280),m=n(46787),h=n(63897),_=n(91967),y=n(35108),v=n(32473),D=n(54438);let O=(()=>{class M extends h.W{constructor(R,u,w,C,S){super("systemwidealerts",R,u,w,C),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=C,this.notificationsService=S,this.findAllData=new m.H(this.linkPath,R,u,w,C,this.responseMsToLive),this.createData=new f.V(this.linkPath,R,u,w,C,S,this.responseMsToLive),this.putData=new _.W(this.linkPath,R,u,w,C,this.responseMsToLive),this.searchData=new y.X(this.linkPath,R,u,w,C,this.responseMsToLive)}findAll(R,u,w,...C){return this.findAllData.findAll(R,u,w,...C)}create(R,...u){return this.createData.create(R,...u)}put(R){return this.putData.put(R)}searchBy(R,u,w,C,...S){return this.searchData.searchBy(R,u,w,C,...S)}static{this.\u0275fac=function(u){return new(u||M)(D.KVO(v.B),D.KVO(t.o),D.KVO(l.$),D.KVO(e.Y),D.KVO(i.I))}}static{this.\u0275prov=D.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},52749:(N,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowActionDataService:()=>h});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let h=(()=>{class _ extends e.W{constructor(v,D,O,M){super("workflowactions",v,D,O,M),this.requestService=v,this.rdbService=D,this.objectCache=O,this.halService=M,this.linkPath="workflowactions"}static{this.\u0275fac=function(D){return new(D||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},53778:(N,b,n)=>{"use strict";n.d(b,{Y:()=>v});var i=n(21626),t=n(18810),l=n(96354),e=n(99437),f=n(82777),m=n(10524),h=n(43377),_=n(54438);const y="application/json; charset=utf-8";let v=(()=>{class D{constructor(M){this.http=M}get(M){const T={observe:"response",headers:new i.Lr({"Content-Type":y})};return this.http.get(M,T).pipe((0,l.T)(R=>({payload:R.body,statusCode:R.status,statusText:R.statusText})),(0,e.W)(R=>(0,t.$)(()=>(console.log("Error: ",R),this.handleHttpError(R)))))}request(M,T,R,u,w){const C={};return C.body=R,M===h.D.POST&&(0,f.hj)(R)&&(0,f.hj)(R.name)&&(C.body=this.buildFormData(R)),C.observe="response",u&&u.responseType&&(C.responseType=u.responseType),C.headers=(0,f.Tn)(u)||(0,f.Tn)(u.headers)?new i.Lr:u.headers,u&&u.params&&(C.params=u.params),u&&u.withCredentials&&(C.withCredentials=u.withCredentials),!C.headers.has("Content-Type")&&!w&&(C.headers=C.headers.set("Content-Type",y)),this.http.request(M,T,C).pipe((0,l.T)(S=>({payload:S.body,headers:S.headers,statusCode:S.status,statusText:S.statusText})),(0,e.W)(S=>(0,t.$)(()=>this.handleHttpError(S))))}buildFormData(M){const T=new FormData;if(T.append("name",M.name),M.metadata)for(const R of Object.keys(M.metadata))for(const u of M.allMetadataValues(R))T.append(R,u);return T}handleHttpError(M){if(M instanceof i.yz){const T=new m.G((0,f.hj)(M?.error?.message)?M.error.message:M.message);return T.statusCode=M.status,T.statusText=M.statusText,T}return console.error("Cannot construct RequestError from",M),M}static{this.\u0275fac=function(T){return new(T||D)(_.KVO(i.Qq))}}static{this.\u0275prov=_.jDH({token:D,factory:D.\u0275fac})}}return D})()},28580:(N,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17366:(N,b,n)=>{"use strict";n.d(b,{e:()=>m});var i=n(54438),t=n(7901),l=n(7673),e=n(88280),f=n(308);const m=h=>(_,y)=>{const v=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?h().pipe((0,f.gM)(v,y.url)):(0,l.of)(!0)}},3636:(N,b,n)=>{"use strict";n.d(b,{GH:()=>M,Mk:()=>O});var i=n(7673),t=n(25558),l=n(96354),e=n(96697),f=n(82777),m=n(67116),h=n(74449),_=n(93130),y=n(80183),v=n(54438);const D="hasAgreedEndUser",O="dspace.agreements.end-user";let M=(()=>{class T{constructor(u,w,C){this.cookie=u,this.authService=w,this.ePersonService=C}hasCurrentUserOrCookieAcceptedAgreement(u){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(u)}hasCurrentUserAcceptedAgreement(u){return this.authService.isAuthenticated().pipe((0,t.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,l.T)(C=>(0,f.a4)(C)&&C.hasMetadata(O)&&"true"===C.firstMetadata(O).value)):(0,i.of)(u)))}setUserAcceptedAgreement(u){return this.authService.isAuthenticated().pipe((0,t.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(C=>{const S={value:String(u)};let I;return I=C.hasMetadata(O)?{op:"replace",path:`/metadata/${O}/0`,value:S}:{op:"add",path:`/metadata/${O}`,value:[S]},this.ePersonService.patch(C,[I])}),(0,y.qD)(),(0,l.T)(C=>C.hasSucceeded)):(this.setCookieAccepted(u),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(D)}setCookieAccepted(u){this.cookie.set(D,u)}removeCookieAccepted(){this.cookie.remove(D)}static{this.\u0275fac=function(w){return new(w||T)(v.KVO(_.O),v.KVO(m.uR),v.KVO(h.EPersonDataService))}}static{this.\u0275prov=v.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},74449:(N,b,n)=>{"use strict";n.r(b),n.d(b,{EPersonDataService:()=>X,editEPersonSelector:()=>V});var i=n(25499),t=n(96354),l=n(96697),e=n(47677),f=n(25093),m=n(19353),h=n(82777),_=n(39806),y=n(72734),v=n(53954),D=n(41684),O=n(39280),M=n(13617),T=n(63897),R=n(87158),u=n(35108),w=n(12598),C=n(41023),S=n(96820),I=n(1716),L=n(43052),B=n(32473),U=n(4910),W=n(80183),j=n(32089),G=n(54438);const V=(0,i.Mz)(J=>J.epeopleRegistry,J=>J.editEPerson);let X=(()=>{class J extends T.W{constructor(Q,Y,z,Z,oe,se,de){super("epersons",Q,Y,z,Z),this.requestService=Q,this.rdbService=Y,this.objectCache=z,this.halService=Z,this.comparator=oe,this.notificationsService=se,this.store=de,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new O.V(this.linkPath,Q,Y,z,Z,se,this.responseMsToLive),this.searchData=new u.X(this.linkPath,Q,Y,z,Z,this.responseMsToLive),this.patchData=new R.n(this.linkPath,Q,Y,z,Z,oe,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new M.I(this.linkPath,Q,Y,z,Z,se,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Q,Y,z={},Z,oe=!0){switch(Q){case"metadata":default:return this.getEpeopleByMetadata(Y.trim(),z,Z,oe);case"email":return this.getEPersonByEmail(Y.trim(),Z,oe).pipe((0,t.T)(se=>{if(se.hasSucceeded){let de;return de=204===se.statusCode||(0,h.Tn)(se.payload)?[]:[se.payload],new I.j(se.timeCompleted,se.msToLive,se.lastUpdated,se.state,se.errorMessage,(0,S.g)(new j.Q({elementsPerPage:z.elementsPerPage,totalElements:de.length,totalPages:de.length,currentPage:1}),de),se.statusCode)}return se}))}}getEPersonByEmail(Q,Y=!0,z=!0,...Z){const oe=new C._;oe.searchParams=[new v.x("email",Q)];const se=this.searchData.getSearchByHref(this.searchByEmailPath,oe,...Z);return this.findByHref(se,Y,z,...Z)}getEpeopleByMetadata(Q,Y,z=!0,Z=!0,...oe){const se=[new v.x("query",Q)];return this.getEPeopleBy(se,this.searchByMetadataPath,Y,z,Z,...oe)}getEPeopleBy(Q,Y,z,Z=!0,oe=!0,...se){let de=new C._;return z&&(de=Object.assign(new C._,z)),de.searchParams=de.searchParams?[...de.searchParams,...Q]:Q,this.searchBy(Y,de,Z,oe,...se)}searchNonMembers(Q,Y,z,Z=!0,oe=!0,...se){const de=[new v.x("query",Q),new v.x("group",Y)];let te=new C._;return z&&(te=Object.assign(new C._,z)),te.searchParams=te.searchParams?[...te.searchParams,...de]:de,this.searchBy("isNotMemberOf",te,Z,oe,...se)}updateEPerson(Q){const Y=this.requestService.generateRequestId();return this.findByHref(Q._links.self.href,!0,!1).pipe((0,W.yd)(),(0,W.Bo)(),(0,l.s)(1)).subscribe(Z=>{const oe=this.generateOperations(Z,Q),se=new L.EA(Y,Q._links.self.href,oe);return this.requestService.send(se)}),this.rdbService.buildFromRequestUUID(Y)}generateOperations(Q,Y){let z=this.comparator.diff(Q,Y).filter(Z=>"replace"===Z.op);return(0,h.a4)(Q.email)&&Q.email!==Y.email&&(z=[...z,{op:"replace",path:"/email",value:Y.email}]),(0,h.a4)(Q.requireCertificate)&&Q.requireCertificate!==Y.requireCertificate&&(z=[...z,{op:"replace",path:"/certificate",value:Y.requireCertificate}]),(0,h.a4)(Q.canLogIn)&&Q.canLogIn!==Y.canLogIn&&(z=[...z,{op:"replace",path:"/canLogIn",value:Y.canLogIn}]),z}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,l.s)(1)).subscribe(Q=>{this.requestService.removeByHrefSubstring(Q)})}clearLinkRequests(Q){this.requestService.setStaleByHrefSubstring(Q)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(V))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(Q){this.store.dispatch(new m._c(Q))}deleteEPerson(Q){return this.delete(Q.id)}startEditingNewEPerson(Q){return this.getActiveEPerson().pipe((0,l.s)(1)).subscribe(Y=>{Q===Y?this.cancelEditEPerson():this.editEPerson(Q)}),(0,f.Ax)(Q.id)}createEPersonForToken(Q,Y){const z=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(oe=>`${oe}?token=${Y}`)).pipe((0,e.I)(oe=>(0,h.a4)(oe))).subscribe(oe=>{const se=new L.Qf(z,oe,Q);this.requestService.send(se)}),this.rdbService.buildFromRequestUUID(z)}patchPasswordWithToken(Q,Y,z){const Z=this.requestService.generateRequestId(),oe=Object.assign({op:"add",path:"/password",value:{new_password:z}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(de=>this.getIDHref(de,Q)),(0,t.T)(de=>`${de}?token=${Y}`)).pipe((0,e.I)(de=>(0,h.a4)(de))).subscribe(de=>{const te=new L.EA(Z,de,[oe]);this.requestService.send(te)}),this.rdbService.buildFromRequestUUID(Z)}create(Q,...Y){return this.createData.create(Q,...Y)}searchBy(Q,Y,z,Z,...oe){return this.searchData.searchBy(Q,Y,z,Z,...oe)}createPatchFromCache(Q){return this.patchData.createPatchFromCache(Q)}patch(Q,Y){return this.patchData.patch(Q,Y)}update(Q){return this.patchData.update(Q)}commitUpdates(Q){this.patchData.commitUpdates(Q)}delete(Q,Y){return this.deleteData.delete(Q,Y)}deleteByHref(Q,Y){return this.deleteData.deleteByHref(Q,Y)}static{this.\u0275fac=function(Y){return new(Y||J)(G.KVO(B.B),G.KVO(y.o),G.KVO(D.$),G.KVO(U.Y),G.KVO(w.j),G.KVO(_.I),G.KVO(i.il))}}static{this.\u0275prov=G.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},44494:(N,b,n)=>{"use strict";n.r(b),n.d(b,{GroupDataService:()=>H});var i=n(21626),t=n(25499),l=n(44437),e=n(96697),f=n(25093),m=n(85255),h=n(39806),_=n(96526),y=n(72734),v=n(53954),D=n(41684),O=n(39280),M=n(13617),T=n(63897),R=n(87158),u=n(35108),w=n(12598),C=n(41023),S=n(43052),I=n(32473),L=n(4910),B=n(80183),U=n(31924),W=n(54438);const G=(0,t.Mz)(V=>V.groupRegistry,V=>V.editGroup);let H=(()=>{class V extends T.W{constructor(J,q,Q,Y,z,Z,oe,se){super("groups",J,q,Q,Y),this.requestService=J,this.rdbService=q,this.objectCache=Q,this.halService=Y,this.comparator=z,this.notificationsService=Z,this.nameService=oe,this.store=se,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new O.V(this.linkPath,J,q,Q,Y,Z,this.responseMsToLive),this.searchData=new u.X(this.linkPath,J,q,Q,Y,this.responseMsToLive),this.patchData=new R.n(this.linkPath,J,q,Q,Y,z,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new M.I(this.linkPath,J,q,Q,Y,Z,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(J,q,Q=!0,Y=!0,...z){const Z=[new v.x("query",J)];let oe=new C._;return q&&(oe=Object.assign(new C._,q)),oe.searchParams=oe.searchParams?[...oe.searchParams,...Z]:Z,this.searchBy("byMetadata",oe,Q,Y,...z)}searchNonMemberGroups(J,q,Q,Y=!0,z=!0,...Z){const oe=[new v.x("query",J),new v.x("group",q)];let se=new C._;return Q&&(se=Object.assign(new C._,Q)),se.searchParams=se.searchParams?[...se.searchParams,...oe]:oe,this.searchBy("isNotMemberOf",se,Y,z,...Z)}addSubGroupToGroup(J,q){const Q=this.requestService.generateRequestId(),Y=Object.create({});let z=new i.Lr;z=z.append("Content-Type","text/uri-list"),Y.headers=z;const Z=new S.Qf(Q,J.self+"/"+this.subgroupsEndpoint,q.self,Y);return this.requestService.send(Z),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,l.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(J,q){const Q=this.requestService.generateRequestId(),Y=new S.$(Q,J.self+"/"+this.subgroupsEndpoint+"/"+q.id);return this.requestService.send(Y),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,l.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(J,q){const Q=this.requestService.generateRequestId(),Y=Object.create({});let z=new i.Lr;z=z.append("Content-Type","text/uri-list"),Y.headers=z;const Z=new S.Qf(Q,J.self+"/"+this.ePersonsEndpoint,q.self,Y);return this.requestService.send(Z),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,l.y)(this.invalidateByHref(q._links.self.href),this.requestService.setStaleByHrefSubstring(q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(J._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(J,q){const Q=this.requestService.generateRequestId(),Y=new S.$(Q,J.self+"/"+this.ePersonsEndpoint+"/"+q.id);return this.requestService.send(Y),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,l.y)(this.invalidateByHref(q._links.self.href),this.requestService.setStaleByHrefSubstring(q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(J._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(G))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(J){this.store.dispatch(new m.C(J))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(J=>{this.requestService.removeByHrefSubstring(J)})}clearGroupLinkRequests(J){this.requestService.setStaleByHrefSubstring(J)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(J){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(q=>{J===q?this.cancelEditGroup():this.editGroup(J)}),this.getGroupEditPageRouterLinkWithID(J.id)}getGroupEditPageRouterLink(J){return(0,f.xl)(J.id)}getGroupEditPageRouterLinkWithID(J){return(0,f.xl)(J)}getUUIDFromString(J){let q="";const Q=J.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Q&&(q=Q[0]),q}createComcolGroup(J,q,Q){const Y=this.requestService.generateRequestId(),z=Object.assign(new U.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(J)} ${q} group`}]}});this.requestService.send(new S.QU(Y,Q,JSON.stringify(z)));const Z=this.rdbService.buildFromRequestUUID(Y).pipe((0,B.qD)());return Z.subscribe(oe=>{oe.hasSucceeded&&this.requestService.removeByHrefSubstring(Q)}),Z}deleteComcolGroup(J){const q=this.requestService.generateRequestId();this.requestService.send(new S.$(q,J));const Q=this.rdbService.buildFromRequestUUID(q).pipe((0,B.qD)());return Q.subscribe(Y=>{Y.hasSucceeded&&this.requestService.removeByHrefSubstring(J)}),Q}create(J,...q){return this.createData.create(J,...q)}searchBy(J,q,Q,Y,...z){return this.searchData.searchBy(J,q,Q,Y,...z)}createPatchFromCache(J){return this.patchData.createPatchFromCache(J)}patch(J,q){return this.patchData.patch(J,q)}update(J){return this.patchData.update(J)}commitUpdates(J){this.patchData.commitUpdates(J)}delete(J,q){return this.deleteData.delete(J,q)}deleteByHref(J,q){return this.deleteData.deleteByHref(J,q)}static{this.\u0275fac=function(q){return new(q||V)(W.KVO(I.B),W.KVO(y.o),W.KVO(D.$),W.KVO(L.Y),W.KVO(w.j),W.KVO(h.I),W.KVO(_.f),W.KVO(t.il))}}static{this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},79145:(N,b,n)=>{"use strict";n.d(b,{h:()=>i});class i{}},26349:(N,b,n)=>{"use strict";n.d(b,{f:()=>_});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(58235),h=n(36074);let _=class extends f.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(h.U,!0),(0,i.Sn)("design:type",l.c)],_.prototype,"groups",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],_)},58235:(N,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(42547).v)("eperson")},31924:(N,b,n)=>{"use strict";n.d(b,{Y:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(39147),h=n(98688),_=n(58235),y=n(36074);let v=class extends f.M{static{this.type=y.U}};(0,i.Cg)([h.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],v.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(y.U,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(_.N,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",l.c)],v.prototype,"object",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],v)},36074:(N,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("group")},54949:(N,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("workflowitem")},6291:(N,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=new(n(42547).v)("workspaceitem")},34826:(N,b,n)=>{"use strict";n.d(b,{BA:()=>w,oL:()=>u,wq:()=>C});var i=n(60177),t=n(84412),l=n(983),e=n(84572),f=n(7673),m=n(96697),h=n(96354),_=n(25558),y=n(88141),v=n(82777),D=n(8917),O=n(93130),M=n(1676),T=n(80183),R=n(54438);const u="_GRECAPTCHA",w="google-recaptcha";let C=(()=>{class S{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(L,B,U,W,j){this.cookieService=L,this._document=B,this._window=U,this.configService=j,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=W.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,T.qD)(),(0,h.T)(H=>H.hasSucceeded&&H.payload&&(0,v.hj)(H.payload.values)&&"true"===H.payload.values[0].toLowerCase())).pipe((0,_.n)(H=>H?this.loadRecaptchaProperties():l.w)).subscribe()}loadRecaptchaProperties(){const L=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,T.qD)()),B=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,T.qD)()),U=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,T.qD)());return(0,e.z)([B,U,L]).pipe((0,y.M)(([W,j,G])=>{if(this.cookieService.get("klaro-anonymous")&&this.cookieService.get("klaro-anonymous")[w]&&G.hasSucceeded&&W.hasSucceeded&&(0,v.hj)(W.payload?.values)&&(0,v.hj)(G.payload?.values)){const H=G.payload?.values[0],V=W.payload?.values[0];let X;switch(this.captchaKeySubject$.next(H),this.captchaVersionSubject$.next(V),V){case"v3":G.hasSucceeded&&(0,v.hj)(G.payload?.values)&&(X=this.buildCaptchaUrl(H),this.captchaModeSubject$.next("invisible"));break;case"v2":j.hasSucceeded&&(0,v.hj)(j.payload?.values)&&(X=this.buildCaptchaUrl(),this.captchaModeSubject$.next(j.payload?.values[0]))}X&&this.loadScript(X)}}))}getRecaptchaToken(L){return this.captchaKey().pipe((0,_.n)(B=>grecaptcha.execute(B,{action:L})))}executeRecaptcha(){return(0,f.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(L){const B="https://www.google.com/recaptcha/api.js";return L?`${B}?render=${L}`:B}loadScript(L){return new Promise((B,U)=>{const W=this.renderer.createElement("script");W.type="text/javascript",W.src=L,W.text="",W.onload=B,W.onerror=U,this.renderer.appendChild(this._document.head,W)})}static{this.\u0275fac=function(B){return new(B||S)(R.KVO(O.O),R.KVO(i.qQ),R.KVO(M.lc),R.KVO(R._9s),R.KVO(D.ConfigurationDataService))}}static{this.\u0275prov=R.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},23274:(N,b,n)=>{"use strict";n.d(b,{_:()=>l,i:()=>t});var i=n(91e3);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class l{constructor(f){this.type=t.ADD_TO_HISTORY,this.payload={url:f}}}},51672:(N,b,n)=>{"use strict";n.d(b,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},71442:(N,b,n)=>{"use strict";n.d(b,{H9:()=>e,Lv:()=>l,NL:()=>f,WJ:()=>t});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class l{constructor(h,_,y){this.type=t.ADD,this.payload={name:h,key:_,value:y}}}class e{constructor(h,_){this.type=t.REMOVE_BY_VALUE,this.payload={name:h,value:_}}}class f{constructor(h,_){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:h,value:_}}}},69227:(N,b,n)=>{"use strict";n.d(b,{Fn:()=>T,Qc:()=>M,bS:()=>v,fW:()=>h,tJ:()=>m,vH:()=>O});var i=n(25499),t=n(82777),l=n(47797),e=n(45663),f=n(51672);const m=R=>{if((0,t.hj)(R))try{const u=new URL(R);if((0,t.hj)(u.search)){const w=u.search.split(/[?|&]/).filter(S=>(0,t.hj)(S)).filter(S=>!(S.startsWith("embed=")||S.startsWith("embed.size=")));let C="";return(0,t.hj)(w)&&(C=`?${w.join("&")}`),R=new e.t(u.origin,u.pathname,C).toString()}}catch{}return R},h=R=>{if((0,t.hj)(R))try{const u=new URL(R);if((0,t.hj)(u.search))return u.search.split(/[?|&]/).filter(w=>(0,t.hj)(w)).map(w=>w.match(/^embed.size=([^=]+)=(\d+)$/)).filter(w=>(0,t.a4)(w)&&(0,t.a4)(w[1])&&(0,t.a4)(w[2])).map(w=>({name:w[1],size:Number(w[2])}))}catch{}return[]},_=(0,i.Mz)(l.N,R=>R.index),y=(0,i.Mz)(_,R=>R[f.U.OBJECT]),v=(0,i.Mz)(_,R=>R[f.U.REQUEST]),D=(0,i.Mz)(_,R=>R[f.U.ALTERNATIVE_OBJECT_LINK]),O=R=>(0,i.Mz)(y,u=>(0,t.a4)(u)?u[R]:void 0),M=R=>(0,i.Mz)(v,u=>(0,t.a4)(u)?u[m(R)]:void 0),T=R=>(0,i.Mz)(D,u=>(0,t.a4)(u)?u[R]:void 0)},92409:(N,b,n)=>{"use strict";n.d(b,{S:()=>l});var i=n(82777),t=n(45663);class l extends t.t{constructor(f,...m){super(f,...m),this._rootElement=f,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(f){(0,i.EA)(f)&&Array.isArray(f)&&(f=f.join("/"));let m="/"+this.toString();return(0,i.EA)(f)&&(m+="/"+f),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},98107:(N,b,n)=>{"use strict";n.d(b,{Bp:()=>M,Ce:()=>t,MI:()=>l,QZ:()=>D,X2:()=>_,Zd:()=>e,kM:()=>O,pg:()=>m,qy:()=>h,td:()=>v,v$:()=>f});var i=n(91e3);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class l{constructor(R,u){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class e{constructor(R,u){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class f{constructor(R,u,w){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u,startTime:w}}}class m{constructor(R,u){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class h{constructor(R,u,w){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:R,resourceId:u,path:w}}}class _{constructor(R,u,w,C){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:R,resourceId:u,path:w,value:C}}}class v{constructor(R,u,w,C){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:R,resourceId:u,from:w,path:C}}}class D{constructor(R,u,w){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:R,resourceId:u,path:w}}}class O{constructor(R,u,w,C){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:R,resourceId:u,path:w,value:C}}}class M{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},4047:(N,b,n)=>{"use strict";n.d(b,{M:()=>t});var i=n(59030);function t(l,e,f){return(0,i.v)(()=>l.has(e)&&"function"==typeof l.get(e)?l.get(e)().then(h=>f.get("default"in h?h.default:h)).catch(h=>{throw h}):null)}},63648:(N,b,n)=>{"use strict";n.d(b,{iH:()=>w,m4:()=>R});var i=n(60177),t=n(84572),l=n(7673),e=n(96697),f=n(73028),m=n(96354),h=n(88280),_=n(82777),y=n(67116),v=n(93130),D=n(56760),O=n(1676),M=n(54438),T=n(41780);const R="dsLanguage";var u=function(C){return C[C.UI=0]="UI",C[C.EPERSON=1]="EPERSON",C[C.BROWSER=2]="BROWSER",C}(u||{});let w=(()=>{class C{constructor(I,L,B,U,W,j){this._window=I,this.cookie=L,this.translate=B,this.authService=U,this.routeService=W,this.document=j,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let I=this.getLanguageCodeFromCookie();return((0,_.Im)(I)||void 0===h.c.languages.find(L=>L.code===I&&L.active))&&(I=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():h.c.defaultLanguage),I}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,f.Z)(([L,B])=>(0,l.of)([]).pipe((0,m.T)(W=>{const j=[];return this.translate.currentLang&&j.push(...this.setQuality([this.translate.currentLang],u.UI,!1)),(0,_.hj)(W)&&j.push(...W),navigator.languages&&j.push(...this.setQuality(Object.assign([],navigator.languages),u.BROWSER,!(0,_.Im)(this.translate.currentLang))),j}))))}getLanguageCodeFromCookie(){return this.cookie.get(R)}saveLanguageCodeToCookie(I){this.cookie.set(R,I)}setCurrentLanguageCode(I){(0,_.Im)(I)&&(I=this.getCurrentLanguageCode()),this.translate.use(I),this.saveLanguageCodeToCookie(I),this.document.documentElement.lang=I}setQuality(I,L,B){const U=[];let W=0;const j=I.length>10?I.length:10;let G;switch(L){case u.EPERSON:G=2;break;case u.BROWSER:G=B?10:1;break;default:G=1}return I.forEach(H=>{let V=H+";q=",X=(j-W++)/j;X=I.length>10?X.toFixed(2):X,V+=X/G,U.push(V)}),U}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(I=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(I)})}static{this.\u0275fac=function(L){return new(L||C)(M.KVO(O.lc),M.KVO(v.O),M.KVO(T.c$),M.KVO(y.uR),M.KVO(D.v$),M.KVO(i.qQ))}}static{this.\u0275prov=M.jDH({token:C,factory:C.\u0275fac})}}return C})()},52733:(N,b,n)=>{"use strict";n.d(b,{A:()=>D});var i=n(31635),t=n(74850),l=n(71985),e=n(82777),f=n(22878),m=n(21921),h=n(42547),_=n(98688),y=n(1259),v=n(51934);let D=class extends f.u{static{this.type=y.R}toString(M="."){let T=this.element;return(0,e.hj)(this.qualifier)&&(T+=M+this.qualifier),T}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],D.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],D.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],D.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(v.M),(0,i.Sn)("design:type",l.c)],D.prototype,"schema",void 0),D=(0,i.Cg)([m.gV],D)},1259:(N,b,n)=>{"use strict";n.d(b,{R:()=>t});const t=new(n(42547).v)("metadatafield")},32872:(N,b,n)=>{"use strict";n.d(b,{p:()=>_});var i=n(31635),t=n(74850),l=n(22878),e=n(21921),f=n(42547),m=n(98688),h=n(51934);let _=class extends l.u{static{this.type=h.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV],_)},51934:(N,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(42547).v)("metadataschema")},5410:(N,b,n)=>{"use strict";n.d(b,{T:()=>e});var i=n(82777),t=n(14391),l=n(54438);let e=(()=>{class f{isVirtual(h){return(0,i.a4)(h?.authority)&&h.authority.startsWith(t.BY)}virtualValue(h){if(this.isVirtual)return h.authority.substring(h.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},61723:(N,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceSourceDataService:()=>v});var i=n(39806),t=n(72734),l=n(41684),e=n(46787),f=n(63897),m=n(35108),h=n(32473),_=n(4910),y=n(54438);let v=(()=>{class D extends f.W{constructor(M,T,R,u,w){super("qualityassurancesources",M,T,R,u),this.requestService=M,this.rdbService=T,this.objectCache=R,this.halService=u,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,M,T,R,u,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,M,T,R,u,this.responseMsToLive)}getSources(M={},T=!0,R=!0,...u){return this.findAllData.findAll(M,T,R,...u)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(M,T=!0,R=!0,...u){return this.findById(M,T,R,...u)}getSourcesByTarget(M={},T=!0,R=!0,...u){return this.searchAllData.searchBy(this.searchByTargetMethod,M,T,R,...u)}static{this.\u0275fac=function(T){return new(T||D)(y.KVO(h.B),y.KVO(t.o),y.KVO(l.$),y.KVO(_.Y),y.KVO(i.I))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},31936:(N,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceTopicDataService:()=>v});var i=n(39806),t=n(72734),l=n(41684),e=n(46787),f=n(63897),m=n(35108),h=n(32473),_=n(4910),y=n(54438);let v=(()=>{class D extends f.W{constructor(M,T,R,u,w){super("qualityassurancetopics",M,T,R,u),this.requestService=M,this.rdbService=T,this.objectCache=R,this.halService=u,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,M,T,R,u,this.responseMsToLive),this.searchData=new m.X(this.linkPath,M,T,R,u,this.responseMsToLive)}searchTopicsByTarget(M={},T=!0,R=!0,...u){return this.searchData.searchBy(this.searchByTargetMethod,M,T,R,...u)}searchTopicsBySource(M={},T=!0,R=!0,...u){return this.searchData.searchBy(this.searchBySourceMethod,M,T,R,...u)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(M,T=!0,R=!0,...u){return this.findById(M,T,R,...u)}static{this.\u0275fac=function(T){return new(T||D)(y.KVO(h.B),y.KVO(t.o),y.KVO(l.$),y.KVO(_.Y),y.KVO(i.I))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},178:(N,b,n)=>{"use strict";n.d(b,{P:()=>t});const t=new(n(42547).v)("suggestion")},96687:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionDataService:()=>O});var i=n(39806),t=n(72734),l=n(53954),e=n(41684),f=n(13617),m=n(63897),h=n(35108),_=n(32473),y=n(4910),v=n(54438),D=n(21626);let O=(()=>{class M extends m.W{constructor(R,u,w,C,S,I){super("suggestions",R,u,w,C),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=C,this.notificationsService=S,this.http=I,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new f.I(this.linkPath,R,u,w,C,S,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new h.X(this.linkPath,R,u,w,C,this.responseMsToLive)}deleteSuggestion(R){return this.deleteData.delete(R)}getSuggestionsByTargetAndSource(R,u,w={},...C){return w.searchParams=[new l.x("target",R),new l.x("source",u)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,w,!1,!0,...C)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(u){return new(u||M)(v.KVO(_.B),v.KVO(t.o),v.KVO(e.$),v.KVO(y.Y),v.KVO(i.I),v.KVO(D.Qq))}}static{this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},94791:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionTargetDataService:()=>T});var i=n(39806),t=n(72734),l=n(53954),e=n(41684),f=n(46787),m=n(63897),h=n(35108),_=n(37419),y=n(32473),v=n(4910),D=n(54438),O=n(25499),M=n(21626);let T=(()=>{class R extends m.W{constructor(w,C,S,I,L,B,U,W){super("suggestiontargets",w,C,I,L),this.requestService=w,this.rdbService=C,this.store=S,this.objectCache=I,this.halService=L,this.notificationsService=B,this.http=U,this.comparator=W,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new f.H(this.linkPath,w,C,I,L,this.responseMsToLive),this.searchData=new h.X(this.linkPath,w,C,I,L,this.responseMsToLive)}getTargetsBySource(w,C={},S=!0,I=!0,...L){return C.searchParams=[new l.x("source",w)],this.searchBy(this.searchFindBySourceMethod,C,S,I,...L)}getTargetsByUser(w,C={},...S){return C.searchParams=[new l.x("target",w)],this.searchBy(this.searchFindByTargetMethod,C,!0,!0,...S)}getTargetById(w){return this.findById(w)}searchBy(w,C,S,I,...L){return this.searchData.searchBy(w,C,S,I,...L)}findAll(w={},C=!0,S=!0,...I){return this.findAllData.findAll(w,C,S,...I)}static{this.\u0275fac=function(C){return new(C||R)(D.KVO(y.B),D.KVO(t.o),D.KVO(O.il),D.KVO(e.$),D.KVO(v.Y),D.KVO(i.I),D.KVO(M.Qq),D.KVO(_.Y))}}static{this.\u0275prov=D.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},22978:(N,b,n)=>{"use strict";n.d(b,{m:()=>T});var i=n(84572),t=n(96354),l=n(5964),e=n(96697),f=n(82777),h=n(80597),_=n(23401),y=n(6238),v=n(41023),D=n(56760),O=n(54438),M=n(7901);let T=(()=>{class R{constructor(w,C){this.routeService=w,this.router=C,this.defaultSortOptions=new y.z("dc.title",y.U.ASC),this.clearParams={}}getCurrentPagination(w,C){const S=this.routeService.getQueryParameterValue(`${w}.page`),I=this.routeService.getQueryParameterValue(`${w}.rpp`);return(0,i.z)([S,I]).pipe((0,t.T)(([L,B])=>Object.assign(new _.W,C,{currentPage:this.convertToNumeric(L,C.currentPage),pageSize:this.getBestMatchPageSize(B,C)})))}getCurrentSort(w,C,S){!S&&((0,f.Im)(C)||!(0,f.a4)(C))&&(C=this.defaultSortOptions);const I=this.routeService.getQueryParameterValue(`${w}.sd`),L=this.routeService.getQueryParameterValue(`${w}.sf`);return(0,i.z)([I,L]).pipe((0,t.T)(([B,U])=>new y.z(U||C?.field,y.U[B]||C?.direction)))}getFindListOptions(w,C,S){const I=new _.W;I.currentPage=C.currentPage,I.pageSize=C.elementsPerPage;const L=this.getCurrentPagination(w,I),B=this.getCurrentSort(w,C.sort,S);return(0,i.z)([L,B]).pipe((0,l.p)(([U,W])=>(0,f.a4)(U)&&(0,f.a4)(W)),(0,t.T)(([U,W])=>Object.assign(new v._,C,{sort:W,currentPage:U.currentPage,elementsPerPage:U.pageSize})))}resetPage(w){this.updateRoute(w,{page:1})}updateRoute(w,C,S,I,L){this.updateRouteWithUrl(w,[],C,S,I,L)}updateRouteWithUrl(w,C,S,I,L,B){this.getCurrentRouting(w).subscribe(U=>{const W=this.getParametersWithIdName(w,U),j=this.getParametersWithIdName(w,S);if((0,f.hj)((0,h.iv)(j,W))||(0,f.hj)(I)||(0,f.hj)(this.clearParams)){const G=Object.assign({},this.clearParams,W,j,I);this.router.navigate(C,L?{queryParams:G,queryParamsHandling:"merge",fragment:`p-${w}`,...B}:{queryParams:G,queryParamsHandling:"merge",...B}),this.clearParams={}}})}clearPagination(w){const C={};C[`${w}.page`]=null,C[`${w}.rpp`]=null,C[`${w}.sf`]=null,C[`${w}.sd`]=null,Object.assign(this.clearParams,C)}getPageParam(w){return`${w}.page`}getCurrentRouting(w){return this.getFindListOptions(w,{},!0).pipe((0,e.s)(1),(0,t.T)(C=>({page:C.currentPage,pageSize:C.elementsPerPage,sortField:C.sort.field,sortDirection:C.sort.direction})))}getParametersWithIdName(w,C){const S={};return(0,f.a4)(C.page)&&(S[`${w}.page`]=`${C.page}`),(0,f.a4)(C.pageSize)&&(S[`${w}.rpp`]=`${C.pageSize}`),(0,f.a4)(C.sortField)&&(S[`${w}.sf`]=`${C.sortField}`),(0,f.a4)(C.sortDirection)&&(S[`${w}.sd`]=`${C.sortDirection}`),S}convertToNumeric(w,C){let S=C;return function m(R){return!Array.isArray(R)&&R-parseFloat(R)+1>=0}(w)&&(S=+w),S}getBestMatchPageSize(w,C){const S=this.convertToNumeric(w,C.pageSize),I=C.pageSizeOptions.map(B=>Math.abs(B-S)),L=Math.min.apply(Math,I);return C.pageSizeOptions[I.indexOf(L)]}static{this.\u0275fac=function(C){return new(C||R)(O.KVO(D.v$),O.KVO(M.Ix))}}static{this.\u0275prov=O.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},76151:(N,b,n)=>{"use strict";n.d(b,{w:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(56970),m=n(13868),h=n(42547),_=n(98688),y=n(71077);let v=class extends f.I{static{this.type=y.T}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",l.c)],v.prototype,"item",void 0),v=(0,i.Cg)([e.gV],v)},71077:(N,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("profile")},98926:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ResearcherProfileDataService:()=>G});var i=n(21626),t=n(7673),l=n(96354),e=n(47677),f=n(73028),m=n(82777),h=n(39806),_=n(43404),y=n(67600),v=n(72734),D=n(41684),O=n(39280),M=n(13617),T=n(63897),R=n(87158),u=n(35108),w=n(37419),C=n(29326),S=n(43052),I=n(32473),L=n(4910),B=n(80183),U=n(76151),W=n(54438),j=n(7901);let G=(()=>{class H extends T.W{constructor(X,J,q,Q,Y,z,Z,oe){super("profiles",X,J,q,Q,1e4),this.requestService=X,this.rdbService=J,this.objectCache=q,this.halService=Q,this.notificationsService=Y,this.router=z,this.comparator=Z,this.itemService=oe,this.createData=new O.V(this.linkPath,X,J,q,Q,Y,this.responseMsToLive),this.patchData=new R.n(this.linkPath,X,J,q,Q,Z,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new u.X(this.linkPath,X,J,q,Q,this.responseMsToLive),this.deleteData=new M.I(this.linkPath,X,J,q,Q,Y,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(X){const J=X.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(J)?(0,_.PM)():this.findById(J)}findRelatedItemId(X){return(X.item?X.item:this.itemService.findByHref(X._links.item.href,!1)).pipe((0,B.qD)(),(0,l.T)(q=>q.hasSucceeded&&q.payload?q.payload.id:null))}setVisibility(X,J){return this.patch(X,[{path:"/visible",op:"replace",value:J}])}createFromExternalSource(X){const J=Object.create({});let q=new i.Lr;q=q.append("Content-Type","text/uri-list"),J.headers=q;const Q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(z=>(0,m.a4)(z)),(0,l.T)(z=>this.buildHrefWithParams(z,[],(0,y.s)("item")))).subscribe(z=>{const Z=new S.Qf(Q,z,X,J);this.requestService.send(Z)}),this.rdbService.buildFromRequestUUID(Q,(0,y.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(X){return this.createFromExternalSource(X).pipe((0,B.qD)(),(0,f.Z)(J=>J.hasSucceeded?this.findRelatedItemId(J.payload):(0,t.of)(null)))}create(X,...J){return(0,m.Im)(X)&&(X=new U.w),this.createData.create(X,...J)}searchBy(X,J,q,Q,...Y){return this.searchData.searchBy(X,J,q,Q,...Y)}getSearchByHref(X,J,...q){return this.searchData.getSearchByHref(X,J,...q)}commitUpdates(X){this.patchData.commitUpdates(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}patch(X,J){return this.patchData.patch(X,J)}update(X){return this.patchData.update(X)}delete(X,J){return this.deleteData.delete(X,J)}deleteByHref(X,J){return this.deleteData.deleteByHref(X,J)}static{this.\u0275fac=function(J){return new(J||H)(W.KVO(I.B),W.KVO(v.o),W.KVO(D.$),W.KVO(L.Y),W.KVO(h.I),W.KVO(j.Ix),W.KVO(w.Y),W.KVO(C.ItemDataService))}}static{this.\u0275prov=W.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},46355:(N,b,n)=>{"use strict";n.d(b,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},46251:(N,b,n)=>{"use strict";n.d(b,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},28235:(N,b,n)=>{"use strict";n.d(b,{h:()=>M});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(58235),h=n(36074),_=n(42547),y=n(98688),O=(n(46355),n(46251),n(88985));let M=class{static{this.type=O.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],M.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"endDate",void 0),(0,i.Cg)([y.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],M.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],M.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",l.c)],M.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(h.U),(0,i.Sn)("design:type",l.c)],M.prototype,"group",void 0),M=(0,i.Cg)([e.gV],M)},88985:(N,b,n)=>{"use strict";n.d(b,{O:()=>t});const t=new(n(42547).v)("resourcepolicy")},67944:(N,b,n)=>{"use strict";n.d(b,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},46265:(N,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(7673),t=n(23294),l=n(6983),e=n(67944),f=n(54438);let m=(()=>{class h{constructor(y){this.collectionService=y}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(y){let v;switch(y){case e.T.Submitter:v=this.isSubmitter();break;case e.T.Controller:v=this.isController();break;case e.T.Admin:v=this.isAdmin()}return v}static{this.\u0275fac=function(v){return new(v||h)(f.KVO(l.CollectionDataService))}}static{this.\u0275prov=f.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},93130:(N,b,n)=>{"use strict";n.d(b,{O:()=>e});var i=n(21413),t=n(59540),l=n(54438);let e=(()=>{class f{constructor(h){this.req=h,this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(_){return new(_||f)(l.KVO(t.S))}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac})}}return f})()},59752:(N,b,n)=>{"use strict";n.d(b,{$:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},8865:(N,b,n)=>{"use strict";n.d(b,{m:()=>l});var i=n(60177),t=n(54438);let l=(()=>{class e{constructor(m,h){this.rendererFactory=m,this.document=h}addTag(m){try{const h=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),_=h.createElement("link"),y=this.document.head;if(null===y)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(v=>h.setAttribute(_,v,m[v])),h.appendChild(y,_),h}catch(h){console.error("Error within linkService: ",h)}}removeTag(m){if(m)try{const h=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),_=this.document.head;if(null===_)throw new Error("<head> not found within DOCUMENT.");const y=this.document.querySelectorAll("link["+m+"]");for(const v of y)h.removeChild(_,v)}catch(h){h instanceof Error&&console.error("Error while removing tag: "+h.message)}}static{this.\u0275fac=function(h){return new(h||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},88091:(N,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},61905:(N,b,n)=>{"use strict";n.d(b,{$H:()=>m,HH:()=>t,Yb:()=>_,eL:()=>h,fP:()=>e,hX:()=>l,sV:()=>y});var i=n(91e3);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class l{constructor(D){this.type=t.SET_QUERY_PARAMETERS,this.payload=D}}class e{constructor(D){this.type=t.SET_PARAMETERS,this.payload=D}}class m{constructor(D,O){this.type=t.ADD_PARAMETER,this.payload={key:D,value:O}}}class h{constructor(D,O){this.type=t.SET_QUERY_PARAMETER,this.payload={key:D,value:O}}}class _{constructor(D,O){this.type=t.SET_PARAMETER,this.payload={key:D,value:O}}}class y{constructor(){this.type=t.RESET}}},56760:(N,b,n)=>{"use strict";n.d(b,{v$:()=>L});var i=n(7901),t=n(25499),l=n(48125),e=n.n(l),f=n(84572),m=n(96354),h=n(23294),_=n(5964),y=n(96697),v=n(82777),D=n(47797),O=n(23274);const M=(0,t.Mz)(D.N,B=>B.history);var T=n(61905),R=n(54438);const u=(0,t.Mz)(D.N,B=>(0,v.a4)(B)&&(0,v.a4)(B.route)?B.route.params:void 0);(0,t.Mz)(D.N,B=>(0,v.a4)(B)&&(0,v.a4)(B.route)?B.route.queryParams:void 0);let L=(()=>{class B{constructor(W,j,G){this.route=W,this.router=j,this.store=G,this.saveRouting()}getQueryParameterValues(W){return this.getQueryParamMap().pipe((0,m.T)(j=>[...j.getAll(W)]),(0,h.F)((j,G)=>JSON.stringify(j)===JSON.stringify(G)))}getQueryParameterValue(W){return this.getQueryParamMap().pipe((0,m.T)(j=>j.get(W)),(0,h.F)())}hasQueryParam(W){return this.getQueryParamMap().pipe((0,m.T)(j=>j.has(W)),(0,h.F)())}hasQueryParamWithValue(W,j){return this.getQueryParamMap().pipe((0,m.T)(G=>G.getAll(W).indexOf(j)>-1),(0,h.F)())}getRouteParameterValue(W){return this.store.pipe((0,t.Lt)((B=>function I(B,U){return(0,t.Mz)(U,W=>{if((0,v.a4)(W))return W[B]})}(B,u))(W)))}getRouteDataValue(W){return this.route.data.pipe((0,m.T)(j=>j[W]),(0,h.F)())}getQueryParamsWithPrefix(W){return this.getQueryParamMap().pipe((0,m.T)(j=>{const G={};return j.keys.filter(H=>H.startsWith(W)).forEach(H=>{G[H]=[...j.getAll(H)]}),G}),(0,h.F)((j,G)=>JSON.stringify(j)===JSON.stringify(G)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)(W=>{const j=this.router.routerState.snapshot;return e()(W,j.root.queryParamMap)?W:j.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,_.p)(W=>W instanceof i.wF)).subscribe(W=>{this.store.dispatch(new O._(W.urlAfterRedirects))})}getRouteParams(){let W=this.route;for(;W.firstChild;)W=W.firstChild;return W.params}getHistory(){return this.store.pipe((0,t.Lt)(M))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)(W=>W[W.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)(W=>W[W.length-2]||""))}addParameter(W,j){this.store.dispatch(new T.$H(W,j))}setParameter(W,j){this.store.dispatch(new T.Yb(W,j))}setQueryParameter(W,j){this.store.dispatch(new T.eL(W,j))}setCurrentRouteInfo(){(0,f.z)(this.getRouteParams(),this.route.queryParams).pipe((0,y.s)(1)).subscribe(([W,j])=>{this.store.dispatch(new T.fP(W)),this.store.dispatch(new T.hX(j))})}getParamsExceptValue(W,j){return this.route.queryParams.pipe((0,m.T)(G=>{const H=Object.assign({},G),V=H[W];return V===j||void 0===j?delete H[W]:Array.isArray(V)&&V.includes(j)&&(H[W]=V.filter(X=>X!==j),0===H[W].length&&delete H[W]),H}))}getParamsWithAdditionalValue(W,j){return this.route.queryParams.pipe((0,m.T)(G=>{const H=Object.assign({},G),V=H[W];return H[W]=void 0===V?j:Array.isArray(V)?[...V,j]:[V,j],H}))}static{this.\u0275fac=function(j){return new(j||B)(R.KVO(i.nX),R.KVO(i.Ix),R.KVO(t.il))}}static{this.\u0275prov=R.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},7337:(N,b,n)=>{"use strict";n.d(b,{w:()=>l});var i=n(59540),t=n(54438);let l=(()=>{class e{constructor(m){this.response=m}setStatus(m,h){return this.response&&(this.response.statusCode=m,h&&(this.response.statusMessage=h)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,h){this.response&&this.response.setHeader(m,h)}static{this.\u0275fac=function(h){return new(h||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1676:(N,b,n)=>{"use strict";n.d(b,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new l}});class l{get nativeWindow(){return typeof window<"u"&&window}}},308:(N,b,n)=>{"use strict";n.d(b,{QD:()=>y,ci:()=>D,gM:()=>O});var i=n(54438),t=n(84572),l=n(53993),e=n(5964),f=n(96354),m=n(69799),h=n(16805);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>y});const y=(M,T)=>R=>R.pipe((0,l.E)(T.isAuthenticated()),(0,e.p)(([u,w])=>{if(u.hasFailed){if(404===u.statusCode||422===u.statusCode)return M.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===u.statusCode||401===u.statusCode)return w?(M.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(T.setRedirectUrl(M.url),M.navigateByUrl("login"),!1)}return!0}),(0,f.T)(([u])=>u)),D=(M,T,R)=>u=>(0,t.z)(u,T.isAuthenticated()).pipe((0,f.T)(([w,C])=>!!w.some(S=>!0===S)||(C?M.parseUrl((0,m.bZ)()):(T.setRedirectUrl(R),M.parseUrl("login"))))),O=(M,T)=>R=>R.pipe((0,f.T)(u=>{const w={redirect:encodeURIComponent(T)};return u||M.createUrlTree([(0,h.KN)()],{queryParams:w})}))},70334:(N,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},760:(N,b,n)=>{"use strict";n.d(b,{v:()=>y});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(98688),m=n(92174),_=(n(70334),n(42547));let y=class{static{this.type=m.a}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],y.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([l.gV],y)},92174:(N,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(42547).v)("bitstreamformat")},33376:(N,b,n)=>{"use strict";n.d(b,{_:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(92174),h=n(2527),_=n(76829);let y=class extends _.M{static{this.type=f.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e,!1,"thumbnail"),(0,i.Sn)("design:type",l.c)],y.prototype,"thumbnail",void 0),(0,i.Cg)([(0,e.nf)(m.a,!1,"format"),(0,i.Sn)("design:type",l.c)],y.prototype,"format",void 0),(0,i.Cg)([(0,e.nf)(h.d),(0,i.Sn)("design:type",l.c)],y.prototype,"bundle",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],y)},96470:(N,b,n)=>{"use strict";n.d(b,{e:()=>t});const t=new(n(42547).v)("bitstream")},34427:(N,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(31635),t=n(74850),l=n(56970);class e extends l.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},87369:(N,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("browse")},70673:(N,b,n)=>{"use strict";n.d(b,{N:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(2527),h=n(76829),_=n(13868);let y=class extends h.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",l.c)],y.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(_.U),(0,i.Sn)("design:type",l.c)],y.prototype,"item",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],y)},2527:(N,b,n)=>{"use strict";n.d(b,{d:()=>t});const t=new(n(42547).v)("bundle")},6041:(N,b,n)=>{"use strict";n.d(b,{p:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(88985),m=n(98688),h=n(96470),_=n(9927),y=n(72364),v=n(76829),D=n(18602);let O=class extends v.M{static{this.type=_.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(D.m),(0,i.Sn)("design:type",l.c)],O.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(h.e),(0,i.Sn)("design:type",l.c)],O.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.O,!0),(0,i.Sn)("design:type",l.c)],O.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(y.G,!1),(0,i.Sn)("design:type",l.c)],O.prototype,"parentCommunity",void 0),O=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],O)},9927:(N,b,n)=>{"use strict";n.d(b,{n:()=>t});const t=new(n(42547).v)("collection")},10046:(N,b,n)=>{"use strict";n.d(b,{E:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(98688),m=n(96470),h=n(9927),_=n(72364),y=n(76829);let v=class extends y.M{static{this.type=_.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",l.c)],v.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(h.n,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(_.G,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(_.G,!1),(0,i.Sn)("design:type",l.c)],v.prototype,"parentCommunity",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(y.M)],v)},72364:(N,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=new(n(42547).v)("community")},98179:(N,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},54559:(N,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(82777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},45348:(N,b,n)=>{"use strict";n.d(b,{Z:()=>v,s:()=>y});var i=n(31635),t=n(74850),l=n(21921),e=n(56970),f=n(98688),m=n(42547);const h=new m.v("contentsource");var _=n(54559),y=function(D){return D.None="NONE",D.Metadata="METADATA_ONLY",D.MetadataAndRef="METADATA_AND_REF",D.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",D}(y||{});let v=class extends e.I{constructor(){super(...arguments),this.type=h,this.harvestType=y.None}static{this.type=h}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],v.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new _.f,"oai_set_id"),(0,t.serializeAs)(new _.f,"oai_set_id"),(0,i.Sn)("design:type",String)],v.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],v.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],v.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],v.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],v.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],v.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],v.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([l.gV],v)},26292:(N,b,n)=>{"use strict";n.d(b,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t}(i||{})},52998:(N,b,n)=>{"use strict";function i(t,l){t.getValue()!==l&&t.next(l)}n.d(b,{S:()=>i})},13864:(N,b,n)=>{"use strict";n.d(b,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},76829:(N,b,n)=>{"use strict";n.d(b,{M:()=>D});var i=n(31635),t=n(74850),l=n(82777),e=n(22878),f=n(21921),m=n(98688),h=n(39147),_=n(14391),y=n(39552),v=n(42547);let D=class extends e.u{static{this.type=h.X}get self(){return this._links.self.href}set self(M){this._links.self={href:M}}get name(){return(0,l.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(M){(0,l.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=M),this._name=M}get metadataAsList(){return y.O.toViewModelList(this.metadata)}allMetadata(M,T){return y.O.all(this.metadata,M,T)}allMetadataValues(M,T){return y.O.allValues(this.metadata,M,T)}firstMetadata(M,T){return y.O.first(this.metadata,M,T)}firstMetadataValue(M,T){return y.O.firstValue(this.metadata,M,T)}hasMetadata(M,T){return y.O.has(this.metadata,M,T)}findMetadataSortedByPlace(M){return this.allMetadata(M).sort((T,R)=>(0,l.Tn)(T.place)&&(0,l.Tn)(R.place)?0:(0,l.Tn)(T.place)?-1:(0,l.Tn)(R.place)?1:T.place-R.place)}getRenderTypes(){return[this.constructor]}setMetadata(M,T,...R){const u=R.map((w,C)=>{const S=new _.vD;return S.value=w,S.authority=null,S.confidence=-1,S.language=T||null,S.place=C,S});(0,l.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[M]=u}removeMetadata(M){delete this.metadata[M]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],D.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],D.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],D.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],D.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(_.Of),(0,i.Sn)("design:type",_.Cr)],D.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],D.prototype,"_links",void 0),D=(0,i.Cg)([f.gV],D)},39147:(N,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(42547).v)("dspaceobject")},15179:(N,b,n)=>{"use strict";n.d(b,{$:()=>y});var i=n(31635),t=n(74850),l=n(22878),e=n(21921),f=n(98688),m=n(42547);const h=new m.v("externalSourceEntry");var _=n(14391);let y=class extends l.u{static{this.type=h}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(_.Of),(0,i.Sn)("design:type",_.Cr)],y.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV],y)},31507:(N,b,n)=>{"use strict";n.d(b,{B:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(56970),m=n(98688),h=n(42547);const _=new h.v("externalsource");var y=n(49623);let v=class extends f.I{static{this.type=_}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(y.N,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},89269:(N,b,n)=>{"use strict";n.d(b,{E:()=>_});var i=n(96697),t=n(96354),l=n(82777),e=n(67116),f=n(1676),m=n(45663),h=n(54438);let _=(()=>{class y{constructor(D,O){this._window=D,this.authService=O}retrieveFileDownloadLink(D){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(O=>(0,l.a4)(O)?new m.t(D,`?authentication-token=${O}`).toString():D))}getFileNameFromResponseContentDisposition(D){const O=D.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(O)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(O){return new(O||y)(h.KVO(f.lc),h.KVO(e.uR))}}static{this.\u0275prov=h.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},55451:(N,b,n)=>{"use strict";n.d(b,{P:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(393),m=n(8472),h=n(42547);let _=class extends m.o{constructor(){super(...arguments),this.type=f.z}static{this.type=f.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",h.v)],_.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.o)],_)},393:(N,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("flatBrowse")},4910:(N,b,n)=>{"use strict";n.d(b,{Y:()=>R});var i=n(88141),t=n(5964),l=n(96354),e=n(96697),f=n(25558),m=n(99172),h=n(23294),_=n(82777),y=n(72734),v=n(43052),D=n(32473),O=n(61424),M=n(80183),T=n(54438);let R=(()=>{class u{constructor(C,S){this.requestService=C,this.rdbService=S}getRootHref(){return(new O.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(C){const S=new v.ld(this.requestService.generateRequestId(),C);return this.requestService.send(S,!0),this.rdbService.buildFromHref(C).pipe((0,i.M)(I=>{(0,_.a4)(I)&&I.isStale&&this.getEndpointMapAt(C)}),(0,t.p)(I=>!I.isStale),(0,M.qD)(),(0,l.T)(I=>{if((0,_.a4)(I.payload))return I.payload._links;console.warn(`No _links section found at ${C}`)}))}getEndpoint(C,S){const I=C.split("/").filter(L=>(0,_.hj)(L));return this.getEndpointAt(S||this.getRootHref(),...I).pipe((0,e.s)(1))}getEndpointAt(C,...S){if((0,_.Im)(S))throw new Error("cant't fetch the URL without the HAL link names");const I=this.getEndpointMapAt(C).pipe((0,l.T)(L=>{const B=S[0];if((0,_.a4)(L)&&(0,_.a4)(L[B]))return L[B].href;throw new Error(`${JSON.stringify(L)} doesn't contain the link ${B}`)}));return 1===S.length?I.pipe((0,e.s)(1)):I.pipe((0,f.n)(L=>this.getEndpointAt(L,...S.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(C){return this.getRootEndpointMap().pipe((0,l.T)(S=>(0,_.hj)(S[C])),(0,m.Z)(void 0),(0,h.F)())}static{this.\u0275fac=function(S){return new(S||u)(T.KVO(D.B),T.KVO(y.o))}}static{this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},11453:(N,b,n)=>{"use strict";n.d(b,{s:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],l.prototype,"_links",void 0)},98277:(N,b,n)=>{"use strict";n.d(b,{R:()=>y});var i=n(31635),t=n(74850),l=n(1624),e=n(21921),f=n(98688),m=n(34427),h=n(70035),_=n(42547);let y=class extends m.o{constructor(){super(...arguments),this.type=h.L}static{this.type=h.L}get self(){return this._links.self.href}getRenderType(){return l.O.Hierarchy}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",_.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],y)},70035:(N,b,n)=>{"use strict";n.d(b,{L:()=>t});const t=new(n(42547).v)("hierarchicalBrowse")},23881:(N,b,n)=>{"use strict";n.d(b,{S:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(98688),m=n(42547),h=n(49623);let _=class{static{this.type=h.N}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(_.type.value),"id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV],_)},49623:(N,b,n)=>{"use strict";n.d(b,{N:()=>t,k:()=>l});const t=new(n(42547).v)("entitytype"),l="none"},59854:(N,b,n)=>{"use strict";n.d(b,{F:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(98688),h=n(42547),_=n(49623),y=n(80284);let v=class{static{this.type=y.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(v.type.value),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(_.N),(0,i.Sn)("design:type",l.c)],v.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(_.N),(0,i.Sn)("design:type",l.c)],v.prototype,"rightType",void 0),v=(0,i.Cg)([e.gV],v)},80284:(N,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("relationshiptype")},67359:(N,b,n)=>{"use strict";n.d(b,{b:()=>D});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(98688),h=n(13868),_=n(42547),y=n(17133),v=n(80284);let D=class{static{this.type=y.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],D.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(D.type.value),"id"),(0,i.Sn)("design:type",String)],D.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],D.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],D.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],D.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.U),(0,i.Sn)("design:type",l.c)],D.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(h.U),(0,i.Sn)("design:type",l.c)],D.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",l.c)],D.prototype,"relationshipType",void 0),D=(0,i.Cg)([e.gV],D)},17133:(N,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(42547).v)("relationship")},52920:(N,b,n)=>{"use strict";n.d(b,{b:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(42547);const m=new f.v("itemrequest");let h=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],h.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],h.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],h.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"bitstreamId",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0),h=(0,i.Cg)([l.gV],h)},88318:(N,b,n)=>{"use strict";n.d(b,{q:()=>R});var i=n(31635),t=n(74850),l=n(71985),e=n(87922),f=n(82777),m=n(89177),h=n(21921),_=n(96470),y=n(2527),v=n(9927),D=n(76829),O=n(13868),M=n(17133),T=n(16321);let R=class extends D.M{static{this.type=O.U}getRenderTypes(){const w=this.firstMetadataValue("dspace.entity.type");return(0,f.Im)(w)?super.getRenderTypes():[w,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,h.nf)(v.n),(0,i.Sn)("design:type",l.c)],R.prototype,"owningCollection",void 0),(0,i.Cg)([(0,h.nf)(T.x),(0,i.Sn)("design:type",l.c)],R.prototype,"version",void 0),(0,i.Cg)([(0,h.nf)(y.d,!0),(0,i.Sn)("design:type",l.c)],R.prototype,"bundles",void 0),(0,i.Cg)([(0,h.nf)(M.X,!0),(0,i.Sn)("design:type",l.c)],R.prototype,"relationships",void 0),(0,i.Cg)([(0,h.nf)(_.e,!1,"thumbnail"),(0,i.Sn)("design:type",l.c)],R.prototype,"thumbnail",void 0),(0,i.Cg)([(0,h.nf)(e.E),(0,i.Sn)("design:type",l.c)],R.prototype,"accessStatus",void 0),(0,i.Cg)([(0,h.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",l.c)],R.prototype,"identifiers",void 0),R=(0,i.Cg)([h.gV,(0,t.inheritSerialization)(D.M)],R)},13868:(N,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("item")},18602:(N,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(42547).v)("license")},93498:(N,b,n)=>{"use strict";n.d(b,{y:()=>l});var i=n(88318),t=n(85448);class l extends i.q{constructor(f){super(),this.virtualMetadata=f}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},85448:(N,b,n)=>{"use strict";n.d(b,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},90424:(N,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(82777),t=n(14391),l=n(85448);class e extends t.vD{constructor(m,h){super(),this.itemType=m,this.browseDefinition=h}get representationType(){return(0,i.a4)(this.authority)?l.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?l.d.BrowseLink:l.d.PlainText}getValue(){return this.value}}},14391:(N,b,n)=>{"use strict";n.d(b,{BY:()=>e,Cr:()=>f,Of:()=>_,vD:()=>m});var i=n(31635),t=n(74850),l=n(36883);const e="virtual::";class f{}class m{constructor(){this.uuid=(0,l.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const _={Serialize(y){const v={};return Object.keys(y).forEach(D=>{v[D]=(0,t.Serialize)(y[D],m)}),v},Deserialize(y){const v={};return Object.keys(y).forEach(D=>{v[D]=(0,t.Deserialize)(y[D],m)}),v}}},39552:(N,b,n)=>{"use strict";n.d(b,{O:()=>h});var i=n(28267),t=n.n(i),l=n(69136),e=n.n(l),f=n(82777),m=n(14391);class h{static all(y,v,D){const O=y instanceof Array?y:[y],M=[];for(const T of O){for(const R of h.resolveKeys(T,v)){const u=T[R];if(u)for(const w of u)h.valueMatches(w,D)&&M.push(w)}if(!(0,f.Im)(M))return M}return M}static allValues(y,v,D){return h.all(y,v,D).map(O=>O.value)}static first(y,v,D){const O=y instanceof Array?y:[y];for(const M of O)for(const T of h.resolveKeys(M,v)){const R=M[T];if(R)return R.find(u=>h.valueMatches(u,D))}}static firstValue(y,v,D){const O=h.first(y,v,D);return(0,f.b0)(O)?void 0:O.value}static has(y,v,D){return(0,f.EA)(h.first(y,v,D))}static valueMatches(y,v){if(!v)return!0;if(v.language&&v.language!==y.language)return!1;if(v.authority&&v.authority!==y.authority)return!1;if(v.value){let D=v.value,O=y.value;return v.ignoreCase&&(D=v.value.toLowerCase(),O=y.value.toLowerCase()),v.substring?O.includes(D):O===D}return!0}static resolveKeys(y={},v){const D=v instanceof Array?v:[v],O=[];for(const M of D)if(M.includes("*")){const T=new RegExp("^"+M.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const R of Object.keys(y))!O.includes(R)&&T.test(R)&&O.push(R)}else y.hasOwnProperty(M)&&!O.includes(M)&&O.push(M);return O}static toViewModelList(y){let v=[];return Object.keys(y).sort().forEach(D=>{const O=y[D].map((M,T)=>Object.assign({},M,{order:T,key:D}));v=[...v,...O]}),v}static toMetadataMap(y){const v={},D=t()(y,O=>O.key);return Object.keys(D).sort().forEach(O=>{const M=e()(D[O],["order"]);v[O]=M.map(T=>{const R=Object.assign(new m.vD,T);return delete R.order,delete R.key,R})}),v}static setFirstValue(y,v,D){(0,f.hj)(y[v])?y[v][0].value=D:y[v]=[Object.assign(new m.vD,{value:D})]}}},8472:(N,b,n)=>{"use strict";n.d(b,{o:()=>f});var i=n(31635),t=n(74850),e=(n(1624),n(34427));let f=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],f.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"dataType",void 0),f=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],f)},80183:(N,b,n)=>{"use strict";n.d(b,{f6:()=>w,F3:()=>u,bD:()=>I,v7:()=>q,Hz:()=>H,Jq:()=>Y,D4:()=>J,qD:()=>L,GD:()=>z,yd:()=>U,ak:()=>j,QQ:()=>G,Ar:()=>V,o5:()=>W,W8:()=>S,Bo:()=>C,LB:()=>oe,qn:()=>Z,jY:()=>Q});var i=n(54438),t=n(40605),l=n(84572),e=n(39974),f=n(85343),m=n(54360),h=n(58750),y=n(70152),v=n(96354),D=n(5964),O=n(96697),M=n(47677),T=n(25558),R=n(82777);const u=(se,de)=>function _(se){return(0,e.N)((de,te)=>{let le=!1,Ee=null,be=null;const pe=()=>{if(be?.unsubscribe(),be=null,le){le=!1;const re=Ee;Ee=null,te.next(re)}};de.subscribe((0,m._)(te,re=>{be?.unsubscribe(),le=!0,Ee=re,be=(0,m._)(te,pe,f.l),(0,h.Tg)(se(re)).subscribe(be)},()=>{pe(),te.complete()},void 0,()=>{Ee=be=null}))})}(()=>(0,t.Y)(se,de)),w=new i.nKC("debounceTime",{providedIn:"root",factory:()=>y.B}),C=()=>se=>se.pipe((0,v.T)(de=>de?.payload)),S=()=>se=>se.pipe((0,v.T)(de=>de.page)),I=()=>se=>se.pipe((0,D.p)(de=>(0,R.a4)(de)&&de.hasCompleted)),L=()=>se=>se.pipe(I(),(0,O.s)(1)),U=()=>se=>se.pipe((0,D.p)(de=>de.hasSucceeded),(0,O.s)(1)),W=()=>se=>se.pipe((0,M.I)(de=>de.hasSucceeded&&(0,R.hj)(de.payload))),j=()=>se=>se.pipe(U(),C()),G=()=>se=>se.pipe(W(),C()),H=()=>se=>se.pipe(q(),C()),V=()=>se=>se.pipe(U(),C(),S()),J=()=>se=>se.pipe((0,M.I)(de=>!de.isLoading)),q=()=>se=>se.pipe((0,D.p)(de=>de.hasSucceeded)),Q=()=>se=>se.pipe((0,D.p)(de=>de.hasSucceeded),(0,v.T)(de=>{const te=de.payload.page.filter(Ee=>(0,R.a4)(Ee)).map(Ee=>Ee.indexableObject),le=Object.assign(de.payload,{page:te});return Object.assign(de,{payload:le})})),Y=se=>de=>de.pipe(C(),S(),(0,v.T)(te=>te.find(le=>le.id===se)),(0,v.T)(te=>{if((0,R.hj)(te))return te._links;throw new Error(`No metadata browse definition could be found for id '${se}'`)})),z=()=>se=>se.pipe((0,v.T)(de=>Object.assign(de,{payload:de.payload.page.length>0?de.payload.page[0]:void 0}))),Z=()=>se=>se.pipe((0,R.Az)(),(0,v.T)(de=>de.payload.page.filter(te=>(0,R.a4)(te)))),oe=()=>se=>se.pipe((0,R.Az)(),(0,v.T)(de=>de.payload.page.filter(te=>(0,R.a4)(te))),(0,T.n)(de=>{const te=de.map(le=>le.schema.pipe(j(),(0,v.T)(Ee=>({field:le,schema:Ee}))));return(0,R.hj)(te)?(0,l.z)(te):[[]]}),(0,v.T)(de=>de.map(te=>te.schema.prefix+"."+te.field.toString())))},32089:(N,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(31635),t=n(74850),l=n(82777);class e{constructor(m){(0,l.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.last))return this._links.last.href}get next(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.next))return this._links.next.href}get prev(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},71135:(N,b,n)=>{"use strict";n.d(b,{c:()=>f});var i=n(31635),t=n(21921);const e=new(n(42547).v)("registration");let f=class{static{this.type=e}};f=(0,i.Cg)([t.gV],f)},91098:(N,b,n)=>{"use strict";n.d(b,{Ky:()=>e,m9:()=>f,w$:()=>h});var i=n(73028),t=n(88141),l=n(82777);const e=_=>y=>y.pipe((0,i.Z)(v=>_.getByHref(v)),(0,l.Az)()),f=_=>y=>y.pipe((0,i.Z)(v=>_.getByUUID(v)),(0,l.Az)()),h=_=>y=>y.pipe((0,t.M)(v=>_.send(v)))},42547:(N,b,n)=>{"use strict";n.d(b,{v:()=>i});class i{constructor(l){this.value=l}}},39012:(N,b,n)=>{"use strict";n.d(b,{g:()=>be});var i=n(84572),t=n(84412),l=n(57786),e=n(99172),f=n(96354),m=n(5964),h=n(96697),_=n(82640),y=n(82777),v=n(23401),D=n(43404),O=n(59780),M=n(33550);class T{constructor(re,ye,De){this.key=re,this.values=ye,this.operator=De}}var R=n(6842),u=n(54196),w=n(1321),C=n(72734),S=n(6238),I=n(31635),L=n(74850),B=n(21921),U=n(98688);const j=new(n(42547).v)("discovery-facets");let G=class{constructor(){this.type=j}static{this.type=j}};(0,I.Cg)([U.aK,(0,I.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,I.Cg)([L.deserialize,(0,I.Sn)("design:type",Object)],G.prototype,"_links",void 0),G=(0,I.Cg)([B.gV],G);var H=n(13808),V=n(28580),X=n(49872),J=n(54438);let q=(()=>{class pe extends X.D3{parse(ye,De){const nt=De.payload._embedded.facets,xe=new V.T(R.F).deserializeArray(nt),ot={self:De.payload._links.self};xe.forEach(Fe=>{ot[Fe.name]={href:Fe._links.self.href}});const $e=Object.assign(new G,{filters:xe,_links:ot});return this.addToObjectCache($e,ye,De),new H.hT(De.statusCode,$e._links.self)}static{this.\u0275fac=(()=>{let ye;return function(nt){return(ye||(ye=J.xGo(pe)))(nt||pe)}})()}static{this.\u0275prov=J.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})();var Q=n(1716),Y=n(43052),z=n(32473),Z=n(22978),oe=n(56760),se=n(45663),de=n(13864),te=n(4910),le=n(80183),Ee=n(7901);let be=(()=>{class pe{constructor(ye,De,nt,mt,xe,ot,$e,Fe){this.routeService=ye,this.paginationService=De,this.route=nt,this.linkService=mt,this.halService=xe,this.requestService=ot,this.rdb=$e,this.appConfig=Fe,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new v.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,y.Tn)(this._defaults)){const ye=new M.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,D.CX)(ye,(new Date).getTime())}return this._defaults}getCurrentConfiguration(ye){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,f.T)(([De,nt])=>De||nt||ye))}getCurrentScope(ye){return this.routeService.getQueryParameterValue("scope").pipe((0,f.T)(De=>De||ye))}getCurrentQuery(ye){return this.routeService.getQueryParameterValue("query").pipe((0,f.T)(De=>De||ye))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(ye=>(0,y.hj)(ye)&&(0,y.a4)(de.W[ye.toUpperCase()])),(0,f.T)(ye=>de.W[ye.toUpperCase()]))}getCurrentPagination(ye,De){return this.paginationService.getCurrentPagination(ye,De)}getCurrentSort(ye,De){return this.paginationService.getCurrentSort(ye,De)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,f.T)(ye=>{if((0,y.hj)(ye)){const De=[];return Object.keys(ye).forEach(nt=>{if(nt.endsWith(".min")||nt.endsWith(".max")){const mt=nt.slice(0,-4);(0,y.Tn)(De.find(xe=>xe.key===mt))&&De.push(new T(mt,["["+(ye[mt+".min"]?ye[mt+".min"][0]:"*")+" TO "+(ye[mt+".max"]?ye[mt+".max"][0]:"*")+"]"],"equals"))}else De.push(new T(nt,ye[nt]))}),De}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(ye){return this.routeService.getQueryParameterValue("view").pipe((0,f.T)(De=>De||ye))}getConfigurationSearchConfig(ye,De){return this.getSearchConfigurationFor(De,ye).pipe((0,le.Hz)())}getConfigurationSortOptions(ye){return ye.sortOptions.map(De=>({field:De.name,direction:De.sortOrder.toLowerCase()===S.U.ASC.toLowerCase()?S.U.ASC:S.U.DESC}))}getConfigurationAdvancedSearchFilters(ye,De){return this.getConfigurationSearchConfig(ye,De).pipe((0,f.T)(nt=>nt.filters.filter(mt=>this.appConfig.search.advancedFilters.filter.includes(mt.filter)).filter(mt=>mt.type!==O.R.range)))}setPaginationId(ye){if((0,y.hj)(ye)){const De=this.paginatedSearchOptions.getValue(),nt=Object.assign(new M.C({}),De,{pagination:Object.assign({},De.pagination,{id:ye})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=ye,this.paginatedSearchOptions.next(nt),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(ye=>ye.filter(De=>(0,y.a4)(De)).forEach(De=>De.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,le.yd)()).subscribe(ye=>{const De=ye.payload;this.paginatedSearchOptions=new t.t(De),this.searchOptions=new t.t(De),this.setSearchSubscription(this.paginationID,De)})}setSearchSubscription(ye,De){this.unsubscribeFromSearchOptions(ye);const nt=[this.subscribeToSearchOptions(De),this.subscribeToPaginatedSearchOptions(ye||De.pagination.id,De)];this.subs.set(this.paginationID,nt)}subscribeToSearchOptions(ye){return(0,l.h)(this.getConfigurationPart(ye.configuration),this.getScopePart(ye.scope),this.getQueryPart(ye.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(ye.view)).subscribe(De=>{const nt=this.searchOptions.getValue(),mt=Object.assign(new M.C({}),nt,De);this.searchOptions.next(mt)})}subscribeToPaginatedSearchOptions(ye,De){return(0,l.h)(this.getConfigurationPart(De.configuration),this.getPaginationPart(ye,De.pagination),this.getSortPart(ye,De.sort),this.getScopePart(De.scope),this.getQueryPart(De.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(De.view)).subscribe(nt=>{const mt=this.paginatedSearchOptions.getValue(),xe=Object.assign(new M.C({}),mt,nt);this.paginatedSearchOptions.next(xe)})}unsubscribeFromSearchOptions(ye){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(De=>(0,y.a4)(De)).forEach(De=>De.unsubscribe()),this.subs.delete(ye))}getConfigurationPart(ye){return this.getCurrentConfiguration(ye).pipe((0,f.T)(De=>({configuration:De})))}getScopePart(ye){return this.getCurrentScope(ye).pipe((0,f.T)(De=>({scope:De})))}getQueryPart(ye){return this.getCurrentQuery(ye).pipe((0,f.T)(De=>({query:De})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,f.T)(ye=>({dsoType:ye})))}getPaginationPart(ye,De){return this.getCurrentPagination(ye,De).pipe((0,f.T)(nt=>({pagination:nt})))}getSortPart(ye,De){return this.getCurrentSort(ye,De).pipe((0,f.T)(nt=>({sort:nt})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,f.T)(ye=>({filters:ye})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,y.VT)(),(0,f.T)(ye=>({fixedFilter:ye})))}getSearchConfigurationFor(ye,De){const nt=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,f.T)(mt=>this.getConfigUrl(mt,ye,De)));return nt.pipe((0,h.s)(1)).subscribe(mt=>{const xe=new Y.IP(this.requestService.generateRequestId(),mt);this.requestService.send(xe,!0)}),this.rdb.buildFromHref(nt)}getConfigUrl(ye,De,nt){const mt=[];return(0,y.hj)(De)&&mt.push(`scope=${De}`),(0,y.hj)(nt)&&mt.push(`configuration=${nt}`),(0,y.hj)(mt)&&(ye=new se.t(ye,`?${mt.join("&")}`).toString()),ye}getConfig(ye,De){const nt=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,f.T)(mt=>this.getConfigUrl(mt,ye,De)));return nt.pipe((0,h.s)(1)).subscribe(mt=>{let xe=new Y.IP(this.requestService.generateRequestId(),mt);xe=Object.assign(xe,{getResponseParser:()=>q}),this.requestService.send(xe,!0)}),this.rdb.buildFromHref(nt).pipe((0,f.T)(mt=>{if(mt.hasSucceeded){let xe;return xe=(0,y.hj)(mt.payload.filters)?mt.payload.filters.map(ot=>Object.assign(new R.F,ot)):[],new Q.j(mt.timeCompleted,mt.msToLive,mt.lastUpdated,mt.state,mt.errorMessage,xe,mt.statusCode)}return mt}))}unselectAppliedFilterParams(ye,De,nt){return this.routeService.getParamsExceptValue(`f.${ye}`,(0,y.a4)(nt)?(0,u.mq)(De,nt):De).pipe((0,f.T)(mt=>Object.assign(mt,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(ye,De,nt){return this.routeService.getParamsWithAdditionalValue(`f.${ye}`,(0,y.a4)(nt)?(0,u.mq)(De,nt):De).pipe((0,f.T)(mt=>Object.assign(mt,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(ye){return this.getCurrentViewMode(ye).pipe((0,f.T)(De=>({view:De})))}static{this.\u0275fac=function(De){return new(De||pe)(J.KVO(oe.v$),J.KVO(Z.m),J.KVO(Ee.nX),J.KVO(w._),J.KVO(te.Y),J.KVO(z.B),J.KVO(C.o),J.KVO(_.vQ))}}static{this.\u0275prov=J.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})()},15465:(N,b,n)=>{"use strict";n.d(b,{U:()=>w});var i=n(25499),t=n(84572),l=n(7673),e=n(96354),f=n(23294),m=n(82777),h=n(23401),_=n(54196),y=n(22180),v=n(54438);let D=(()=>{class I{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(B,U){const W=this.escapeRegExp(U),j=new RegExp(W,"gi");return B.replace(j,"<em>$&</em>")}escapeRegExp(B){return B.replace(this.regex,"\\$&")}static{this.\u0275fac=function(U){return new(U||I)}}static{this.\u0275pipe=v.EJ8({name:"dsEmphasize",type:I,pure:!0,standalone:!0})}}return I})();var O=n(6238),M=n(56760),T=n(80183),R=n(78655);const u=I=>I.searchFilter;let w=(()=>{class I{constructor(B,U,W){this.searchService=B,this.store=U,this.routeService=W}isFilterActiveWithValue(B,U){return this.routeService.hasQueryParamWithValue(B,U)}isFilterActive(B){return this.routeService.hasQueryParam(B)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(B={}){const U=this.routeService.getQueryParameterValue("page"),W=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(U,W).pipe((0,e.T)(([j,G])=>Object.assign(new h.W,B,{currentPage:j||1,pageSize:G||B.pageSize})))}getCurrentSort(B){const U=this.routeService.getQueryParameterValue("sortDirection"),W=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(U,W).pipe((0,e.T)(([j,G])=>new O.z(G||B.field,O.U[j]||B.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(B,U,W){return(0,m.hj)(W)?this.searchService.getFacetValuesFor(B,1,U,W.toLowerCase()).pipe((0,T.yd)(),(0,e.T)(j=>j.payload.page.map(G=>({displayValue:this.getDisplayValue(G,W),query:(0,_.SB)(G,B),value:(0,_.gp)((0,_.SB)(G,B))})))):(0,l.of)([])}getDisplayValue(B,U){return`${(new D).transform(B.value,U)} (${B.count})`}isCollapsed(B){return this.store.pipe((0,i.Lt)(C(B)),(0,e.T)(U=>!!U&&(U.filterCollapsed||U.minimized)),(0,f.F)())}getPage(B){return this.store.pipe((0,i.Lt)(C(B)),(0,e.T)(U=>U?U.page:1),(0,f.F)())}collapse(B){this.store.dispatch(new y.ge(B))}expand(B){this.store.dispatch(new y.nj(B))}toggle(B){this.store.dispatch(new y.Fi(B))}initializeFilter(B){this.store.dispatch(new y.L2(B))}decrementPage(B){this.store.dispatch(new y.R0(B))}incrementPage(B){this.store.dispatch(new y.tq(B))}resetPage(B){this.store.dispatch(new y.Bf(B))}minimizeAll(){this.store.dispatch(new y.Po)}static{this.\u0275fac=function(U){return new(U||I)(v.KVO(R.S),v.KVO(i.il),v.KVO(M.v$))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function C(I){return function S(I){return(0,i.Mz)(u,L=>{if((0,m.a4)(L))return L[I]})}(I)}},78655:(N,b,n)=>{"use strict";n.d(b,{S:()=>ye});var i=n(84412),t=n(84572),l=n(96354),e=n(23294),f=n(96697),m=n(25558),h=n(88141),_=n(82777),y=n(23401),v=n(33550),D=n(1102),O=n(43280),M=n(72734),T=n(49802),R=n(13989),u=n(54994),w=n(31635),C=n(74850),S=n(21921),I=n(96820),L=n(98688),U=(n(59780),n(24385));const j=new(n(42547).v)("discovery-facetvalues");let G=class extends U.a{constructor(){super(...arguments),this.type=j}static{this.type=j}};(0,w.Cg)([L.aK,(0,w.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,w.Cg)([C.autoserialize,(0,w.Sn)("design:type",String)],G.prototype,"name",void 0),(0,w.Cg)([(0,C.autoserializeAs)(String,"facetType"),(0,w.Sn)("design:type",String)],G.prototype,"filterType",void 0),(0,w.Cg)([C.autoserialize,(0,w.Sn)("design:type",Number)],G.prototype,"facetLimit",void 0),(0,w.Cg)([(0,C.autoserializeAs)(u.L,"values"),(0,w.Sn)("design:type",Array)],G.prototype,"page",void 0),G=(0,w.Cg)([S.gV,(0,C.inheritSerialization)(I.O),(0,C.inheritSerialization)(U.a)],G);var H=n(13808),V=n(28580),X=n(49872),J=n(54438);let q=(()=>{class De extends X.D3{parse(mt,xe){const ot=xe.payload,$e=new V.T(G).deserialize(ot);return $e.pageInfo=this.processPageInfo(ot),$e.page=new V.T(u.L).deserializeArray(ot._embedded.values),this.addToObjectCache($e,mt,xe),new H.hT(xe.statusCode,$e._links.self)}static{this.\u0275fac=(()=>{let mt;return function(ot){return(mt||(mt=J.xGo(De)))(ot||De)}})()}static{this.\u0275prov=J.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})();var Q=n(1716),Y=n(43052),z=n(32473),Z=n(44701),oe=n(22978),se=n(56760),de=n(45663),te=n(4910),le=n(80183),Ee=n(78448),be=n(39012),pe=n(97324);class re extends T.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(nt,mt,...xe){return super.addEmbedParams(nt,mt,...xe)}}let ye=(()=>{class De{constructor(mt,xe,ot,$e,Fe,st,Ie,We){this.routeService=mt,this.requestService=xe,this.rdb=ot,this.halService=$e,this.dspaceObjectService=Fe,this.paginationService=st,this.searchConfigurationService=Ie,this.angulartics2=We,this.searchLinkPath="discover/search/objects",this.parser=Z.z,this.request=Y.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new re}getSelectedValuesForFilter(mt){return this.appliedFilters$.pipe((0,l.T)(xe=>xe.filter(ot=>ot.filter===mt)),(0,e.F)((xe,ot)=>JSON.stringify(xe)===JSON.stringify(ot)))}setServiceOptions(mt,xe){mt&&(this.parser=mt),xe&&(this.request=xe)}getEndpoint(mt){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,l.T)(xe=>(0,_.a4)(mt)?mt.toRestUrl(xe):xe))}search(mt,xe,ot=!0,$e=!0,...Fe){const st=this.getEndpoint(mt);st.pipe((0,f.s)(1),(0,l.T)(We=>{const Dt=this.searchDataService.addEmbedParams(We,[],...Fe);return(0,_.hj)(Dt)?new de.t(We,`?${Dt.join("&")}`).toString():We})).subscribe(We=>{const Dt=new this.request(this.requestService.generateRequestId(),We);Object.assign(Dt,{responseMsToLive:(0,_.a4)(xe)?xe:Dt.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:mt}),this.requestService.send(Dt,ot)});const Ie=st.pipe((0,m.n)(We=>this.rdb.buildFromHref(We)));return this.directlyAttachIndexableObjects(Ie,ot,$e,...Fe)}directlyAttachIndexableObjects(mt,xe=!0,ot=!0,...$e){return mt.pipe((0,m.n)(Fe=>{if((0,_.a4)(Fe.payload)&&(0,_.hj)(Fe.payload.page)){const st=Fe.payload.page.map(Ie=>this.dspaceObjectService.findByHref(Ie._links.indexableObject.href,xe,ot,...$e).pipe((0,le.qD)(),(0,le.Bo)(),(0,_.Az)(),(0,l.T)(We=>{const kt=(0,O.L)(We.constructor);return Object.assign(new kt,Ie,{indexableObject:We})})));return(0,t.z)(st).pipe((0,l.T)(Ie=>{const We=Object.assign(new D.n,Fe.payload,{page:Ie});return new Q.j(Fe.timeCompleted,Fe.msToLive,Fe.lastUpdated,Fe.state,Fe.errorMessage,We,Fe.statusCode)}))}return[Fe]}))}getFacetValuesFor(mt,xe,ot,$e,Fe=!0){let st,Ie=[];(0,_.a4)($e)&&Ie.push(`prefix=${encodeURIComponent($e)}`),(0,_.a4)(ot)?st=(ot=Object.assign(new v.C({}),ot,{pagination:Object.assign({},ot.pagination,{currentPage:xe,pageSize:mt.pageSize})})).toRestUrl(mt._links.self.href,Ie):(Ie=["page="+(xe-1),`size=${mt.pageSize}`,...Ie],st=new de.t(mt._links.self.href,`?${Ie.join("&")}`).toString());let We=new this.request(this.requestService.generateRequestId(),st);return We=Object.assign(We,{getResponseParser:()=>q}),this.requestService.send(We,Fe),this.rdb.buildFromHref(st).pipe((0,h.M)(Dt=>{if(Dt.hasSucceeded){const kt=(Dt.payload.appliedFilters??[]).filter(ct=>(0,_.a4)(ct)).map(ct=>Object.assign({},ct,{operator:(0,_.a4)(ct.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":ct.operator}));this.appliedFilters$.next(kt)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,l.T)(mt=>(0,_.hj)(mt.get("view"))&&(0,_.a4)(mt.get("view"))?mt.get("view"):Ee.n.ListElement))}setViewMode(mt,xe){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new y.W).pipe((0,f.s)(1)).subscribe(ot=>{let $e={page:1};const Fe={view:mt};mt===Ee.n.DetailedListElement?$e=Object.assign($e,{pageSize:1}):1===ot.pageSize&&($e=Object.assign($e,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,_.a4)(xe)?xe:[this.getSearchLink()],$e,Fe)})}trackSearch(mt,xe,ot){const $e=[],Fe=xe.appliedFilters||[];for(let st=0,Ie=Fe.length;st<Ie;st++)$e.push(Fe[st]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:mt,page:{size:mt.pagination.size,totalElements:xe.pageInfo.totalElements,totalPages:xe.pageInfo.totalPages,number:mt.pagination.currentPage},sort:{by:mt.sort.field,order:mt.sort.direction},filters:$e,clickedObject:ot}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(xe){return new(xe||De)(J.KVO(se.v$),J.KVO(z.B),J.KVO(M.o),J.KVO(te.Y),J.KVO(R.DSpaceObjectDataService),J.KVO(oe.m),J.KVO(be.g),J.KVO(pe.il))}}static{this.\u0275prov=J.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},30164:(N,b,n)=>{"use strict";n.d(b,{v:()=>l});var i=n(36883),t=n(54438);let l=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(h){return new(h||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},50800:(N,b,n)=>{"use strict";n.d(b,{f:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(8472),m=n(42547),h=n(7654);let _=class extends f.o{constructor(){super(...arguments),this.type=h.o}static{this.type=h.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.o)],_)},7654:(N,b,n)=>{"use strict";n.d(b,{o:()=>t});const t=new(n(42547).v)("valueList")},65592:(N,b,n)=>{"use strict";n.d(b,{s:()=>t});const t=new(n(42547).v)("versionhistory")},2035:(N,b,n)=>{"use strict";n.d(b,{R:()=>D});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(98688),h=n(76829),_=n(13868),y=n(16321),v=n(65592);let D=class extends h.M{static{this.type=y.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],D.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],D.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],D.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],D.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(v.s),(0,i.Sn)("design:type",l.c)],D.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(_.U),(0,i.Sn)("design:type",l.c)],D.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(f.N),(0,i.Sn)("design:type",l.c)],D.prototype,"eperson",void 0),D=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],D)},16321:(N,b,n)=>{"use strict";n.d(b,{x:()=>t});const t=new(n(42547).v)("version")},78448:(N,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t}(i||{})},12070:(N,b,n)=>{"use strict";n.d(b,{K:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(11453),f=n(42547),m=n(98688),h=n(84276);let _=class extends e.s{static{this.type=h.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],_.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],_.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.s)],_)},84276:(N,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(42547).v)("usagereport")},92946:(N,b,n)=>{"use strict";n.d(b,{Q:()=>t});const t=new(n(42547).v)("submissioncclicense")},62572:(N,b,n)=>{"use strict";n.d(b,{C:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(11453),f=n(42547),m=n(98688),h=n(92946);let _=class extends e.s{static{this.type=h.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],_.prototype,"fields",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.s)],_)},91902:(N,b,n)=>{"use strict";n.d(b,{w:()=>M});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(25168),m=n(58235),h=n(9927),_=n(76829),y=n(13868),v=n(83987),D=n(98688);let M=class extends _.M{get self(){return this._links.self.href}};(0,i.Cg)([D.aK,t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],M.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(h.n),(0,i.Sn)("design:type",Object)],M.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class O{})],M.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],M.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(y.U),(0,i.Sn)("design:type",Object)],M.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(f.M.type),(0,i.Sn)("design:type",Object)],M.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],M.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(v.T),(0,i.Sn)("design:type",l.c)],M.prototype,"supervisionOrders",void 0),M=(0,i.Cg)([(0,t.inheritSerialization)(_.M)],M)},25567:(N,b,n)=>{"use strict";n.d(b,{t:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(54949),m=n(91902);let h=class extends m.w{static{this.type=f.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(h.type.value),"id"),(0,i.Sn)("design:type",String)],h.prototype,"uuid",void 0),h=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.w),(0,l.o8)(m.w)],h)},91581:(N,b,n)=>{"use strict";n.d(b,{F:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(6291),m=n(91902);let h=class extends m.w{static{this.type=f.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(h.type.value),"id"),(0,i.Sn)("design:type",String)],h.prototype,"uuid",void 0),h=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.w),(0,l.o8)(m.w)],h)},69723:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SubmissionDuplicateDataService:()=>O});var i=n(72734),t=n(53954),l=n(41684),e=n(49802),f=n(35108),m=n(41023),h=n(43052),_=n(32473),y=n(44701),v=n(4910),D=n(54438);let O=(()=>{class M extends e.L{constructor(R,u,w,C){super("duplicates",R,u,w,C),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=C,this.parser=y.z,this.request=h.IP,this.searchData=new f.X(this.linkPath,R,u,w,C,this.responseMsToLive)}searchBy(R,u,w,C,...S){return this.searchData.searchBy(R,u,w,C,...S)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(R,u){R&&(this.parser=R),u&&(this.request=u)}findDuplicates(R,u,w=!0,C=!0,...S){const I=[new t.x("uuid",R)];let L=new m._;return u&&(L=Object.assign(new m._,u)),L.searchParams=L.searchParams?[...L.searchParams,...I]:I,this.searchBy("findByItem",L,w,C,...S)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(u){return new(u||M)(D.KVO(_.B),D.KVO(i.o),D.KVO(l.$),D.KVO(v.Y))}}static{this.\u0275prov=D.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},83203:(N,b,n)=>{"use strict";n.d(b,{U:()=>G});var i=n(72734),t=n(43052),l=n(32473),e=n(57786);function f(H,V){return(X,J)=>!H.call(V,X,J)}var m=n(5964),_=n(73028),y=n(96697),v=n(88141),D=n(96354),O=n(47677),M=n(23294),T=n(82777),R=n(80183),u=n(98107),w=n(645),C=n(47797);function S(H){return(0,w.pc)(C.N,"json/patch",H)}class L{submitJsonPatchOperations(V,X,J){const q=this.requestService.generateRequestId();let Q=null;const[Y,z]=function h(H,V){return X=>[(0,m.p)(H,V)(X),(0,m.p)(f(H,V))(X)]}(Z=>(0,T.hj)(Z.body))(V.pipe((0,_.Z)(Z=>this.store.select(S(X)).pipe((0,y.s)(1),(0,m.p)(oe=>(0,T.b0)(oe)||!oe.commitPending),(0,v.M)(()=>Q=(new Date).getTime()),(0,D.T)(oe=>{const se=[];return(0,T.hj)(oe)&&((0,T.hj)(J)?(0,T.EA)(oe.children[J])&&(0,T.hj)(oe.children[J].body)&&oe.children[J].body.forEach(de=>{se.push(de.operation)}):Object.keys(oe.children).filter(de=>oe.children.hasOwnProperty(de)).filter(de=>(0,T.a4)(oe.children[de])).filter(de=>(0,T.a4)(oe.children[de].body)).forEach(de=>{oe.children[de].body.forEach(te=>{se.push(te.operation)})})),this.getRequestInstance(q,Z,se)})))));return(0,e.h)(z.pipe((0,m.p)(Z=>(0,T.Im)(Z.body)),(0,v.M)(()=>Q=null),(0,D.T)(()=>null)),Y.pipe((0,m.p)(Z=>(0,T.hj)(Z.body)),(0,v.M)(()=>this.store.dispatch(new u.v$(X,J,Q))),(0,v.M)(Z=>this.requestService.send(Z)),(0,_.Z)(()=>this.rdbService.buildFromRequestUUID(q).pipe((0,R.qD)(),(0,O.I)(Z=>Q<Z.timeCompleted),(0,D.T)(Z=>{if(Z.hasFailed)throw this.store.dispatch(new u.Zd(X,J)),new Error(Z.errorMessage);if((0,T.a4)(Z.payload)&&(0,T.hj)(Z.payload.dataDefinition))return this.store.dispatch(new u.MI(X,J)),Z.payload.dataDefinition}),(0,M.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new u.Bp)}getRequestInstance(V,X,J){return new this.patchRequestConstructor(V,X,J)}getEndpointByIDHref(V,X){return(0,T.hj)(X)?`${V}/${X}`:`${V}`}jsonPatchByResourceType(V,X,J){const q=this.halService.getEndpoint(V).pipe((0,m.p)(Q=>(0,T.hj)(Q)),(0,M.F)(),(0,D.T)(Q=>this.getEndpointByIDHref(Q,X)));return this.submitJsonPatchOperations(q,J)}hasPendingOperations(V){return this.store.select(S(V)).pipe((0,D.T)(X=>!(0,T.Im)(X)&&Object.values(X.children).filter(J=>!(0,T.Im)(J.body)).length>0),(0,M.F)())}jsonPatchByResourceID(V,X,J,q){const Q=this.halService.getEndpoint(V).pipe((0,m.p)(Y=>(0,T.hj)(Y)),(0,M.F)(),(0,D.T)(Y=>this.getEndpointByIDHref(Y,X)));return this.submitJsonPatchOperations(Q,J,q)}}var B=n(4910),U=n(45663),W=n(54438),j=n(25499);let G=(()=>{class H extends L{constructor(X,J,q,Q){super(),this.requestService=X,this.store=J,this.rdbService=q,this.halService=Q,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(X,J,q){return new this.patchRequestConstructor(X,new U.t(J,"?embed=item").toString(),q)}static{this.\u0275fac=function(J){return new(J||H)(W.KVO(l.B),W.KVO(j.il),W.KVO(i.o),W.KVO(B.Y))}}static{this.\u0275prov=W.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},49903:(N,b,n)=>{"use strict";n.d(b,{$:()=>O});var i=n(7673),t=n(96354),l=n(88280),e=n(61010),f=n(1716),m=n(7434),h=n(4910),_=n(83085),y=n(52837),v=n(24261),D=n(54438);let O=(()=>{class M{constructor(R,u,w,C){this.workspaceitemDataService=R,this.workflowItemDataService=u,this.submissionService=w,this.halService=C}getHrefByID(R){const u=this.submissionService.getSubmissionScope()===_.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(u.getLinkPath()).pipe((0,t.T)(w=>u.getIDHref(w,encodeURIComponent(R))))}findById(R,u=!0,w=!0,...C){switch(this.submissionService.getSubmissionScope()){case _.L.WorkspaceItem:return this.workspaceitemDataService.findById(R,u,w,...C);case _.L.WorkflowItem:return this.workflowItemDataService.findById(R,u,w,...C);default:{const S=(new Date).getTime();return(0,i.of)(new f.j(S,l.c.cache.msToLive.default,S,m.zE.Error,"The request couldn't be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(u){return new(u||M)(D.KVO(v.WorkspaceitemDataService),D.KVO(y.WorkflowItemDataService),D.KVO(e.E),D.KVO(h.Y))}}static{this.\u0275prov=D.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},68552:(N,b,n)=>{"use strict";n.d(b,{BE:()=>M,Z5:()=>O});var i=n(93583),t=n(82777),l=n(61280),e=n(41684),f=n(13808),m=n(51538),h=n(54438);let _=(()=>{class T extends m.aE{constructor(u){super(),this.objectCache=u,this.toCache=!0}parse(u,w){let C;C=(0,t.a4)(w.payload)&&(0,t.a4)(w.payload.page)&&0===w.payload.page.totalElements?{page:[]}:this.process(w.payload,u);let S=C;if((0,t.Tn)(C))return new f.bM([],w.statusCode,w.statusText,void 0);(0,t.a4)(C.page)?S=C.page:Array.isArray(C)||(S=[C]);const I=S.map(L=>L._links.self.href);return new f.bM(I,w.statusCode,w.statusText,this.processPageInfo(w.payload))}static{this.\u0275fac=function(w){return new(w||T)(h.KVO(e.$))}}static{this.\u0275prov=h.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var y=n(25567),v=n(91581);function O(T,R){let u=T;return(0,t.Pe)(T)&&("object"==typeof T&&function D(T){return"object"==typeof T&&T.hasOwnProperty("value")&&T.hasOwnProperty("language")&&T.hasOwnProperty("authority")&&T.hasOwnProperty("confidence")}(T)?u=new l.e(T.value,T.language,T.authority,T.display||T.value,T.place||R,T.confidence,T.otherInformation):Array.isArray(T)?(u=[],T.forEach((w,C)=>{u[C]=O(w,C)})):"object"==typeof T&&(u=Object.create({}),Object.keys(T).forEach(w=>{u[w]=O(T[w])}))),u}let M=(()=>{class T extends m.aE{constructor(u,w){super(),this.objectCache=u,this.dsoParser=w,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(u,w){if(this.dsoParser.parse((0,i.Go)(u),(0,i.Go)(w)),(0,t.hj)(w.payload)&&(0,t.hj)(w.payload._links)&&this.isSuccessStatus(w.statusCode)){const C=this.processResponse(w.payload,u);return new f.hT(w.statusCode,void 0,{dataDefinition:C})}if((0,t.Im)(w.payload)&&this.isSuccessStatus(w.statusCode))return new f.hT(w.statusCode);throw new Error("Unexpected response from server")}processResponse(u,w){const C=this.process(u,w),S=Array.of();return(Array.isArray(C)?C:Array.of(C)).forEach(L=>{if((L instanceof v.F||L instanceof y.t)&&L.sections){const B=Object.create({});Object.keys(L.sections).forEach(U=>{if("object"==typeof L.sections[U]&&(0,t.hj)(L.sections[U])&&(!L.sections[U].hasOwnProperty("files")||(0,t.hj)(L.sections[U].files))){const W=Object.create({});Object.keys(L.sections[U]).forEach(j=>{const G=L.sections[U][j];Array.isArray(G)?(W[j]=[],G.forEach((H,V)=>{const X=O(H,V);(0,t.hj)(X)&&W[j].push(X)})):W[j]=G}),B[U]=W}}),L=Object.assign({},L,{sections:B})}S.push(L)}),S}static{this.\u0275fac=function(w){return new(w||T)(h.KVO(e.$),h.KVO(_))}}static{this.\u0275prov=h.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},67625:(N,b,n)=>{"use strict";n.d(b,{O:()=>R});var i=n(96354),t=n(23294),l=n(5964),e=n(88141),f=n(73028),m=n(82777),h=n(72734),_=n(13808),y=n(43052),v=n(32473),D=n(4910),O=n(80183),M=n(45663),T=n(54438);let R=(()=>{class u{constructor(C,S,I){this.rdbService=C,this.requestService=S,this.halService=I,this.linkPath="workspaceitems"}fetchRequest(C){return this.rdbService.buildFromRequestUUID(C).pipe((0,O.qD)(),(0,i.T)(S=>{if(S.hasFailed)throw new _._p({statusText:S.errorMessage,statusCode:S.statusCode});return(0,m.a4)(S.payload)?S.payload.dataDefinition:S.payload}),(0,t.F)())}getEndpointByIDHref(C,S,I){let L=(0,m.hj)(S)?`${C}/${S}`:`${C}`;return L=new M.t(L,"?embed=item,sections,collection").toString(),I&&(L=new M.t(L,`&owningCollection=${I}`).toString()),L}deleteById(C,S){const I=this.requestService.generateRequestId();return this.halService.getEndpoint(S||this.linkPath).pipe((0,l.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>this.getEndpointByIDHref(L,C)),(0,i.T)(L=>new y.Rn(I,L)),(0,e.M)(L=>this.requestService.send(L)),(0,f.Z)(()=>this.fetchRequest(I)),(0,t.F)())}getDataById(C,S){const I=this.requestService.generateRequestId();return this.halService.getEndpoint(C).pipe((0,i.T)(L=>this.getEndpointByIDHref(L,S)),(0,l.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>new y.Iu(I,L)),(0,e.M)(L=>{this.requestService.send(L)}),(0,f.Z)(()=>this.fetchRequest(I)),(0,t.F)())}postToEndpoint(C,S,I,L,B){const U=this.requestService.generateRequestId();return this.halService.getEndpoint(C).pipe((0,l.p)(W=>(0,m.hj)(W)),(0,i.T)(W=>this.getEndpointByIDHref(W,I,B)),(0,t.F)(),(0,i.T)(W=>new y.aY(U,W,S,L)),(0,e.M)(W=>this.requestService.send(W)),(0,f.Z)(()=>this.fetchRequest(U)),(0,t.F)())}patchToEndpoint(C,S,I){const L=this.requestService.generateRequestId();return this.halService.getEndpoint(C).pipe((0,l.p)(B=>(0,m.hj)(B)),(0,i.T)(B=>this.getEndpointByIDHref(B,I)),(0,t.F)(),(0,i.T)(B=>new y.e$(L,B,S)),(0,e.M)(B=>this.requestService.send(B)),(0,f.Z)(()=>this.fetchRequest(L)),(0,t.F)())}static{this.\u0275fac=function(S){return new(S||u)(T.KVO(h.o),T.KVO(v.B),T.KVO(D.Y))}}static{this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},83085:(N,b,n)=>{"use strict";n.d(b,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},30056:(N,b,n)=>{"use strict";n.d(b,{Hx:()=>t,cK:()=>e,mt:()=>l});var i=n(42547);const t=new i.v("vocabulary"),l=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},36599:(N,b,n)=>{"use strict";n.d(b,{M:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(30056),f=n(43235);let m=class extends f.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.b)],m)},43235:(N,b,n)=>{"use strict";n.d(b,{b:()=>y});var i=n(31635),t=n(74850),l=n(82777),e=n(56899),f=n(22878),m=n(21921),h=n(98688),_=n(30056);let y=class extends f.u{static{this.type=_.mt}hasAuthority(){return(0,l.hj)(this.authority)}hasValue(){return(0,l.hj)(this.value)}hasOtherInformation(){return(0,l.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"otherInformation",void 0),(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([m.gV],y)},89293:(N,b,n)=>{"use strict";n.d(b,{n:()=>i});class i{constructor(l,e=!1){this.name=l,this.closed=e}}},75955:(N,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyEntryDetailsDataService:()=>y});var i=n(72734),t=n(41684),l=n(46787),e=n(63897),f=n(35108),m=n(32473),h=n(4910),_=n(54438);let y=(()=>{class v extends e.W{constructor(O,M,T,R){super("vocabularyEntryDetails",O,M,T,R),this.requestService=O,this.rdbService=M,this.objectCache=T,this.halService=R,this.findAllData=new l.H(this.linkPath,O,M,T,R,this.responseMsToLive),this.searchData=new f.X(this.linkPath,O,M,T,R,this.responseMsToLive)}findAll(O,M,T,...R){return this.findAllData.findAll(O,M,T,...R)}searchBy(O,M,T,R,...u){return this.searchData.searchBy(O,M,T,R,...u)}static{this.\u0275fac=function(M){return new(M||v)(_.KVO(m.B),_.KVO(i.o),_.KVO(t.$),_.KVO(h.Y))}}static{this.\u0275prov=_.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},59081:(N,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyDataService:()=>D});var i=n(72734),t=n(53954),l=n(41684),e=n(46787),f=n(63897),m=n(35108),h=n(41023),_=n(32473),y=n(4910),v=n(54438);let D=(()=>{class O extends f.W{constructor(T,R,u,w){super("vocabularies",T,R,u,w),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,T,R,u,w,this.responseMsToLive),this.searchData=new m.X(this.linkPath,T,R,u,w,this.responseMsToLive)}findAll(T,R,u,...w){return this.findAllData.findAll(T,R,u,...w)}getVocabularyByMetadataAndCollection(T,R,u=!0,w=!0,...C){const S=new h._;S.searchParams=[new t.x("metadata",T),new t.x("collection",R)];const I=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,S,...C);return this.findByHref(I,u,w,...C)}static{this.\u0275fac=function(R){return new(R||O)(v.KVO(_.B),v.KVO(i.o),v.KVO(l.$),v.KVO(y.Y))}}static{this.\u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},19506:(N,b,n)=>{"use strict";n.d(b,{g:()=>R});var i=n(25558),t=n(96354),l=n(73028),e=n(82777),f=n(67600),m=n(53954),h=n(32473),_=n(80183),y=n(32089),v=n(41023);class D extends v._{constructor(w="",C,S,I,L,B,U){super(),this.query=w,this.filter=C,this.exact=S,this.entryID=I,this.elementsPerPage=L,this.currentPage=B,this.sort=U;const W=[];(0,e.hj)(w)&&W.push(new m.x("query",w)),(0,e.hj)(C)&&W.push(new m.x("filter",C)),(0,e.hj)(S)&&W.push(new m.x("exact",S.toString())),(0,e.hj)(I)&&W.push(new m.x("entryID",I)),this.searchParams=W}}var O=n(59081),M=n(75955),T=n(54438);let R=(()=>{class u{constructor(C,S,I){this.requestService=C,this.vocabularyDataService=S,this.vocabularyEntryDetailDataService=I,this.searchTopMethod="top"}findVocabularyByHref(C,S=!0,I=!0,...L){return this.vocabularyDataService.findByHref(C,S,I,...L)}findVocabularyById(C,S=!0,I=!0,...L){return this.vocabularyDataService.findById(C,S,I,...L)}findAllVocabularies(C={},S=!0,I=!0,...L){return this.vocabularyDataService.findAll(C,S,I,...L)}getVocabularyByMetadataAndCollection(C,S,I=!0,L=!0,...B){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(C,S,I,L,...B)}getVocabularyEntries(C,S){const I=new D(null,null,null,null,S.elementsPerPage,S.currentPage);return this.findVocabularyById(C.name,!0,!0,(0,f.s)("entries",{findListOptions:I,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(L=>L.entries))}getVocabularyEntriesByValue(C,S,I,L){const B=new D(null,C,S,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(I.name,!0,!0,(0,f.s)("entries",{findListOptions:B,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(U=>U.entries))}getVocabularyEntryByValue(C,S){return this.getVocabularyEntriesByValue(C,!0,S,new y.Q).pipe((0,_.Ar)(),(0,t.T)(I=>(0,e.hj)(I)?I[0]:null))}getVocabularyEntryByID(C,S){const I=new y.Q,L=new D(null,null,null,C,I.elementsPerPage,I.currentPage);return this.findVocabularyById(S.name,!0,!0,(0,f.s)("entries",{findListOptions:L,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(B=>B.entries),(0,_.Ar)(),(0,t.T)(B=>(0,e.hj)(B)?B[0]:null))}findEntryDetailByHref(C,S=!0,I=!0,...L){return this.vocabularyEntryDetailDataService.findByHref(C,S,I,...L)}findEntryDetailById(C,S,I=!0,L=!0,B=!0,...U){return this.vocabularyEntryDetailDataService.findById(B?`${S}:${C}`:C,I,L,...U)}getEntryDetailParent(C,S,I=!0,L=!0,...B){const U=`${S}:${C}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(W=>`${W}/${U}`),(0,l.Z)(W=>this.vocabularyEntryDetailDataService.findByHref(W,I,L,...B)))}getEntryDetailChildren(C,S,I,L=!0,B=!0,...U){const W=new D(null,null,null,null,I.elementsPerPage,I.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(j=>`${j}/${S}:${C}/children`),(0,i.n)(j=>this.vocabularyEntryDetailDataService.findListByHref(j,W,L,B,...U)))}searchTopEntries(C,S,I=!0,L=!0,...B){const U=new D(null,null,null,null,S.elementsPerPage,S.currentPage);return U.searchParams=[new m.x("vocabulary",C)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,U,I,L,...B)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(S){return new(S||u)(T.KVO(h.B),T.KVO(O.VocabularyDataService),T.KVO(M.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},52837:(N,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowItemDataService:()=>w});var i=n(96354),t=n(47677),l=n(82777),e=n(39806),f=n(72734),m=n(53954),h=n(41684),_=n(13617),y=n(63897),v=n(35108),D=n(41023),O=n(43052),M=n(32473),T=n(4910),R=n(80183),u=n(54438);let w=(()=>{class C extends y.W{constructor(I,L,B,U,W){super("workflowitems",I,L,B,U),this.requestService=I,this.rdbService=L,this.objectCache=B,this.halService=U,this.notificationsService=W,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new v.X(this.linkPath,I,L,B,U,this.responseMsToLive),this.deleteData=new _.I(this.linkPath,I,L,B,U,W,this.responseMsToLive,this.constructIdEndpoint)}delete(I){return this.deleteWFI(I,!0)}sendBack(I){return this.deleteWFI(I,!1).pipe((0,R.qD)(),(0,i.T)(L=>L.hasSucceeded))}deleteWFI(I,L){const B=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(W=>this.deleteData.getIDHref(W,I)),(0,i.T)(W=>W+"?expunge="+L)).pipe((0,t.I)(W=>(0,l.a4)(W))).subscribe(W=>{const j=new O.Dk(B,W,I);this.requestService.send(j)}),this.rdbService.buildFromRequestUUID(B)}findByItem(I,L=!1,B=!0,U={},...W){const j=new D._;j.searchParams=[new m.x("uuid",I)];const G=this.searchData.getSearchByHref(this.searchByItemLinkPath,j,...W);return this.findByHref(G,L,B,...W)}searchBy(I,L,B,U,...W){return this.searchData.searchBy(I,L,B,U,...W)}deleteByHref(I,L){return this.deleteData.deleteByHref(I,L)}static{this.\u0275fac=function(L){return new(L||C)(u.KVO(M.B),u.KVO(f.o),u.KVO(h.$),u.KVO(T.Y),u.KVO(e.I))}}static{this.\u0275prov=u.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},24261:(N,b,n)=>{"use strict";n.r(b),n.d(b,{WorkspaceitemDataService:()=>S});var i=n(21626),t=n(96354),l=n(47677),e=n(82777),f=n(39806),m=n(72734),h=n(53954),_=n(41684),y=n(13617),v=n(63897),D=n(35108),O=n(12598),M=n(41023),T=n(43052),R=n(32473),u=n(4910),w=n(54438),C=n(25499);let S=(()=>{class I extends v.W{constructor(B,U,W,j,G,H,V,X){super("workspaceitems",G,H,V,U),this.comparator=B,this.halService=U,this.http=W,this.notificationsService=j,this.requestService=G,this.rdbService=H,this.objectCache=V,this.store=X,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new y.I(this.linkPath,G,H,V,U,j,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new D.X(this.linkPath,G,H,V,U,this.responseMsToLive)}delete(B,U){return this.deleteData.delete(B,U)}deleteByHref(B,U){return this.deleteData.deleteByHref(B,U)}findByItem(B,U=!1,W=!0,j={},...G){const H=new M._;H.searchParams=[new h.x("uuid",B)];const V=this.searchData.getSearchByHref(this.searchByItemLinkPath,H,...G);return this.findByHref(V,U,W,...G)}importExternalSourceEntry(B,U){const W=Object.create({});let j=new i.Lr;j=j.append("Content-Type","text/uri-list"),W.headers=j;const G=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(V=>`${V}?owningCollection=${U}`)).pipe((0,l.I)(V=>(0,e.a4)(V)),(0,t.T)(V=>{const X=new T.Qf(G,V,B,W);this.requestService.send(X)})).subscribe(),this.rdbService.buildFromRequestUUID(G)}searchBy(B,U,W,j,...G){return this.searchData.searchBy(B,U,W,j,...G)}static{this.\u0275fac=function(U){return new(U||I)(w.KVO(O.j),w.KVO(u.Y),w.KVO(i.Qq),w.KVO(f.I),w.KVO(R.B),w.KVO(m.o),w.KVO(_.$),w.KVO(C.il))}}static{this.\u0275prov=w.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},83987:(N,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("supervisionorder")},66129:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SupervisionOrderDataService:()=>U});var i=n(21626),t=n(96354),l=n(61594),e=n(82777),f=n(39806),m=n(72734),h=n(53954),_=n(41684),y=n(39280),v=n(13617),D=n(63897),O=n(87158),M=n(35108),T=n(37419),R=n(41023),u=n(43052),w=n(32473),C=n(14410),S=n(44494),I=n(4910),L=n(80183),B=n(54438);let U=(()=>{class W extends D.W{constructor(G,H,V,X,J,q,Q){super("supervisionorders",G,H,V,X),this.requestService=G,this.rdbService=H,this.objectCache=V,this.halService=X,this.notificationsService=J,this.comparator=q,this.groupService=Q,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new y.V(this.linkPath,G,H,V,X,J,this.responseMsToLive),this.searchData=new M.X(this.linkPath,G,H,V,X,this.responseMsToLive),this.patchData=new O.n(this.linkPath,G,H,V,X,q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new v.I(this.linkPath,G,H,V,X,J,this.responseMsToLive,this.constructIdEndpoint)}create(G,H,V,X){const J=[];return J.push(new h.x("uuid",H)),J.push(new h.x("group",V)),J.push(new h.x("type",X)),this.createData.create(G,...J)}delete(G){return this.deleteData.delete(G).pipe((0,L.qD)(),(0,t.T)(H=>H.hasSucceeded))}update(G){return this.patchData.update(G)}searchByGroup(G,H,V=!0,X=!0,...J){const q=new R._;return q.searchParams=[new h.x("uuid",G)],(0,e.hj)(H)&&q.searchParams.push(new h.x("item",H)),this.searchData.searchBy(this.searchByGroupMethod,q,V,X,...J)}searchByItem(G,H=!0,V=!0,...X){const J=new R._;return J.searchParams=[new h.x("uuid",G)],this.searchData.searchBy(this.searchByItemMethod,J,H,V,...X)}updateTarget(G,H,V,X){const q=this.groupService.getIDHrefObs(V),Q=Object.create({});let Y=new i.Lr;Y=Y.append("Content-Type","text/uri-list"),Q.headers=Y;const z=this.requestService.generateRequestId();return q.pipe((0,l.$)()).subscribe(Z=>{const se=new u.v_(z,H+"/"+X,Z,Q);Object.assign(se,{getResponseParser:()=>C.M}),this.requestService.send(se)}),this.rdbService.buildFromRequestUUIDAndAwait(z,()=>this.invalidateByHref(H))}static{this.\u0275fac=function(H){return new(H||W)(B.KVO(w.B),B.KVO(m.o),B.KVO(_.$),B.KVO(I.Y),B.KVO(f.I),B.KVO(T.Y),B.KVO(S.GroupDataService))}}static{this.\u0275prov=B.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},12532:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ClaimedTaskDataService:()=>D});var i=n(21626),t=n(72734),l=n(53954),e=n(41684),f=n(41023),m=n(32473),h=n(4910),_=n(80183),y=n(67846),v=n(54438);let D=(()=>{class O extends y.w{constructor(T,R,u,w){super("claimedtasks",T,R,u,w,1e3),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w}claimTask(T,R){const u=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","text/uri-list"),u.headers=w,this.postToEndpoint(this.linkPath,R,null,u)}submitTask(T,R){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(R),T,this.makeHttpOptions())}returnToPoolTask(T){return this.deleteById(this.linkPath,T,this.makeHttpOptions())}findByItem(T){const R=new f._;return R.searchParams=[new l.x("uuid",T)],this.searchTask("findByItem",R).pipe((0,_.yd)())}static{this.\u0275fac=function(R){return new(R||O)(v.KVO(m.B),v.KVO(t.o),v.KVO(e.$),v.KVO(h.Y))}}static{this.\u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},78416:(N,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(22822),f=n(55411);let m=class extends f.B{static{this.type=e.a}};m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.B),(0,l.o8)(f.B)],m)},22822:(N,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(42547).v)("claimedtask")},27605:(N,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(26147),f=n(55411);let m=class extends f.B{static{this.type=e.T}};m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.B),(0,l.o8)(f.B)],m)},26147:(N,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("pooltask")},55411:(N,b,n)=>{"use strict";n.d(b,{B:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(36074),h=n(54949),_=n(76829);const v=new(n(42547).v)("taskobject");var D=n(47069);let O=class extends _.M{static{this.type=v}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N,!1,"owner"),(0,i.Sn)("design:type",l.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",l.c)],O.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(h.z),(0,i.Sn)("design:type",Object)],O.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(D.f,!1,"action"),(0,i.Sn)("design:type",l.c)],O.prototype,"action",void 0),O=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],O)},47069:(N,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(42547).v)("workflowaction")},28515:(N,b,n)=>{"use strict";n.r(b),n.d(b,{PoolTaskDataService:()=>v});var i=n(72734),t=n(53954),l=n(41684),e=n(41023),f=n(32473),m=n(4910),h=n(80183),_=n(67846),y=n(54438);let v=(()=>{class D extends _.w{constructor(M,T,R,u){super("pooltasks",M,T,R,u,1e3),this.requestService=M,this.rdbService=T,this.objectCache=R,this.halService=u}findByItem(M){const T=new e._;return T.searchParams=[new t.x("uuid",M)],this.searchTask("findByItem",T).pipe((0,h.qD)())}getPoolTaskEndpointById(M){return this.getEndpointById(M)}static{this.\u0275fac=function(T){return new(T||D)(y.KVO(f.B),y.KVO(i.o),y.KVO(l.$),y.KVO(m.Y))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},67846:(N,b,n)=>{"use strict";n.d(b,{w:()=>T});var i=n(21626),t=n(5964),l=n(96354),e=n(23294),f=n(88141),m=n(73028),h=n(47677),_=n(82777),y=n(63897),v=n(35108),D=n(43052),O=n(80183);class M{constructor(u,w,C){this.isSuccessful=u,this.statusCode=w,this.errorMessage=C}get hasSucceeded(){return this.isSuccessful}}class T extends y.W{constructor(u,w,C,S,I,L){super(u,w,C,S,I),this.linkPath=u,this.requestService=w,this.rdbService=C,this.objectCache=S,this.halService=I,this.responseMsToLive=L,this.searchData=new v.X(this.linkPath,w,C,S,I,this.responseMsToLive)}getEndpointByIDHref(u,w){return(0,_.hj)(w)?`${u}/${w}`:`${u}`}postToEndpoint(u,w,C,S){const I=this.requestService.generateRequestId();return this.halService.getEndpoint(u).pipe((0,t.p)(L=>(0,_.hj)(L)),(0,l.T)(L=>this.getEndpointByIDHref(L,C)),(0,e.F)(),(0,l.T)(L=>new D.$I(I,L,w,S)),(0,f.M)(L=>this.requestService.send(L)),(0,m.Z)(L=>this.fetchRequest(I)),(0,e.F)())}deleteById(u,w,C){const S=this.requestService.generateRequestId();return this.getEndpointById(w,u).pipe((0,l.T)(I=>new D._w(S,I,null,C)),(0,f.M)(I=>this.requestService.send(I)),(0,m.Z)(I=>this.fetchRequest(S)),(0,e.F)())}getEndpointById(u,w){return this.halService.getEndpoint(w||this.linkPath).pipe((0,t.p)(C=>(0,_.hj)(C)),(0,e.F)(),(0,l.T)(C=>this.getEndpointByIDHref(C,u)))}searchTask(u,w={},...C){return this.searchData.getSearchByHref(u,w,...C).pipe((0,h.I)(I=>(0,_.a4)(I)),(0,m.Z)(I=>this.findByHref(I,!1,!0).pipe((0,O.bD)(),(0,f.M)(()=>this.requestService.setStaleByHrefSubstring(I)))))}fetchRequest(u){return this.rdbService.buildFromRequestUUID(u).pipe((0,O.qD)(),(0,l.T)(w=>w.hasFailed?new M(!1,w.statusCode,w.errorMessage):new M(!0,w.statusCode)))}makeHttpOptions(){const u=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","application/x-www-form-urlencoded"),u.headers=w,u}searchBy(u,w,C,S,...I){return this.searchData.searchBy(u,w,C,S,...I)}}},61424:(N,b,n)=>{"use strict";n.d(b,{F:()=>l});var i=n(88280),t=n(45663);class l extends t.t{constructor(...f){super(i.c.rest.baseUrl,"/api",...f)}}},45663:(N,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(82777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},98688:(N,b,n)=>{"use strict";n.d(b,{_U:()=>f,aK:()=>h,gM:()=>y,ug:()=>m});var i=n(82777);const t=new Map,l=new Map;function e(D,O,M){const T=M.find(R=>{if(D[R]===O[R]||(0,i.Tn)(D[R])&&(0,i.Tn)(O[R]))return!1;if((0,i.Tn)(D[R])||(0,i.Tn)(O[R]))return!0;const u=function v(D,O){return(l.get(D)||new Map).get(O)}(D.constructor,R);return(0,i.a4)(u)?!e(D[R],O[R],u):D[R]instanceof f?!D[R].equals(O[R]):"object"==typeof D[R]?!e(D[R],O[R],Object.keys(D)):D[R]!==O[R]});return(0,i.Tn)(T)}class f{equals(O){if((0,i.Tn)(O))return!1;if(this===O)return!0;const M=_(this.constructor);return e(this,O,Object.keys(this).filter(R=>!M.includes(R)))}}function m(D){return function(M){const T=_(D)||[],R=_(M)||[];t.set(M,[...R,...T]);const u=l.get(M)||new Map,w=l.get(D)||new Map;Array.from(w.keys()).filter(C=>!Array.from(u.keys()).includes(C)).forEach(C=>{y(...w.get(C))(new M,C)})}}function h(D,O){if(!D)return;let M=t.get(D.constructor);(0,i.Im)(M)&&(M=[]),t.set(D.constructor,[...M,O])}function _(D){return t.get(D)||[]}function y(...D){return function(M,T){if(!M)return;let R=l.get(M.constructor);(0,i.Im)(R)&&(R=new Map),R.set(T,D),l.set(M.constructor,R)}}},19460:(N,b,n)=>{"use strict";n.d(b,{dX:()=>l,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",l="XSRF-TOKEN"},10110:(N,b,n)=>{"use strict";n.d(b,{N:()=>t,q:()=>l});const t={SET:(0,n(91e3).N)("dspace/core/correlationId/SET")};class l{constructor(f){this.payload=f,this.type=t.SET}}},73308:(N,b,n)=>{"use strict";n.r(b),n.d(b,{FooterComponent:()=>C});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(82640),m=n(42084),h=n(65007),_=n(3970),y=n(82777),v=n(54438),D=n(80566);const O=S=>({year:S});function M(S,I){1&S&&(v.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h5",15),v.EFF(5,"Footer Content"),v.k0s(),v.j41(6,"ul",16)(7,"li")(8,"a",17),v.EFF(9,"Lorem ipsum"),v.k0s()(),v.j41(10,"li")(11,"a",17),v.EFF(12,"Ut facilisis"),v.k0s()(),v.j41(13,"li")(14,"a",17),v.EFF(15,"Aenean sit"),v.k0s()()()(),v.j41(16,"div",14)(17,"h5",15),v.EFF(18,"Footer Content"),v.k0s(),v.j41(19,"ul",16)(20,"li")(21,"a",17),v.EFF(22,"Suspendisse potenti"),v.k0s()()()(),v.j41(23,"div",18)(24,"h5",15),v.EFF(25,"Footer Content"),v.k0s(),v.j41(26,"p"),v.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),v.k0s()()()()())}function T(S,I){1&S&&(v.j41(0,"li")(1,"a",19),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&S&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.privacy-policy")))}function R(S,I){1&S&&(v.j41(0,"li")(1,"a",20),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&S&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.end-user-agreement")))}function u(S,I){1&S&&(v.j41(0,"li")(1,"a",21),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&S&&(v.R7$(2),v.JRh(v.bMT(3,1,"footer.link.feedback")))}function w(S,I){1&S&&(v.j41(0,"div",22)(1,"a",23),v.nrm(2,"img",24),v.nI1(3,"translate"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()),2&S&&(v.R7$(2),v.BMQ("alt",v.bMT(3,2,"menu.header.image.logo")),v.R7$(2),v.SpI(" ",v.bMT(5,4,"footer.link.coar-notify-support")," "))}let C=(()=>{class S{constructor(L,B,U,W){this.cookies=L,this.authorizationService=B,this.notifyInfoService=U,this.appConfig=W,this.dateObj=Date.now(),this.showTopFooter=!1}ngOnInit(){this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(_._.CanSendFeedback)}showCookieSettings(){return(0,y.a4)(this.cookies)&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(B){return new(B||S)(v.rXU(D.$,8),v.rXU(h.AuthorizationDataService),v.rXU(m.P),v.rXU(f.vQ))}}static{this.\u0275cmp=v.VBU({type:S,selectors:[["ds-base-footer"]],standalone:!0,features:[v.aNF],decls:25,vars:27,consts:[[1,"text-lg-start"],["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"m-0"],["href","http://www.dspace.org/",1,"text-white"],["href","https://www.lyrasis.org/",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["type","button",1,"btn","btn-link","text-white",3,"click"],[4,"ngIf"],["class","notify-enabled text-white",4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/privacy",1,"btn","text-white"],["routerLink","info/end-user-agreement",1,"btn","text-white"],["routerLink","info/feedback",1,"btn","text-white"],[1,"notify-enabled","text-white"],["routerLink","info/coar-notify-support",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(B,U){1&B&&(v.j41(0,"footer",0),v.DNE(1,M,28,0,"div",1),v.j41(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.EFF(8),v.nI1(9,"date"),v.nI1(10,"translate"),v.j41(11,"a",6),v.EFF(12),v.nI1(13,"translate"),v.k0s()(),v.j41(14,"ul",7)(15,"li")(16,"button",8),v.bIt("click",function(){return U.showCookieSettings()}),v.EFF(17),v.nI1(18,"translate"),v.k0s()(),v.DNE(19,T,4,3,"li",9)(20,R,4,3,"li",9)(21,u,4,3,"li",9),v.nI1(22,"async"),v.k0s()(),v.DNE(23,w,6,6,"div",10),v.nI1(24,"async"),v.k0s()()),2&B&&(v.R7$(),v.Y8G("ngIf",U.showTopFooter),v.R7$(5),v.JRh(v.bMT(7,9,"footer.link.dspace")),v.R7$(2),v.SpI(" ",v.i5U(10,14,"footer.copyright",v.eq3(25,O,v.i5U(9,11,U.dateObj,"y")))," "),v.R7$(4),v.JRh(v.bMT(13,17,"footer.link.lyrasis")),v.R7$(5),v.SpI(" ",v.bMT(18,19,"footer.link.cookies")," "),v.R7$(2),v.Y8G("ngIf",U.showPrivacyPolicy),v.R7$(),v.Y8G("ngIf",U.showEndUserAgreement),v.R7$(),v.Y8G("ngIf",v.bMT(22,21,U.showSendFeedback$)),v.R7$(2),v.Y8G("ngIf",v.bMT(24,23,U.coarLdnEnabled$)))},dependencies:[i.bT,t.Wk,i.Jj,i.vh,l.h,l.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0;margin-top:20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}']})}}return S})()},74920:(N,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(8886),l=(n(73308),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(y){return n(43562)(`./${y}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73308))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-footer"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},1748:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ForbiddenComponent:()=>m});var i=n(7901),t=n(41780),l=n(67116),e=n(7337),f=n(54438);let m=(()=>{class h{constructor(y,v){this.authService=y,this.responseService=v,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(v){return new(v||h)(f.rXU(l.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:h,selectors:[["ds-base-forbidden"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(v,D){1&v&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"403"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&v&&(f.R7$(5),f.JRh(f.bMT(6,3,"403.forbidden")),f.R7$(4),f.JRh(f.bMT(10,5,"403.help")),f.R7$(5),f.JRh(f.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return h})()},78221:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>y});var i=n(60177),t=n(95960),l=n(77632),e=n(57538),f=n(39548),m=n(19340),h=n(54438);const _=v=>({open:v});let y=(()=>{class v{constructor(O,M){this.menuService=O,this.windowService=M,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(M){return new(M||v)(h.rXU(f.$),h.rXU(e.CV))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[h.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(M,T){1&M&&(h.j41(0,"div",0),h.nI1(1,"async"),h.nrm(2,"ds-header")(3,"ds-navbar"),h.k0s()),2&M&&h.Y8G("ngClass",h.eq3(3,_,!0!==h.bMT(1,1,T.isNavBarCollapsed$)))},dependencies:[i.YU,t.q,l.D,i.Jj],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return v})()},77529:(N,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(8886),l=(n(78221),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(y){return n(20991)(`./${y}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,78221))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},20968:(N,b,n)=>{"use strict";n.d(b,{Y:()=>h});var i=n(60177),t=n(41780),l=n(96354),e=n(40188),f=n(54438);function m(_,y){if(1&_){const v=f.RV6();f.j41(0,"div")(1,"a",1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.bIt("click",function(){f.eBV(v);const O=f.XpG();return f.Njj(O.onClick())}),f.nrm(4,"i",2),f.k0s()()}2&_&&(f.R7$(),f.Y8G("title",f.bMT(2,2,"nav.context-help-toggle")),f.BMQ("aria-label",f.bMT(3,4,"nav.context-help-toggle")))}let h=(()=>{class _{constructor(v,D){this.elRef=v,this.contextHelpService=D,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,l.T)(v=>v>0)),this.subscriptions.push(this.buttonVisible$.subscribe(v=>{v?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(D){return new(D||_)(f.rXU(f.aKT),f.rXU(e.O))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[f.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(D,O){1&D&&(f.DNE(0,m,5,6,"div",0),f.nI1(1,"async")),2&D&&f.Y8G("ngIf",f.bMT(1,1,O.buttonVisible$))},dependencies:[i.bT,i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return _})()},34912:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(3224),m=n(44002),h=n(57538),_=n(34458),y=n(28068),v=n(39548),D=n(19340),O=n(20968),M=n(54438);function T(u,w){if(1&u){const C=M.RV6();M.j41(0,"div",6)(1,"button",7),M.nI1(2,"translate"),M.bIt("click",function(){M.eBV(C);const I=M.XpG();return M.Njj(I.toggleNavbar())}),M.nrm(3,"span",8),M.k0s()()}2&u&&(M.R7$(),M.BMQ("aria-label",M.bMT(2,1,"nav.toggle")))}let R=(()=>{class u{constructor(C,S){this.menuService=C,this.windowService=S,this.menuID=D.D.PUBLIC,this.maxMobileWidth=h.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(S){return new(S||u)(M.rXU(v.$),M.rXU(h.CV))}}static{this.\u0275cmp=M.VBU({type:u,selectors:[["ds-base-header"]],standalone:!0,features:[M.aNF],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","pl-2",4,"ngIf"],[1,"pl-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(S,I){1&S&&(M.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),M.nrm(4,"img",3),M.nI1(5,"translate"),M.k0s(),M.j41(6,"nav",4),M.nI1(7,"translate"),M.nrm(8,"ds-search-navbar")(9,"ds-lang-switch")(10,"ds-context-help-toggle")(11,"ds-auth-nav-menu")(12,"ds-impersonate-navbar"),M.DNE(13,T,4,3,"div",5),M.nI1(14,"async"),M.k0s()()()()),2&S&&(M.R7$(4),M.BMQ("alt",M.bMT(5,3,"menu.header.image.logo")),M.R7$(2),M.BMQ("aria-label",M.bMT(7,5,"nav.user.description")),M.R7$(7),M.Y8G("ngIf",M.bMT(14,7,I.isMobile$)))},dependencies:[t.Wk,y.n,l.zH,l.QE,f.X,O.Y,m.v,_.d,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return u})()},95960:(N,b,n)=>{"use strict";n.d(b,{q:()=>m});var i=n(8886),l=(n(34912),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(y){return n(16722)(`./${y}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34912))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-header"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},52178:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:20,vars:0,consts:[[1,"jumbotron","jumbotron-fluid","mt-ncs"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-3"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"]],template:function(m,h){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"DSpace 8"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"DSpace is the world leading open source repository platform that enables organisations to:"),i.k0s()()(),i.j41(8,"ul")(9,"li"),i.EFF(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),i.k0s(),i.j41(11,"li"),i.EFF(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),i.k0s(),i.j41(13,"li"),i.EFF(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),i.k0s()(),i.j41(15,"p"),i.EFF(16,"Join an international community of "),i.j41(17,"a",5),i.EFF(18,"leading institutions using DSpace"),i.k0s(),i.EFF(19,". "),i.k0s()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.jumbotron[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}}return l})()},16805:(N,b,n)=>{"use strict";n.d(b,{KN:()=>m,KS:()=>f,UB:()=>e,jK:()=>t,lB:()=>l});var i=n(69799);const t="end-user-agreement",l="privacy",e="feedback",f="coar-notify-support";function m(){return function v(D){return`${(0,i.e_)()}/${D}`}(t)}},4436:(N,b,n)=>{"use strict";n.d(b,{$2:()=>l,Bw:()=>m,Jr:()=>f,K4:()=>h,KY:()=>_,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",l="private",e="public",f="delete",m="move",h="authorizations",_="register-doi"},13933:(N,b,n)=>{"use strict";n.d(b,{W:()=>h});var i=n(60177),t=n(41780),e=(n(88318),n(54438));function f(_,y){if(1&_&&(e.j41(0,"tr",4)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&_){const v=y.$implicit,D=e.XpG().$implicit;e.R7$(2),e.JRh(D.key),e.R7$(2),e.JRh(v.value),e.R7$(2),e.JRh(v.language)}}function m(_,y){if(1&_&&(e.qex(0),e.DNE(1,f,7,3,"tr",3),e.bVm()),2&_){const v=y.$implicit;e.R7$(),e.Y8G("ngForOf",v.value)}}let h=(()=>{class _{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(D){return new(D||_)}}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(D,O){1&D&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,m,2,1,"ng-container",2),e.nI1(14,"keyvalue"),e.k0s()()),2&D&&(e.R7$(4),e.JRh(e.bMT(5,4,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,6,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,8,"item.edit.modify.overview.language")),e.R7$(3),e.Y8G("ngForOf",e.bMT(14,10,O.metadata)))},dependencies:[i.pM,i.lG,t.h,t.D9],encapsulation:2})}}return _})()},44616:(N,b,n)=>{"use strict";n.d(b,{r:()=>j});var i=n(60177),t=n(7901),l=n(41780),e=n(84412),f=n(84572),m=n(99172),h=n(88141),_=n(53993),y=n(25558),v=n(31943),D=n(96354),O=n(96526),M=n(6983),T=n(41023),u=(n(88318),n(80183)),w=n(82777),C=n(79222),S=n(54438);const I=G=>["/collections",G];function L(G,H){if(1&G&&S.nrm(0,"span",7),2&G){const V=S.XpG(2);S.Y8G("innerHTML",V.separator,S.npT)}}function B(G,H){if(1&G&&(S.j41(0,"a",5)(1,"span"),S.EFF(2),S.k0s(),S.DNE(3,L,1,1,"span",6),S.k0s()),2&G){const V=H.$implicit,X=H.last,J=S.XpG();S.Y8G("routerLink",S.eq3(3,I,V.id)),S.R7$(2),S.JRh(J.dsoNameService.getName(V)),S.R7$(),S.Y8G("ngIf",!X)}}function U(G,H){1&G&&(S.j41(0,"div"),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&G&&(S.R7$(),S.SpI(" ",S.bMT(2,1,"item.page.collections.loading")," "))}function W(G,H){if(1&G){const V=S.RV6();S.j41(0,"a",8),S.bIt("click",function(J){S.eBV(V);const q=S.XpG();return J.preventDefault(),S.Njj(q.handleLoadMore())}),S.EFF(1),S.nI1(2,"translate"),S.k0s()}2&G&&(S.R7$(),S.SpI(" ",S.bMT(2,1,"item.page.collections.load-more")," "))}let j=(()=>{class G{constructor(V,X,J){this.cds=V,this.dsoNameService=X,this.cdr=J,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const V=this.cds.findOwningCollectionFor(this.item).pipe((0,u.ak)(),(0,m.Z)(null)),X=this.loadMore$.pipe((0,h.M)(()=>this.isLoading$.next(!0)),(0,_.E)(this.lastPage$),(0,y.n)(([J,q])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new T._,{elementsPerPage:this.pageSize,currentPage:q+1}))),(0,u.bD)(),(0,h.M)(()=>this.isLoading$.next(!1)),(0,u.Hz)(),(0,h.M)(J=>this.hasMore$.next(J.currentPage<J.totalPages)),(0,h.M)(J=>this.lastPage$.next(J.currentPage)),(0,u.W8)(),(0,v.S)((J,q)=>[...J,...q],[]),(0,m.Z)([]));this.collections$=(0,f.z)([V,X]).pipe((0,D.T)(([J,q])=>[J,...q].filter(Q=>(0,w.a4)(Q)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(X){return new(X||G)(S.rXU(M.CollectionDataService),S.rXU(O.f),S.rXU(S.gRc))}}static{this.\u0275cmp=S.VBU({type:G,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[S.aNF],decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(X,J){1&X&&(S.j41(0,"ds-metadata-field-wrapper",0),S.nI1(1,"translate"),S.j41(2,"div",1),S.DNE(3,B,4,5,"a",2),S.nI1(4,"async"),S.k0s(),S.DNE(5,U,3,3,"div",3),S.nI1(6,"async"),S.DNE(7,W,3,3,"a",4),S.nI1(8,"async"),S.nI1(9,"async"),S.k0s()),2&X&&(S.Y8G("label",S.bMT(1,4,J.label)),S.R7$(3),S.Y8G("ngForOf",S.bMT(4,6,J.collections$)),S.R7$(2),S.Y8G("ngIf",S.bMT(6,8,J.isLoading$)),S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(8,10,J.isLoading$)&&S.bMT(9,12,J.hasMore$)))},dependencies:[C.Q,l.h,l.D9,i.Sq,i.Jj,t.Wk,i.bT],encapsulation:2})}}return G})()},90887:(N,b,n)=>{"use strict";n.d(b,{$r:()=>m,DL:()=>y,Fy:()=>e,_o:()=>f,_z:()=>R,aX:()=>T,jU:()=>D,nF:()=>h,vf:()=>v,xb:()=>l});var i=n(45663),t=n(82777);const l="items";function e(){return`/${l}`}function f(u){return _(u.firstMetadataValue("dspace.entity.type"),u.uuid)}function m(u){return new i.t(f(u),D).toString()}function h(u){return new i.t(f(u),D,O).toString()}function _(u,w){return(0,t.hj)(u)?new i.t("/entities",encodeURIComponent(u.toLowerCase()),w).toString():new i.t(e(),w).toString()}function y(u,w){return new i.t(_(u,w),D).toString()}function v(u){return new i.t(e(),M,u).toString()}const D="edit",O="versionhistory",M="version",T="bitstreams/new",R="orcid"},39630:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerImageComponent:()=>f});var i=n(60177),t=n(23632),l=n(67116),e=n(54438);let f=(()=>{class m{constructor(_){this.authService=_,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(_){const y=[];for(const v of _)"image"===v.format&&y.push({small:v.thumbnail?v.thumbnail:this.thumbnailPlaceholder,medium:v.thumbnail?v.thumbnail:this.thumbnailPlaceholder,big:v.bitstream._links.content.href});return y}static{this.\u0275fac=function(y){return new(y||m)(e.rXU(l.uR))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(y,v){1&y&&(e.j41(0,"div"),e.nI1(1,"async"),e.nrm(2,"ngx-gallery",0),e.k0s()),2&y&&(e.AVh("change-gallery",e.bMT(1,4,v.isAuthenticated$)),e.R7$(2),e.Y8G("options",v.galleryOptions)("images",v.galleryImages))},dependencies:[t.cz,t.Fv,i.Jj],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return m})()},56242:(N,b,n)=>{"use strict";n.d(b,{Q:()=>m});var i=n(8886),l=(n(39630),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(y){return n(52636)(`./${y}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39630))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},90823:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerVideoComponent:()=>M});var i=n(60177),t=n(52149),l=n(41780),e=n(96526),f=n(60456);class m{constructor(R,u,w){this.src=R,this.srclang=u,this.langLabel=w}}const h={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var _=n(54438);function y(T,R){if(1&T&&(_.qex(0),_.nrm(1,"track",4),_.bVm()),2&T){const u=R.$implicit;_.R7$(),_.Y8G("src",u.src,_.B4B)("label",u.langLabel)("srclang",u.srclang)}}function v(T,R){if(1&T&&(_.qex(0),_.DNE(1,y,2,3,"ng-container",3),_.bVm()),2&T){const u=R.ngIf;_.R7$(),_.Y8G("ngForOf",u)}}function D(T,R){if(1&T){const u=_.RV6();_.j41(0,"button",12),_.bIt("click",function(){const C=_.eBV(u).index,S=_.XpG(2);return _.Njj(S.selectedMedia(C))}),_.EFF(1),_.k0s()}if(2&T){const u=R.$implicit,w=_.XpG(2);_.R7$(),_.SpI(" ",w.dsoNameService.getName(u.bitstream)," ")}}function O(T,R){if(1&T){const u=_.RV6();_.j41(0,"div",5)(1,"button",6),_.bIt("click",function(){_.eBV(u);const C=_.XpG();return _.Njj(C.prevMedia())}),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"button",7),_.bIt("click",function(){_.eBV(u);const C=_.XpG();return _.Njj(C.nextMedia())}),_.EFF(5),_.nI1(6,"translate"),_.k0s(),_.j41(7,"div",8)(8,"button",9),_.EFF(9),_.nI1(10,"translate"),_.k0s(),_.j41(11,"div",10),_.DNE(12,D,2,1,"button",11),_.k0s()()()}if(2&T){const u=_.XpG();_.R7$(),_.Y8G("dsBtnDisabled",0===u.currentIndex),_.R7$(),_.SpI(" ",_.bMT(3,6,"media-viewer.previous")," "),_.R7$(2),_.Y8G("dsBtnDisabled",u.currentIndex===u.medias.length-1),_.R7$(),_.SpI(" ",_.bMT(6,8,"media-viewer.next")," "),_.R7$(4),_.SpI(" ",_.bMT(10,10,"media-viewer.playlist")," "),_.R7$(3),_.Y8G("ngForOf",u.medias)}}let M=(()=>{class T{constructor(u){this.dsoNameService=u,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(u,w){const C=[],S=w.filter(I=>I.name.substring(0,I.name.length-7).toLowerCase()===u.toLowerCase());for(const I of S){const L=I.name.slice(-6,-4).toLowerCase();C.push(new m(I._links.content.href,L,h[L]))}return C}selectedMedia(u){this.currentIndex=u}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}static{this.\u0275fac=function(w){return new(w||T)(_.rXU(e.f))}}static{this.\u0275cmp=_.VBU({type:T,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[_.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(w,C){1&w&&(_.j41(0,"video",0),_.DNE(1,v,2,1,"ng-container",1),_.k0s(),_.DNE(2,O,13,12,"div",2)),2&w&&(_.Y8G("src",C.medias[C.currentIndex].bitstream._links.content.href,_.B4B)("poster",C.medias[C.currentIndex].thumbnail||C.replacements[C.medias[C.currentIndex].format],_.B4B),_.R7$(),_.Y8G("ngIf",C.getMediaCap(C.medias[C.currentIndex].bitstream.name,C.captions)),_.R7$(),_.Y8G("ngIf",(null==C.medias?null:C.medias.length)>1))},dependencies:[i.Sq,t.zH,t.tg,t.do,t.U0,t._H,l.h,l.D9,i.bT,f.A],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return T})()},38342:(N,b,n)=>{"use strict";n.d(b,{U:()=>m});var i=n(8886),l=(n(90823),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(y){return n(38815)(`./${y}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90823))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},90337:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerComponent:()=>Q});var i=n(60177),t=n(41780),l=n(84412),e=n(5964),f=n(96697),m=n(88280),h=n(42578);n(88318);class y{}var v=n(80183),D=n(82777),O=n(82394),M=n(67600),T=n(18226),R=n(97402),u=n(56242),w=n(38342),C=n(54438);const S=()=>["audio","video"];function I(Y,z){1&Y&&(C.nrm(0,"ds-loading",4),C.nI1(1,"translate")),2&Y&&(C.FS9("message",C.bMT(1,2,"loading.default")),C.Y8G("showMessage",!1))}function L(Y,z){if(1&Y&&(C.nrm(0,"ds-media-viewer-video",9),C.nI1(1,"async")),2&Y){const Z=C.XpG(5).ngVar,oe=C.XpG();C.Y8G("medias",Z)("captions",C.bMT(1,2,oe.captions$))}}function B(Y,z){if(1&Y&&C.nrm(0,"ds-media-viewer-image",10),2&Y){const Z=C.XpG(5).ngVar;C.Y8G("images",Z)}}function U(Y,z){1&Y&&C.eu8(0)}function W(Y,z){if(1&Y&&(C.qex(0),C.DNE(1,L,2,4,"ds-media-viewer-video",7)(2,B,1,1,"ds-media-viewer-image",8)(3,U,1,0,"ng-container",6),C.bVm()),2&Y){const Z=z.ngVar,oe=C.XpG().ngVar;C.XpG(3);const se=C.sdS(4);C.R7$(),C.Y8G("ngIf",oe),C.R7$(),C.Y8G("ngIf",Z),C.R7$(),C.Y8G("ngIf",Z||oe)("ngIfElse",se)}}function j(Y,z){if(1&Y&&(C.qex(0),C.DNE(1,W,4,4,"ng-container",1),C.bVm()),2&Y){const Z=C.XpG(3).ngVar,oe=C.XpG();C.R7$(),C.Y8G("ngVar",oe.mediaOptions.image&&"image"===(null==Z[0]?null:Z[0].format))}}function G(Y,z){if(1&Y&&(C.qex(0),C.DNE(1,j,2,1,"ng-container",1),C.bVm()),2&Y){const Z=C.XpG(2).ngVar,oe=C.XpG();C.R7$(),C.Y8G("ngVar",oe.mediaOptions.video&&C.lJ4(1,S).includes(null==Z[0]?null:Z[0].format))}}function H(Y,z){if(1&Y&&(C.j41(0,"div",5),C.DNE(1,G,2,2,"ng-container",6),C.k0s()),2&Y){const Z=C.XpG().ngVar,oe=C.sdS(4);C.R7$(),C.Y8G("ngIf",Z.length>0)("ngIfElse",oe)}}function V(Y,z){if(1&Y&&(C.nrm(0,"ds-media-viewer-image",13),C.nI1(1,"async")),2&Y){let Z;const oe=C.XpG(3);C.Y8G("image",(null==(Z=C.bMT(1,2,oe.thumbnailsRD$))||null==Z.payload||null==Z.payload.page[0]?null:Z.payload.page[0]._links.content.href)||oe.thumbnailPlaceholder)("preview",!1)}}function X(Y,z){if(1&Y&&(C.nrm(0,"ds-thumbnail",14),C.nI1(1,"async")),2&Y){let Z;const oe=C.XpG(3);C.Y8G("thumbnail",null==(Z=C.bMT(1,1,oe.thumbnailsRD$))||null==Z.payload?null:Z.payload.page[0])}}function J(Y,z){if(1&Y&&C.DNE(0,V,2,4,"ds-media-viewer-image",11)(1,X,2,3,"ds-thumbnail",12),2&Y){const Z=C.XpG(2);C.Y8G("ngIf",Z.mediaOptions.image&&Z.mediaOptions.video),C.R7$(),C.Y8G("ngIf",!(Z.mediaOptions.image&&Z.mediaOptions.video))}}function q(Y,z){if(1&Y&&(C.qex(0),C.DNE(1,I,2,4,"ds-loading",2)(2,H,2,2,"div",3)(3,J,2,2,"ng-template",null,0,C.C5r),C.bVm()),2&Y){const Z=C.XpG();C.R7$(),C.Y8G("ngIf",Z.isLoading),C.R7$(),C.Y8G("ngIf",!Z.isLoading)}}let Q=(()=>{class Y{constructor(Z,oe){this.bitstreamDataService=Z,this.changeDetectorRef=oe,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new l.t([]),this.captions$=new l.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(Z=>Z.unsubscribe())}ngOnInit(){const Z=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(oe=>{0===oe.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(se=>{for(let de=0;de<oe.payload.page.length;de++)this.subs.push(oe.payload.page[de].format.pipe((0,v.ak)()).subscribe(te=>{const le=this.createMediaViewerItem(oe.payload.page[de],te,se.payload&&se.payload.page[de]);Z.includes(le.format)?this.mediaList$.next([...this.mediaList$.getValue(),le]):"text/vtt"===te.mimetype&&this.captions$.next([...this.captions$.getValue(),oe.payload.page[de]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(Z){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,Z,{},!0,!0,(0,M.s)("format")).pipe((0,e.p)(oe=>(0,D.a4)(oe)&&((0,D.a4)(oe.errorMessage)||(0,D.a4)(oe.payload))),(0,f.s)(1))}createMediaViewerItem(Z,oe,se){const de=new y;return de.bitstream=Z,de.format=oe.mimetype.split("/")[0],de.mimetype=oe.mimetype,de.thumbnail=se?se._links.content.href:null,de}static{this.\u0275fac=function(oe){return new(oe||Y)(C.rXU(h.BitstreamDataService),C.rXU(C.gRc))}}static{this.\u0275cmp=C.VBU({type:Y,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[C.aNF],decls:2,vars:3,consts:[["showThumbnail",""],[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(oe,se){1&oe&&(C.DNE(0,q,5,2,"ng-container",1),C.nI1(1,"async")),2&oe&&C.Y8G("ngVar",C.bMT(1,1,se.mediaList$))},dependencies:[u.Q,R.T,i.Jj,i.bT,w.U,t.h,t.D9,O.v,T.r]})}}return Y})()},20261:(N,b,n)=>{"use strict";n.d(b,{e:()=>l});var i=n(82777),t=n(54438);let l=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(h){return new(h||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(h,_){},encapsulation:2})}}return e})()},1231:(N,b,n)=>{"use strict";n.r(b),n.d(b,{FileSectionComponent:()=>j});var i=n(60177),t=n(41780),l=n(84412),e=n(82640),f=n(96526),m=n(42578),_=(n(88318),n(80183)),y=n(82777),v=n(28836),D=n(82394),O=n(79222),M=n(39806),T=n(43525),R=n(18226),u=n(54438);function w(G,H){1&G&&(u.j41(0,"span",11),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&G&&(u.R7$(),u.JRh(u.bMT(2,1,"item.page.bitstreams.primary")))}function C(G,H){if(1&G&&u.nrm(0,"span",12),2&G){const V=u.XpG(4);u.FS9("innerHTML",V.separator,u.npT)}}function S(G,H){if(1&G&&(u.j41(0,"ds-file-download-link",8)(1,"span"),u.DNE(2,w,3,3,"span",9),u.EFF(3),u.k0s(),u.j41(4,"span"),u.EFF(5),u.nI1(6,"dsFileSize"),u.k0s(),u.DNE(7,C,1,1,"span",10),u.k0s()),2&G){const V=H.$implicit,X=H.last,J=u.XpG(3);u.Y8G("bitstream",V)("item",J.item),u.R7$(2),u.Y8G("ngIf",J.primaryBitsreamId===V.id),u.R7$(),u.SpI(" ",J.dsoNameService.getName(V)," "),u.R7$(2),u.SpI(" (",u.bMT(6,6,null==V?null:V.sizeBytes),")"),u.R7$(2),u.Y8G("ngIf",!X)}}function I(G,H){1&G&&(u.nrm(0,"ds-loading",13),u.nI1(1,"translate")),2&G&&(u.FS9("message",u.bMT(1,2,"loading.default")),u.Y8G("showMessage",!1))}function L(G,H){if(1&G){const V=u.RV6();u.j41(0,"div",14)(1,"button",15),u.bIt("click",function(){u.eBV(V);const J=u.XpG(3);return u.Njj(J.getNextPage())}),u.EFF(2),u.nI1(3,"translate"),u.k0s()()}2&G&&(u.R7$(2),u.JRh(u.bMT(3,1,"item.page.bitstreams.view-more")))}function B(G,H){if(1&G){const V=u.RV6();u.j41(0,"div",16)(1,"button",17),u.bIt("click",function(){u.eBV(V);const J=u.XpG(3);return J.currentPage=void 0,u.Njj(J.getNextPage())}),u.EFF(2),u.nI1(3,"translate"),u.k0s()()}2&G&&(u.R7$(2),u.JRh(u.bMT(3,1,"item.page.bitstreams.collapse")))}function U(G,H){if(1&G&&(u.j41(0,"ds-metadata-field-wrapper",2),u.nI1(1,"translate"),u.j41(2,"div",3),u.DNE(3,S,8,8,"ds-file-download-link",4)(4,I,2,4,"ds-loading",5)(5,L,4,3,"div",6)(6,B,4,3,"div",7),u.k0s()()),2&G){const V=u.XpG().ngVar,X=u.XpG();u.Y8G("label",u.bMT(1,5,X.label)),u.R7$(3),u.Y8G("ngForOf",V),u.R7$(),u.Y8G("ngIf",X.isLoading),u.R7$(),u.Y8G("ngIf",!X.isLastPage),u.R7$(),u.Y8G("ngIf",X.isLastPage&&1!==X.currentPage)}}function W(G,H){if(1&G&&(u.qex(0),u.DNE(1,U,7,7,"ds-metadata-field-wrapper",1),u.bVm()),2&G){const V=H.ngVar;u.R7$(),u.Y8G("ngIf",(null==V?null:V.length)>0)}}let j=(()=>{class G{constructor(V,X,J,q,Q){this.bitstreamDataService=V,this.notificationsService=X,this.translateService=J,this.dsoNameService=q,this.appConfig=Q,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(V=>{V&&(this.primaryBitsreamId=V?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new l.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize}).pipe((0,_.qD)()).subscribe(V=>{if(V.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${V.statusCode} ${V.errorMessage}`);else if((0,y.a4)(V.payload)){const X=this.bitstreams$.getValue();this.bitstreams$.next([...X,...V.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===V.payload.totalPages}})}static{this.\u0275fac=function(X){return new(X||G)(u.rXU(m.BitstreamDataService),u.rXU(M.I),u.rXU(t.c$),u.rXU(f.f),u.rXU(e.vQ))}}static{this.\u0275cmp=u.VBU({type:G,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[u.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label",4,"ngIf"],[3,"label"],[1,"file-section"],[3,"bitstream","item",4,"ngFor","ngForOf"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"bitstream","item"],["class","badge badge-primary",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"badge","badge-primary"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(X,J){1&X&&(u.DNE(0,W,2,1,"ng-container",0),u.nI1(1,"async")),2&X&&u.Y8G("ngVar",u.bMT(1,1,J.bitstreams$))},dependencies:[i.MD,i.Sq,i.bT,i.Jj,v.z,O.Q,D.v,t.h,t.D9,T.s,R.r],encapsulation:2})}}return G})()},42458:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ItemPageTitleFieldComponent:()=>h});var i=n(60177),t=n(41780),l=n(96526),f=(n(88318),n(54438));function m(_,y){if(1&_&&(f.j41(0,"div",3),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&_){const v=y.ngIf;f.R7$(),f.SpI(" ",f.bMT(2,1,v.toLowerCase()+".page.titleprefix")," ")}}let h=(()=>{class _{constructor(v){this.dsoNameService=v}static{this.\u0275fac=function(D){return new(D||_)(f.rXU(l.f))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[f.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(D,O){1&D&&(f.j41(0,"h1",0),f.DNE(1,m,3,3,"div",1),f.j41(2,"span",2),f.EFF(3),f.k0s()()),2&D&&(f.R7$(),f.Y8G("ngIf",O.item.firstMetadataValue("dspace.entity.type")),f.R7$(2),f.JRh(O.dsoNameService.getName(O.item)))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return _})()},26077:(N,b,n)=>{"use strict";n.d(b,{V:()=>h}),n(88318);var t=n(8886),e=(n(42458),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(v){return n(17026)(`./${v}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42458))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},46588:(N,b,n)=>{"use strict";n.d(b,{EF:()=>R,NG:()=>T,W2:()=>M,ky:()=>D});var i=n(54438),t=n(7673),l=n(44437),e=n(84572),f=n(73028),m=n(96354),h=n(23294),_=n(25558),y=n(80183),v=n(82777);const D=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>R}),M=()=>{return u=u=>(0,v.a4)(u)?u.id:void 0,(w,C)=>{if(!Array.isArray(w)||!Array.isArray(C))return!1;const S=w.map(u),I=C.map(u);return S.length===I.length&&S.every(L=>I.includes(L))&&I.every(L=>S.includes(L))};var u},T=u=>w=>w.pipe((0,f.Z)(C=>0===C.length?(0,t.of)([]):(0,l.y)(...C.map(S=>(0,e.z)([S.leftItem,S.rightItem])))),(0,m.T)(C=>C.filter(([S,I])=>S.hasSucceeded&&I.hasSucceeded).map(([S,I])=>S.payload.id===u?I.payload:I.payload.id===u?S.payload:void 0).filter(S=>(0,v.a4)(S))),(0,h.F)(M())),R=u=>w=>w.pipe((0,y.qD)(),(0,_.n)(C=>(0,e.z)(C.payload.page.map(S=>(0,e.z)([S.leftItem.pipe((0,y.qD)(),(0,m.T)(I=>I.hasSucceeded?I.payload:null)),S.rightItem.pipe((0,y.qD)(),(0,m.T)(I=>I.hasSucceeded?I.payload:null))]))).pipe((0,m.T)(S=>S.map(([I,L])=>(0,v.a4)(I)&&I.id===u?L:(0,v.a4)(L)&&L.id===u?I:void 0).filter(I=>(0,v.a4)(I))),(0,h.F)(M()),(0,m.T)(S=>Object.assign(C,{payload:Object.assign(C.payload,{page:S})})))))},12063:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MetadataRepresentationListComponent:()=>H});var i=n(60177),t=n(41780),l=n(44437),e=n(96354),f=n(37864),m=n(42673),h=n(48833),_=n(5410),v=(n(88318),n(14391)),D=n(90424),O=n(80183),M=n(82394),T=n(79222),R=n(32272),u=n(18226),w=n(20261),C=n(54438);const S=V=>({amount:V});function I(V,X){1&V&&C.nrm(0,"ds-metadata-representation-loader",6),2&V&&C.Y8G("mdRepresentation",X.$implicit)}function L(V,X){1&V&&(C.nrm(0,"ds-loading",7),C.nI1(1,"translate")),2&V&&C.FS9("message",C.bMT(1,1,"loading.default"))}function B(V,X){if(1&V){const J=C.RV6();C.j41(0,"div",11)(1,"button",12),C.bIt("click",function(){C.eBV(J);const Q=C.XpG(4);return C.Njj(Q.increase())}),C.EFF(2),C.nI1(3,"translate"),C.k0s()()}if(2&V){const J=C.XpG(4);C.R7$(2),C.JRh(C.i5U(3,1,"item.page.related-items.view-more",C.eq3(4,S,J.total-J.objects.length*J.incrementBy<J.incrementBy?J.total-J.objects.length*J.incrementBy:J.incrementBy)))}}function U(V,X){if(1&V){const J=C.RV6();C.j41(0,"div",13)(1,"button",12),C.bIt("click",function(){C.eBV(J);const Q=C.XpG(4);return C.Njj(Q.decrease())}),C.EFF(2),C.nI1(3,"translate"),C.k0s()()}if(2&V){const J=C.XpG(2).ngVar;C.R7$(2),C.JRh(C.i5U(3,1,"item.page.related-items.view-less",C.eq3(4,S,null==J?null:J.length)))}}function W(V,X){if(1&V&&(C.j41(0,"div",8),C.DNE(1,B,4,6,"div",9)(2,U,4,6,"div",10),C.k0s()),2&V){const J=C.XpG(3);C.R7$(),C.Y8G("ngIf",J.objects.length*J.incrementBy<J.total),C.R7$(),C.Y8G("ngIf",J.objects.length>1)}}function j(V,X){if(1&V&&(C.qex(0),C.DNE(1,I,1,1,"ds-metadata-representation-loader",3)(2,L,2,3,"ds-loading",4)(3,W,3,2,"div",5),C.bVm()),2&V){const J=X.ngVar,q=C.XpG().index,Q=C.XpG();C.R7$(),C.Y8G("ngForOf",J),C.R7$(),C.Y8G("ngIf",q+1===Q.objects.length&&q>0&&(!J||0===(null==J?null:J.length))),C.R7$(),C.Y8G("ngIf",q+1===Q.objects.length&&(null==J?null:J.length)>0)}}function G(V,X){if(1&V&&(C.qex(0),C.DNE(1,j,4,3,"ng-container",2),C.nI1(2,"async"),C.bVm()),2&V){const J=X.$implicit;C.R7$(),C.Y8G("ngVar",C.bMT(2,1,J))}}let H=(()=>{class V extends w.e{constructor(J,q,Q){super(),this.relationshipService=J,this.browseDefinitionDataService=q,this.metadataService=Q,this.incrementBy=10}getPage(J){const q=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=q.length,this.resolveMetadataRepresentations(q,J)}resolveMetadataRepresentations(J,q){return(0,l.y)(...J.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(Q=>Object.assign(new v.vD,Q)).map(Q=>{if(this.metadataService.isVirtual(Q))return this.relationshipService.resolveMetadataRepresentation(Q,this.parentItem,this.itemType);{let Y=[];return this.metadataFields.forEach(z=>{Y=Y.concat(f.q.toSearchKeyArray(z))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,O.qD)(),(0,e.T)(z=>Object.assign(new D.Q(this.itemType,z.payload),Q)))}}))}static{this.\u0275fac=function(q){return new(q||V)(C.rXU(h.RelationshipDataService),C.rXU(m.BrowseDefinitionDataService),C.rXU(_.T))}}static{this.\u0275cmp=C.VBU({type:V,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[C.Vt3,C.aNF],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left",4,"ngIf"],["class","float-right",4,"ngIf"],[1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-right"]],template:function(q,Q){1&q&&(C.j41(0,"ds-metadata-field-wrapper",0),C.DNE(1,G,3,3,"ng-container",1),C.k0s()),2&q&&(C.Y8G("label",Q.label),C.R7$(),C.Y8G("ngForOf",Q.objects))},dependencies:[T.Q,i.pM,u.r,R.V,i.bT,M.v,i.Jj,t.h,t.D9],encapsulation:2})}}return V})()},13955:(N,b,n)=>{"use strict";n.d(b,{U$:()=>L,EN:()=>I});var i=n(54438),t=n(84572),l=n(61594),e=n(96354),f=n(82640),m=n(1321),h=n(72734),_=n(6238),y=n(32473),v=n(22978),D=n(46265),O=n(56760),M=n(26292),T=n(4910),R=n(39012),u=n(23401),w=function(B){return B.Workspace="workspace",B.SupervisedItems="supervisedWorkspace",B.Workflow="workflow",B}(w||{}),C=n(7901);const S=new Map([[w.Workspace,M.o.Workspace],[w.SupervisedItems,M.o.SupervisedItems],[w.Workflow,M.o.Workflow]]),I=new i.nKC("searchConfigurationService");let L=(()=>{class B extends R.g{constructor(W,j,G,H,V,X,J,q,Q){super(j,G,H,V,X,J,q,Q),this.roleService=W,this.routeService=j,this.paginationService=G,this.route=H,this.linkService=V,this.halService=X,this.requestService=J,this.rdb=q,this.appConfig=Q,this.defaultPagination=Object.assign(new u.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new _.z("dc.date.issued",_.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,l.$)(),(0,e.T)(([W,j,G])=>{const H=[];return W&&H.push(w.Workspace),(j||G)&&(H.push(w.SupervisedItems),H.push(w.Workflow)),H}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,l.$)(),(0,e.T)(W=>{const j=[];return W.forEach(G=>{const H=G,V=`mydspace.show.${H}`,X=S.get(G);j.push({value:H,label:V,context:X})}),j}))}static{this.\u0275fac=function(j){return new(j||B)(i.KVO(D.W),i.KVO(O.v$),i.KVO(v.m),i.KVO(C.nX),i.KVO(m._),i.KVO(T.Y),i.KVO(y.B),i.KVO(h.o),i.KVO(f.vQ))}}static{this.\u0275prov=i.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},54880:(N,b,n)=>{"use strict";n.d(b,{o:()=>Q});var i=n(60177),t=n(54438),l=n(61594),e=n(67116),f=n(4910),m=n(82777),h=n(39806),_=n(43095),y=n(32979),v=n(41780),D=n(90934),O=n(52149);let M=(()=>{class Y{constructor(Z){this.activeModal=Z}selectObject(Z){this.activeModal.close(Z.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(oe){return new(oe||Y)(t.rXU(O.Lw))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["ds-collection-selector"]],standalone:!0,features:[t.aNF],decls:9,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"selectionChange"]],template:function(oe,se){1&oe&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return se.close()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"ds-collection-dropdown",4),t.bIt("selectionChange",function(te){return se.selectObject(te)}),t.k0s()()()),2&oe&&(t.R7$(2),t.SpI("",t.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[D.m,v.h,v.D9]})}}return Y})();var T=n(84412),R=n(7673),u=n(73028),w=n(96697),C=n(96354),S=n(30077),I=n(60456),L=n(53948),B=n(75465),U=n(7901);function W(Y,z){if(1&Y){const Z=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("click",function(){t.eBV(Z);const se=t.XpG();return t.Njj(se.openPage(se.singleEntity))}),t.nrm(5,"i",4),t.k0s()()}if(2&Y){const Z=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,3,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,5,Z.initialized$)),t.BMQ("aria-label",t.bMT(4,7,"mydspace.new-submission-external"))}}function j(Y,z){if(1&Y){const Z=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(se){t.eBV(Z);const de=t.XpG();return t.Njj(de.openPage(se))}),t.k0s()()()}if(2&Y){const Z=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,Z.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission-external"))("data-test",t.bMT(5,11,"import-dropdown")),t.R7$(8),t.Y8G("isSubmission",!1)}}let G=(()=>{class Y{constructor(Z,oe){this.entityTypeService=Z,this.router=oe,this.initialized$=new T.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,u.Z)(Z=>Z?(this.initialized$.next(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,w.s)(1),(0,C.T)(se=>(this.initialized$.next(!0),se?.payload?.page[0])))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(Z=>{this.singleEntity=Z}))}openPage(Z){const oe=Object.create({});Z&&(oe.entity=Z.label),this.router.navigate(["/import-external"],{queryParams:oe})}ngOnDestroy(){this.subs.filter(Z=>(0,m.a4)(Z)).forEach(Z=>Z.unsubscribe())}static{this.\u0275fac=function(oe){return new(oe||Y)(t.rXU(S.f),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(oe,se){1&oe&&(t.DNE(0,W,6,9,"div",0),t.nI1(1,"async"),t.DNE(2,j,10,13,"div",1),t.nI1(3,"async")),2&oe&&(t.Y8G("ngIf",!0!==t.bMT(1,2,se.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,se.moreThanOne$)))},dependencies:[L.Y,O.zH,O.tg,O.do,O.U0,i.Jj,v.h,v.D9,B.L,i.bT,I.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}}return Y})();var H=n(52798);function V(Y,z){if(1&Y){const Z=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(Z);const se=t.XpG();return t.Njj(se.openDialog(se.singleEntity))}),t.nrm(4,"i",4),t.k0s()()}if(2&Y){const Z=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",!0!==t.bMT(2,2,Z.initialized$)),t.BMQ("aria-label",t.bMT(3,4,"mydspace.new-submission"))}}function X(Y,z){if(1&Y){const Z=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(se){t.eBV(Z);const de=t.XpG();return t.Njj(de.openDialog(se))}),t.k0s()()()}if(2&Y){const Z=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,Z.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission"))("data-test",t.bMT(5,11,"submission-dropdown")),t.R7$(8),t.Y8G("isSubmission",!0)}}let J=(()=>{class Y{constructor(Z,oe){this.entityTypeService=Z,this.modalService=oe,this.subs=[]}ngOnInit(){this.initialized$=(0,R.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,u.Z)(Z=>Z?(this.initialized$=(0,R.of)(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,C.T)(se=>(this.initialized$=(0,R.of)(!0),se.payload.page[0])),(0,w.s)(1))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(Z=>this.singleEntity=Z))}openDialog(Z){this.modalService.open(H.L).componentInstance.entityType=Z.label}ngOnDestroy(){this.subs.filter(Z=>(0,m.a4)(Z)).forEach(Z=>Z.unsubscribe())}static{this.\u0275fac=function(oe){return new(oe||Y)(t.rXU(S.f),t.rXU(O.Bq))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(oe,se){1&oe&&(t.DNE(0,V,5,6,"div",0),t.nI1(1,"async"),t.DNE(2,X,10,13,"div",1),t.nI1(3,"async")),2&oe&&(t.Y8G("ngIf",!0!==t.bMT(1,2,se.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,se.moreThanOne$)))},dependencies:[L.Y,O.zH,O.tg,O.do,O.U0,i.Jj,v.h,v.D9,B.L,i.bT,I.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}}return Y})();function q(Y,z){if(1&Y){const Z=t.RV6();t.j41(0,"ds-uploader",4),t.bIt("onCompleteItem",function(se){t.eBV(Z);const de=t.XpG();return t.Njj(de.onCompleteItem(se))})("onUploadError",function(se){t.eBV(Z);const de=t.XpG();return t.Njj(de.onUploadError(se))})("onFileSelected",function(se){t.eBV(Z);const de=t.XpG();return t.Njj(de.afterFileLoaded(se))}),t.k0s()}if(2&Y){const Z=t.XpG();t.Y8G("uploadFilesOptions",Z.uploadFilesOptions)}}let Q=(()=>{class Y{constructor(Z,oe,se,de,te,le,Ee){this.authService=Z,this.changeDetectorRef=oe,this.halService=se,this.notificationsService=de,this.translate=te,this.modalService=le,this.router=Ee,this.uploadEnd=new t.bkB,this.uploadFilesOptions=new y.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,l.$)()).subscribe(Z=>{this.uploadFilesOptions.url=Z,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(Z){if(Z&&Z._embedded&&Z._embedded.workspaceitems&&Z._embedded.workspaceitems.length>0){const oe=Z._embedded.workspaceitems;this.uploadEnd.emit(oe),1===oe.length?this.router.navigateByUrl("/workspaceitems/"+oe[0].id+"/edit"):oe.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:oe.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(Z){let oe="mydspace.upload.upload-failed";(0,m.a4)(Z.status)&&422===Z.status&&(oe="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(oe))}afterFileLoaded(Z){const oe=this.uploaderComponent.uploader;(0,m.a4)(Z)&&Z.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),oe.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(M).result.then(de=>{oe.onBuildItemForm=(te,le)=>{le.append("owningCollection",de.uuid)},oe.uploadAll()})}ngOnDestroy(){(0,m.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(oe){return new(oe||Y)(t.rXU(e.uR),t.rXU(t.gRc),t.rXU(f.Y),t.rXU(h.I),t.rXU(v.c$),t.rXU(O.Bq),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(oe,se){if(1&oe&&t.GBs(_.y,5),2&oe){let de;t.mGM(de=t.lsd())&&(se.uploaderComponent=de.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[t.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(oe,se){1&oe&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,q,1,1,"ds-uploader",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"ds-my-dspace-new-submission-dropdown"),t.k0s(),t.j41(5,"div",3),t.nrm(6,"ds-my-dspace-new-external-dropdown"),t.k0s()()),2&oe&&(t.R7$(2),t.Y8G("ngIf",""!==se.uploadFilesOptions.url))},dependencies:[G,J,_.y,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return Y})()},15568:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MYDSPACE_ROUTE:()=>W,MyDSpacePageComponent:()=>j});var i=n(60177),t=n(96697),l=n(82777),e=n(1102),f=n(13808),m=n(28580),h=n(14391),_=n(49872),y=n(54438);let v=(()=>{class G extends _.D3{parse(V,X){const q=X.payload._embedded.searchResult||{_embedded:{objects:[]}},Q=q._embedded.objects.map(oe=>oe.hitHighlights).map(oe=>{const se={};if(oe)for(const de of Object.keys(oe)){const te=Object.assign(new h.vD,{value:oe[de].join("..."),language:null});se[de]=[te]}return se}),Y=q._embedded.objects.filter(oe=>(0,l.a4)(oe._embedded)).map(oe=>oe._embedded.indexableObject).map(oe=>this.process(oe,V)).map(oe=>oe._links.self.href).reduce((oe,se)=>[...oe,...se],[]),z=q._embedded.objects.filter(oe=>(0,l.a4)(oe._embedded)).map((oe,se)=>Object.assign({},oe,{indexableObject:Y[se],hitHighlights:Q[se],_embedded:this.filterEmbeddedObjects(oe)}));q.objects=z;const Z=new m.T(e.n).deserialize(q);return Z.pageInfo=this.processPageInfo(q),this.addToObjectCache(Z,V,X),new f.hT(X.statusCode,Z._links.self)}filterEmbeddedObjects(V){const X=["submitter","item","workspaceitem","workflowitem"];return V._embedded.indexableObject&&V._embedded.indexableObject._embedded?Object.assign({},V._embedded,{indexableObject:Object.assign({},V._embedded.indexableObject,{_embedded:Object.keys(V._embedded.indexableObject._embedded).filter(J=>X.includes(J)).reduce((J,q)=>(J[q]=V._embedded.indexableObject._embedded[q],J),{})})}):V}static{this.\u0275fac=(()=>{let V;return function(J){return(V||(V=y.xGo(G)))(J||G)}})()}static{this.\u0275prov=y.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})();var D=n(43052),O=n(67944),M=n(78655),T=n(78448),R=n(7724),u=n(41477),w=n(54992),C=n(13955),S=n(54880),I=n(85592);const L=G=>[G];function B(G,H){1&G&&y.nrm(0,"ds-my-dspace-new-submission")}function U(G,H){if(1&G&&(y.nrm(0,"ds-search",3),y.nI1(1,"async")),2&G){const V=y.XpG();y.Y8G("configuration",V.configuration)("configurationList",y.bMT(1,4,V.configurationList$))("context",V.context)("viewModeList",V.viewModeList)}}const W="/mydspace";let j=(()=>{class G{constructor(V,X){this.service=V,this.searchConfigService=X,this.roleTypeEnum=O.T,this.viewModeList=[T.n.ListElement,T.n.DetailedListElement],this.service.setServiceOptions(v,D.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(V=>{this.configuration=V[0].value,this.context=V[0].context})}static{this.\u0275fac=function(X){return new(X||G)(y.rXU(M.S),y.rXU(C.EN))}}static{this.\u0275cmp=y.VBU({type:G,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[y.Jv_([{provide:C.EN,useClass:C.U$}]),y.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(X,J){1&X&&(y.j41(0,"div",0),y.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),y.DNE(3,B,1,0,"ds-my-dspace-new-submission",1),y.k0s(),y.DNE(4,U,2,6,"ds-search",2)),2&X&&(y.R7$(3),y.Y8G("dsShowOnlyForRole",y.eq3(2,L,J.roleTypeEnum.Submitter)),y.R7$(),y.Y8G("ngIf",J.configuration&&J.context))},dependencies:[w.N,S.o,i.Jj,u.q,i.bT,R.w,I.P],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return G})()},85592:(N,b,n)=>{"use strict";n.d(b,{P:()=>u});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(88141),m=n(47483),h=n(61723),_=n(80183),y=n(54438);const v=w=>({num:w}),D=(w,C)=>[w,C],O=()=>({forward:!0});function M(w,C){if(1&w&&(y.j41(0,"div",3)(1,"div",4),y.nrm(2,"img",5),y.k0s(),y.j41(3,"div",6)(4,"div",7),y.EFF(5),y.nI1(6,"translate"),y.k0s(),y.j41(7,"button",8),y.EFF(8),y.nI1(9,"translate"),y.k0s()()()),2&w){const S=y.XpG().$implicit,I=y.XpG(2);y.R7$(2),y.Mz_("src","assets/images/qa-",S.id,"-logo.png",y.B4B),y.Mz_("alt","",S.id," logo"),y.R7$(3),y.SpI(" ",y.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",y.eq3(13,v,S.totalEvents))," "),y.R7$(2),y.Y8G("routerLink",y.l_i(15,D,I.getQualityAssuranceRoute(),S.id))("queryParams",y.lJ4(18,O)),y.R7$(),y.SpI(" ",y.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function T(w,C){if(1&w&&(y.qex(0),y.DNE(1,M,10,19,"div",2),y.bVm()),2&w){const S=C.$implicit;y.R7$(),y.Y8G("ngIf",S.totalEvents>0)}}function R(w,C){if(1&w&&(y.qex(0),y.DNE(1,T,2,1,"ng-container",1),y.nI1(2,"async"),y.bVm()),2&w){const S=y.XpG();y.R7$(),y.Y8G("ngForOf",y.bMT(2,1,S.sources$))}}let u=(()=>{class w{constructor(S){this.qualityAssuranceSourceDataService=S,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,_.qD)(),(0,f.M)(S=>{if(S.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,_.Bo)(),(0,_.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(I){return new(I||w)(y.rXU(h.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=y.VBU({type:w,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[y.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-info d-flex flex-row",4,"ngIf"],[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"pl-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(I,L){if(1&I&&(y.DNE(0,R,3,3,"ng-container",0),y.nI1(1,"async")),2&I){let B;y.Y8G("ngIf",(null==(B=y.bMT(1,1,L.sources$))?null:B.length)>0)}},dependencies:[i.Jj,i.Sq,l.h,l.D9,t.Wk,i.bT],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return w})()},58499:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ExpandableNavbarSectionComponent:()=>R});var i=n(60177),t=n(7901),l=n(61594),e=n(621),f=n(57538),m=n(39548),h=n(19340),_=n(79803),y=n(26821),v=n(54438);function D(u,w){1&u&&v.eu8(0)}function O(u,w){1&u&&v.eu8(0)}function M(u,w){if(1&u&&(v.j41(0,"div",9),v.DNE(1,O,1,0,"ng-container",3),v.nI1(2,"async"),v.nI1(3,"async"),v.k0s()),2&u){const C=w.$implicit,S=v.XpG(2);v.R7$(),v.Y8G("ngComponentOutlet",v.bMT(2,2,S.sectionMap$).get(C.id).component)("ngComponentOutletInjector",v.bMT(3,4,S.sectionMap$).get(C.id).injector)}}function T(u,w){if(1&u){const C=v.RV6();v.j41(0,"div",6),v.bIt("click",function(I){v.eBV(C);const L=v.XpG();return v.Njj(L.deactivateSection(I))})("dsHoverOutside",function(I){v.eBV(C);const L=v.XpG();return v.Njj(L.deactivateSection(I,!1))}),v.j41(1,"div",7),v.DNE(2,M,4,6,"div",8),v.nI1(3,"async"),v.k0s()()}if(2&u){const C=v.XpG();v.Y8G("id",C.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+C.section.id),v.R7$(),v.Y8G("@slide",void 0),v.R7$(),v.Y8G("ngForOf",v.bMT(3,4,C.subSections$))}}let R=(()=>{class u extends y.X{onResize(){this.isMobile$.pipe((0,l.$)()).subscribe(C=>{C!==this.wasMobile&&(this.wasMobile=C,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(C,S,I,L){super(C,S,I),this.section=C,this.menuService=S,this.injector=I,this.windowService=L,this.menuID=h.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.subs.push(this.active$.subscribe(C=>{!0===C?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(C=>{C.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(C){this.focusOnFirstChildSection="click"!==C.type,super.toggleSection(C)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(C=>{C.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(C){this.isMobile$.pipe((0,l.$)()).subscribe(S=>{!S&&!this.active$.value&&!this.mouseEntered&&this.activateSection(C),this.mouseEntered=!0})}onMouseLeave(C){this.isMobile$.pipe((0,l.$)()).subscribe(S=>{!S&&this.active$.value&&this.mouseEntered&&this.deactivateSection(C),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(C){if("Tab"===C.code)return void this.deactivateSection(C,!1);if("Escape"===C.code)return this.deactivateSection(C,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();C.preventDefault(),C.stopPropagation();const S=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===S.length)return;const I=Array.from(S).findIndex(L=>L===C.target);"ArrowDown"===C.key?S[(I+1)%S.length].focus():"ArrowUp"===C.key&&S[(I-1+S.length)%S.length].focus()}keyDown(C){switch(C.code){case"Tab":this.deactivateSection(C,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(C);break;case"Space":case"Enter":C.preventDefault()}}static{this.\u0275fac=function(S){return new(S||u)(v.rXU("sectionDataProvider"),v.rXU(m.$),v.rXU(v.zZn),v.rXU(f.CV))}}static{this.\u0275cmp=v.VBU({type:u,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(S,I){1&S&&v.bIt("resize",function(B){return I.onResize(B)},!1,v.tSv)},standalone:!0,features:[v.Vt3,v.aNF],decls:10,vars:16,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu","class","dropdown-menu show nav-dropdown-menu m-0 shadow-none border-top-0 px-3 px-md-0 pt-0 pt-md-1",3,"id","dsHoverOutsideOfParentSelector","click","dsHoverOutside",4,"ngIf"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["class","text-nowrap","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"text-nowrap"]],template:function(S,I){1&S&&(v.j41(0,"div",0),v.bIt("mouseenter",function(B){return I.onMouseEnter(B)})("mouseleave",function(B){return I.onMouseLeave(B)}),v.j41(1,"a",1),v.nI1(2,"async"),v.bIt("keyup.enter",function(B){return I.toggleSection(B)})("keyup.space",function(B){return I.toggleSection(B)})("click",function(B){return I.toggleSection(B)})("keydown",function(B){return I.keyDown(B)}),v.j41(3,"span",2),v.DNE(4,D,1,0,"ng-container",3),v.nI1(5,"async"),v.nI1(6,"async"),v.k0s(),v.nrm(7,"i",4),v.k0s(),v.DNE(8,T,4,6,"div",5),v.nI1(9,"async"),v.k0s()),2&S&&(v.Y8G("id","expandable-navbar-section-"+I.section.id),v.R7$(),v.AVh("disabled",null==I.section.model?null:I.section.model.disabled),v.BMQ("aria-expanded",v.bMT(2,8,I.active$).valueOf())("aria-controls",I.expandableNavbarSectionId()),v.R7$(3),v.Y8G("ngComponentOutlet",v.bMT(5,10,I.sectionMap$).get(I.section.id).component)("ngComponentOutletInjector",v.bMT(6,12,I.sectionMap$).get(I.section.id).injector),v.R7$(4),v.Y8G("ngIf",!0===v.bMT(9,14,I.active$).valueOf()))},dependencies:[i.Jj,_.l,i.OI,i.pM,i.bT,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 767.98px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:0;background-color:var(--ds-expandable-navbar-bg)}}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[e.M6]}})}}return u})()},26821:(N,b,n)=>{"use strict";n.d(b,{X:()=>h});var i=n(60177),t=n(39548),l=n(19340),e=n(6446),f=n(54438);function m(_,y){1&_&&f.eu8(0)}let h=(()=>{class _ extends e.a{constructor(v,D,O){super(v,D,O),this.menuService=D,this.injector=O,this.menuID=l.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(D){return new(D||_)(f.rXU("sectionDataProvider"),f.rXU(t.$),f.rXU(f.zZn))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-navbar-section"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(D,O){1&D&&(f.j41(0,"div",0),f.DNE(1,m,1,0,"ng-container",1),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&D&&(f.Y8G("id","navbar-section-"+O.section.id),f.R7$(),f.Y8G("ngComponentOutlet",f.bMT(2,3,O.sectionMap$).get(O.section.id).component)("ngComponentOutletInjector",f.bMT(3,5,O.sectionMap$).get(O.section.id).injector))},dependencies:[i.OI,i.Jj]})}}return _})()},67454:(N,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>L});var i=n(60177),t=n(52149),l=n(25499),e=n(41780),f=n(38169),m=n(37864),h=n(65007),_=n(621),y=n(28619),v=n(57538),D=n(30458),O=n(39548),M=n(19340),T=n(82522),R=n(54438),u=n(7901);const w=B=>({open:B});function C(B,U){1&B&&(R.qex(0),R.nrm(1,"ds-user-menu",7),R.bVm()),2&B&&(R.R7$(),R.Y8G("inExpandableNavbar",!0))}function S(B,U){1&B&&R.eu8(0)}function I(B,U){if(1&B&&(R.qex(0),R.DNE(1,S,1,0,"ng-container",8),R.nI1(2,"async"),R.nI1(3,"async"),R.bVm()),2&B){let W,j;const G=U.$implicit,H=R.XpG();R.R7$(),R.Y8G("ngComponentOutlet",null==(W=R.bMT(2,2,H.sectionMap$).get(G.id))?null:W.component)("ngComponentOutletInjector",null==(j=R.bMT(3,4,H.sectionMap$).get(G.id))?null:j.injector)}}let L=(()=>{class B extends D.Z{constructor(W,j,G,H,V,X,J,q){super(W,j,V,X,J),this.menuService=W,this.injector=j,this.windowService=G,this.browseService=H,this.authorizationService=V,this.route=X,this.themeService=J,this.store=q,this.menuID=M.D.PUBLIC,this.maxMobileWidth=v.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,l.Lt)(f.wR))}static{this.\u0275fac=function(j){return new(j||B)(R.rXU(O.$),R.rXU(R.zZn),R.rXU(v.CV),R.rXU(m.q),R.rXU(h.AuthorizationDataService),R.rXU(u.nX),R.rXU(T.Fs),R.rXU(l.il))}}static{this.\u0275cmp=R.VBU({type:B,selectors:[["ds-base-navbar"]],standalone:!0,features:[R.Vt3,R.aNF],decls:15,vars:25,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","pt-md-0","pt-3","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[4,"ngIf"],[1,"navbar-nav","align-items-md-center","mr-auto","shadow-none","gapx-3"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(j,G){1&j&&(R.j41(0,"nav",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.nI1(4,"translate"),R.j41(5,"div",1),R.nI1(6,"async"),R.j41(7,"div",2)(8,"div",3),R.DNE(9,C,2,1,"ng-container",4),R.nI1(10,"async"),R.nI1(11,"async"),R.j41(12,"div",5),R.DNE(13,I,4,6,"ng-container",6),R.nI1(14,"async"),R.k0s()()()()()),2&j&&(R.Y8G("ngClass",R.eq3(23,w,!0!==R.bMT(1,7,G.menuCollapsed)))("@slideMobileNav",!0!==R.bMT(2,9,G.windowService.isXsOrSm())?"default":R.bMT(3,11,G.menuCollapsed)?"collapsed":"expanded"),R.BMQ("aria-label",R.bMT(4,13,"nav.main.description")),R.R7$(5),R.AVh("container",!0!==R.bMT(6,15,G.isMobile$)),R.R7$(4),R.Y8G("ngIf",R.bMT(10,17,G.isMobile$)&&R.bMT(11,19,G.isAuthenticated$)),R.R7$(4),R.Y8G("ngForOf",R.bMT(14,21,G.sections)))},dependencies:[t.zH,t.QE,i.YU,i.bT,y.r,i.pM,i.OI,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[_.p8]}})}}return B})()},77632:(N,b,n)=>{"use strict";n.d(b,{D:()=>m});var i=n(8886),l=(n(67454),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(y){return n(19318)(`./${y}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67454))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-navbar"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},38571:(N,b,n)=>{"use strict";n.d(b,{W:()=>O,I:()=>M});var i=n(25499),t=n(74566);const l={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var f=n(79984);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var _=n(54503);const y={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},v={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},O={qaTopic:function h(T=m,R){switch(R.type){case f.py.RETRIEVE_ALL_TOPICS:return Object.assign({},T,{topics:[],processing:!0});case f.py.ADD_TOPICS:return Object.assign({},T,{topics:R.payload.topics,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:T.currentPage,totalElements:R.payload.totalElements});case f.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},qaSource:function e(T=l,R){switch(R.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},T,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},T,{source:R.payload.source,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:T.currentPage,totalElements:R.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},suggestionTarget:function D(T=v,R){switch(R.type){case _.lz.RETRIEVE_TARGETS_BY_SOURCE:{const u=T.sources[R.payload.source]||Object.assign({},y),w=Object.assign({},u,{targets:[],processing:!0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case _.lz.ADD_TARGETS:{const u=T.sources[R.payload.source]||Object.assign({},y),w=Object.assign({},u,{targets:u.targets.concat(R.payload.targets),processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:R.payload.currentPage,totalElements:R.payload.totalElements});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case _.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const u=T.sources[R.payload.source]||Object.assign({},y),w=Object.assign({},u,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case _.lz.ADD_USER_SUGGESTIONS:return Object.assign({},T,{currentUserTargets:R.payload.suggestionTargets});case _.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},T,{currentUserTargetsVisited:!0});case _.lz.CLEAR_TARGETS:{const u=T.sources[R.payload.source]||Object.assign({},y),w=Object.assign({},u,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}default:return T}}},M=(0,i.UX)("suggestionNotifications")},74566:(N,b,n)=>{"use strict";n.d(b,{$_:()=>f,Fx:()=>e,lZ:()=>l,xq:()=>t});var i=n(91e3);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class l{constructor(h,_){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:h,currentPage:_}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class f{constructor(h,_,y,v){this.type=t.ADD_SOURCE,this.payload={source:h,totalPages:_,currentPage:y,totalElements:v}}}},13246:(N,b,n)=>{"use strict";n.d(b,{p:()=>m});var i=n(96354),t=n(6238),l=n(61723),e=n(80183),f=n(54438);let m=(()=>{class h{constructor(y){this.qualityAssuranceSourceRestService=y}getSources(y,v){const D=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:y,currentPage:v,sort:D}).pipe((0,e.qD)(),(0,i.T)(M=>{if(M.hasSucceeded)return M.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(v){return new(v||h)(f.KVO(l.QualityAssuranceSourceDataService))}}static{this.\u0275prov=f.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},79984:(N,b,n)=>{"use strict";n.d(b,{C3:()=>f,IL:()=>e,_v:()=>l,py:()=>t});var i=n(91e3);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class l{constructor(h,_,y,v){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:h,currentPage:_,source:y,target:v}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class f{constructor(h,_,y,v){this.type=t.ADD_TOPICS,this.payload={topics:h,totalPages:_,currentPage:y,totalElements:v}}}},54503:(N,b,n)=>{"use strict";n.d(b,{Af:()=>_,Fz:()=>e,Gx:()=>m,Pc:()=>f,eb:()=>h,en:()=>v,g3:()=>y,lz:()=>t,ri:()=>l});var i=n(91e3);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class l{constructor(O,M,T){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:O,elementsPerPage:M,currentPage:T}}}class e{constructor(O){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:O}}}class f{constructor(O,M,T,R,u){this.type=t.ADD_TARGETS,this.payload={source:O,targets:M,totalPages:T,currentPage:R,totalElements:u}}}class m{constructor(O){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:O}}}class h{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class _{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class y{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class v{constructor(O){this.type=t.CLEAR_TARGETS,this.payload={source:O}}}},31224:(N,b,n)=>{"use strict";n.d(b,{x:()=>C});var i=n(25499),t=n(96354),l=n(645),e=n(38571);function m(){return(0,l.hZ)(e.I,"suggestionTarget")}function h(S){return(0,i.Mz)(m(),I=>I.sources[S])}(0,i.UX)("suggestionNotifications");const y=S=>(0,i.Mz)(h(S),I=>I?.loaded||!1),M=S=>(0,i.Mz)(h(S),I=>I?.totalElements||0);var u=n(54503),w=n(54438);let C=(()=>{class S{constructor(L){this.store=L}getSuggestionTargets(L){return this.store.pipe((0,i.Lt)(function _(S){return(0,i.Mz)(h(S),I=>I.targets)}(L)))}isSuggestionTargetsLoading(L){return this.store.pipe((0,i.Lt)(y(L)),(0,t.T)(B=>!B))}isSuggestionTargetsLoaded(L){return this.store.pipe((0,i.Lt)(y(L)))}isSuggestionTargetsProcessing(L){return this.store.pipe((0,i.Lt)((S=>(0,i.Mz)(h(S),I=>I?.processing||!1))(L)))}getSuggestionTargetsTotalPages(L){return this.store.pipe((0,i.Lt)(M(L)))}getSuggestionTargetsCurrentPage(L){return this.store.pipe((0,i.Lt)((S=>(0,i.Mz)(h(S),I=>I?.currentPage||0))(L)))}getSuggestionTargetsTotals(L){return this.store.pipe((0,i.Lt)(M(L)))}dispatchRetrieveSuggestionTargets(L,B,U){this.store.dispatch(new u.ri(L,B,U))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),S=>S?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),S=>S?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new u.g3)}dispatchClearSuggestionTargetsAction(L){this.store.dispatch(new u.en(L))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new u.eb)}static{this.\u0275fac=function(B){return new(B||S)(w.KVO(i.il))}}static{this.\u0275prov=w.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},7724:(N,b,n)=>{"use strict";n.d(b,{w:()=>v});var i=n(60177),t=n(7901),l=n(41780),e=n(31224),f=n(67977),m=n(54438);function h(D,O){if(1&D&&(m.j41(0,"div",4),m.nrm(1,"div",5),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",6),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&D){const M=m.XpG().$implicit,T=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",T.getNotificationSuggestionInterpolation(M)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",T.getNotificationSuggestionInterpolation(M).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function _(D,O){if(1&D&&(m.qex(0,2),m.DNE(1,h,8,11,"div",3),m.bVm()),2&D){const M=O.$implicit;m.R7$(),m.Y8G("ngIf",M.total>0)}}function y(D,O){if(1&D&&(m.qex(0),m.DNE(1,_,2,1,"ng-container",1),m.bVm()),2&D){const M=O.ngIf;m.R7$(),m.Y8G("ngForOf",M)}}let v=(()=>{class D{constructor(M,T){this.suggestionTargetsStateService=M,this.suggestionsService=T}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(M){return this.suggestionsService.getNotificationSuggestionInterpolation(M)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(e.x),m.rXU(f.F))}}static{this.\u0275cmp=m.VBU({type:D,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","alert alert-info",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-success d-block",4,"ngIf"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(T,R){1&T&&(m.DNE(0,y,2,1,"ng-container",0),m.nI1(1,"async")),2&T&&m.Y8G("ngIf",m.bMT(1,1,R.suggestionsRD$))},dependencies:[t.Wk,l.h,l.D9,i.Jj,i.bT,i.Sq]})}}return D})()},67977:(N,b,n)=>{"use strict";n.d(b,{F:()=>C});var i=n(7673),t=n(27468),l=n(96697),e=n(96354),f=n(73028),m=n(99437),h=n(88280),_=n(6238),y=n(96687),v=n(94791),D=n(98926),O=n(80183),M=n(82777),T=n(67600),R=n(24215),u=n(54438),w=n(41780);let C=(()=>{class S{constructor(L,B,U,W){this.researcherProfileService=L,this.suggestionsDataService=B,this.suggestionTargetDataService=U,this.translateService=W}getTargets(L,B,U){const W=new _.z("display",_.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(L,{elementsPerPage:B,currentPage:U,sort:W}).pipe((0,O.D4)(),(0,l.s)(1),(0,e.T)(G=>{if(G.hasSucceeded)return G.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(L,B,U,W){const[j,G]=L.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(G,j,{elementsPerPage:B,currentPage:U,sort:W})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(L){return this.suggestionsDataService.deleteSuggestion(L).pipe((0,e.T)(B=>{if(B.isSuccess)return B;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,l.s)(1))}retrieveCurrentUserSuggestions(L){return(0,M.Tn)(L)?(0,i.of)([]):this.researcherProfileService.findById(L,!0,!0,(0,T.s)("item")).pipe((0,O.qD)(),(0,f.Z)(B=>(0,M.hj)(B)&&B.hasSucceeded&&(0,M.hj)(B.payload)?this.researcherProfileService.findRelatedItemId(B.payload).pipe((0,f.Z)(U=>this.suggestionTargetDataService.getTargetsByUser(U).pipe((0,O.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(L,B,U){const W=this.resolveCollectionId(B,U);return L.importExternalSourceEntry(B.externalSourceUri,W).pipe((0,O.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(L){return this.deleteReviewedSuggestion(L).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(L,B,U){return(0,t.p)(B.map(W=>this.approveAndImport(L,W,U))).pipe((0,e.T)(W=>({success:W.filter(j=>null!=j).length,fails:W.filter(j=>null==j).length})),(0,l.s)(1))}ignoreSuggestionMultiple(L){return(0,t.p)(L.map(B=>this.ignoreSuggestion(B.id))).pipe((0,e.T)(B=>({success:B.filter(U=>null!=U).length,fails:B.filter(U=>null==U).length})),(0,l.s)(1))}getTargetUuid(L){const B=L.id.split(":");return 2===B.length?B[1]:null}getNotificationSuggestionInterpolation(L){return{count:L.total,source:this.translateService.instant(this.translateSuggestionSource(L.source)),type:this.translateService.instant(this.translateSuggestionType(L.source)),suggestionId:L.id,displayName:L.display,url:(0,R.jV)(L.id)}}translateSuggestionType(L){return"suggestion.type."+L}translateSuggestionSource(L){return"suggestion.source."+L}resolveCollectionId(L,B){return(0,M.a4)(B)?B:h.c.suggestion.find(U=>U.source===L.source).collectionId}isCollectionFixed(L){return 1===this.getFixedCollectionIds(L).length}getFixedCollectionIds(L){const B={};return L.forEach(U=>{const W=h.c.suggestion.find(j=>j.source===U.source);(0,M.a4)(W)&&(B[W.collectionId]=!0)}),Object.keys(B)}static{this.\u0275fac=function(B){return new(B||S)(u.KVO(D.ResearcherProfileDataService),u.KVO(y.SuggestionDataService),u.KVO(v.SuggestionTargetDataService),u.KVO(w.c$))}}static{this.\u0275prov=u.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},2670:(N,b,n)=>{"use strict";n.r(b),n.d(b,{PageErrorComponent:()=>e});var i=n(41780),t=n(54438),l=n(7901);let e=(()=>{class f{constructor(h){this.activatedRoute=h,this.activatedRoute.queryParams.subscribe(_=>{this.status=_.status,this.code=_.code})}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(_,y){1&_&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&_&&(t.R7$(2),t.JRh(y.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+y.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+y.code)),t.R7$(5),t.JRh(t.bMT(15,8,y.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},82290:(N,b,n)=>{"use strict";n.r(b),n.d(b,{PageInternalServerErrorComponent:()=>e});var i=n(41780),t=n(7337),l=n(54438);let e=(()=>{class f{constructor(h){this.responseService=h,this.responseService.setInternalServerError()}static{this.\u0275fac=function(_){return new(_||f)(l.rXU(t.w))}}static{this.\u0275cmp=l.VBU({type:f,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[l.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(_,y){1&_&&(l.j41(0,"div",0)(1,"h1"),l.EFF(2,"500"),l.k0s(),l.j41(3,"h2")(4,"small"),l.EFF(5),l.nI1(6,"translate"),l.k0s()(),l.nrm(7,"br"),l.j41(8,"p"),l.EFF(9),l.nI1(10,"translate"),l.k0s(),l.nrm(11,"br"),l.j41(12,"p",1)(13,"a",2),l.EFF(14),l.nI1(15,"translate"),l.k0s()()()),2&_&&(l.R7$(5),l.SpI(" ",l.bMT(6,3,"500.page-internal-server-error")," "),l.R7$(4),l.JRh(l.bMT(10,5,"500.help")),l.R7$(5),l.JRh(l.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},53830:(N,b,n)=>{"use strict";n.r(b),n.d(b,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(41780),l=n(67116),e=n(7337),f=n(54438);let m=(()=>{class h{constructor(y,v){this.authservice=y,this.responseService=v,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(v){return new(v||h)(f.rXU(l.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:h,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(v,D){1&v&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"404"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&v&&(f.R7$(5),f.JRh(f.bMT(6,3,"404.page-not-found")),f.R7$(4),f.JRh(f.bMT(10,5,"404.help")),f.R7$(5),f.JRh(f.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return h})()},1504:(N,b,n)=>{"use strict";n.d(b,{JO:()=>l,rG:()=>t,yJ:()=>e});var i=n(45663);const t="processes",l=()=>`/${t}`,e=f=>new i.t(l(),f).toString()},73666:(N,b,n)=>{"use strict";n.d(b,{p:()=>i});class i{}},31189:(N,b,n)=>{"use strict";n.d(b,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},30721:(N,b,n)=>{"use strict";n.d(b,{M:()=>M});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(42547);const h=new m.v("processOutput");var _=n(98688),y=n(43733);const v=new m.v("filetypes");var D=n(20930);n(31189);let M=class{static{this.type=D.A}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],M.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],M.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],M.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(y.M),(0,i.Sn)("design:type",l.c)],M.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(h),(0,i.Sn)("design:type",l.c)],M.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",l.c)],M.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(v),(0,i.Sn)("design:type",l.c)],M.prototype,"filetypes",void 0),M=(0,i.Cg)([e.gV],M)},20930:(N,b,n)=>{"use strict";n.d(b,{A:()=>t});const t=new(n(42547).v)("process")},24903:(N,b,n)=>{"use strict";n.d(b,{e:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(42547),f=n(98688),m=n(43733);let h=class{static{this.type=m.M}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],h.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],h.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0),h=(0,i.Cg)([l.gV],h)},43733:(N,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(42547).v)("script")},87114:(N,b,n)=>{"use strict";n.r(b),n.d(b,{RootComponent:()=>Q});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(84412),m=n(84572),h=n(28492),_=n(61594),y=n(96354),v=n(99172),D=n(88280),O=n(61242),M=n(69799),T=n(46754),R=n(1676),u=n(74920),w=n(77529),C=n(621),S=n(57538),I=n(98776),L=n(82394),B=n(39548),U=n(19340),W=n(25871),j=n(1221),G=n(58429),H=n(54438);const V=(Y,z)=>({collapsedWidth:Y,expandedWidth:z}),X=(Y,z)=>({value:Y,params:z});function J(Y,z){1&Y&&(H.j41(0,"div",8),H.nrm(1,"ds-loading",9),H.k0s()),2&Y&&(H.R7$(),H.Y8G("showMessage",!1))}function q(Y,z){1&Y&&(H.j41(0,"div",10),H.nrm(1,"ds-loading",9),H.k0s()),2&Y&&(H.R7$(),H.Y8G("showMessage",!1))}let Q=(()=>{class Y{constructor(Z,oe,se,de,te){this.router=Z,this.cssService=oe,this.menuService=se,this.windowService=de,this._window=te,this.theme=(0,e.of)({}),this.browserOsClasses=new f.t([]),this.notificationOptions=D.c.notifications}ngOnInit(){const Z=this.getBrowserName();if(Z){const se=new Array;se.push(`browser-${Z}`);const de=this.getOSName();de&&se.push(`browser-${Z}-${de}`),this.browserOsClasses.next(se)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(U.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,h.j)(se=>!se),(0,_.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,h.j)(se=>!se),(0,_.$)());const oe=this.menuService.isMenuCollapsed(U.D.ADMIN);this.slideSidebarOver$=(0,m.z)([oe,this.windowService.isXsOrSm()]).pipe((0,y.T)(([se,de])=>se||de),(0,v.Z)(!0)),this.router.url===(0,M.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const Z=document.getElementById("main-content");Z&&(Z.tabIndex=-1,Z.focus())}getBrowserName(){const Z=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(Z)?"firefox":/Safari/.test(Z)?"safari":void 0}getOSName(){const Z=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(Z))return"windows"}static{this.\u0275fac=function(oe){return new(oe||Y)(H.rXU(t.Ix),H.rXU(j.J),H.rXU(B.$),H.rXU(S.CV),H.rXU(R.lc))}}static{this.\u0275cmp=H.VBU({type:Y,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[H.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(oe,se){1&oe&&(H.j41(0,"button",0),H.bIt("click",function(){return se.skipToMainContent()}),H.EFF(1),H.nI1(2,"translate"),H.k0s(),H.j41(3,"div",1),H.nI1(4,"async"),H.nI1(5,"async"),H.nI1(6,"async"),H.nI1(7,"async"),H.nI1(8,"async"),H.nrm(9,"ds-admin-sidebar",2),H.j41(10,"div",3),H.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),H.j41(14,"main",4),H.DNE(15,J,2,1,"div",5),H.j41(16,"div"),H.nrm(17,"router-outlet"),H.k0s()(),H.nrm(18,"ds-footer"),H.k0s()(),H.nrm(19,"ds-notifications-board",6),H.DNE(20,q,2,1,"div",7),H.nrm(21,"ds-live-region")),2&oe&&(H.R7$(),H.SpI(" ",H.bMT(2,12,"root.skip-to-content"),"\n"),H.R7$(2),H.AVh("d-none",se.shouldShowFullscreenLoader),H.Y8G("ngClass",H.bMT(4,14,se.browserOsClasses.asObservable()))("@slideSidebarPadding",H.l_i(27,X,!0!==H.bMT(5,16,se.isSidebarVisible$)?"hidden":H.bMT(6,18,se.slideSidebarOver$)?"unpinned":"pinned",H.l_i(24,V,H.bMT(7,20,se.collapsedSidebarWidth$),H.bMT(8,22,se.expandedSidebarWidth$)))),H.R7$(6),H.Y8G("expandedSidebarWidth$",se.expandedSidebarWidth$)("collapsedSidebarWidth$",se.collapsedSidebarWidth$),H.R7$(6),H.Y8G("ngIf",se.shouldShowRouteLoader),H.R7$(),H.AVh("d-none",se.shouldShowRouteLoader),H.R7$(3),H.Y8G("options",se.notificationOptions),H.R7$(),H.Y8G("ngIf",se.shouldShowFullscreenLoader))},dependencies:[l.h,l.D9,O.u,G.E,w.h,T.B,i.bT,i.YU,L.v,t.n3,u.C,W.s,i.Jj,I.E],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[C.tr]}})}}return Y})()},73940:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchNavbarComponent:()=>v});var i=n(89417),t=n(41780),l=n(78655),e=n(621),f=n(75465),m=n(46301),h=n(54438),_=n(7901);const y=["searchInput"];let v=(()=>{class D{constructor(M,T,R){this.formBuilder=M,this.router=T,this.searchService=R,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(M){this.collapse();const T=Object.assign({},M),R=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(R,{queryParams:T})}static{this.\u0275fac=function(T){return new(T||D)(h.rXU(i.ze),h.rXU(_.Ix),h.rXU(l.S))}}static{this.\u0275cmp=h.VBU({type:D,selectors:[["ds-base-search-navbar"]],viewQuery:function(T,R){if(1&T&&h.GBs(y,5),2&T){let u;h.mGM(u=h.lsd())&&(R.searchField=u.first)}},standalone:!0,features:[h.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"bg-transparent","position-absolute","form-control","dropdown-menu-right","pl-1","pr-4",3,"placeholder","tabIndex"],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(T,R){if(1&T){const u=h.RV6();h.j41(0,"div",1),h.nI1(1,"translate"),h.bIt("dsClickOutside",function(){return h.eBV(u),h.Njj(R.collapse())}),h.j41(2,"div",2)(3,"form",3),h.bIt("ngSubmit",function(){return h.eBV(u),h.Njj(R.onSubmit(R.searchForm.value))}),h.nrm(4,"input",4,0),h.nI1(6,"translate"),h.nI1(7,"translate"),h.nI1(8,"dsBrowserOnly"),h.j41(9,"button",5),h.nI1(10,"translate"),h.nI1(11,"dsBrowserOnly"),h.bIt("click",function(){return h.eBV(u),h.Njj(R.searchExpanded?R.onSubmit(R.searchForm.value):R.expand())}),h.nrm(12,"em",6),h.k0s()()()()}2&T&&(h.Y8G("title",h.bMT(1,11,"nav.search")),h.R7$(3),h.Y8G("formGroup",R.searchForm),h.R7$(),h.AVh("display",R.searchExpanded?"inline-block":"none"),h.FS9("placeholder",R.searchExpanded?h.bMT(6,13,"nav.search"):""),h.Y8G("@toggleAnimation",R.isExpanded)("tabIndex",R.searchExpanded?0:-1),h.BMQ("aria-label",h.bMT(7,15,"nav.search"))("data-test",h.bMT(8,17,"header-search-box")),h.R7$(5),h.BMQ("aria-label",h.bMT(10,19,"nav.search.button"))("data-test",h.bMT(11,21,"header-search-icon")))},dependencies:[m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9,f.L],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.5 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color)}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return D})()},3224:(N,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(8886),l=(n(73940),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(y){return n(28754)(`./${y}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73940))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-search-navbar"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},32487:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationSearchPageComponent:()=>be});var i=n(60177),t=n(54438),l=n(41780),e=n(82640),f=n(56760),m=n(78655),h=n(39012),_=n(13955),y=n(10214),v=n(57538),D=n(77766),O=n(55366),M=n(14131),T=n(79443),R=n(18016),u=n(50919),w=n(52600),C=n(35538),S=n(7901);const I=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],L=["[searchContentTop]","[additionalSearchOptions]"];function B(pe,re){}function U(pe,re){1&pe&&t.DNE(0,B,0,0,"ng-template")}function W(pe,re){if(1&pe&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,U,1,0,null,9),t.k0s()()()),2&pe){t.XpG();const ye=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",ye)}}function j(pe,re){}function G(pe,re){1&pe&&t.DNE(0,j,0,0,"ng-template")}function H(pe,re){if(1&pe&&(t.j41(0,"div"),t.DNE(1,G,1,0,null,9),t.k0s()),2&pe){t.XpG();const ye=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",ye)}}function V(pe,re){}function X(pe,re){1&pe&&t.DNE(0,V,0,0,"ng-template")}function J(pe,re){if(1&pe&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,X,1,0,null,9),t.k0s()),2&pe){const ye=t.XpG(),De=t.sdS(7),nt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",ye.sideBarWidth)("sidebarContent",nt),t.R7$(),t.Y8G("ngTemplateOutlet",De)}}function q(pe,re){}function Q(pe,re){1&pe&&t.DNE(0,q,0,0,"ng-template")}function Y(pe,re){if(1&pe&&(t.qex(0),t.DNE(1,Q,1,0,null,9),t.bVm()),2&pe){t.XpG(3);const ye=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",ye)}}function z(pe,re){if(1&pe&&(t.j41(0,"div",8),t.DNE(1,Y,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&pe){const ye=t.XpG(2);t.R7$(),t.Y8G("ngIf",ye.searchEnabled)}}function Z(pe,re){if(1&pe&&t.nrm(0,"ds-view-mode-switch",18),2&pe){const ye=t.XpG(2);t.Y8G("viewModeList",ye.viewModeList)("inPlaceSearch",ye.inPlaceSearch)}}function oe(pe,re){if(1&pe){const ye=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(nt){t.eBV(ye);const mt=t.XpG(2);return t.Njj(mt.onContentChange(nt))})("deselectObject",function(nt){t.eBV(ye);const mt=t.XpG(2);return t.Njj(mt.deselectObject.emit(nt))})("selectObject",function(nt){t.eBV(ye);const mt=t.XpG(2);return t.Njj(mt.selectObject.emit(nt))}),t.k0s()}if(2&pe){const ye=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,ye.resultsRD$))("searchConfig",t.bMT(2,12,ye.searchOptions$))("configuration",t.bMT(3,14,ye.currentConfiguration$))("disableHeader",!ye.searchEnabled)("linkType",ye.linkType)("context",t.bMT(4,16,ye.currentContext$))("selectable",ye.selectable)("selectionConfig",ye.selectionConfig)("showCsvExport",ye.showCsvExport)("showThumbnails",ye.showThumbnails)}}function se(pe,re){if(1&pe){const ye=t.RV6();t.j41(0,"div",7),t.DNE(1,z,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Z,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(ye);const nt=t.XpG();return t.Njj(nt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,oe,5,18,"ds-search-results",17),t.k0s()()}if(2&pe){const ye=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,ye.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",ye.inPlaceSearch&&ye.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",ye.inPlaceSearch)}}function de(pe,re){if(1&pe){const ye=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(nt){t.eBV(ye);const mt=t.XpG(2);return t.Njj(mt.changeContext(nt.context))})("changeViewMode",function(){t.eBV(ye);const nt=t.XpG(2);return t.Njj(nt.changeViewMode())}),t.k0s()}if(2&pe){let ye;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(ye=t.bMT(3,16,De.resultsRD$))||null==ye.payload?null:ye.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function te(pe,re){if(1&pe){const ye=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(ye);const nt=t.XpG(2);return t.Njj(nt.closeSidebar())})("changeConfiguration",function(nt){t.eBV(ye);const mt=t.XpG(2);return t.Njj(mt.changeContext(nt.context))})("changeViewMode",function(){t.eBV(ye);const nt=t.XpG(2);return t.Njj(nt.changeViewMode())}),t.k0s()}if(2&pe){let ye;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(ye=t.bMT(3,16,De.resultsRD$))||null==ye.payload?null:ye.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function le(pe,re){if(1&pe&&(t.DNE(0,de,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,te,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&pe){const ye=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,ye.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ye.isXsOrSm$))}}function Ee(pe,re){if(1&pe&&(t.nrm(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()),2&pe){let ye,De;const nt=t.XpG();t.Y8G("query",null==(ye=t.bMT(1,8,nt.searchOptions$))?null:ye.query)("scope",null==(De=t.bMT(2,10,nt.searchOptions$))?null:De.scope)("hideScopeInUrl",nt.hideScopeInUrl)("currentUrl",nt.searchLink)("showScopeSelector",nt.showScopeSelector)("inPlaceSearch",nt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,nt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",nt.inPlaceSearch)}}let be=(()=>{class pe extends D.SearchComponent{constructor(ye,De,nt,mt,xe,ot,$e,Fe){super(ye,De,nt,mt,xe,ot,$e,Fe),this.service=ye,this.sidebarService=De,this.windowService=nt,this.searchConfigService=mt,this.routeService=xe,this.router=ot,this.appConfig=$e,this.platformId=Fe}static{this.\u0275fac=function(De){return new(De||pe)(t.rXU(m.S),t.rXU(w.o),t.rXU(v.CV),t.rXU(_.EN),t.rXU(f.v$),t.rXU(S.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:pe,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:_.EN,useClass:h.g}]),t.Vt3,t.aNF],ngContentSelectors:L,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(De,nt){1&De&&(t.NAR(I),t.DNE(0,W,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,H,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,J,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,se,12,8,"ng-template",null,0,t.C5r)(8,le,4,6,"ng-template",null,1,t.C5r)(10,Ee,7,14,"ng-template",null,2,t.C5r)),2&De&&(t.Y8G("ngIf",nt.searchEnabled&&t.bMT(1,3,nt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!nt.showSidebar&&t.bMT(3,5,nt.initialized$)),t.R7$(2),t.Y8G("ngIf",nt.showSidebar&&t.bMT(5,7,nt.initialized$)))},dependencies:[i.bT,i.T3,u.f,C.g,M.N,T.p,R.d,O.L,i.Jj,l.h,l.D9],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[y.W]},changeDetection:0})}}return pe})()},4021:(N,b,n)=>{"use strict";n.d(b,{M:()=>_}),n(26292),n(7581);var l=n(8886),f=(n(32487),n(54438));const m=["*"];function h(y,v){}let _=(()=>{class y extends l.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(D){return n(21133)(`./${D}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32487))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=f.xGo(y)))(M||y)}})()}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(f.NAR(),f.DNE(0,h,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return y})()},22924:(N,b,n)=>{"use strict";n.d(b,{e:()=>h});var i=n(54438),t=n(82777),l=n(82522),e=n(92827);const f=["DynamicComponentLoader"];function m(_,y){}let h=(()=>{class _{constructor(v){this.themeService=v,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(v){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(D=>(0,t.a4)(v[D])&&v[D].previousValue!==v[D].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(v=>(0,t.a4)(v)).forEach(v=>v.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const v=this.getComponent(),D=this.componentViewContainerRef;D.clear(),this.compRef=D.createComponent(v,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(v=>void 0!==this[v]).filter(v=>this[v]!==this.compRef.instance[v]).forEach(v=>{this.compRef.setInput(v,this[v])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(v=>void 0!==this[v]).filter(v=>this[v]!==this.compRef.instance[v]).forEach(v=>{this.compRef.instance[v]=this[v]})}static{this.\u0275fac=function(D){return new(D||_)(i.rXU(l.Fs))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ds-abstract-component-loader"]],viewQuery:function(D,O){if(1&D&&i.GBs(f,7,i.c1b),2&D){let M;i.mGM(M=i.lsd())&&(O.componentViewContainerRef=M.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(D,O){1&D&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return _})()},92827:(N,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.viewContainerRef=f}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return l})()},47978:(N,b,n)=>{"use strict";n.d(b,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},16292:(N,b,n)=>{"use strict";n.d(b,{C:()=>v});var i=n(49969),t=n(60177),l=n(54438),e=n(41780),f=n(50332);const m=["*"];function h(D,O){if(1&D&&(l.nrm(0,"span",4),l.nI1(1,"translate")),2&D){const M=l.XpG(2);l.Y8G("innerHTML",l.bMT(1,1,M.content),l.npT)}}function _(D,O){if(1&D){const M=l.RV6();l.j41(0,"button",5),l.bIt("click",function(){l.eBV(M);const R=l.XpG(2);return l.Njj(R.dismiss())}),l.j41(1,"span",6),l.EFF(2,"\xd7"),l.k0s()()}}function y(D,O){if(1&D&&(l.j41(0,"div",1),l.DNE(1,h,2,3,"span",2),l.SdG(2),l.DNE(3,_,3,0,"button",3),l.k0s()),2&D){const M=l.XpG();l.ZvI("alert ",M.type," alert-dismissible fade show w-100 p-3"),l.Y8G("@enterLeave",M.animate),l.R7$(),l.Y8G("ngIf",M.content),l.R7$(2),l.Y8G("ngIf",M.dismissible)}}let v=(()=>{class D{constructor(M){this.cdr=M,this.dismissible=!1,this.close=new l.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(T){return new(T||D)(l.rXU(l.gRc))}}static{this.\u0275cmp=l.VBU({type:D,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[l.aNF],ngContentSelectors:m,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(T,R){1&T&&(l.NAR(),l.DNE(0,y,4,6,"div",0)),2&T&&l.Y8G("ngIf",!R.dismissed)},dependencies:[t.bT,e.h,e.D9],styles:[".close{opacity:.75}.close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[f.ai,f.wA])]}})}}return D})()},50332:(N,b,n)=>{"use strict";n.d(b,{HT:()=>t,Ws:()=>v,Xn:()=>y,ai:()=>m,e9:()=>l,qG:()=>_,wA:()=>f});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),l=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),f=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),h=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),_=(0,i.hZ)("fadeIn",[e]),y=(0,i.hZ)("fadeOut",[h]),v=(0,i.hZ)("fadeInOut",[e,h])},6703:(N,b,n)=>{"use strict";n.d(b,{B_:()=>e,Py:()=>f,Wk:()=>t,iP:()=>l});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),l=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),f=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[l]),(0,i.hZ)("fromTopOut",[f]),(0,i.hZ)("fromTopInOut",[l,f])},10214:(N,b,n)=>{"use strict";n.d(b,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},68681:(N,b,n)=>{"use strict";n.d(b,{CC:()=>l,L2:()=>e,Ru:()=>f,UE:()=>t,e$:()=>D});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),l=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),f=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),D=((0,i.hZ)("rotateIn",[l]),(0,i.hZ)("rotateOut",[f]),(0,i.hZ)("rotateInOut",[l,f]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},621:(N,b,n)=>{"use strict";n.d(b,{M6:()=>t,ck:()=>D,l9:()=>M,p8:()=>l,tr:()=>O});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),l=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),f=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),h=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),_=(0,i.iF)({paddingLeft:"0"}),y={params:{collapsedWidth:"*",expandedWidth:"*"}},v="300ms ease-in-out",D=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,y),(0,i.wk)("expanded",f,y),(0,i.kY)("expanded => collapsed",(0,i.i0)(v,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(v,f))]),O=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",_),(0,i.wk)("unpinned",m,y),(0,i.wk)("pinned",h,y),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(v)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(v)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(v))]),M=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},56292:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AuthNavMenuComponent:()=>G});var i=n(60177),t=n(7901),l=n(52149),e=n(25499),f=n(41780),m=n(7673),h=n(5964),_=n(96354),y=n(72352),v=n(67116),D=n(38169),O=n(50332),M=n(82777),T=n(57538),R=n(68900),u=n(75465),w=n(28619),C=n(54438);const S=H=>({"pl-3 pr-3":H});function I(H,V){if(1&H){const X=C.RV6();C.j41(0,"div",7),C.bIt("click",function(q){return C.eBV(X),C.Njj(q.stopPropagation())}),C.j41(1,"div",8,1)(3,"a",9),C.nI1(4,"translate"),C.nI1(5,"dsBrowserOnly"),C.bIt("click",function(q){return C.eBV(X),C.Njj(q.preventDefault())}),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.j41(8,"div",10),C.nI1(9,"async"),C.nI1(10,"translate"),C.nrm(11,"ds-log-in",11),C.k0s()()()}if(2&H){const X=C.sdS(2),J=C.XpG(2);C.R7$(),C.Y8G("@fadeInOut",void 0),C.R7$(2),C.BMQ("aria-label",C.bMT(4,8,"nav.login"))("data-test",C.bMT(5,10,"login-menu"))("aria-expanded",X.isOpen()),C.R7$(3),C.JRh(C.bMT(7,12,"nav.login")),C.R7$(2),C.Y8G("ngClass",C.eq3(18,S,C.bMT(9,14,J.loading))),C.BMQ("aria-label",C.bMT(10,16,"nav.login")),C.R7$(3),C.Y8G("isStandalonePage",!1)}}function L(H,V){if(1&H){const X=C.RV6();C.j41(0,"div",12)(1,"div",8,2)(3,"a",13),C.nI1(4,"translate"),C.nI1(5,"translate"),C.nI1(6,"dsBrowserOnly"),C.bIt("click",function(q){return C.eBV(X),C.Njj(q.preventDefault())}),C.nrm(7,"i",14),C.k0s(),C.j41(8,"div",15)(9,"ds-user-menu",16),C.bIt("changedRoute",function(){C.eBV(X);const q=C.sdS(2);return C.Njj(q.close())}),C.k0s()()()()}2&H&&(C.R7$(),C.Y8G("@fadeInOut",void 0),C.R7$(2),C.Y8G("title",C.bMT(4,5,"nav.user-profile-menu-and-logout")),C.BMQ("aria-label",C.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",C.bMT(6,9,"user-menu")),C.R7$(6),C.Y8G("inExpandableNavbar",!1))}function B(H,V){if(1&H&&(C.j41(0,"div",4),C.DNE(1,I,12,20,"div",5),C.nI1(2,"async"),C.nI1(3,"async"),C.DNE(4,L,10,11,"div",6),C.nI1(5,"async"),C.nI1(6,"async"),C.k0s()),2&H){const X=C.XpG();C.R7$(),C.Y8G("ngIf",!0!==C.bMT(2,2,X.isAuthenticated)&&C.bMT(3,4,X.showAuth)),C.R7$(3),C.Y8G("ngIf",C.bMT(5,6,X.isAuthenticated)&&C.bMT(6,8,X.showAuth))}}function U(H,V){1&H&&(C.j41(0,"a",20),C.EFF(1),C.nI1(2,"translate"),C.j41(3,"span",21),C.EFF(4,"(current)"),C.k0s()()),2&H&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"nav.login"),""))}function W(H,V){1&H&&(C.j41(0,"a",22),C.nI1(1,"translate"),C.nI1(2,"translate"),C.nrm(3,"i",23),C.j41(4,"span",21),C.EFF(5,"(current)"),C.k0s()()),2&H&&(C.Y8G("title",C.bMT(1,2,"nav.logout")),C.BMQ("aria-label",C.bMT(2,4,"nav.logout")))}function j(H,V){if(1&H&&(C.j41(0,"div",17),C.DNE(1,U,5,3,"a",18),C.nI1(2,"async"),C.DNE(3,W,6,6,"a",19),C.nI1(4,"async"),C.k0s()),2&H){const X=C.XpG();C.R7$(),C.Y8G("ngIf",!0!==C.bMT(2,2,X.isAuthenticated)),C.R7$(2),C.Y8G("ngIf",C.bMT(4,4,X.isAuthenticated))}}let G=(()=>{class H{constructor(X,J,q){this.store=X,this.windowService=J,this.authService=q,this.showAuth=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,e.Lt)(D.wR)),this.loading=this.store.pipe((0,e.Lt)(D.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,e.Lt)(y.ox),(0,h.p)(X=>(0,M.EA)(X)&&(0,M.EA)(X.state)),(0,_.T)(X=>!X.state.url.startsWith(v.S0)&&!X.state.url.startsWith(v.Ru)))}static{this.\u0275fac=function(J){return new(J||H)(C.rXU(e.il),C.rXU(T.CV),C.rXU(v.uR))}}static{this.\u0275cmp=C.VBU({type:H,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[C.aNF],decls:4,vars:4,consts:[["mobileButtons",""],["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["class","navbar-nav mr-auto","data-test","auth-nav",4,"ngIf","ngIfElse"],["data-test","auth-nav",1,"navbar-nav","mr-auto"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["href","javascript:void(0);","role","menuitem","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","menu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["href","javascript:void(0);","role","menuitem","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["data-test","auth-nav"],["routerLink","/login","routerLinkActive","active","class","loginLink px-0.5","role","button",4,"ngIf"],["role","button","routerLink","/logout","routerLinkActive","active","class","logoutLink px-1",3,"title",4,"ngIf"],["routerLink","/login","routerLinkActive","active","role","button",1,"loginLink","px-0.5"],[1,"sr-only"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(J,q){if(1&J&&(C.DNE(0,B,7,10,"div",3),C.nI1(1,"async"),C.DNE(2,j,5,6,"ng-template",null,0,C.C5r)),2&J){const Q=C.sdS(3);C.Y8G("ngIf",!0!==C.bMT(1,2,q.isMobile$))("ngIfElse",Q)}},dependencies:[i.YU,i.bT,l.zH,l.tg,l.do,l.U0,R.W,t.Wk,t.wQ,w.r,i.Jj,f.h,f.D9,u.L],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}"],data:{animation:[O.Ws,O.Xn]}})}}return H})()},44002:(N,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(8886),l=(n(56292),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(y){return n(51808)(`./${y}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56292))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},28619:(N,b,n)=>{"use strict";n.d(b,{r:()=>m});var i=n(54438),t=n(8886);n(51609);const e=["*"];function f(h,_){}let m=(()=>{class h extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(y){return n(13361)(`./${y}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,51609))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=i.xGo(h)))(D||h)}})()}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return h})()},51609:(N,b,n)=>{"use strict";n.r(b),n.d(b,{UserMenuComponent:()=>w});var i=n(60177),t=n(54438),l=n(7901),e=n(25499),f=n(41780),m=n(69799),h=n(67116),_=n(38169),y=n(96526),v=n(15568),D=n(82394),O=n(61980);const M=C=>[C];function T(C,S){1&C&&t.nrm(0,"ds-loading")}function R(C,S){1&C&&(t.qex(0),t.nrm(1,"li",7),t.j41(2,"li",8),t.nrm(3,"ds-log-out",9),t.k0s(),t.bVm())}function u(C,S){if(1&C){const I=t.RV6();t.j41(0,"ul",2),t.nI1(1,"translate"),t.j41(2,"li",3),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",5),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(10,"a",6),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",5),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(14,"a",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",5),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(18,"a",6),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.DNE(21,R,4,0,"ng-container",0),t.k0s()}if(2&C){let I;const L=t.XpG();t.Y8G("ngClass",L.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,11,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",L.dsoNameService.getName(t.bMT(4,13,L.user$)),""),t.R7$(4),t.JRh(null==(I=t.bMT(8,15,L.user$))?null:I.email),t.R7$(3),t.Y8G("routerLink",t.eq3(23,M,L.profileRoute)),t.R7$(),t.JRh(t.bMT(12,17,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(25,M,L.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,19,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.eq3(27,M,L.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(20,21,"nav.subscriptions")),t.R7$(2),t.Y8G("ngIf",!L.inExpandableNavbar)}}let w=(()=>{class C{constructor(I,L,B){this.store=I,this.authService=L,this.dsoNameService=B,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=v.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(_.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(L){return new(L||C)(t.rXU(e.il),t.rXU(h.uR),t.rXU(y.f))}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[[4,"ngIf"],["class","user-menu","role","menu","id","user-menu-dropdown",3,"ngClass",4,"ngIf"],["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(L,B){1&L&&(t.DNE(0,T,1,0,"ds-loading",0),t.nI1(1,"async"),t.DNE(2,u,22,29,"ul",1),t.nI1(3,"async")),2&L&&(t.Y8G("ngIf",t.bMT(1,2,B.loading$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,4,B.loading$)))},dependencies:[i.bT,D.v,l.wQ,i.YU,l.Wk,O.y,i.Jj,f.h,f.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return C})()},22192:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseByComponent:()=>V});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(84572),m=n(96354),_=(n(6238),n(22978)),y=n(56760),v=n(78448),D=n(50332),O=n(82777),M=n(79632),T=n(82394),R=n(67560),u=n(4420),w=n(31956),C=n(19798),S=n(18226);function I(X,J){if(1&X&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X){const q=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,q.title))}}function L(X,J){if(1&X&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&X){const q=t.XpG(3);t.R7$(),t.Y8G("back",q.back)("buttonLabel",q.buttonLabel)}}function B(X,J){if(1&X){const q=t.RV6();t.j41(0,"div"),t.DNE(1,L,2,2,"div",4),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",5),t.bIt("prev",function(){t.eBV(q);const Y=t.XpG(2);return t.Njj(Y.goPrev())})("next",function(){t.eBV(q);const Y=t.XpG(2);return t.Njj(Y.goNext())}),t.k0s()()}if(2&X){const q=t.XpG().ngVar,Q=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngIf",t.bMT(2,6,Q.shouldDisplayResetButton$)),t.R7$(2),t.Y8G("config",Q.paginationConfig)("sortConfig",Q.sortConfig)("showPaginator",Q.showPaginator)("objects",q)}}function U(X,J){1&X&&(t.nrm(0,"ds-loading",8),t.nI1(1,"translate")),2&X&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function W(X,J){1&X&&(t.nrm(0,"ds-error",8),t.nI1(1,"translate")),2&X&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function j(X,J){if(1&X&&(t.j41(0,"div",11),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&X){const q=t.XpG(3);t.R7$(),t.Y8G("back",q.back)("buttonLabel",q.buttonLabel)}}function G(X,J){if(1&X&&(t.j41(0,"div"),t.DNE(1,j,2,2,"div",9),t.nI1(2,"async"),t.j41(3,"div",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&X){const q=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,2,q.shouldDisplayResetButton$)),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function H(X,J){if(1&X&&(t.qex(0),t.DNE(1,I,3,3,"h1",1),t.nrm(2,"ds-starts-with-loader",2),t.DNE(3,B,4,8,"div",1)(4,U,2,3,"ds-loading",3)(5,W,2,3,"ds-error",3)(6,G,6,6,"div",1),t.bVm()),2&X){const q=J.ngVar,Q=t.XpG();t.R7$(),t.Y8G("ngIf",Q.displayTitle),t.R7$(),t.Y8G("paginationId",null==Q.paginationConfig?null:Q.paginationConfig.id)("startsWithOptions",Q.startsWithOptions)("type",Q.type),t.R7$(),t.Y8G("ngIf",(null==q?null:q.hasSucceeded)&&!(null!=q&&q.isLoading)&&(null==q||null==q.payload?null:q.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!q||(null==q?null:q.isLoading)),t.R7$(),t.Y8G("ngIf",null==q?null:q.hasFailed),t.R7$(),t.Y8G("ngIf",!(null!=q&&q.isLoading)&&0===(null==q||null==q.payload?null:q.payload.page.length))}}let V=(()=>{class X{constructor(q,Q,Y,z){this.injector=q,this.paginationService=Q,this.translateService=Y,this.routeService=z,this.viewMode=v.n.ListElement,this.displayTitle=!0,this.type=C.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const q=this.routeService.getQueryParameterValue("startsWith"),Q=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,f.z)([q,Q]).pipe((0,m.T)(([Y,z])=>(0,O.a4)(Y)||(0,O.a4)(z)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(Q){return new(Q||X)(t.rXU(t.zZn),t.rXU(_.m),t.rXU(l.c$),t.rXU(y.v$))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"paginationId","startsWithOptions","type"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(Q,Y){1&Q&&(t.DNE(0,H,7,8,"ng-container",0),t.nI1(1,"async")),2&Q&&t.Y8G("ngVar",t.bMT(1,1,Y.objects$))},dependencies:[S.r,i.bT,u.U,R.h,T.v,M.A,i.Jj,l.h,l.D9,w.u],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[D.qG,D.Ws]}})}}return X})()},37958:(N,b,n)=>{"use strict";n.d(b,{U:()=>_});var i=n(54438),e=(n(6238),n(19798),n(8886));n(22192);const m=["*"];function h(y,v){}let _=(()=>{class y extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(D){return n(60939)(`./${D}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22192))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=i.xGo(y)))(M||y)}})()}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return y})()},60456:(N,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(54438);let t=(()=>{class l{constructor(){this.isDisabled=!1}set dsBtnDisabled(f){this.isDisabled=!!f}get disabledClass(){return this.isDisabled}handleClick(f){this.isDisabled&&(f.preventDefault(),f.stopImmediatePropagation())}handleKeydown(f){this.isDisabled&&("Enter"===f.key||"Space"===f.key)&&(f.preventDefault(),f.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,h){1&m&&i.bIt("click",function(y){return h.handleClick(y)})("keydown",function(y){return h.handleKeydown(y)}),2&m&&(i.BMQ("aria-disabled",h.isDisabled),i.AVh("disabled",h.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return l})()},14860:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDropdownComponent:()=>X});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(86820),m=n(84412),h=n(22806),_=n(7673),y=n(70152),v=n(23294),D=n(99172),O=n(25558),M=n(73028),T=n(96354),R=n(19852),u=n(96697),w=n(96526),C=n(6983),S=n(80183),I=n(82777),L=n(82394),B=n(67600);function U(J,q){if(1&J){const Q=t.RV6();t.j41(0,"div",6)(1,"input",7,0),t.nI1(3,"translate"),t.bIt("click",function(z){return t.eBV(Q),t.Njj(z.stopPropagation())}),t.k0s()()}if(2&J){const Q=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",Q.searchField)}}function W(J,q){1&J&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&J&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function j(J,q){if(1&J&&(t.j41(0,"div",14),t.EFF(1),t.nrm(2,"i",15),t.k0s()),2&J){const Q=q.$implicit;t.R7$(),t.SpI(" ",Q.name," ")}}function G(J,q){if(1&J){const Q=t.RV6();t.j41(0,"li",10),t.bIt("click",function(){const z=t.eBV(Q).$implicit,Z=t.XpG(2);return t.Njj(Z.onSelect(z))}),t.j41(1,"div",11),t.DNE(2,j,3,1,"div",12),t.j41(3,"div",13),t.EFF(4),t.k0s()()()}if(2&J){const Q=q.$implicit;t.FS9("title",Q.collection.name),t.R7$(2),t.Y8G("ngForOf",Q.communities),t.R7$(2),t.JRh(Q.collection.name)}}function H(J,q){if(1&J&&(t.qex(0),t.DNE(1,G,5,3,"li",9),t.bVm()),2&J){const Q=t.XpG();t.R7$(),t.Y8G("ngForOf",Q.searchListCollection)}}function V(J,q){1&J&&(t.j41(0,"li")(1,"button",16),t.nrm(2,"ds-loading",17),t.nI1(3,"translate"),t.k0s()()),2&J&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let X=(()=>{class J{constructor(Q,Y,z,Z){this.changeDetectorRef=Q,this.collectionDataService=Y,this.el=z,this.dsoNameService=Z,this.searchField=new l.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(Q){Q.wheelDelta>0&&this.scrollableTop&&Q.preventDefault(),Q.wheelDelta<0&&this.scrollableBottom&&Q.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,y.B)(500),(0,v.F)(),(0,D.Z)("")).subscribe(Q=>{(0,I.a4)(Q)&&Q!==this.currentQuery&&(this.resetPagination(),this.currentQuery=Q,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(Q){this.scrollableBottom=Q.target.scrollTop+Q.target.clientHeight===Q.target.scrollHeight,this.scrollableTop=0===Q.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(Q){this.isLoading.next(!0),this.selectionChange.emit(Q)}populateCollectionList(Q,Y){this.isLoading.next(!0);const z={elementsPerPage:10,currentPage:Y};let Z;Z=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(Q,this.entityType,z,!0,(0,B.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(Q,z,!0,!0,(0,B.s)("parentCommunity")),this.searchListCollection$=Z.pipe((0,S.qD)(),(0,O.n)(oe=>(this.searchComplete.emit(),oe.hasSucceeded&&oe.payload.totalElements>0?(this.searchListCollection.length>=oe.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(oe),(0,h.H)(oe.payload.page).pipe((0,M.Z)(se=>se.parentCommunity.pipe((0,S.ak)(),(0,T.T)(de=>({communities:[{id:de.id,name:this.dsoNameService.getName(de)}],collection:{id:se.id,uuid:se.id,name:this.dsoNameService.getName(se)}})))),(0,R.T)((se,de)=>[...se,de],[]))):(this.hasNextPage=!1,(0,_.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(oe=>{this.searchListCollection.push(...oe),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Q=>(0,I.a4)(Q)).forEach(Q=>Q.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(Q){this.isLoading.next(Q)}emitSelectionEvents(Q){if(1===Q.payload.totalElements){const Y=Q.payload.page[0];Q.payload.page[0].parentCommunity.pipe((0,S.ak)(),(0,u.s)(1)).subscribe(z=>{this.theOnlySelectable.emit({communities:[{id:z.id,name:this.dsoNameService.getName(z),uuid:z.id}],collection:{id:Y.id,uuid:Y.id,name:this.dsoNameService.getName(Y)}})})}}static{this.\u0275fac=function(Y){return new(Y||J)(t.rXU(t.gRc),t.rXU(C.CollectionDataService),t.rXU(t.aKT),t.rXU(w.f))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(Y,z){1&Y&&t.bIt("mousewheel",function(oe){return z.onMousewheel(oe)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],["class","form-group w-100 pr-2 pl-2 my-2",4,"ngIf"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["class","dropdown-item disabled","role","menuitem",4,"ngIf"],[4,"ngIf"],[1,"form-group","w-100","pr-2","pl-2","my-2"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","disabled"],["class","dropdown-item collection-item","role","menuitem",3,"title","click",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(Y,z){1&Y&&(t.DNE(0,U,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(oe){return z.onScroll(oe)})("scrolled",function(){return z.onScrollDown()}),t.DNE(3,W,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,H,2,1,"ng-container",5)(6,V,4,3,"li",5),t.nI1(7,"async"),t.k0s()),2&Y&&(t.Y8G("ngIf",z.searchField),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==z.searchListCollection?null:z.searchListCollection.length)&&!0!==t.bMT(4,9,z.isLoading)),t.R7$(2),t.Y8G("ngIf",(null==z.searchListCollection?null:z.searchListCollection.length)>0),t.R7$(),t.Y8G("ngIf",t.bMT(7,11,z.isLoading)))},dependencies:[i.bT,l.YN,l.me,l.BC,l.X1,l.l_,f.eO,f.DP,i.pM,L.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return J})()},90934:(N,b,n)=>{"use strict";n.d(b,{m:()=>m});var i=n(54438),t=n(8886);n(14860);const e=["*"];function f(h,_){}let m=(()=>{class h extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(y){return n(80882)(`./${y}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14860))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=i.xGo(h)))(D||h)}})()}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return h})()},9284:(N,b,n)=>{"use strict";n.d(b,{M:()=>h});var i=n(60177),t=n(54438),l=n(41780),e=n(52149);const f=_=>({dsoName:_});function m(_,y){if(1&_&&t.nrm(0,"i"),2&_){const v=t.XpG();t.HbH(v.confirmIcon)}}let h=(()=>{class _{constructor(v){this.activeModal=v,this.brandColor="primary",this.response=new t.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(D){return new(D||_)(t.rXU(e.Lw))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:20,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(D,O){1&D&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return O.close()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",4)(12,"button",5),t.bIt("click",function(){return O.cancelPressed()}),t.nrm(13,"i",6),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"button",7),t.bIt("click",function(){return O.confirmPressed()}),t.DNE(17,m,1,3,"i",8),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&D&&(t.R7$(2),t.SpI("",t.i5U(3,8,O.headerLabel,t.eq3(20,f,O.name))," "),t.R7$(7),t.JRh(t.i5U(10,11,O.infoLabel,t.eq3(22,f,O.name))),t.R7$(5),t.SpI(" ",t.i5U(15,14,O.cancelLabel,t.eq3(24,f,O.name))," "),t.R7$(2),t.ZvI("confirm btn btn-",O.brandColor,""),t.R7$(),t.Y8G("ngIf",O.confirmIcon),t.R7$(),t.SpI(" ",t.i5U(19,17,O.confirmLabel,t.eq3(26,f,O.name))," "))},dependencies:[i.bT,l.h,l.D9],encapsulation:2})}}return _})()},55116:(N,b,n)=>{"use strict";n.d(b,{C:()=>y,Ed:()=>h,JD:()=>_,Ln:()=>l,Xd:()=>f,eE:()=>e,y5:()=>t});var i=n(91e3);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class l{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(D){this.type=t.CONTEXT_HELP_ADD,this.model=D}}class f{constructor(D){this.type=t.CONTEXT_HELP_REMOVE,this.id=D}}class m{constructor(D){this.id=D}}class h extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class _ extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class y extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},48674:(N,b,n)=>{"use strict";n.d(b,{G:()=>L});var i=n(40188),t=n(60177),l=n(52149),e=n(84412),f=n(84572),m=n(23294),h=n(73028),_=n(96354),y=n(82777),v=n(54438),D=n(41780);const O=["tooltip"],M=(B,U)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":B,"ds-context-help-icon-left":U});function T(B,U){if(1&B&&(v.qex(0),v.j41(1,"a",7),v.EFF(2),v.k0s(),v.bVm()),2&B){const W=v.XpG().$implicit;v.R7$(),v.FS9("href",W.href,v.B4B),v.R7$(),v.JRh(W.text)}}function R(B,U){if(1&B&&(v.qex(0),v.EFF(1),v.bVm()),2&B){const W=v.XpG().$implicit;v.R7$(),v.SpI(" ",W," ")}}function u(B,U){if(1&B&&(v.qex(0),v.DNE(1,T,3,2,"ng-container",6)(2,R,2,1,"ng-container",6),v.bVm()),2&B){const W=U.$implicit;v.R7$(),v.Y8G("ngIf",W.href),v.R7$(),v.Y8G("ngIf",void 0===W.href)}}function w(B,U){if(1&B&&(v.j41(0,"div",4),v.DNE(1,u,3,2,"ng-container",5),v.nI1(2,"async"),v.k0s()),2&B){const W=v.XpG();v.R7$(),v.Y8G("ngForOf",v.bMT(2,1,W.parsedContent$))}}function C(B,U){if(1&B){const W=v.RV6();v.j41(0,"i",8,1),v.bIt("click",function(){v.eBV(W);const G=v.XpG();return v.Njj(G.onClick())}),v.k0s()}if(2&B){const W=v.XpG(),j=v.sdS(1);v.Y8G("ngClass",v.l_i(3,M,"left"!==W.iconPlacement,"left"===W.iconPlacement))("ngbTooltip",j)("placement",W.tooltipPlacement)}}function S(B,U){1&B&&v.eu8(0)}let I=(()=>{class B{set dontParseLinks(W){this.dontParseLinks$.next(W)}set content(W){this.content$.next(W)}constructor(W,j){this.translateService=W,this.contextHelpService=j,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(void 0),this.subs=[]}ngOnInit(){this.parsedContent$=(0,f.z)([this.content$.pipe((0,m.F)(),(0,h.Z)(W=>this.translateService.get(W))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,_.T)(([W,j])=>j?[W]:this.parseLinks(W))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip(W){this.tooltip=W,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,y.Az)()).subscribe(j=>{j.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!j.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks(W){const G=/^\[([^\]]*)\]\(([^\)]*)\)$/;return W.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(H=>{const V=H.match(G);return null===V?H:{href:V[2],text:V[1]}})}clearSubs(){this.subs.forEach(W=>W.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(j){return new(j||B)(v.rXU(D.c$),v.rXU(i.O))}}static{this.\u0275cmp=v.VBU({type:B,selectors:[["ds-context-help-wrapper"]],viewQuery:function(j,G){if(1&j&&v.GBs(O,5),2&j){let H;v.mGM(H=v.lsd())&&(G.setTooltip=H.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[v.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(j,G){1&j&&(v.DNE(0,w,3,3,"ng-template",null,0,v.C5r)(2,C,2,6,"i",2),v.nI1(3,"async"),v.DNE(4,S,1,0,"ng-container",3)),2&j&&(v.R7$(2),v.Y8G("ngIf",v.bMT(3,2,G.shouldShowIcon$)),v.R7$(2),v.Y8G("ngTemplateOutlet",G.templateRef))},dependencies:[t.pM,t.bT,t.YU,l.n8,l.md,t.T3,t.Jj],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return B})(),L=(()=>{class B{constructor(W,j,G){this.templateRef=W,this.viewContainerRef=j,this.contextHelpService=G,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(I)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,y.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(j){return new(j||B)(v.rXU(v.C4Q),v.rXU(v.c1b),v.rXU(i.O))}}static{this.\u0275dir=v.FsC({type:B,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[v.OA$]})}}return B})()},40188:(N,b,n)=>{"use strict";n.d(b,{O:()=>y});var i=n(25499),t=n(96354),l=n(55116),e=n(54438);const f=(0,i.UX)("contextHelp"),m=(0,i.Mz)(f,v=>v.allIconsVisible),_=(0,i.Mz)(f,v=>v.models);let y=(()=>{class v{constructor(O){this.store=O}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(O){return this.store.pipe((0,i.Lt)((v=>(0,i.Mz)(f,D=>D.models[v]))(O)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(_)).pipe((0,t.T)(O=>Object.keys(O).length))}toggleIcons(){this.store.dispatch(new l.Ln)}add(O){this.store.dispatch(new l.eE(O))}remove(O){this.store.dispatch(new l.Xd(O))}toggleTooltip(O){this.store.dispatch(new l.Ed(O))}showTooltip(O){this.store.dispatch(new l.JD(O))}hideTooltip(O){this.store.dispatch(new l.C(O))}static{this.\u0275fac=function(M){return new(M||v)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},80566:(N,b,n)=>{"use strict";n.d(b,{$:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},12866:(N,b,n)=>{"use strict";function i(C){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(C)}function t(C,S){if(S.length<C)throw new TypeError(C+" argument"+(C>1?"s":"")+" required, but only "+S.length+" present")}n.d(b,{Sd:()=>D,$T:()=>R,z5:()=>v,vd:()=>u,PR:()=>M,zX:()=>w});var m=n(56106),h=n(83278),_=n.n(h),y=n(82777);function v(C){return _()(C)&&C.hasOwnProperty("day")&&C.hasOwnProperty("month")&&C.hasOwnProperty("year")}function D(C){const S=C instanceof Date?C:O("string"==typeof C?M(C):C);return(0,m.formatInTimeZone)(S,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function O(C){return new Date(Date.UTC(C.year,C.month-1,C.day))}function M(C){return function T(C){return(0,y.Tn)(C)&&(C=new Date),{year:C.getUTCFullYear(),month:C.getUTCMonth()+1,day:C.getUTCDate()}}(new Date(C))}function R(C){const S=C instanceof Date?C:O(C);return(0,m.formatInTimeZone)(S,"UTC","yyyy-MM-dd")}function u(C){return!(0,y.Tn)(C)&&function f(C){if(t(1,arguments),!function l(C){return t(1,arguments),C instanceof Date||"object"===i(C)&&"[object Date]"===Object.prototype.toString.call(C)}(C)&&"number"!=typeof C)return!1;var S=function e(C){t(1,arguments);var S=Object.prototype.toString.call(C);return C instanceof Date||"object"===i(C)&&"[object Date]"===S?new Date(C.getTime()):"number"==typeof C||"[object Number]"===S?new Date(C):(("string"==typeof C||"[object String]"===S)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(C);return!isNaN(Number(S))}(new Date(C))}function w(C){return u(C)?new Date(C).getUTCFullYear():null}},17807:(N,b,n)=>{"use strict";n.d(b,{T:()=>D});var i=n(60177),t=n(65007),l=n(30458),e=n(39548),f=n(19340),m=n(82522),h=n(54438),_=n(7901);function y(O,M){1&O&&h.eu8(0)}function v(O,M){if(1&O&&(h.j41(0,"div",2),h.DNE(1,y,1,0,"ng-container",3),h.nI1(2,"async"),h.nI1(3,"async"),h.k0s()),2&O){let T,R;const u=M.$implicit,w=h.XpG();h.R7$(),h.Y8G("ngComponentOutlet",null==(T=h.bMT(2,2,w.sectionMap$).get(u.id))?null:T.component)("ngComponentOutletInjector",null==(R=h.bMT(3,4,w.sectionMap$).get(u.id))?null:R.injector)}}let D=(()=>{class O extends l.Z{constructor(T,R,u,w,C){super(T,R,u,w,C),this.menuService=T,this.injector=R,this.authorizationService=u,this.route=w,this.themeService=C,this.menuID=f.D.DSO_EDIT}static{this.\u0275fac=function(R){return new(R||O)(h.rXU(e.$),h.rXU(h.zZn),h.rXU(t.AuthorizationDataService),h.rXU(_.nX),h.rXU(m.Fs))}}static{this.\u0275cmp=h.VBU({type:O,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[h.Vt3,h.aNF],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ml-1",4,"ngFor","ngForOf"],[1,"ml-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,u){1&R&&(h.j41(0,"div",0),h.DNE(1,v,4,6,"div",1),h.nI1(2,"async"),h.k0s()),2&R&&(h.R7$(),h.Y8G("ngForOf",h.bMT(2,1,u.sections)))},dependencies:[i.pM,i.OI,i.Jj]})}}return O})()},76052:(N,b,n)=>{"use strict";n.d(b,{e:()=>H});var i=n(60177),t=n(89417),l=n(41780),e=n(86820),f=n(96354),m=n(96526),h=n(6983),_=n(96820),y=n(1716),v=n(80183),D=n(78655),O=n(82777),M=n(59458),T=n(82394),R=n(39806),u=n(77537),w=n(17191),C=n(67600),S=n(73183),I=n(54438);const L=V=>({type:V}),B=V=>({"bg-primary":V});function U(V,X){if(1&V&&(I.j41(0,"button",10),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&V){const J=I.XpG(2);I.R7$(),I.SpI(" ",I.i5U(2,1,"dso-selector.no-results",I.eq3(4,L,J.typesString))," ")}}function W(V,X){if(1&V){const J=I.RV6();I.j41(0,"button",11,0),I.bIt("click",function(){const Q=I.eBV(J).$implicit,Y=I.XpG(2);return I.Njj(Y.onClick(Q))}),I.nrm(2,"ds-listable-object-component-loader",12),I.k0s()}if(2&V){const J=X.$implicit,q=I.XpG(2);I.FS9("title",q.getName(J)),I.Y8G("ngClass",I.eq3(6,B,J.id===q.currentDSOId)),I.R7$(2),I.Y8G("object",J)("viewMode",q.viewMode)("linkType",q.linkTypes.None)("context",q.getContext(J.id))}}function j(V,X){if(1&V&&(I.qex(0),I.DNE(1,U,3,6,"button",8),I.nI1(2,"async"),I.DNE(3,W,3,8,"button",9),I.nI1(4,"async"),I.bVm()),2&V){const J=I.XpG();I.R7$(),I.Y8G("ngIf",0===I.bMT(2,2,J.listEntries$).length),I.R7$(2),I.Y8G("ngForOf",I.bMT(4,4,J.listEntries$))}}function G(V,X){1&V&&(I.j41(0,"button",13),I.nI1(1,"translate"),I.nrm(2,"ds-loading",14),I.k0s()),2&V&&(I.FS9("title",I.bMT(1,2,"loading.default")),I.R7$(2),I.Y8G("showMessage",!1))}let H=(()=>{class V extends S.x{constructor(J,q,Q,Y,z){super(J,Q,Y,z),this.searchService=J,this.collectionDataService=q,this.notifcationsService=Q,this.translate=Y,this.dsoNameService=z}getCurrentDSOQuery(){return this.currentDSOId}search(J,q,Q=!0){let Y=null;const z={currentPage:q,elementsPerPage:this.defaultPagination.pageSize};return Y=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(J,this.entityType,z):this.collectionDataService.getAuthorizedCollection(J,z,Q,!1,(0,C.s)("parentCommunity")),Y.pipe((0,v.qD)(),(0,f.T)(Z=>Object.assign(new y.j(null,null,null,null),Z,{payload:(0,O.a4)(Z.payload)?(0,_.g)(Z.payload.pageInfo,Z.payload.page.map(oe=>Object.assign(new u.A,{indexableObject:oe}))):null})))}static{this.\u0275fac=function(q){return new(q||V)(I.rXU(D.S),I.rXU(h.CollectionDataService),I.rXU(R.I),I.rXU(l.c$),I.rXU(m.f))}}static{this.\u0275cmp=I.VBU({type:V,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[I.Vt3,I.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(q,Q){1&q&&(I.j41(0,"div",1)(1,"input",2),I.nI1(2,"translate"),I.nI1(3,"translate"),I.bIt("click",function(z){return z.stopPropagation()})("keyup.enter",function(){return Q.selectSingleResult()}),I.k0s()(),I.nrm(4,"div",3),I.j41(5,"div",4)(6,"div",5),I.bIt("scrolled",function(){return Q.onScrollDown()}),I.DNE(7,j,5,6,"ng-container",6),I.nI1(8,"async"),I.DNE(9,G,3,4,"button",7),I.k0s()()),2&q&&(I.R7$(),I.FS9("placeholder",I.i5U(2,11,"dso-selector.placeholder",I.eq3(19,L,Q.typesString))),I.Y8G("formControl",Q.input),I.BMQ("aria-label",I.i5U(3,14,"dso-selector.placeholder",I.eq3(21,L,Q.typesString))),I.R7$(4),I.Mz_("id","scrollable-menu-dso-selector-",Q.randomSeed,""),I.R7$(),I.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+Q.randomSeed)("fromRoot",!0),I.R7$(),I.Y8G("ngIf",I.bMT(8,17,Q.listEntries$)),I.R7$(2),I.Y8G("ngIf",Q.loading))},dependencies:[t.YN,t.me,t.BC,t.X1,t.l_,e.eO,e.DP,i.bT,i.pM,M.k,i.YU,w.v,T.v,i.Jj,l.h,l.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return V})()},73183:(N,b,n)=>{"use strict";n.d(b,{x:()=>de});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(86820),m=n(84412),h=n(7673),_=n(84572),y=n(70152),v=n(99172),D=n(88141),O=n(25558),M=n(96354),T=n(96526),u=(n(6238),n(96820)),w=n(26292),C=n(80183),S=n(78655),I=n(78448),L=n(82777),B=n(59458),U=n(82394),W=n(3050),j=n(39806),G=n(7581),H=n(17191),V=n(51805),X=n(83851),J=n(33550);const q=["listEntryElement"],Q=te=>({type:te}),Y=te=>({"bg-primary":te});function z(te,le){if(1&te&&(t.j41(0,"button",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&te){const Ee=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,Q,Ee.typesString))," ")}}function Z(te,le){if(1&te){const Ee=t.RV6();t.j41(0,"button",11,0),t.bIt("click",function(){const pe=t.eBV(Ee).$implicit,re=t.XpG(2);return t.Njj(re.onClick(pe))}),t.nrm(2,"ds-listable-object-component-loader",12),t.k0s()}if(2&te){const Ee=le.$implicit,be=t.XpG(2);t.FS9("title",be.getName(Ee)),t.Y8G("ngClass",t.eq3(6,Y,Ee.id===be.currentDSOId)),t.R7$(2),t.Y8G("object",Ee)("viewMode",be.viewMode)("linkType",be.linkTypes.None)("context",be.getContext(Ee.id))}}function oe(te,le){if(1&te&&(t.qex(0),t.DNE(1,z,3,6,"button",8),t.nI1(2,"async"),t.DNE(3,Z,3,8,"button",9),t.nI1(4,"async"),t.bVm()),2&te){const Ee=t.XpG();t.R7$(),t.Y8G("ngIf",0===t.bMT(2,2,Ee.listEntries$).length),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,4,Ee.listEntries$))}}function se(te,le){1&te&&(t.j41(0,"button",13),t.nI1(1,"translate"),t.nrm(2,"ds-loading",14),t.k0s()),2&te&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let de=(()=>{class te{constructor(Ee,be,pe,re){this.searchService=Ee,this.notifcationsService=be,this.translate=pe,this.dsoNameService=re,this.viewMode=I.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new l.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=G.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let Ee;this.typesString=this.types.map(be=>this.translate.instant(`dso-selector.placeholder.type.${be.toString().toLowerCase()}`)).join(", "),Ee=(0,L.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,C.ak)()):(0,h.of)((0,u.g)(void 0,[])),this.subs.push((0,_.z)(Ee,this.input.valueChanges.pipe((0,y.B)(this.debounceTime),(0,v.Z)(""),(0,D.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,O.n)(([be,pe,re])=>(this.loading=!0,1===re&&this.listEntries$.next(null),this.search(pe,re).pipe((0,M.T)(ye=>(ye.hasSucceeded?ye.payload.page=[...(0,L.Im)(pe)&&1===re?be.page:[],...ye.payload.page.filter(De=>(0,L.hj)(pe)||De.indexableObject.id!==this.currentDSOId)]:ye.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),ye.errorMessage),ye)))))).subscribe(be=>{this.updateList(be)}))}updateList(Ee){this.loading=!1;const be=this.listEntries$.getValue();Ee.hasSucceeded?((0,L.Tn)(be)?this.listEntries$.next(Ee.payload.page):this.listEntries$.next([...be,...Ee.payload.page]),this.hasNextPage=Ee.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,L.Tn)(be)?[]:this.listEntries$.getValue(),new V.t(W._.Error,"dso-selector.results-could-not-be-retrieved",X.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(Ee,be,pe=!0){const re=Ee?null:this.sort;return this.searchService.search(new J.C({query:Ee,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:be}),sort:re}),null,pe).pipe((0,C.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(Ee){return Ee===this.currentDSOId?w.o.SideBarSearchModalCurrent:w.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(Ee=>(0,L.a4)(Ee)).forEach(Ee=>Ee.unsubscribe())}onClick(Ee){(0,L.a4)(Ee.indexableObject)?this.onSelect.emit(Ee.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,C.qD)()).subscribe(be=>{this.updateList(be)}))}getName(Ee){return(0,L.a4)(Ee.indexableObject)?this.dsoNameService.getName(Ee.indexableObject):null}static{this.\u0275fac=function(be){return new(be||te)(t.rXU(S.S),t.rXU(j.I),t.rXU(e.c$),t.rXU(T.f))}}static{this.\u0275cmp=t.VBU({type:te,selectors:[["ds-dso-selector"]],viewQuery:function(be,pe){if(1&be&&t.GBs(q,5),2&be){let re;t.mGM(re=t.lsd())&&(pe.listElements=re)}},inputs:{currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(be,pe){1&be&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ye){return ye.stopPropagation()})("keyup.enter",function(){return pe.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return pe.onScrollDown()}),t.DNE(7,oe,5,6,"ng-container",6),t.nI1(8,"async"),t.DNE(9,se,3,4,"button",7),t.k0s()()),2&be&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,Q,pe.typesString))),t.Y8G("formControl",pe.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,Q,pe.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",pe.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+pe.randomSeed)("fromRoot",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,17,pe.listEntries$)),t.R7$(2),t.Y8G("ngIf",pe.loading))},dependencies:[l.YN,l.me,l.BC,l.X1,l.l_,f.eO,f.DP,i.bT,i.pM,B.k,i.YU,H.v,U.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return te})()},10270:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCollectionParentSelectorComponent:()=>M});var i=n(60177),t=n(41780),l=n(88280),e=n(64611),f=n(6238),m=n(13864),h=n(73183),_=n(54705),y=n(54438),v=n(52149),D=n(7901);function O(T,R){if(1&T&&(y.j41(0,"span",6),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&T){const u=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,u.header))}}let M=(()=>{class T extends _.${constructor(u,w,C){super(u,w),this.activeModal=u,this.route=w,this.router=C,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COMMUNITY],this.action=_.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(u){const w={queryParams:{[e.Cb]:u.uuid}};this.router.navigate([(0,e.gH)()],w)}static{this.\u0275fac=function(w){return new(w||T)(y.rXU(v.Lw),y.rXU(D.nX),y.rXU(D.Ix))}}static{this.\u0275cmp=y.VBU({type:T,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,C){1&w&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return C.close()}),y.j41(5,"span",2),y.EFF(6,"\xd7"),y.k0s()()(),y.j41(7,"div",3),y.DNE(8,O,3,3,"span",4),y.j41(9,"ds-dso-selector",5),y.bIt("onSelect",function(I){return C.selectObject(I)}),y.k0s()()()),2&w&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+C.action+"."+C.objectType.toString().toLowerCase()+".head")," "),y.R7$(6),y.Y8G("ngIf",C.header),y.R7$(),y.Y8G("currentDSOId",null==C.dsoRD?null:C.dsoRD.payload.uuid)("types",C.selectorTypes)("sort",C.defaultSort))},dependencies:[i.bT,h.x,t.h,t.D9],encapsulation:2})}}return T})()},76538:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCommunityParentSelectorComponent:()=>u});var i=n(60177),t=n(41780),l=n(88280),e=n(54671),f=n(6238),m=n(65007),h=n(3970),_=n(13864),y=n(82777),v=n(73183),D=n(54705),O=n(54438),M=n(52149),T=n(7901);function R(w,C){if(1&w){const S=O.RV6();O.j41(0,"div",7)(1,"button",8),O.bIt("click",function(){O.eBV(S);const L=O.XpG();return O.Njj(L.selectObject(void 0))}),O.EFF(2),O.nI1(3,"translate"),O.k0s(),O.j41(4,"div",9),O.nrm(5,"hr"),O.j41(6,"div",10)(7,"span",11),O.EFF(8),O.nI1(9,"translate"),O.k0s()()()()}2&w&&(O.R7$(2),O.JRh(O.bMT(3,2,"dso-selector.create.community.top-level")),O.R7$(6),O.JRh(O.bMT(9,4,"dso-selector.create.community.or-divider")))}let u=(()=>{class w extends D.${constructor(S,I,L,B){super(S,I),this.activeModal=S,this.route=I,this.router=L,this.authorizationService=B,this.objectType=_.W.COMMUNITY,this.selectorTypes=[_.W.COMMUNITY],this.action=D.u.CREATE,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(h._.AdministratorOf)}navigate(S){let I={};(0,y.a4)(S)&&(I={queryParams:{[e.f2]:S.uuid}}),this.router.navigate([(0,e.lG)()],I)}static{this.\u0275fac=function(I){return new(I||w)(O.rXU(M.Lw),O.rXU(T.nX),O.rXU(T.Ix),O.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=O.VBU({type:w,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[O.Vt3,O.aNF],decls:14,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["data-test","admin-div",4,"ngIf"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"],["data-test","admin-div"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"h3","position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(I,L){1&I&&(O.j41(0,"div")(1,"div",0),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"button",1),O.bIt("click",function(){return L.close()}),O.j41(5,"span",2),O.EFF(6,"\xd7"),O.k0s()()(),O.j41(7,"div",3),O.DNE(8,R,10,6,"div",4),O.nI1(9,"async"),O.j41(10,"span",5),O.EFF(11),O.nI1(12,"translate"),O.k0s(),O.j41(13,"ds-dso-selector",6),O.bIt("onSelect",function(U){return L.selectObject(U)}),O.k0s()()()),2&I&&(O.R7$(2),O.SpI("",O.bMT(3,6,"dso-selector."+L.action+"."+L.objectType.toString().toLowerCase()+".head")," "),O.R7$(6),O.Y8G("ngIf",O.bMT(9,8,L.isAdmin$)),O.R7$(3),O.JRh(O.bMT(12,10,"dso-selector.create.community.sub-level")),O.R7$(2),O.Y8G("currentDSOId",null==L.dsoRD?null:L.dsoRD.payload.uuid)("types",L.selectorTypes)("sort",L.defaultSort))},dependencies:[i.Jj,v.x,i.bT,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return w})()},86866:(N,b,n)=>{"use strict";n.r(b),n.d(b,{CreateItemParentSelectorComponent:()=>O});var i=n(60177),t=n(41780),l=n(88280),e=n(6238),f=n(13864),m=n(76052),h=n(54705),_=n(54438),y=n(52149),v=n(7901);function D(M,T){if(1&M&&(_.j41(0,"span",6),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&M){const R=_.XpG();_.R7$(),_.JRh(_.bMT(2,1,R.header))}}let O=(()=>{class M extends h.${constructor(R,u,w){super(R,u),this.activeModal=R,this.route=u,this.router=w,this.objectType=f.W.ITEM,this.selectorTypes=[f.W.COLLECTION],this.action=h.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new e.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(R){const u={queryParams:{collection:R.uuid}};this.entityType&&(u.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],u)}static{this.\u0275fac=function(u){return new(u||M)(_.rXU(y.Lw),_.rXU(v.nX),_.rXU(v.Ix))}}static{this.\u0275cmp=_.VBU({type:M,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[_.Vt3,_.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","entityType","types"],[1,"h5","px-2"]],template:function(u,w){1&u&&(_.j41(0,"div")(1,"div",0),_.EFF(2),_.nI1(3,"translate"),_.j41(4,"button",1),_.bIt("click",function(){return w.close()}),_.j41(5,"span",2),_.EFF(6,"\xd7"),_.k0s()()(),_.j41(7,"div",3),_.DNE(8,D,3,3,"span",4),_.j41(9,"ds-authorized-collection-selector",5),_.bIt("onSelect",function(S){return w.selectObject(S)}),_.k0s()()()),2&u&&(_.R7$(2),_.SpI("",_.bMT(3,5,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),_.R7$(6),_.Y8G("ngIf",w.header),_.R7$(),_.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("entityType",w.entityType)("types",w.selectorTypes))},dependencies:[i.bT,m.e,t.h,t.D9],encapsulation:2})}}return M})()},52798:(N,b,n)=>{"use strict";n.d(b,{L:()=>m});var i=n(8886),l=(n(86866),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(y){return n(25074)(`./${y}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86866))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},54705:(N,b,n)=>{"use strict";n.d(b,{$:()=>h,u:()=>m});var i=n(54438),l=(n(1716),n(82777)),e=n(52149),f=n(7901),m=function(_){return _.CREATE="create",_.EDIT="edit",_.EXPORT_METADATA="export-metadata",_.IMPORT_BATCH="import-batch",_.SET_SCOPE="set-scope",_.EXPORT_BATCH="export-batch",_}(m||{});let h=(()=>{class _{constructor(v,D){this.activeModal=v,this.route=D,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const v=this.findRouteData(D=>(0,l.a4)(D.data.dso),this.route.root.snapshot);(0,l.a4)(v)&&(this.dsoRD=v.data.dso)}findRouteData(v,...D){const O=D.find(v);if((0,l.a4)(O))return O;{const M=D.map(T=>T.children).reduce((T,R)=>[...T,...R]);return(0,l.hj)(M)?this.findRouteData(v,...M):void 0}}selectObject(v){this.close(),this.emitOnly?this.select.emit(v):this.navigate(v)}close(){this.activeModal.close()}static{this.\u0275fac=function(D){return new(D||_)(i.rXU(e.Lw),i.rXU(f.nX))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},decls:0,vars:0,template:function(D,O){},encapsulation:2})}}return _})()},73234:(N,b,n)=>{"use strict";n.r(b),n.d(b,{EditCollectionSelectorComponent:()=>M});var i=n(60177),t=n(41780),l=n(88280),e=n(64611),f=n(6238),m=n(13864),h=n(73183),_=n(54705),y=n(54438),v=n(52149),D=n(7901);function O(T,R){if(1&T&&(y.j41(0,"span",6),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&T){const u=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,u.header))}}let M=(()=>{class T extends _.${constructor(u,w,C){super(u,w),this.activeModal=u,this.route=w,this.router=C,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COLLECTION],this.action=_.u.EDIT,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(u){this.router.navigate([(0,e._E)(u.uuid)])}static{this.\u0275fac=function(w){return new(w||T)(y.rXU(v.Lw),y.rXU(D.nX),y.rXU(D.Ix))}}static{this.\u0275cmp=y.VBU({type:T,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,C){1&w&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return C.close()}),y.j41(5,"span",2),y.EFF(6,"\xd7"),y.k0s()()(),y.j41(7,"div",3),y.DNE(8,O,3,3,"span",4),y.j41(9,"ds-dso-selector",5),y.bIt("onSelect",function(I){return C.selectObject(I)}),y.k0s()()()),2&w&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+C.action+"."+C.objectType.toString().toLowerCase()+".head")," "),y.R7$(6),y.Y8G("ngIf",C.header),y.R7$(),y.Y8G("currentDSOId",null==C.dsoRD?null:C.dsoRD.payload.uuid)("types",C.selectorTypes)("sort",C.defaultSort))},dependencies:[i.bT,h.x,t.h,t.D9],encapsulation:2})}}return T})()},64990:(N,b,n)=>{"use strict";n.r(b),n.d(b,{EditCommunitySelectorComponent:()=>M});var i=n(60177),t=n(41780),l=n(88280),e=n(54671),f=n(6238),m=n(13864),h=n(73183),_=n(54705),y=n(54438),v=n(52149),D=n(7901);function O(T,R){if(1&T&&(y.j41(0,"span",6),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&T){const u=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,u.header))}}let M=(()=>{class T extends _.${constructor(u,w,C){super(u,w),this.activeModal=u,this.route=w,this.router=C,this.objectType=m.W.COMMUNITY,this.selectorTypes=[m.W.COMMUNITY],this.action=_.u.EDIT,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(u){this.router.navigate([(0,e.pk)(u.uuid)])}static{this.\u0275fac=function(w){return new(w||T)(y.rXU(v.Lw),y.rXU(D.nX),y.rXU(D.Ix))}}static{this.\u0275cmp=y.VBU({type:T,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[y.Vt3,y.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,C){1&w&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return C.close()}),y.j41(5,"span",2),y.EFF(6,"\xd7"),y.k0s()()(),y.j41(7,"div",3),y.DNE(8,O,3,3,"span",4),y.j41(9,"ds-dso-selector",5),y.bIt("onSelect",function(I){return C.selectObject(I)}),y.k0s()()()),2&w&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+C.action+"."+C.objectType.toString().toLowerCase()+".head")," "),y.R7$(6),y.Y8G("ngIf",C.header),y.R7$(),y.Y8G("currentDSOId",null==C.dsoRD?null:C.dsoRD.payload.uuid)("types",C.selectorTypes)("sort",C.defaultSort))},dependencies:[i.bT,h.x,t.h,t.D9],encapsulation:2})}}return T})()},29380:(N,b,n)=>{"use strict";n.r(b),n.d(b,{EditItemSelectorComponent:()=>D});var i=n(60177),t=n(41780),l=n(13864),e=n(90887),f=n(73183),m=n(54705),h=n(54438),_=n(52149),y=n(7901);function v(O,M){if(1&O&&(h.j41(0,"span",6),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&O){const T=h.XpG();h.R7$(),h.JRh(h.bMT(2,1,T.header))}}let D=(()=>{class O extends m.${constructor(T,R,u){super(T,R),this.activeModal=T,this.route=R,this.router=u,this.objectType=l.W.ITEM,this.selectorTypes=[l.W.ITEM],this.action=m.u.EDIT}navigate(T){this.router.navigate([(0,e.$r)(T)])}static{this.\u0275fac=function(R){return new(R||O)(h.rXU(_.Lw),h.rXU(y.nX),h.rXU(y.Ix))}}static{this.\u0275cmp=h.VBU({type:O,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[h.Vt3,h.aNF],decls:10,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types"],[1,"h5","px-2"]],template:function(R,u){1&R&&(h.j41(0,"div")(1,"div",0),h.EFF(2),h.nI1(3,"translate"),h.j41(4,"button",1),h.bIt("click",function(){return u.close()}),h.j41(5,"span",2),h.EFF(6,"\xd7"),h.k0s()()(),h.j41(7,"div",3),h.DNE(8,v,3,3,"span",4),h.j41(9,"ds-dso-selector",5),h.bIt("onSelect",function(C){return u.selectObject(C)}),h.k0s()()()),2&R&&(h.R7$(2),h.SpI("",h.bMT(3,4,"dso-selector."+u.action+"."+u.objectType.toString().toLowerCase()+".head")," "),h.R7$(6),h.Y8G("ngIf",u.header),h.R7$(),h.Y8G("currentDSOId",null==u.dsoRD?null:u.dsoRD.payload.uuid)("types",u.selectorTypes))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return O})()},82777:(N,b,n)=>{"use strict";n.d(b,{Az:()=>_,EA:()=>f,Im:()=>y,Pe:()=>l,Tn:()=>m,VT:()=>D,a4:()=>h,b0:()=>e,hj:()=>v,kZ:()=>t});var i=n(5964);function t(T){return null===T}function l(T){return null!==T}function e(T){return void 0===T}function f(T){return void 0!==T}function m(T){return e(T)||t(T)}function h(T){return f(T)&&l(T)}const _=()=>T=>T.pipe((0,i.p)(R=>h(R)));function y(T){if(m(T))return!0;if("number"==typeof T.size)return!T.size;const R=typeof T;if("object"===R){const u=T.size;if("number"==typeof u)return!u}if("number"==typeof T.length&&"function"!==R)return!T.length;if("object"===R){if(0===Object.keys(T).length)return!0;const u=T.length;if("number"==typeof u)return!u}return!1}function v(T){return!y(T)}const D=()=>T=>T.pipe((0,i.p)(R=>v(R)))},53948:(N,b,n)=>{"use strict";n.d(b,{Y:()=>u});var i=n(60177),t=n(54438),l=n(41780),e=n(86820),f=n(84412),m=n(25558),h=n(19852),_=n(99172),y=n(30077),v=n(80183),D=n(82777),O=n(82394);function M(w,C){1&w&&(t.j41(0,"li")(1,"button",3),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&w&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function T(w,C){if(1&w){const S=t.RV6();t.j41(0,"li",4)(1,"button",5),t.bIt("click",function(){const L=t.eBV(S).$implicit,B=t.XpG();return t.Njj(B.onSelect(L))}),t.j41(2,"span",6),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()}if(2&w){const S=C.$implicit;t.R7$(),t.FS9("title",S.label),t.R7$(2),t.JRh(t.bMT(4,2,S.label.toLowerCase()+".listelement.badge"))}}function R(w,C){1&w&&(t.j41(0,"li")(1,"button",3),t.nrm(2,"ds-loading",7),t.nI1(3,"translate"),t.k0s()()),2&w&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let u=(()=>{class w{constructor(S,I,L){this.changeDetectorRef=S,this.entityTypeService=I,this.el=L,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new f.t(!1),this.subs=[]}onMousewheel(S){S.wheelDelta>0&&this.scrollableTop&&S.preventDefault(),S.wheelDelta<0&&this.scrollableBottom&&S.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(S){this.scrollableBottom=S.target.scrollTop+S.target.clientHeight===S.target.scrollHeight,this.scrollableTop=0===S.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(S){this.selectionChange.emit(S)}populateEntityList(S){this.isLoadingList.next(!0);const I={elementsPerPage:10,currentPage:S};let L;L=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(I):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(I),this.searchListEntity$=L.pipe((0,v.o5)(),(0,m.n)(B=>(this.searchListEntity.length+I.elementsPerPage>=B.payload.totalElements&&(this.hasNextPage=!1),B.payload.page)),(0,h.T)((B,U)=>[...B,U],[]),(0,_.Z)([])),this.subs.push(this.searchListEntity$.subscribe(B=>{this.searchListEntity.push(...B)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(S){this.isLoadingList.next(S)}ngOnDestroy(){this.subs.filter(S=>(0,D.a4)(S)).forEach(S=>S.unsubscribe())}static{this.\u0275fac=function(I){return new(I||w)(t.rXU(t.gRc),t.rXU(y.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-entity-dropdown"]],hostBindings:function(I,L){1&I&&t.bIt("mousewheel",function(U){return L.onMousewheel(U)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:6,vars:12,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[4,"ngIf"],["class","entity-item text-primary",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","disabled"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"text-truncate","font-weight-bold"],[3,"message"]],template:function(I,L){1&I&&(t.j41(0,"ul",0),t.bIt("scroll",function(U){return L.onScroll(U)})("scrolled",function(){return L.onScrollDown()}),t.DNE(1,M,4,3,"li",1),t.nI1(2,"async"),t.DNE(3,T,5,4,"li",2)(4,R,4,3,"li",1),t.nI1(5,"async"),t.k0s()),2&I&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==L.searchListEntity?null:L.searchListEntity.length)&&!0!==t.bMT(2,8,L.isLoadingList)),t.R7$(2),t.Y8G("ngForOf",L.searchListEntity),t.R7$(),t.Y8G("ngIf",t.bMT(5,10,L.isLoadingList)))},dependencies:[e.eO,e.DP,i.bT,i.pM,O.v,i.Jj,l.h,l.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return w})()},50518:(N,b,n)=>{"use strict";n.d(b,{T:()=>H});var i=n(60177),t=n(54438),l=n(41780),e=n(59519),f=n.n(e),m=n(84412),h=n(96354),_=n(82640),y=n(96526),v=n(41023),D=n(58235),O=n(36074),M=n(4047),T=n(22978),R=n(80183),u=n(50332),w=n(82777),C=n(5682),S=n(23401),I=n(89417);let L=(()=>{class V{constructor(J){this.formBuilder=J,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(J){const q={scope:(0,w.Pe)(J)?J.scope:"metadata",query:(0,w.Pe)(J)?J.query:""};this.search.emit(q)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(I.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(q,Q){1&q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(z){return Q.submit(Q.searchForm.value),z.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"span",7)(13,"button",8),t.nrm(14,"i",9),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()(),t.j41(17,"div")(18,"button",10),t.bIt("click",function(){return Q.submit(null),Q.reset()}),t.EFF(19),t.nI1(20,"translate"),t.k0s()()()),2&q&&(t.Y8G("formGroup",Q.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,Q.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,Q.labelPrefix+"search.scope.email")),t.R7$(8),t.SpI(" ",t.bMT(16,9,Q.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(20,11,Q.labelPrefix+"button.see-all")," "))},dependencies:[I.YN,I.qT,I.xH,I.y7,I.me,I.wz,I.BC,I.cb,I.X1,I.j4,I.JD,l.h,l.D9],encapsulation:2})}}return V})(),B=(()=>{class V{constructor(J){this.formBuilder=J,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(J){const q={scope:"",query:(0,w.Pe)(J)?J.query:""};this.search.emit(q)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(I.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(q,Q){1&q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(z){return Q.submit(Q.searchForm.value),z.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"button",5),t.nrm(6,"i",6),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()(),t.j41(9,"div")(10,"button",7),t.bIt("click",function(){return Q.submit(null),Q.reset()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()),2&q&&(t.Y8G("formGroup",Q.searchForm),t.R7$(7),t.SpI(" ",t.bMT(8,3,Q.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(12,5,Q.labelPrefix+"button.see-all")," "))},dependencies:[I.YN,I.qT,I.me,I.BC,I.cb,I.X1,I.j4,I.JD,l.h,l.D9],encapsulation:2})}}return V})();function U(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-eperson-search-box",3),t.bIt("search",function(Q){t.eBV(J);const Y=t.XpG();return t.Njj(Y.onSearch(Q))}),t.k0s()}}function W(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-group-search-box",3),t.bIt("search",function(Q){t.eBV(J);const Y=t.XpG();return t.Njj(Y.onSearch(Q))}),t.k0s()}}function j(V,X){if(1&V){const J=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",7)(7,"button",9),t.bIt("click",function(){const Q=t.eBV(J).$implicit,Y=t.XpG(2);return t.Njj(Y.emitSelect(Q))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&V){const J=X.$implicit,q=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,q.isSelected(J))),t.R7$(3),t.JRh(J.id),t.R7$(2),t.JRh(q.dsoNameService.getName(J)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function G(V,X){if(1&V&&(t.j41(0,"ds-pagination",4),t.nI1(1,"async"),t.j41(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,j,10,9,"tr",8),t.nI1(17,"async"),t.k0s()()()()),2&V){let J,q;const Q=t.XpG();t.Y8G("paginationOptions",Q.paginationOptions)("collectionSize",null==(J=t.bMT(1,8,Q.getList()))||null==J.payload?null:J.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(7),t.JRh(t.bMT(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Y8G("ngForOf",null==(q=t.bMT(17,16,Q.getList()))||null==q.payload?null:q.payload.page)}}let H=(()=>{class V{constructor(J,q,Q,Y){this.dsoNameService=J,this.parentInjector=q,this.paginationService=Q,this.dataServiceMap=Y,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new S.W,this.list$=new m.t({}),this.entrySelectedId=new m.t(""),this.subs=[]}ngOnInit(){(0,M.M)(this.dataServiceMap,(this.isListOfEPerson?D.N:O.U).value,this.parentInjector).subscribe(Q=>{this.dataService=Q,this.paginationOptions.id=f()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(J){this.select.emit(J),this.entrySelectedId.next(J.id)}getList(){return this.list$.asObservable()}isSelected(J){return this.entrySelectedId.asObservable().pipe((0,h.T)(q=>(0,w.hj)(q)&&q===J.id))}onSearch(J){this.currentSearchQuery=J.query,this.currentSearchScope=J.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(J,q){(0,w.a4)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(Q=>{const Y=Object.assign({},new v._,{elementsPerPage:Q.pageSize,currentPage:Q.currentPage}),z=this.isListOfEPerson?this.dataService.searchByScope(J,q,Y):this.dataService.searchGroups(q,Y);this.subs.push(z.pipe((0,R.qD)()).subscribe(Z=>{(0,w.a4)(this.list$)&&this.list$.next(Z)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(J=>(0,w.a4)(J)).forEach(J=>J.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(y.f),t.rXU(t.zZn),t.rXU(T.m),t.rXU(_.l9))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(q,Q){if(1&q&&(t.j41(0,"div",0),t.DNE(1,U,1,0,"ds-eperson-search-box",1)(2,W,1,0,"ds-group-search-box",1)(3,G,18,18,"ds-pagination",2),t.nI1(4,"async"),t.k0s()),2&q){let Y;t.Y8G("@fadeInOut",void 0),t.R7$(),t.Y8G("ngIf",Q.isListOfEPerson),t.R7$(),t.Y8G("ngIf",!Q.isListOfEPerson),t.R7$(),t.Y8G("ngIf",(null==(Y=t.bMT(4,4,Q.getList()))||null==Y.payload?null:Y.payload.totalElements)>0)}},dependencies:[i.bT,L,B,C.e,i.pM,i.Jj,l.h,l.D9],data:{animation:[u.Ws]}})}}return V})()},79632:(N,b,n)=>{"use strict";n.d(b,{A:()=>f});var i=n(16292),t=n(47978),l=n(54438),e=n(41780);let f=(()=>{class m{constructor(_){this.translate=_,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(_=>{this.message=_}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(y){return new(y||m)(l.rXU(e.c$))}}static{this.\u0275cmp=l.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[l.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(y,v){1&y&&(l.j41(0,"ds-alert",0),l.nrm(1,"span",1),l.k0s()),2&y&&(l.Y8G("type",v.AlertTypeEnum.Error)("dismissible",!1),l.R7$(),l.Y8G("innerHTML",v.message,l.npT))},dependencies:[i.C]})}}return m})()},10634:(N,b,n)=>{"use strict";n.r(b),n.d(b,{FileDownloadLinkComponent:()=>S});var i=n(60177),t=n(7901),l=n(41780),e=n(84572),f=n(7673),m=n(96354),h=n(69799),_=n(96526),y=n(65007),v=n(3970),M=(n(33376),n(88318),n(82777)),T=n(54438);const R=["*"];function u(I,L){1&I&&(T.j41(0,"span",4),T.nI1(1,"translate"),T.nrm(2,"i",5),T.k0s()),2&I&&T.BMQ("aria-label",T.bMT(1,1,"file-download-link.restricted"))}function w(I,L){1&I&&T.eu8(0)}function C(I,L){1&I&&T.SdG(0)}let S=(()=>{class I{constructor(B,U){this.authorizationService=B,this.dsoNameService=U,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(v._.CanDownload,(0,M.hj)(this.bitstream)?this.bitstream.self:void 0);const B=this.authorizationService.isAuthorized(v._.CanRequestACopy,(0,M.hj)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,e.z)([this.canDownload$,B]).pipe((0,m.T)(([U,W])=>this.getBitstreamPath(U,W)))}else this.bitstreamPath$=(0,f.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,f.of)(!0)}getBitstreamPath(B,U){return!B&&U&&(0,M.a4)(this.item)?(0,h.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,h.hV)(this.bitstream),queryParams:{}}}static{this.\u0275fac=function(U){return new(U||I)(T.rXU(y.AuthorizationDataService),T.rXU(_.f))}}static{this.\u0275cmp=T.VBU({type:I,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[T.aNF],ngContentSelectors:R,decls:9,vars:15,consts:[["content",""],[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["role","img","class","pr-1",4,"ngIf"],[4,"ngTemplateOutlet"],["role","img",1,"pr-1"],[1,"fas","fa-lock"]],template:function(U,W){if(1&U&&(T.NAR(),T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"async"),T.nI1(3,"translate"),T.DNE(4,u,3,3,"span",2),T.nI1(5,"async"),T.DNE(6,w,1,0,"ng-container",3),T.k0s(),T.DNE(7,C,1,0,"ng-template",null,0,T.C5r)),2&U){let j,G;const H=T.sdS(8);T.Y8G("routerLink",null==(j=T.bMT(1,7,W.bitstreamPath$))?null:j.routerLink)("queryParams",null==(G=T.bMT(2,9,W.bitstreamPath$))?null:G.queryParams)("target",W.isBlank?"_blank":"_self")("ngClass",W.cssClasses),T.BMQ("aria-label",T.bMT(3,11,"file-download-link.download")+W.dsoNameService.getName(W.bitstream)),T.R7$(4),T.Y8G("ngIf",!0!==T.bMT(5,13,W.canDownload$)),T.R7$(2),T.Y8G("ngTemplateOutlet",H)}},dependencies:[t.Wk,i.YU,i.bT,i.T3,i.Jj,l.h,l.D9]})}}return I})()},28836:(N,b,n)=>{"use strict";n.d(b,{z:()=>_}),n(33376),n(88318);var l=n(8886),f=(n(10634),n(54438));const m=["*"];function h(y,v){}let _=(()=>{class y extends l.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(D){return n(72834)(`./${D}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10634))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=f.xGo(y)))(M||y)}})()}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(f.NAR(),f.DNE(0,h,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return y})()},56899:(N,b,n)=>{"use strict";n.d(b,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},10460:(N,b,n)=>{"use strict";n.d(b,{_:()=>Pt});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(1473),m=n(41780),h=n(84572),_=n(47677),y=n(25558),v=n(96697),D=n(96354),O=n(99172),M=n(82640),T=n(48833),R=n(5410),u=n(14391),w=n(80183),C=n(49903),S=n(46588),I=n(61010),L=n(82777),B=n(27442),U=n(13329),W=n(67600),j=n(49656),G=n(33126),H=n(61280),V=n(56568),X=n(56899);let J=(()=>{class Ct{constructor(Et,Lt,it,Ne){this.dynamicMatchers=Et,this.dynamicFormRelationService=Lt,this.formBuilderService=it,this.injector=Ne}getTypeBindValue(Et){let Lt;return Lt=(0,L.Tn)(Et)||"string"==typeof Et?Et:Et instanceof H.e&&Et.hasAuthority()?Et.authority:Et.value,Lt}getRelatedFormModel(Et){const Lt=[];return Et.typeBindRelations.forEach(it=>it.when.forEach(Ne=>{if(Et.id===Ne.id)throw new Error(`FormControl ${Et.id} cannot depend on itself`);const ke=this.formBuilderService.getTypeBindModel();Et&&!Lt.some(ze=>ze===ke)&&Lt.push(ke)})),Lt}matchesCondition(Et,Lt){const it=Et.operator||f.fXj;return Et.when.reduce((Ne,ke,ze)=>{const Ue=this.formBuilderService.getTypeBindModel();let St,Qe=Ue.value;Ue.type===X.T&&(Qe=Ue.value.map(_t=>_t[Ue.mandatoryField])),St=Array.isArray(Qe)?[...Qe.map(_t=>this.getTypeBindValue(_t))]:[this.getTypeBindValue(Qe)];let xt=!(Ue&&Et.match===Lt.match);for(const _t of St){if(Ue&&Et.match===Lt.match){if(ze>0&&it===f.fcY&&!Ne)return!1;if(ze>0&&it===f.fXj&&Ne)return!0;if(xt=ke.value===_t,xt)break}if(Ue&&Et.match===Lt.opposingMatch){if(ze>0&&it===f.fcY&&Ne)return!0;if(ze>0&&it===f.fXj&&!Ne)return!1;if(xt=ke.value!==_t,!xt)break}}return xt},!1)}subscribeRelations(Et,Lt){const it=this.getRelatedFormModel(Et),Ne=[];return Object.values(it).forEach(ke=>{if((0,L.a4)(ke)){const ze=(0,L.Tn)(ke.value)||"string"==typeof ke.value||Array.isArray(ke.value)?ke.value:ke.value.value,St=("CHECKBOX_GROUP"===ke.type?ke.valueUpdates:ke.valueChanges).pipe((0,O.Z)(ze));Ne.push(St.subscribe(()=>{(0,L.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(Qe=>{const xt=this.dynamicFormRelationService.findRelationByMatcher(Et.typeBindRelations,Qe);if(void 0!==xt){const _t=this.matchesCondition(xt,Qe);Qe.onChange(_t,Et,Lt,this.injector)}})}))}}),Ne}getTypeBindRelations(Et){const Lt=[];return Et.forEach(it=>{Lt.push({id:"dc.type",value:it})}),[{match:f.zUr,operator:f.fXj,when:Lt}]}static{this.\u0275fac=function(Lt){return new(Lt||Ct)(t.KVO(f._sU,8),t.KVO(f.$eO),t.KVO(G.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}}return Ct})();var q=n(84412),Q=n(5964),z=(n(88318),n(93498)),Z=n(82394),oe=n(32272),se=n(59496),de=n(25499);function te(Ct,Qt){1&Ct&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&Ct&&(t.R7$(),t.Y8G("showMessage",!1))}function le(Ct,Qt){if(1&Ct&&(t.qex(0),t.nrm(1,"ds-metadata-representation-loader",6),t.nI1(2,"async"),t.bVm()),2&Ct){const Et=t.XpG();t.R7$(),t.Y8G("mdRepresentation",t.bMT(2,1,Et.metadataRepresentation$))}}class Ee{constructor(Qt,Et){this.oldIndex=Qt,this.newIndex=Et}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class pe extends Ee{constructor(Qt,Et,Lt,it,Ne,ke){super(Ne,ke),this.relationship=Qt,this.useLeftItem=Et,this.store=Lt,this.submissionID=it,this.relationship=Qt,this.useLeftItem=Et}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let re=(()=>{class Ct{constructor(Et,Lt,it){this.selectableListService=Et,this.store=Lt,this.submissionService=it,this.metadataRepresentation$=new q.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Q.p)(Lt=>(0,L.a4)(Lt)&&(0,L.hj)(Lt.uuid))).subscribe(Lt=>{this.relatedItem=Lt;const it=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,L.a4)(it)){const Ne=this.submissionItem.firstMetadata(this.metadataFields,{authority:it.authority}),ke=Object.assign(new z.y(Ne),this.relatedItem);this.metadataRepresentation$.next(ke)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,Q.p)(Et=>!Et.savePending&&!Et.isLoading),(0,v.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem})),this.store.dispatch(new se.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Et=>(0,L.a4)(Et)).forEach(Et=>Et.unsubscribe())}static{this.\u0275fac=function(Lt){return new(Lt||Ct)(t.rXU(U.K),t.rXU(de.il),t.rXU(I.E))}}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(Lt,it){1&Lt&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,te,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,le,3,3,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.nI1(7,"translate"),t.bIt("click",function(){return it.removeSelection()}),t.nrm(8,"i",4),t.k0s()()),2&Lt&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,3,it.metadataRepresentation$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,5,it.metadataRepresentation$)),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.bT,Z.v,i.Jj,oe.V,m.h,m.D9]})}}return Ct})();var ye=n(78448),De=n(17191);function nt(Ct,Qt){1&Ct&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&Ct&&(t.R7$(),t.Y8G("showMessage",!1))}function mt(Ct,Qt){if(1&Ct&&(t.qex(0),t.nrm(1,"ds-listable-object-component-loader",6),t.nI1(2,"async"),t.bVm()),2&Ct){const Et=t.XpG();t.R7$(),t.Y8G("showLabel",!1)("viewMode",Et.viewType)("object",t.bMT(2,3,Et.relatedItem$))}}let ot=(()=>{class Ct{constructor(Et,Lt,it){this.selectableListService=Et,this.submissionService=Lt,this.store=it,this.relatedItem$=new q.t(void 0),this.viewType=ye.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Q.p)(Lt=>(0,L.a4)(Lt)&&(0,L.hj)(Lt.uuid))).subscribe(Lt=>{this.relatedItem$.next(Lt)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new se.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Et=>(0,L.a4)(Et)).forEach(Et=>Et.unsubscribe())}static{this.\u0275fac=function(Lt){return new(Lt||Ct)(t.rXU(U.K),t.rXU(I.E),t.rXU(de.il))}}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","mr-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(Lt,it){1&Lt&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,nt,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,mt,3,5,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return it.removeSelection()}),t.nrm(7,"i",4),t.k0s()()),2&Lt&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,2,it.relatedItem$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,it.relatedItem$)))},dependencies:[Z.v,i.Jj,De.v,i.bT],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return Ct})();var $e=n(37636),Fe=n(6011);const st=["componentViewContainer"],Ie=["*"],We=(Ct,Qt)=>[Ct,Qt],Dt=Ct=>({$implicit:Ct}),kt=(Ct,Qt)=>({"form-row":Ct,"d-none":Qt}),ct=()=>({standalone:!0}),Ot=Ct=>({"d-block pb-2 pt-2":Ct});function ve(Ct,Qt){if(1&Ct&&(t.nrm(0,"label",12),t.nI1(1,"translate"),t.nI1(2,"translate")),2&Ct){const Et=t.XpG();t.Y8G("id","label_"+Et.model.id)("for",Et.id)("innerHTML",Et.model.required&&Et.model.label?t.bMT(1,4,Et.model.label)+" *":t.bMT(2,6,Et.model.label),t.npT)("ngClass",t.l_i(8,We,Et.getClass("element","label"),Et.getClass("grid","label")))}}function Be(Ct,Qt){1&Ct&&t.eu8(0)}function pt(Ct,Qt){if(1&Ct&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&Ct){const Et=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Et.model.hint),t.npT)("ngClass",Et.getClass("element","hint"))}}function dn(Ct,Qt){1&Ct&&t.nrm(0,"div",14)}function an(Ct,Qt){if(1&Ct&&(t.j41(0,"small",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Ct){const Et=Qt.$implicit,Lt=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Et,Lt.model.validators))}}function In(Ct,Qt){if(1&Ct&&(t.j41(0,"div",15),t.DNE(1,an,3,4,"small",16),t.k0s()),2&Ct){const Et=t.XpG();t.Y8G("id",Et.id+"_errors")("ngClass",t.l_i(3,We,Et.getClass("element","errors"),Et.getClass("grid","errors"))),t.R7$(),t.Y8G("ngForOf",Et.errorMessages)}}function Tt(Ct,Qt){if(1&Ct&&(t.j41(0,"option",21),t.EFF(1),t.k0s()),2&Ct){const Et=Qt.$implicit;t.Y8G("value",Et.code),t.R7$(),t.JRh(Et.display)}}function Wt(Ct,Qt){if(1&Ct){const Et=t.RV6();t.j41(0,"div",18)(1,"select",19,1),t.mxI("ngModelChange",function(it){t.eBV(Et);const Ne=t.XpG();return t.DH7(Ne.model.language,it)||(Ne.model.language=it),t.Njj(it)}),t.bIt("blur",function(it){t.eBV(Et);const Ne=t.XpG();return t.Njj(Ne.onBlur(it))})("change",function(it){t.eBV(Et);const Ne=t.XpG();return t.Njj(Ne.onChangeLanguage(it))}),t.DNE(3,Tt,2,2,"option",20),t.k0s()()}if(2&Ct){const Et=t.XpG();t.R7$(),t.Y8G("disabled",Et.model.readOnly),t.R50("ngModel",Et.model.language),t.Y8G("ngModelOptions",t.lJ4(4,ct)),t.R7$(2),t.Y8G("ngForOf",Et.model.languageCodes)}}function It(Ct,Qt){if(1&Ct){const Et=t.RV6();t.j41(0,"div",22)(1,"button",23),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(it){return t.eBV(Et),t.XpG().openLookup(),t.Njj(it.stopPropagation())}),t.nrm(4,"i",24),t.k0s()()}2&Ct&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function qt(Ct,Qt){1&Ct&&t.eu8(0)}function ln(Ct,Qt){if(1&Ct){const Et=t.RV6();t.j41(0,"ds-existing-metadata-list-element",27),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Et);const it=t.XpG(2);return t.Njj(it.onRemove())}),t.k0s()}if(2&Ct){const Et=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Et.relationshipValue$))("submissionItem",t.bMT(2,8,Et.item$))("listId",Et.listId)("metadataFields",Et.model.metadataFields)("submissionId",Et.model.submissionId)("relationshipOptions",Et.model.relationship)}}function Mt(Ct,Qt){if(1&Ct&&(t.nrm(0,"ds-existing-relation-list-element",28),t.nI1(1,"async"),t.nI1(2,"async")),2&Ct){const Et=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Ot,!(null!=Et.context&&Et.context.index)))("reoRel",t.bMT(1,7,Et.relationshipValue$))("submissionItem",t.bMT(2,9,Et.item$))("listId",Et.listId)("metadataFields",Et.model.metadataFields)("submissionId",Et.model.submissionId)("relationshipOptions",Et.model.relationship)}}function Ht(Ct,Qt){if(1&Ct&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&Ct){const Et=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Et.model.hint),t.npT)("ngClass",Et.getClass("element","hint"))}}function Kt(Ct,Qt){if(1&Ct&&(t.qex(0),t.DNE(1,ln,3,10,"ds-existing-metadata-list-element",25)(2,Mt,3,13,"ds-existing-relation-list-element",26)(3,Ht,2,4,"small",6),t.nrm(4,"div",14),t.bVm()),2&Ct){const Et=t.XpG();t.R7$(),t.Y8G("ngIf",Et.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",!Et.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",Et.hasHint&&(!1===Et.model.repeatable||(null==Et.context?null:Et.context.index)===(null==Et.context||null==Et.context.context||null==Et.context.context.groups?null:Et.context.context.groups.length)-1)&&(!Et.showErrorMessages||0===Et.errorMessages.length))}}let Pt=(()=>{class Ct extends f.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Et,Lt,it,Ne,ke,ze,Ue,St,Qe,xt,_t,Zt,fn,Cn,ss,us,Vs,gt){super(fn,Et,it,Ne,Lt,Ue),this.componentFactoryResolver=Et,this.dynamicFormComponentService=Lt,this.layoutService=it,this.validationService=Ne,this.typeBindRelationService=ke,this.translateService=ze,this.relationService=Ue,this.modalService=St,this.relationshipService=Qe,this.selectableListService=xt,this.store=_t,this.submissionObjectService=Zt,this.ref=fn,this.formBuilderService=Cn,this.submissionService=ss,this.metadataService=us,this.appConfig=Vs,this.dynamicFormControlFn=gt,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,L.a4)(this.model.relationship);const Et=(0,L.a4)(this.model.relationshipConfig);if(this.isRelationship||Et){const Lt=this.model.relationshipConfig||this.model.relationship,it=Object.assign(new V.j,Lt);if(this.listId=`list-${this.model.submissionId}-${it.relationshipType}`,this.setItem(),Et||!this.model.repeatable){const Ne=this.selectableListService.getSelectableList(this.listId).pipe((0,_.I)(ke=>(0,L.Tn)(ke)),(0,y.n)(()=>this.item$.pipe((0,v.s)(1))),(0,y.n)(ke=>{const ze=this.relationshipService.getItemRelationshipsByLabel(ke,it.relationshipType,void 0,!0,!0,(0,W.s)("leftItem"),(0,W.s)("rightItem"),(0,W.s)("relationshipType"));return ze.pipe((0,w.ak)(),(0,w.W8)()).subscribe(Ue=>{Ue.forEach(St=>{const Qe=ke.firstMetadata(it.metadataField,{authority:`${u.BY}${St.id}`}),xt=ke.firstMetadata(this.model.metadataFields,{authority:`${u.BY}${St.id}`});(0,L.a4)(Qe)&&(0,L.hj)(Qe.value)&&(0,L.a4)(xt)&&(0,L.hj)(xt.value)&&this.relationshipService.setNameVariant(this.listId,Qe.value,xt.value)})}),ze.pipe((0,S.EF)(ke.uuid),(0,w.yd)(),(0,D.T)(Ue=>Ue.payload.page.map(St=>Object.assign(new B.H,{indexableObject:St}))))})).subscribe(ke=>this.selectableListService.select(this.listId,ke));this.subs.push(Ne)}if(this.value=(0,L.a4)(this.model.metadataValue)?Object.assign(new H.e,this.model.metadataValue):Object.assign(new H.e,this.model.value),(0,L.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const Ne=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,j.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,w.v7)(),(0,w.Bo)());this.relationshipValue$=(0,h.z)([this.item$.pipe((0,v.s)(1)),Ne]).pipe((0,y.n)(([ke,ze])=>ze.leftItem.pipe((0,w.v7)(),(0,w.Bo)(),(0,D.T)(Ue=>new pe(ze,Ue.uuid!==ke.uuid,this.store,this.model.submissionId)))),(0,O.Z)(void 0))}}}get isCheckbox(){return this.model.type===f.eU4||this.model.type===$e.L}ngOnChanges(Et){Et&&!this.isRelationship&&(0,L.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Et),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,L.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Et;this.context&&this.context instanceof f.fHx&&(Et=this.context.index);const Lt=this.dynamicFormComponentService.getFormControlRef(this.model,Et);Lt&&(Lt.formModel=this.formModel,Lt.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Et){(0,L.hj)(this.model.value)&&this.onChange(Et)}hasRelationship(){return(0,L.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,L.hj)(this.model.relationship)}isVirtual(){const Et=this.model.metadataValue;return(0,L.hj)(Et)&&Et.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,D.T)(Et=>(0,L.hj)(Et)))}openLookup(){this.modalRef=this.modalService.open(Fe.d,{size:"lg"}),(0,L.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:f.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:f.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Et=this.modalRef.componentInstance;(0,L.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Et.query=this.model.value:"string"==typeof this.model.value.value&&(Et.query=this.model.value.value)),Et.repeatable=this.model.repeatable,Et.listId=this.listId,Et.relationshipOptions=this.model.relationship,Et.label=this.model.relationship.relationshipType,Et.metadataFields=this.model.metadataFields,Et.item=this.item,Et.collection=this.collection,Et.submissionId=this.model.submissionId}onRemove(){const Et=this.context.context,Lt=this.formBuilderService.getPath(Et),it=this.group.root.get(Lt);this.formBuilderService.removeFormArrayGroup(this.context.index,it,Et),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(it,Et)}ngOnDestroy(){this.subs.filter(Et=>(0,L.a4)(Et)).forEach(Et=>Et.unsubscribe())}get hasHint(){return(0,L.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Et=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,W.s)("item"),(0,W.s)("collection")).pipe((0,w.v7)(),(0,w.Bo)());this.item$=Et.pipe((0,y.n)(it=>it.item.pipe((0,w.v7)(),(0,w.Bo)())));const Lt=Et.pipe((0,y.n)(it=>it.collection.pipe((0,w.v7)(),(0,w.Bo)())));this.subs.push(this.item$.subscribe(it=>this.item=it)),this.subs.push(Lt.subscribe(it=>this.collection=it))}static{this.\u0275fac=function(Lt){return new(Lt||Ct)(t.rXU(t.OM3),t.rXU(f.cYz),t.rXU(f.fpj),t.rXU(f.STK),t.rXU(J),t.rXU(m.c$),t.rXU(f.$eO),t.rXU(e.Bq),t.rXU(T.RelationshipDataService),t.rXU(U.K),t.rXU(de.il),t.rXU(C.$),t.rXU(t.gRc),t.rXU(G.j),t.rXU(I.E),t.rXU(R.T),t.rXU(M.vQ),t.rXU(f.Fdw))}}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(Lt,it,Ne){if(1&Lt&&t.wni(Ne,f.vJF,4),2&Lt){let ke;t.mGM(ke=t.lsd())&&(it.contentTemplateList=ke)}},viewQuery:function(Lt,it){if(1&Lt&&t.GBs(st,7,t.c1b),2&Lt){let Ne;t.mGM(Ne=t.lsd())&&(it.componentViewContainerRef=Ne.first)}},inputs:{inputTemplateList:[t.Mj6.None,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:Ie,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(Lt,it){1&Lt&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,ve,3,11,"label",3)(2,Be,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,pt,2,4,"small",6)(9,dn,1,0,"div",7)(10,In,2,6,"div",8),t.k0s(),t.DNE(11,Wt,4,5,"div",9)(12,It,5,6,"div",10),t.k0s(),t.DNE(13,qt,1,0,"ng-container",4)(14,Kt,5,3,"ng-container",11),t.SdG(15),t.k0s()),2&Lt&&(t.AVh("form-group","GROUP"!==it.model.type&&it.asBootstrapFormGroup||it.getClass("element","container").includes("form-group"))("d-none",it.model.hidden),t.Y8G("formGroup",it.group)("ngClass",t.l_i(19,We,it.getClass("element","container"),it.getClass("grid","container"))),t.R7$(),t.Y8G("ngIf",!it.isCheckbox&&it.hasLabel),t.R7$(),t.Y8G("ngTemplateOutlet",null==it.startTemplate?null:it.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,Dt,it.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,kt,it.model.hasLanguages||it.isRelationship,it.metadataService.isVirtual(it.value)&&(it.model.hasSelectableMetadata||(null==it.context?null:it.context.index)>0))),t.R7$(),t.Y8G("ngClass",it.getClass("grid","control")),t.R7$(4),t.Y8G("ngIf",it.hasHint&&(it.formBuilderService.hasArrayGroupValue(it.model)||!it.model.repeatable&&(!1===it.isRelationship||null===(null==it.value?null:it.value.value))||!0===it.model.repeatable&&(null==it.context?null:it.context.index)===(null==it.context||null==it.context.context||null==it.context.context.groups?null:it.context.context.groups.length)-1)&&(!it.showErrorMessages||0===it.errorMessages.length)),t.R7$(),t.Y8G("ngIf",null!==(null==it.context?null:it.context.index)&&(!it.showErrorMessages||0===it.errorMessages.length)),t.R7$(),t.Y8G("ngIf",!it.model.hideErrorMessages&&it.showErrorMessages),t.R7$(),t.Y8G("ngIf",it.model.languageCodes&&it.model.languageCodes.length>0),t.R7$(),t.Y8G("ngIf",it.isRelationship),t.R7$(),t.Y8G("ngTemplateOutlet",null==it.endTemplate?null:it.endTemplate.templateRef)("ngTemplateOutletContext",it.model),t.R7$(),t.Y8G("ngIf",it.metadataService.isVirtual(it.value)))},dependencies:[re,i.bT,i.YU,i.Jj,m.h,m.D9,l.X1,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.j4,i.Sq,l.YN,l.vS,e.n8,e.md,i.T3,ot],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}"]})}}return Ct})()},37636:(N,b,n)=>{"use strict";n.d(b,{L:()=>l,i:()=>e});var i=n(31635),t=n(1473);const l="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,h){super(m,h),this.type=l}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},33382:(N,b,n)=>{"use strict";n.d(b,{q:()=>w,P:()=>C});var i=n(60177),t=n(54438),l=n(89417),e=n(1473),f=n(41780),m=n(48125),h=n.n(m),_=n(82777),y=n(60456);const v=S=>({field:S}),D=S=>({"is-invalid":S});let O=(()=>{class S{constructor(L,B,U){this.fb=L,this.cd=B,this.translate=U,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(L){this.value?L.max&&(this.value=this.value>this.max?this.max:this.value):L.value&&null===L.value.currentValue?this.value=null:L.invalid&&(this.invalid=L.invalid.currentValue)}changeValue(L=!1){if((0,_.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let B=this.value;L?B-=this.step:B+=this.step,this.value=B>=this.min&&B<=this.max?B:B>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(L){try{const B=Number.parseInt(L.target.value,10);this.value=B>=this.min&&B<=this.max?B:null===L.target.value||""===L.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(L){this.blur.emit(L)}onFocus(L){this.value&&(this.startValue=this.value),this.focus.emit(L)}writeValue(L){this.startValue=L||this.min}registerOnChange(L){}registerOnTouched(L){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(B){return new(B||S)(t.rXU(l.ze),t.rXU(t.gRc),t.rXU(f.c$))}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:l.kq,useExisting:S,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","mr-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(B,U){1&B&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return U.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(j){return t.DH7(U.value,j)||(U.value=j),j}),t.bIt("blur",function(j){return U.onBlur(j),j.stopPropagation()})("change",function(j){return U.update(j),j.stopPropagation()})("focus",function(j){return U.onFocus(j),j.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return U.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&B&&(t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,v,U.name))),t.R7$(2),t.FS9("id",U.id),t.FS9("maxlength",U.size),t.FS9("size",U.size),t.FS9("placeholder",U.placeholder),t.FS9("title",U.placeholder),t.Y8G("name",U.name),t.R50("ngModel",U.value),t.Y8G("readonly",U.disabled)("disabled",U.disabled)("ngClass",t.eq3(23,D,U.invalid)),t.BMQ("aria-label",U.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,v,U.name))))},dependencies:[i.YU,l.YN,l.me,l.BC,l.tU,l.vS,f.h,f.D9,y.A],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#124154;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return S})();n(87668);const T=(S,I)=>[S,I];function R(S,I){1&S&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function u(S,I){if(1&S&&(t.j41(0,"legend",5),t.EFF(1),t.DNE(2,R,2,0,"span",6),t.k0s()),2&S){const L=t.XpG();t.Y8G("id","legend_"+L.model.id)("ngClass",t.l_i(4,T,L.getClass("element","label"),L.getClass("grid","label"))),t.R7$(),t.SpI(" ",L.model.placeholder," "),t.R7$(),t.Y8G("ngIf",L.model.required)}}const w="-";let C=(()=>{class S extends e.S6A{constructor(L,B,U,W){super(L,B),this.layoutService=L,this.validationService=B,this.renderer=U,this._document=W,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const L=new Date;if(this.initialYear=L.getUTCFullYear(),this.initialMonth=L.getUTCMonth()+1,this.initialDay=L.getUTCDate(),this.model&&null!==this.model.value){const B=this.model.value.toString().split(w);B.length>0&&(this.initialYear=parseInt(B[0],10),this.year=this.initialYear,this.disabledMonth=!1),B.length>1&&(this.initialMonth=parseInt(B[1],10),this.month=this.initialMonth,this.disabledDay=!1),B.length>2&&(this.initialDay=parseInt(B[2],10),this.day=this.initialDay)}this.maxYear=L.getUTCFullYear()+100}onBlur(L){this.blur.emit()}onChange(L){switch(L.field){case"year":null!==L.value?this.year=L.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==L.value?this.month=L.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==L.value?L.value:void 0}if(!this.disabledDay){const W=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay(W),this.day>this.maxDay&&(this.day=this.maxDay)}(0,_.a4)(this.year)&&"year"===L.field?this.disabledMonth=!1:(0,_.a4)(this.month)&&"month"===L.field&&(this.disabledDay=!1);let B=null;if((0,_.a4)(this.year)){let U=this.year.toString();for(;U.length<4;)U="0"+U;B=U}if((0,_.a4)(this.month)){const U=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();B+=w+U}if((0,_.a4)(this.day)){const U=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();B+=w+U}this.model.value=B,this.change.emit(B)}onTabKeydown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const U=this.selectedFieldIndex(B);if(U<0)return;const W=U+1;W<this.fields.length&&this.focusInput(this.fields[W])}onShiftTabKeyDown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const W=this.selectedFieldIndex(B)-1;W>=0&&this.focusInput(this.fields[W])}selectedFieldIndex(L){return this.fields.findIndex(B=>h()(L.id,this.model.id.concat(B)))}focusInput(L){const B=this._document.getElementById(this.model.id.concat(L));B&&((0,_.a4)(this.year)&&h()(L,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,_.a4)(this.year)&&h()(L,"_month")?this.disabledMonth=!1:(0,_.a4)(this.month)&&h()(L,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(B).focus()},100))}onFocus(L){this.focus.emit(L)}getLastDay(L){return L.setMonth(L.getMonth()+1,0),L.getDate()}static{this.\u0275fac=function(B){return new(B||S)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-date-picker"]],hostBindings:function(B,U){1&B&&t.bIt("keydown.tab",function(j){return U.onTabKeydown(j)})("keydown.shift.tab",function(j){return U.onShiftTabKeyDown(j)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:35,consts:[[1,"d-flex"],[3,"id","ngClass",4,"ngIf"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(B,U){1&B&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,u,3,7,"legend",1),t.j41(3,"ds-number-picker",2),t.nI1(4,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialYear,j)||(U.initialYear=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s(),t.j41(5,"ds-number-picker",3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialMonth,j)||(U.initialMonth=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s(),t.j41(7,"ds-number-picker",3),t.nI1(8,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialDay,j)||(U.initialDay=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s()()(),t.nrm(9,"div",4)),2&B&&(t.R7$(2),t.Y8G("ngIf",!U.model.repeatable),t.R7$(),t.Y8G("id",U.model.id+"_year")("disabled",U.model.disabled)("min",U.minYear)("max",U.maxYear)("name","year")("size",4),t.R50("ngModel",U.initialYear),t.Y8G("value",U.year)("invalid",U.showErrorMessages)("placeholder",t.bMT(4,29,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",U.model.id+"_month")("min",U.minMonth)("max",U.maxMonth)("name","month")("size",6),t.R50("ngModel",U.initialMonth),t.Y8G("value",U.month)("placeholder",t.bMT(6,31,"form.date-picker.placeholder.month"))("disabled",!U.year||U.model.disabled),t.R7$(2),t.Y8G("id",U.model.id+"_day")("min",U.minDay)("max",U.maxDay)("name","day")("size",2),t.R50("ngModel",U.initialDay),t.Y8G("value",U.day)("placeholder",t.bMT(8,33,"form.date-picker.placeholder.day"))("disabled",!U.month||U.model.disabled))},dependencies:[i.YU,i.bT,O,l.YN,l.BC,l.vS,f.h,f.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial}"]})}}return S})()},87668:(N,b,n)=>{"use strict";n.d(b,{g:()=>_,s:()=>h});var i=n(31635),t=n(1473),l=n(84412),e=n(21413),f=n(14391),m=n(82777);const h="DATE";class _ extends t.eGm{constructor(v,D){super(v,D),this.type=h,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=v.legend,this.metadataValue=v.metadataValue,this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[],this.hiddenUpdates=new l.t(this.hidden),this.repeatable=v.repeatable;const O=this.getRootParent(this);O&&(0,m.EA)(O.hidden)&&(O.hidden=this.hidden)}getRootParent(v){return(0,m.Im)(v)||(0,m.Im)(v.parent)?v:this.getRootParent(v.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],_.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.vD)],_.prototype,"metadataValue",void 0)},6458:(N,b,n)=>{"use strict";n.d(b,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="EMPTY";class f extends l.C{constructor(h,_){super(h,_),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=h.hasSelectableMetadata,this.value=h.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0)},66733:(N,b,n)=>{"use strict";n.d(b,{C:()=>_});var i=n(31635),t=n(1473),l=n(21413),e=n(89293),f=n(82777),m=n(61280),h=n(56568);class _ extends t.rA_{constructor(v,D){super(v,D),this.typeBindHidden=!1,this.repeatable=v.repeatable,this.metadataFields=v.metadataFields,this.hint=v.hint,this.readOnly=v.readOnly,this.disabled=v.readOnly,this.value=v.value,this.relationship=v.relationship,this.submissionId=v.submissionId,this.hasSelectableMetadata=v.hasSelectableMetadata,this.metadataValue=v.metadataValue,this.place=v.place,this.isModelOfInnerForm=!!(0,f.a4)(v.isModelOfInnerForm)&&v.isModelOfInnerForm,this.hideErrorMessages=v.hideErrorMessages,this.language=v.language,this.language||(v.value instanceof m.e?this.language=v.value.language:Array.isArray(v.value)&&v.value[0].language&&(this.language=v.value[0].language)),this.languageCodes=v.languageCodes,this.languageUpdates=new l.B,this.languageUpdates.subscribe(O=>{this.language=O}),this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[],this.vocabularyOptions=v.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(v){this._language=v}get languageCodes(){return this._languageCodes}set languageCodes(v){this._languageCodes=v,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],_.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",l.B)],_.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],_.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],_.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",h.j)],_.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],_.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"hideErrorMessages",void 0)},8590:(N,b,n)=>{"use strict";n.d(b,{m:()=>f});var i=n(31635),t=n(1473),l=n(82777),e=n(56568);class f extends t.UqU{constructor(h,_){super(h,_),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,l.a4)(h.notRepeatable)&&(this.notRepeatable=h.notRepeatable),(0,l.a4)(h.required)&&(this.required=h.required),(0,l.a4)(h.showButtons)&&(this.showButtons=h.showButtons),this.submissionId=h.submissionId,this.relationshipConfig=h.relationshipConfig,this.metadataKey=h.metadataKey,this.metadataFields=h.metadataFields,this.hasSelectableMetadata=h.hasSelectableMetadata,this.isDraggable=h.isDraggable,this.typeBindRelations=h.typeBindRelations?h.typeBindRelations:[],this.isInlineGroupArray=!!h.isInlineGroupArray&&h.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],f.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0)},77485:(N,b,n)=>{"use strict";n.d(b,{E:()=>e});var i=n(31635),t=n(1473),l=n(66733);class e extends l.C{constructor(m,h){super(m,h),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},54875:(N,b,n)=>{"use strict";n.d(b,{o:()=>D});var i=n(1473),t=n(7673),l=n(96354),e=n(32089),f=n(43235),m=n(19506),h=n(82777),_=n(61280),v=(n(66733),n(54438));let D=(()=>{class O extends i.S6A{constructor(T,R,u){super(R,u),this.vocabularyService=T,this.layoutService=R,this.validationService=u}getInitValueFromModel(T=!1){let R;if((0,h.hj)(this.model.value)&&this.model.value instanceof _.e&&!this.model.value.hasAuthorityToGenerate()){let u;u=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),R=u.pipe((0,l.T)(w=>{if((0,h.hj)(w)){const C=new _.e(w.value,null,w.authority,w.display,this.model.value.place,null,w.otherInformation||null);return T&&(C.confidence=this.model.value.confidence),C}return this.model.value}))}else R=(0,h.hj)(this.model.value)&&this.model.value instanceof f.b?(0,t.of)(new _.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new _.e(this.model.value));return R}onBlur(T){this.blur.emit(T)}onFocus(T){this.focus.emit(T)}dispatchUpdate(T){this.model.value=T,this.change.emit(T)}updatePageInfo(T,R,u,w){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:T,currentPage:R,totalElements:u,totalPages:w})}static{this.\u0275fac=function(R){return new(R||O)(v.rXU(m.g),v.rXU(i.fpj),v.rXU(i.STK))}}static{this.\u0275cmp=v.VBU({type:O,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[v.Vt3],decls:0,vars:0,template:function(R,u){},encapsulation:2})}}return O})()},29658:(N,b,n)=>{"use strict";n.d(b,{R:()=>m});var i=n(31635),t=n(1473),l=n(21413),e=n(89293),f=n(82777);class m extends t.JVJ{constructor(_,y){super(_,y),this.isListGroup=!0,this.vocabularyOptions=_.vocabularyOptions,this.groupLength=_.groupLength||5,this._value=[],this.repeatable=_.repeatable,this.required=_.required,this.hint=_.hint,this.valueUpdates=new l.B,this.valueUpdates.subscribe(v=>this.value=v),this.valueUpdates.next(_.value),this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(_){_&&(this._value=Array.isArray(_)?_:this.value.concat([_]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},90558:(N,b,n)=>{"use strict";n.d(b,{t:()=>f});var i=n(31635),t=n(1473),l=n(89293),e=n(82777);class f extends t.tK_{constructor(h,_){super(h,_),this.isListGroup=!0,this.vocabularyOptions=h.vocabularyOptions,this.groupLength=h.groupLength||5,this.repeatable=h.repeatable,this.required=h.required,this.hint=h.hint,this.value=h.value,this.typeBindRelations=h.typeBindRelations?h.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",l.n)],f.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"hint",void 0)},37146:(N,b,n)=>{"use strict";n.d(b,{V:()=>e,_:()=>f});var i=n(31635),t=n(1473),l=n(80902);const e="LOOKUP_NAME";class f extends l.P{constructor(h,_){super(h,_),this.type=e,this.separator=h.separator||",",this.placeholder=h.firstPlaceholder||"form.last-name",this.secondPlaceholder=h.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},80902:(N,b,n)=>{"use strict";n.d(b,{P:()=>f,d:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="LOOKUP";class f extends l.C{constructor(h,_){super(h,_),this.type=e,this.autoComplete=t.DAG,this.maxOptions=h.maxOptions||10,this.value=h.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},18302:(N,b,n)=>{"use strict";n.d(b,{d:()=>Ee});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(41780),m=n(71985),h=n(21413),_=n(7673),y=n(79335),v=n(70152),D=n(23294),O=n(88141),M=n(25558),T=n(99437),R=n(96354),u=n(5964),w=n(96697),C=n(96820),S=n(80183),I=n(32089),L=n(19506),B=n(82777),U=n(99390),W=n(39729),j=n(38443),G=n(61280),H=n(54875),X=(n(45500),n(1473));const J=["instance"],q=be=>({entry:be});function Q(be,pe){if(1&be&&t.eu8(0,5),2&be){const re=pe.result;t.XpG();const ye=t.sdS(3),De=t.sdS(5);t.Y8G("ngTemplateOutlet",re.hasOtherInformation()?ye:De)("ngTemplateOutletContext",t.eq3(2,q,re))}}function Y(be,pe){if(1&be&&(t.j41(0,"li",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&be){const re=pe.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+re.key)," : ",re.value," ")}}function z(be,pe){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.DNE(3,Y,3,4,"li",8),t.nI1(4,"dsObjNgFor"),t.k0s()),2&be){const re=pe.entry;t.R7$(2),t.JRh(re.value),t.R7$(),t.Y8G("ngForOf",t.bMT(4,2,re.otherInformation))}}function Z(be,pe){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&be){const re=pe.entry;t.R7$(2),t.JRh(re.value)}}function oe(be,pe){1&be&&t.nrm(0,"i",15)}function se(be,pe){if(1&be){const re=t.RV6();t.j41(0,"i",16),t.bIt("whenClickOnConfidenceNotAccepted",function(De){t.eBV(re);const nt=t.XpG(2);return t.Njj(nt.whenClickOnConfidenceNotAccepted(De))}),t.k0s()}if(2&be){const re=t.XpG(2);t.Y8G("authorityValue",re.currentValue)}}function de(be,pe){1&be&&(t.j41(0,"div",17),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function te(be,pe){if(1&be){const re=t.RV6();t.j41(0,"div",10),t.DNE(1,oe,1,0,"i",11)(2,se,1,1,"i",12),t.j41(3,"input",13,3),t.nI1(5,"translate"),t.mxI("ngModelChange",function(De){t.eBV(re);const nt=t.XpG();return t.DH7(nt.currentValue,De)||(nt.currentValue=De),t.Njj(De)}),t.bIt("blur",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onBlur(De))})("focus",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onFocus(De))})("change",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onChange(De))})("input",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onInput(De))})("selectItem",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onSelectItem(De))}),t.k0s(),t.DNE(6,de,2,0,"div",14),t.k0s()}if(2&be){const re=t.XpG(),ye=t.sdS(1);t.R7$(),t.Y8G("ngIf",re.searching||re.loadingInitialValue),t.R7$(),t.Y8G("ngIf",!re.searching&&!re.loadingInitialValue),t.R7$(),t.AVh("is-invalid",re.showErrorMessages),t.Y8G("id",re.model.id)("inputFormatter",re.formatter)("name",re.model.name)("ngbTypeahead",re.search)("placeholder",re.model.placeholder)("readonly",re.model.readOnly)("disabled",re.model.readOnly)("resultTemplate",ye)("type",re.model.inputType),t.R50("ngModel",re.currentValue),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(5,18,re.model.label)),t.R7$(3),t.Y8G("ngIf",re.searchFailed)}}function le(be,pe){if(1&be){const re=t.RV6();t.j41(0,"div",10)(1,"i",18),t.bIt("click",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.openTree(De))}),t.k0s(),t.j41(2,"input",19),t.nI1(3,"translate"),t.bIt("focus",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onFocus(De))})("change",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.onChange(De))})("click",function(De){t.eBV(re);const nt=t.XpG();return t.Njj(nt.openTree(De))})("keydown",function(De){return t.eBV(re),t.Njj(De.preventDefault())})("keypress",function(De){return t.eBV(re),t.Njj(De.preventDefault())})("keyup",function(De){return t.eBV(re),t.Njj(De.preventDefault())}),t.k0s()()}if(2&be){const re=t.XpG();t.R7$(2),t.AVh("is-invalid",re.showErrorMessages)("tree-input",!re.model.readOnly),t.Y8G("id",re.id)("name",re.model.name)("placeholder",re.model.placeholder)("readonly",!0)("disabled",re.model.readOnly)("type",re.model.inputType)("value",null==re.currentValue?null:re.currentValue.display),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(3,14,re.model.label))}}let Ee=(()=>{class be extends H.o{constructor(re,ye,De,nt,mt){super(re,De,mt),this.vocabularyService=re,this.cdr=ye,this.layoutService=De,this.modalService=nt,this.validationService=mt,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new I.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new h.B,this.subs=[],this.formatter=xe=>"object"==typeof xe?xe.display:xe,this.search=xe=>xe.pipe((0,y.h)(this.click$),(0,v.B)(300),(0,D.F)(),(0,O.M)(()=>this.changeSearchingStatus(!0)),(0,M.n)(ot=>""===ot||ot.length<this.model.minChars?(0,_.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(ot,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,S.ak)(),(0,O.M)(()=>this.searchFailed=!1),(0,T.W)(()=>(this.searchFailed=!0,(0,_.of)((0,C.g)(new I.Q,[])))))),(0,R.T)(ot=>ot.page),(0,O.M)(()=>this.changeSearchingStatus(!1)),(0,y.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,S.ak)(),(0,D.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,R.T)(re=>re.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,u.p)(re=>this.currentValue!==re)).subscribe(re=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(re){this.searching=re,this.cdr.detectChanges()}changeLoadingInitialValueStatus(re){this.loadingInitialValue=re,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(re){!this.model.vocabularyOptions.closed&&(0,B.hj)(re.target.value)&&(this.inputValue=new G.e(re.target.value))}onBlur(re){this.instance.isPopupOpen()?(re.preventDefault(),re.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(re))}onChange(re){re.stopPropagation(),(0,B.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(re){this.inputValue=null,this.setCurrentValue(re.item),this.dispatchUpdate(re.item)}openTree(re){this.model.readOnly||(re.preventDefault(),re.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,R.T)(ye=>ye.preloadLevel),(0,w.s)(1)).subscribe(ye=>{const De=this.modalService.open(j._,{size:"lg",windowClass:"treeview"});De.componentInstance.vocabularyOptions=this.model.vocabularyOptions,De.componentInstance.preloadLevel=ye,De.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],De.result.then(nt=>{nt&&(this.currentValue=nt,this.dispatchUpdate(nt))},()=>{})})))}whenClickOnConfidenceNotAccepted(re){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(re,ye=!1){let De;ye?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(nt=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=nt,this.cdr.detectChanges()})):(De=(0,B.Im)(re)?"":re.value,this.currentValue=De,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(re=>(0,B.a4)(re)).forEach(re=>re.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||be)(t.rXU(L.g),t.rXU(t.gRc),t.rXU(X.fpj),t.rXU(e.Bq),t.rXU(X.STK))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-dynamic-onebox"]],viewQuery:function(ye,De){if(1&ye&&t.GBs(J,5),2&ye){let nt;t.mGM(nt=t.lsd())&&(De.instance=nt.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(ye,De){1&ye&&(t.DNE(0,Q,1,4,"ng-template",null,0,t.C5r)(2,z,5,4,"ng-template",null,1,t.C5r)(4,Z,3,1,"ng-template",null,2,t.C5r)(6,te,7,20,"div",4),t.nI1(7,"async"),t.DNE(8,le,4,16,"div",4),t.nI1(9,"async")),2&ye&&(t.R7$(6),t.Y8G("ngIf",!0!==t.bMT(7,2,De.isHierarchicalVocabulary())),t.R7$(2),t.Y8G("ngIf",t.bMT(9,4,De.isHierarchicalVocabulary())))},dependencies:[e.h_,e.$n,i.bT,i.Jj,W.K,i.T3,f.h,f.D9,U.U,i.Sq,l.YN,l.me,l.BC,l.vS],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})}}return be})()},45500:(N,b,n)=>{"use strict";n.d(b,{K:()=>f,m:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="ONEBOX";class f extends l.C{constructor(h,_){super(h,_),this.type=e,this.autoComplete=t.DAG,this.minChars=h.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},11166:(N,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(31635),t=n(1473),l=n(82777),e=n(56899),f=n(66733);class m extends f.C{constructor(_,y){super(_,y),this.type=e.T,this.submissionId=_.submissionId,this.formConfiguration=_.formConfiguration,this.mandatoryField=_.mandatoryField,this.relationFields=_.relationFields,this.scopeUUID=_.scopeUUID,this.submissionScope=_.submissionScope,this.value=_.value||[]}isEmpty(){const _=this.getGroupValue();return 1===_.length&&(0,l.kZ)(_[0][this.mandatoryField])}getGroupValue(){if((0,l.Im)(this.value)){const _=Object.create({});return _[this.mandatoryField]=null,this.relationFields.forEach(y=>{_[y]=null}),[_]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},83766:(N,b,n)=>{"use strict";n.d(b,{s:()=>V});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(86820),m=n(7673),h=n(96697),_=n(23294),y=n(99437),v=n(88141),D=n(96354),O=n(82640),M=n(96820),T=n(4047),R=n(80183),u=n(32089),w=n(19506),C=n(82777),S=n(54875),L=(n(11220),n(1473));const B=["dropdownMenu"];function U(X,J){1&X&&t.nrm(0,"i",13)}function W(X,J){1&X&&t.nrm(0,"i",14)}function j(X,J){1&X&&(t.j41(0,"button",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X&&(t.R7$(),t.JRh(t.bMT(2,1,"form.no-results")))}function G(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",16),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const Y=t.eBV(q).$implicit,z=t.XpG(),Z=t.sdS(1);return z.onSelect(Y),t.Njj(Z.close())})("mousedown",function(){const Y=t.eBV(q).$implicit,z=t.XpG(),Z=t.sdS(1);return z.onSelect(Y),t.Njj(Z.close())}),t.EFF(2),t.k0s()}if(2&X){const q=J.$implicit,Q=J.index,Y=t.XpG();t.AVh("active",Q===Y.selectedIndex),t.FS9("title",Y.inputFormatter(q)),t.BMQ("id",Y.inputFormatter(q)===t.bMT(1,5,Y.currentValue)?"combobox_"+Y.id+"_selected":null),t.R7$(2),t.SpI(" ",Y.inputFormatter(q)," ")}}function H(X,J){1&X&&(t.j41(0,"div",17)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&X&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let V=(()=>{class X extends S.o{constructor(q,Q,Y,z,Z,oe){super(q,Y,z),this.vocabularyService=q,this.cdr=Q,this.layoutService=Y,this.validationService=z,this.parentInjector=Z,this.dataServiceMap=oe,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=se=>this.model.formatFunction?this.model.formatFunction(se):se.display||se.value}ngOnInit(){((0,C.a4)(this.model.resourceType)?(0,T.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,h.s)(1)).subscribe(Q=>{this.findAllService=Q,this.useFindAllService=(0,C.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,_.F)()).subscribe(Q=>{this.setCurrentValue(Q)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(q){this.loading=!0,this.getDataFromService().pipe((0,R.ak)(),(0,y.W)(()=>(0,m.of)((0,M.g)(new u.Q,[]))),(0,v.M)(()=>this.loading=!1)).subscribe(Q=>{this.optionsList=Q.page,q&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(Q.pageInfo.elementsPerPage,Q.pageInfo.currentPage,Q.pageInfo.totalElements,Q.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(q){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),q.open())}navigateDropdown(q){"ArrowDown"===q.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===q.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const Q=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];Q&&Q.scrollIntoView({block:"nearest"})}selectOnKeyDown(q,Q){const Y=q.key;"Enter"===Y?(q.preventDefault(),q.stopPropagation(),Q.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),Q.close()):Q.open()):"ArrowDown"===Y||"ArrowUp"===Y?(q.preventDefault(),q.stopPropagation(),this.navigateDropdown(q)):"Backspace"===Y?this.removeKeyFromInput():this.isAcceptableKey(Y)&&this.addKeyToInput(Y)}addKeyToInput(q){null===this.inputText&&(this.inputText=""),this.inputText+=q,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(q){return!(1!==q.length||!q.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(q)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,R.ak)(),(0,y.W)(()=>(0,m.of)((0,M.g)(new u.Q,[]))),(0,v.M)(()=>this.loading=!1)).subscribe(q=>{this.optionsList=this.optionsList.concat(q.page),this.updatePageInfo(q.pageInfo.elementsPerPage,q.pageInfo.currentPage,q.pageInfo.totalElements,q.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(q){this.group.markAsDirty(),this.dispatchUpdate(q),this.setCurrentValue(q)}setCurrentValue(q,Q=!1){let Y;Y=Q&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,D.T)(z=>z.display)):(0,C.Im)(q)?(0,m.of)(""):(0,m.of)("string"==typeof q?q:this.useFindAllService?q[this.model.displayKey]:q.display),this.currentValue=Y}static{this.\u0275fac=function(Q){return new(Q||X)(t.rXU(w.g),t.rXU(t.gRc),t.rXU(L.fpj),t.rXU(L.STK),t.rXU(t.zZn),t.rXU(O.l9))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(Q,Y){if(1&Q&&t.GBs(B,5,t.aKT),2&Q){let z;t.mGM(z=t.lsd())&&(Y.dropdownMenu=z.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:38,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",4,"ngIf"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["class","dropdown-item collection-item text-truncate","role","option","type","button",3,"active","title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"],[1,"scrollable-dropdown-loading","text-center"]],template:function(Q,Y){if(1&Q){const z=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"async"),t.DNE(4,U,1,0,"i",4)(5,W,1,0,"i",5),t.j41(6,"input",6),t.nI1(7,"async"),t.bIt("blur",function(oe){return t.eBV(z),t.Njj(Y.onBlur(oe))})("click",function(oe){t.eBV(z);const se=t.sdS(1);return oe.stopPropagation(),t.Njj(Y.openDropdown(se))})("focus",function(oe){return t.eBV(z),t.Njj(Y.onFocus(oe))})("keydown",function(oe){t.eBV(z);const se=t.sdS(1);return t.Njj(Y.selectOnKeyDown(oe,se))}),t.k0s()(),t.j41(8,"div",7,1)(10,"div",8),t.bIt("scrolled",function(){return t.eBV(z),t.Njj(Y.onScroll())}),t.DNE(11,j,3,3,"button",9),t.j41(12,"button",10),t.nI1(13,"translate"),t.bIt("click",function(){t.eBV(z);const oe=t.sdS(1);return Y.onSelect(void 0),t.Njj(oe.close())})("mousedown",function(){t.eBV(z);const oe=t.sdS(1);return Y.onSelect(void 0),t.Njj(oe.close())}),t.j41(14,"i"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.DNE(17,G,3,7,"button",11)(18,H,4,3,"div",12),t.k0s()()()}if(2&Q){const z=t.sdS(1);t.R7$(2),t.BMQ("aria-label",Y.model.label)("aria-owns","combobox_"+Y.id+"_listbox")("aria-expanded",z.isOpen())("aria-activedescendant",t.bMT(3,30,Y.currentValue)?"combobox_"+Y.id+"_selected":null),t.R7$(2),t.Y8G("ngIf",!Y.model.readOnly),t.R7$(),t.Y8G("ngIf",Y.model.readOnly),t.R7$(),t.AVh("is-invalid",Y.showErrorMessages)("scrollable-dropdown-input",!Y.model.readOnly),t.Y8G("id",Y.id)("name",Y.model.name)("readonly",!0)("disabled",Y.model.readOnly)("type",Y.model.inputType)("value",t.bMT(7,32,Y.currentValue)),t.BMQ("aria-controls","combobox_"+Y.id+"_listbox")("aria-label",Y.model.placeholder)("autoComplete",Y.model.autoComplete),t.R7$(2),t.BMQ("aria-label",Y.model.placeholder),t.R7$(2),t.Y8G("id","combobox_"+Y.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",Y.model.placeholder),t.R7$(),t.Y8G("ngIf",Y.optionsList&&0===Y.optionsList.length),t.R7$(),t.FS9("title",t.bMT(13,34,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(16,36,"dropdown.clear")),t.R7$(2),t.Y8G("ngForOf",Y.optionsList),t.R7$(),t.Y8G("ngIf",Y.loading)}},dependencies:[l.zH,l.tg,l.do,l.U0,i.bT,i.Jj,f.eO,f.DP,i.Sq,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return X})()},11220:(N,b,n)=>{"use strict";n.d(b,{W:()=>e,j:()=>f});var i=n(31635),t=n(1473),l=n(66733);const e="SCROLLABLE_DROPDOWN";class f extends l.C{constructor(h,_){super(h,_),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=h.vocabularyOptions,this.maxOptions=h.maxOptions||10,this.displayKey=h.displayKey||"display",this.formatFunction=h.formatFunction,this.resourceType=h.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"displayKey",void 0)},38512:(N,b,n)=>{"use strict";n.d(b,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="TAG";class f extends l.C{constructor(h,_){super(h,_),this.type=e,this.autoComplete=t.DAG,this.minChars=h.minChars||3,this.value=h.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},6011:(N,b,n)=>{"use strict";n.d(b,{d:()=>In});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(84412),m=n(84572),h=n(96354),_=n(96697),y=n(65245),v=n(25558),D=n(72734),O=n(53954),M=n(57514),T=n(41023),R=n(57568),u=n(48833),w=n(26292),C=n(80183),S=n(39012),I=n(13955),L=n(60456),B=n(82777),U=n(82394),W=n(13329),j=n(67600),X=(n(6041),n(31507),n(88318),n(8886));n(4089);const q=["*"];function Q(Tt,Wt){}let Y=(()=>{class Tt extends X.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(It){return n(90331)(`./${It}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,4089))}static{this.\u0275fac=(()=>{let It;return function(ln){return(It||(It=t.xGo(Tt)))(ln||Tt)}})()}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:q,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(qt,ln){1&qt&&(t.NAR(),t.DNE(0,Q,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Tt})();var z=n(59496);n(59854),n(26091);const se=["*"];function de(Tt,Wt){}let te=(()=>{class Tt extends X.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(It){return n(37919)(`./${It}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,26091))}static{this.\u0275fac=(()=>{let It;return function(ln){return(It||(It=t.xGo(Tt)))(ln||Tt)}})()}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:se,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(qt,ln){1&qt&&(t.NAR(),t.DNE(0,de,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Tt})();var le=n(96820),Ee=n(22978),be=n(32089),pe=n(67560),re=n(46580),ye=n(23401),De=n(43404),nt=n(7901);const mt=(Tt,Wt)=>({repeatable:Tt,listId:Wt});function xe(Tt,Wt){1&Tt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Tt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function ot(Tt,Wt){if(1&Tt){const It=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",4),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(ln){t.eBV(It);const Mt=t.XpG();return t.Njj(Mt.deselectObject.emit(ln))})("selectObject",function(ln){t.eBV(It);const Mt=t.XpG();return t.Njj(Mt.selectObject.emit(ln))}),t.k0s()()}if(2&Tt){const It=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+It.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,It.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,mt,It.repeatable,It.listId))("config",t.bMT(6,11,It.currentPagination$))("hideGear",!0)("context",It.context)}}let $e=(()=>{class Tt{constructor(It,qt,ln){this.router=It,this.searchConfigService=qt,this.paginationService=ln,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new ye.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,h.T)(It=>It.pagination),(0,v.n)(It=>this.selection$.pipe((0,_.s)(1),(0,h.T)(qt=>{const ln=(It.currentPage-1)*It.pageSize,Ht=qt.slice(ln,ln+It.pageSize>qt.length?qt.length:ln+It.pageSize),Kt=new be.Q({elementsPerPage:It.pageSize,totalElements:qt.length,currentPage:It.currentPage,totalPages:Math.ceil(qt.length/It.pageSize)});return(0,De.SP)((0,le.g)(Kt,Ht))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(qt){return new(qt||Tt)(t.rXU(nt.Ix),t.rXU(S.g),t.rXU(Ee.m))}}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:I.EN,useClass:S.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(qt,ln){if(1&qt&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,xe,3,3,"div",3),t.nI1(8,"async"),t.DNE(9,ot,7,16,"div",3),t.nI1(10,"async"),t.k0s()()),2&qt){let Mt,Ht;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("ngIf",(null==(Mt=t.bMT(8,5,ln.selectionRD$))?null:Mt.payload.page)<1),t.R7$(2),t.Y8G("ngIf",(null==(Ht=t.bMT(10,7,ln.selectionRD$))?null:Ht.payload.page.length)>=1)}},dependencies:[re.b,pe.h,i.Jj,i.bT,e.h,e.D9]})}}return Tt})();var Fe=n(25499);const st=Tt=>({size:Tt}),Ie=Tt=>({count:Tt});function We(Tt,Wt){1&Tt&&t.nrm(0,"ds-loading")}function Dt(Tt,Wt){if(1&Tt){const It=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",18),t.bIt("selectObject",function(ln){t.eBV(It);const Mt=t.XpG(2);return t.Njj(Mt.select(ln))})("deselectObject",function(ln){t.eBV(It);const Mt=t.XpG(2);return t.Njj(Mt.deselect(ln))})("resultFound",function(ln){t.eBV(It);const Mt=t.XpG(2);return t.Njj(Mt.setTotalInternals(ln.pageInfo.totalElements))}),t.k0s()}if(2&Tt){const It=t.XpG(2);t.Y8G("selection$",It.selection$)("listId",It.listId)("relationship",It.relationshipOptions)("repeatable",It.repeatable)("context",It.context)("query",It.query)("hiddenQuery",It.hiddenQuery)("relationshipType",It.relationshipType)("isLeft",It.isLeft)("item",It.item)("isEditRelationship",It.isEditRelationship)("toRemove",It.toRemove)}}function kt(Tt,Wt){if(1&Tt){const It=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",19),t.bIt("importedObject",function(ln){t.eBV(It);const Mt=t.XpG(3);return t.Njj(Mt.imported(ln))}),t.k0s()}if(2&Tt){const It=t.XpG().$implicit,qt=t.XpG(2);t.Y8G("label",qt.label)("listId",qt.listId)("repeatable",qt.repeatable)("item",qt.item)("collection",qt.collection)("relationship",qt.relationshipOptions)("context",qt.context)("query",qt.query)("externalSource",It)}}function ct(Tt,Wt){if(1&Tt&&(t.j41(0,"li",12)(1,"a",13),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,kt,1,9,"ng-template",14),t.k0s()),2&Tt){let It;const qt=Wt.$implicit,ln=Wt.index,Mt=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+qt.id,t.eq3(6,Ie,null==(It=t.bMT(3,1,Mt.totalExternal$))?null:It[ln])))}}function Ot(Tt,Wt){if(1&Tt){const It=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",20),t.bIt("selectObject",function(ln){t.eBV(It);const Mt=t.XpG(3);return t.Njj(Mt.select(ln))})("deselectObject",function(ln){t.eBV(It);const Mt=t.XpG(3);return t.Njj(Mt.deselect(ln))}),t.k0s()}if(2&Tt){const It=t.XpG(3);t.Y8G("selection$",It.selection$)("listId",It.listId)("relationshipType",It.relationshipOptions.relationshipType)("repeatable",It.repeatable)("context",It.context)}}function ve(Tt,Wt){if(1&Tt&&(t.j41(0,"li",12)(1,"a",13),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Ot,1,5,"ng-template",14),t.k0s()),2&Tt){let It;const qt=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,Ie,null==(It=t.bMT(3,1,qt.selection$))?null:It.length)))}}function Be(Tt,Wt){if(1&Tt&&(t.qex(0),t.j41(1,"ul",11,0)(3,"li",12)(4,"a",13),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s(),t.DNE(8,Dt,1,12,"ng-template",14),t.k0s(),t.DNE(9,ct,6,8,"li",15),t.nI1(10,"async"),t.DNE(11,ve,6,8,"li",16),t.k0s(),t.nrm(12,"div",17),t.bVm()),2&Tt){const It=t.sdS(2),qt=t.XpG();t.R7$(5),t.JRh(t.i5U(7,6,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+qt.relationshipOptions.relationshipType,t.eq3(11,Ie,t.bMT(6,4,qt.totalInternal$)))),t.R7$(4),t.Y8G("ngForOf",t.bMT(10,9,qt.externalSourcesRD$)),t.R7$(2),t.Y8G("ngIf",!qt.isEditRelationship),t.R7$(),t.Y8G("ngbNavOutlet",It)}}function pt(Tt,Wt){1&Tt&&t.nrm(0,"span",27)}function dn(Tt,Wt){1&Tt&&t.nrm(0,"i",28)}function an(Tt,Wt){if(1&Tt){const It=t.RV6();t.qex(0),t.j41(1,"button",21),t.bIt("click",function(){t.eBV(It);const ln=t.XpG();return t.Njj(ln.discardEv())}),t.nrm(2,"i",22),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",24),t.bIt("click",function(){t.eBV(It);const ln=t.XpG();return t.Njj(ln.submitEv())}),t.DNE(7,pt,1,0,"span",25)(8,dn,1,0,"i",26),t.j41(9,"span",23),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.bVm()}if(2&Tt){const It=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",0===It.toAdd.length&&0===It.toRemove.length||It.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(5,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===It.toAdd.length&&0===It.toRemove.length||It.isPending),t.R7$(),t.Y8G("ngIf",It.isPending),t.R7$(),t.Y8G("ngIf",!It.isPending),t.R7$(2),t.SpI("\xa0",t.bMT(11,8,"item.edit.metadata.save-button"),"")}}let In=(()=>{class Tt{constructor(It,qt,ln,Mt,Ht,Kt,Pt,Ct,Qt,Et){this.modal=It,this.selectableListService=qt,this.relationshipService=ln,this.externalSourceService=Mt,this.lookupRelationService=Ht,this.searchConfigService=Kt,this.rdbService=Pt,this.zone=Ct,this.store=Qt,this.router=Et,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new f.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(It=>{this.isLeft=It,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,h.T)(It=>(0,B.a4)(It)&&(0,B.a4)(It.selection)?It.selection:[])),this.selection$.pipe((0,_.s)(1)).subscribe(It=>It.map(qt=>this.addNameVariantSubscription(qt))),this.context="true"===this.relationshipOptions.nameVariants?w.o.EntitySearchModalWithNameVariants:w.o.EntitySearchModal,(0,B.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(It=>this.externalSourceService.findById(It,!0,!0,(0,j.s)("entityTypes")))).pipe((0,C.Hz)());else{const It=Object.assign({},new T._,{elementsPerPage:5,currentPage:1,searchParams:[new O.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",It,!0,!0,(0,j.s)("entityTypes")).pipe((0,C.ak)(),(0,h.T)(qt=>qt.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...It){this.zone.runOutsideAngular(()=>{(0,m.z)([...It.map(ln=>(this.addNameVariantSubscription(ln),this.relationshipService.getNameVariant(this.listId,ln.indexableObject.uuid).pipe((0,_.s)(1),(0,h.T)(Mt=>({item:ln.indexableObject,nameVariant:Mt})))))]).subscribe(ln=>ln.forEach(Mt=>{const Ht=new z.aS(this.item,Mt.item,this.relationshipOptions.relationshipType,this.submissionId,Mt.nameVariant);this.store.dispatch(Ht)}))})}addNameVariantSubscription(It){const qt=this.relationshipService.getNameVariant(this.listId,It.indexableObject.uuid);this.subMap[It.indexableObject.uuid]=qt.pipe((0,y.i)(1)).subscribe(ln=>this.store.dispatch(new z._I(this.item,It.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,ln)))}deselect(...It){this.zone.runOutsideAngular(()=>It.forEach(qt=>{this.subMap[qt.indexableObject.uuid].unsubscribe(),this.store.dispatch(new z.Fw(this.item,qt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(It){this.setTotals(),this.select(It)}setTotals(){const It=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=It.pipe((0,v.n)(([qt,ln])=>(0,m.z)([...qt.map(Mt=>this.lookupRelationService.getTotalExternalResults(Mt,ln))])))}setTotalInternals(It){this.totalInternal$.next(It)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(It=>It.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(qt){return new(qt||Tt)(t.rXU(l.Lw),t.rXU(W.K),t.rXU(u.RelationshipDataService),t.rXU(M.Q),t.rXU(R.c),t.rXU(S.g),t.rXU(D.o),t.rXU(t.SKi),t.rXU(Fe.il),t.rXU(nt.Ix))}}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:I.EN,useClass:S.g}]),t.aNF],decls:21,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click","dsBtnDisabled"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","role","presentation",4,"ngFor","ngForOf"],["ngbNavItem","","role","presentation",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["class","spinner-border spinner-border-sm mr-1","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-save",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-1"],[1,"fas","fa-save"]],template:function(qt,ln){if(1&qt&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return ln.close()}),t.j41(5,"span",4),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",5),t.DNE(8,We,1,0,"ds-loading",6)(9,Be,13,13,"ng-container",6),t.k0s(),t.j41(10,"div",7)(11,"small"),t.EFF(12),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",8)(16,"div",9)(17,"button",10),t.bIt("click",function(){return ln.close()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.DNE(20,an,12,10,"ng-container",6),t.k0s()()),2&qt){let Mt;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+ln.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(4),t.Y8G("ngIf",!ln.item||!ln.collection),t.R7$(),t.Y8G("ngIf",ln.item&&ln.collection),t.R7$(3),t.JRh(t.i5U(14,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,st,(null==(Mt=t.bMT(13,10,ln.selection$))?null:Mt.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(),t.SpI(" ",t.bMT(19,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.Y8G("ngIf",ln.isEditRelationship)}},dependencies:[Y,e.h,e.D9,U.v,i.bT,l.Pv,l.Um,l.X9,l.sy,l.Ri,l.m_,te,i.Jj,i.Sq,$e,L.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return Tt})()},4089:(N,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationExternalSourceTabComponent:()=>te});var i=n(60177),t=n(54438),l=n(41780),e=n(96354),f=n(25558),m=n(99172),h=n(57514),_=n(22978),M=(n(6041),n(26292),n(31507),n(88318),n(80183)),T=n(39012),R=n(13955),u=n(50332),w=n(82777),C=n(79632),S=n(82394),I=n(67560),L=n(13329),B=n(46580),U=n(23401),W=n(18016),j=n(18226),G=n(8886);n(1277);const V=["*"];function X(le,Ee){}let J=(()=>{class le extends G.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(be){return n(14651)(`./${be}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1277))}static{this.\u0275fac=(()=>{let be;return function(re){return(be||(be=t.xGo(le)))(re||le)}})()}static{this.\u0275cmp=t.VBU({type:le,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(pe,re){1&pe&&(t.NAR(),t.DNE(0,X,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return le})();var q=n(7901),Q=n(52149);const Y=(le,Ee)=>({repeatable:le,listId:Ee});function z(le,Ee){if(1&le){const be=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(re){t.eBV(be);const ye=t.XpG(2);return t.Njj(ye.import(re))}),t.k0s()}if(2&le){const be=t.XpG().ngVar,pe=t.XpG();t.Y8G("@fadeIn",void 0)("objects",be)("selectionConfig",t.l_i(10,Y,pe.repeatable,pe.listId))("config",t.bMT(1,8,pe.currentPagination$))("hideGear",!0)("context",pe.context)("importable",!0)("importConfig",pe.importConfig)}}function Z(le,Ee){1&le&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&le&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function oe(le,Ee){1&le&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&le&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function se(le,Ee){1&le&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&le&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function de(le,Ee){if(1&le&&(t.qex(0),t.DNE(1,z,2,13,"ds-viewable-collection",5)(2,Z,2,3,"ds-loading",6)(3,oe,2,3,"ds-error",6)(4,se,3,3,"div",7),t.bVm()),2&le){const be=Ee.ngVar;t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasSucceeded)&&!(null!=be&&be.isLoading)&&(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!be||(null==be?null:be.isLoading)),t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasFailed)&&(!(null!=be&&be.errorMessage)||400!==(null==be?null:be.statusCode))),t.R7$(),t.Y8G("ngIf",0===(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)||400===(null==be?null:be.statusCode))}}let te=(()=>{class le{constructor(be,pe,re,ye,De,nt){this.router=be,this.searchConfigService=pe,this.externalSourceService=re,this.modalService=ye,this.selectableListService=De,this.paginationService=nt,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new U.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,M.qD)(),(0,e.T)(be=>be.hasSucceeded&&be.payload.totalElements>0?be.payload.page[0]:null)).subscribe(be=>{this.relatedEntityType=be}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.n)(be=>(""===be.query&&(be.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,be).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(be){this.modalRef=this.modalService.open(J,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const pe=this.modalRef.componentInstance.compRef$.pipe((0,w.Az)(),(0,e.T)(re=>re.instance));this.subs.push(pe.subscribe(re=>{re.externalSourceEntry=be,re.item=this.item,re.relationship=this.relationship,re.label=this.label,re.relatedEntityType=this.relatedEntityType})),this.subs.push(pe.pipe((0,f.n)(re=>re.importedObject)).subscribe(re=>{this.selectableListService.selectSingle(this.listId,re),this.importedObject.emit(re)}))}ngOnDestroy(){this.subs.filter(be=>(0,w.a4)(be)).forEach(be=>be.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(pe){return new(pe||le)(t.rXU(q.Ix),t.rXU(T.g),t.rXU(h.Q),t.rXU(Q.Bq),t.rXU(L.K),t.rXU(_.m))}}static{this.\u0275cmp=t.VBU({type:le,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:R.EN,useClass:T.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"]],template:function(pe,re){if(1&pe&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,de,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&pe){let ye;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(ye=t.bMT(8,8,re.searchConfigService.paginatedSearchOptions))?null:ye.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+re.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,re.entriesRD$))}},dependencies:[W.d,B.b,I.h,j.r,i.Jj,l.h,l.D9,C.A,i.bT,S.v],data:{animation:[u.qG,u.Ws]}})}}return le})()},1277:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ExternalSourceEntryImportModalComponent:()=>G,ImportType:()=>j});var i=n(60177),t=n(54438),l=n(41780),e=n(25558),f=n(96697),m=n(29326),h=n(57568),_=n(26292),y=n(39552),v=n(80183),D=n(98794),O=n(60456),M=n(39806),T=n(7581),R=n(27442),u=n(13329),w=n(23401),C=n(33550),S=n(14131),I=n(52149);const L=H=>({repeatable:!1,listId:H});function B(H,V){if(1&H&&(t.j41(0,"div")(1,"a",17),t.EFF(2),t.k0s()()),2&H){const X=t.XpG();t.R7$(),t.FS9("href",X.uri.value,t.B4B),t.R7$(),t.JRh(X.uri.value)}}function U(H,V){if(1&H){const X=t.RV6();t.j41(0,"ds-search-results",18),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.deselectEntity())})("selectObject",function(q){t.eBV(X);const Q=t.XpG();return t.Njj(Q.selectEntity(q))}),t.k0s()}if(2&H){const X=t.XpG();t.Y8G("searchResults",t.bMT(1,9,X.localEntitiesRD$))("sortConfig",null==X.lookupRelationService.searchConfig?null:X.lookupRelationService.searchConfig.sort)("searchConfig",X.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,L,X.entityListId))("linkType",X.linkTypes.ExternalLink)("context",X.context)}}function W(H,V){if(1&H){const X=t.RV6();t.j41(0,"div",19)(1,"h5",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",10)(5,"input",20),t.bIt("click",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.selectNewAuthority())}),t.k0s(),t.j41(6,"label",21),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&H){const X=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,X.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",X.selectedImportType===X.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,X.labelPrefix+"authority.new"))}}var j=function(H){return H.None="None",H.LocalEntity="LocalEntity",H.LocalAuthority="LocalAuthority",H.NewEntity="NewEntity",H.NewAuthority="NewAuthority",H}(j||{});let G=(()=>{class H{constructor(X,J,q,Q,Y,z,Z){this.modal=X,this.lookupRelationService=J,this.modalService=q,this.selectService=Q,this.itemService=Y,this.notificationsService=z,this.translateService=Z,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=T.n,this.context=_.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=j,this.selectedImportType=j.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=y.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const X=Object.assign(new w.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new C.C({query:this.externalSourceEntry.value,pagination:X})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case j.LocalEntity:this.importLocalEntity();break;case j.NewEntity:this.importNewEntity();break;case j.LocalAuthority:this.importLocalAuthority();break;case j.NewAuthority:this.importNewAuthority()}this.selectedImportType=j.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(D.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(X=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,X.collection.id).pipe((0,v.yd)(),(0,v.Bo)(),(0,f.s)(1)))).subscribe(X=>{this.lookupRelationService.removeLocalResultsCache();const J=Object.assign(new R.H,{indexableObject:X});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(J)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===j.LocalEntity&&(this.selectedImportType=j.None)}selectEntity(X){this.selectedEntity=X,this.selectedImportType=j.LocalEntity}selectNewEntity(){this.selectedImportType===j.NewEntity?this.selectedImportType=j.None:(this.selectedImportType=j.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===j.LocalAuthority&&(this.selectedImportType=j.None)}selectAuthority(X){this.selectedAuthority=X,this.selectedImportType=j.LocalAuthority}selectNewAuthority(){this.selectedImportType===j.NewAuthority?this.selectedImportType=j.None:(this.selectedImportType=j.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(J){return new(J||H)(t.rXU(I.Lw),t.rXU(h.c),t.rXU(I.Bq),t.rXU(u.K),t.rXU(m.ItemDataService),t.rXU(M.I),t.rXU(l.c$))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(J,q){if(1&J&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return q.modal.dismiss()}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4)(8,"h4"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",5)(12,"div")(13,"span"),t.EFF(14),t.k0s()(),t.DNE(15,B,3,2,"div",6),t.k0s(),t.j41(16,"h4"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"div",7)(20,"h5",8),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.DNE(23,U,2,13,"ds-search-results",9),t.nI1(24,"async"),t.j41(25,"div",10)(26,"input",11),t.bIt("click",function(){return q.selectNewEntity()}),t.k0s(),t.j41(27,"label",12),t.EFF(28),t.nI1(29,"translate"),t.k0s()()(),t.DNE(30,W,9,7,"div",13),t.k0s(),t.j41(31,"div",14)(32,"div")(33,"button",15),t.bIt("click",function(){return q.close()}),t.EFF(34),t.nI1(35,"translate"),t.k0s()(),t.j41(36,"div")(37,"button",16),t.bIt("click",function(){return q.import()}),t.EFF(38),t.nI1(39,"translate"),t.k0s()()()),2&J){let Q;t.R7$(2),t.JRh(t.bMT(3,13,q.labelPrefix+q.label+".title")),t.R7$(7),t.JRh(t.bMT(10,15,q.labelPrefix+"head."+q.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(q.externalSourceEntry.display),t.R7$(),t.Y8G("ngIf",q.uri),t.R7$(2),t.JRh(t.bMT(18,17,q.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(22,19,q.labelPrefix+"entities")),t.R7$(2),t.Y8G("ngIf",(null==(Q=t.bMT(24,21,q.localEntitiesRD$))||null==Q.payload||null==Q.payload.page?null:Q.payload.page.length)>0),t.R7$(3),t.Y8G("checked",q.selectedImportType===q.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(29,23,q.labelPrefix+"entities.new")),t.R7$(2),t.Y8G("ngIf",q.authorityEnabled),t.R7$(4),t.JRh(t.bMT(35,25,q.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",q.selectedImportType===q.importType.None),t.R7$(),t.JRh(t.bMT(39,27,q.labelPrefix+"import"))}},dependencies:[l.h,l.D9,S.N,i.bT,i.Jj,O.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return H})()},94337:(N,b,n)=>{"use strict";n.d(b,{SF:()=>t,dD:()=>e,zH:()=>f});var i=n(91e3);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class l{constructor(h,_){this.payload={listID:h,itemID:_}}}class e extends l{constructor(h,_,y){super(h,_),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=y}}class f extends l{constructor(h,_){super(h,_),this.type=t.REMOVE_NAME_VARIANT}}},59496:(N,b,n)=>{"use strict";n.d(b,{Fw:()=>m,_I:()=>e,aS:()=>l,oE:()=>t});var i=n(91e3);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class l{constructor(_,y,v,D,O){this.type=t.ADD_RELATIONSHIP,this.payload={item1:_,item2:y,relationshipType:v,submissionId:D,nameVariant:O}}}class e{constructor(_,y,v,D,O){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:_,item2:y,relationshipType:v,submissionId:D,nameVariant:O}}}class m{constructor(_,y,v,D){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:_,item2:y,relationshipType:v,submissionId:D}}}},26091:(N,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationSearchTabComponent:()=>H});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(84412),m=n(96697),h=n(57568),_=n(48833),y=n(22978),M=(n(26292),n(88318),n(59854),n(80183)),T=n(78655),R=n(39012),u=n(13955),w=n(82777),C=n(7581),S=n(13329),I=n(54992),L=n(18226);const B=(V,X)=>({repeatable:V,listId:X});function U(V,X){1&V&&(t.j41(0,"button",10),t.nrm(1,"span",11),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&V&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function W(V,X){if(1&V){const J=t.RV6();t.j41(0,"div",12)(1,"button",13),t.bIt("click",function(){const Q=t.eBV(J).ngVar,Y=t.XpG(3);return t.Njj(Y.selectPage(null==Q?null:Q.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",13),t.bIt("click",function(){const Q=t.eBV(J).ngVar,Y=t.XpG(3);return t.Njj(Y.deselectPage(null==Q?null:Q.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&V&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function j(V,X){if(1&V&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.DNE(3,U,5,3,"button",6),t.j41(4,"button",7)(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,W,7,6,"div",9),t.nI1(9,"async"),t.k0s()()()),2&V){const J=t.XpG(2);t.R7$(3),t.Y8G("ngIf",J.selectAllLoading),t.R7$(),t.Y8G("hidden",J.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,J.resultsRD$))}}function G(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(Q){t.eBV(J);const Y=t.XpG();return t.Njj(Y.onResultFound(Q))})("deselectObject",function(Q){t.eBV(J);const Y=t.XpG();return t.Njj(Y.deselectObject.emit(Q))})("selectObject",function(Q){t.eBV(J);const Y=t.XpG();return t.Njj(Y.selectObject.emit(Q))}),t.DNE(1,j,10,8,"div",2),t.k0s()}if(2&V){const J=t.XpG();t.Y8G("configuration",J.relationship.searchConfiguration)("context",J.context)("fixedFilterQuery",J.relationship.filter)("hiddenQuery",J.hiddenQuery)("inPlaceSearch",!0)("linkType",J.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,B,J.repeatable,J.listId))("showScopeSelector",!1)("showViewModes",!1)("query",J.query),t.R7$(),t.Y8G("ngIf",J.repeatable)}}let H=(()=>{class V{constructor(J,q,Q,Y,z,Z){this.searchService=J,this.selectableListService=q,this.searchConfigService=Q,this.lookupRelationService=Y,this.relationshipService=z,this.paginationService=Z,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new f.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=C.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(J){this.selection$.pipe((0,m.s)(1)).subscribe(q=>{const Q=J.filter(Y=>q.findIndex(z=>z.equals(Y))<0);this.selectObject.emit(...Q)}),this.selectableListService.select(this.listId,J)}deselectPage(J){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(q=>{const Q=J.filter(Y=>q.findIndex(z=>z.equals(Y))>=0);this.deselectObject.emit(...Q)}),this.selectableListService.deselect(this.listId,J)}setSelectedIds(J,q){let Q=this.relationshipType.rightwardType;this.isLeft&&(Q=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,Q,J).pipe((0,M.yd)(),(0,M.Bo)()).subscribe(Y=>{let z=Y.page.map(Z=>{let oe=[];return oe=this.isLeft?Z._links.rightItem.href.split("/"):Z._links.leftItem.href.split("/"),this.getRelatedItem(oe[oe.length-1],q)});z=z.filter(Z=>!this.getIfInRemove(Z.indexableObject.uuid)),z.length>0&&this.selectableListService.select(this.listId,z)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(J=>this.deselectObject.emit(...J)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(J,q){return q.find(Q=>Q.indexableObject.uuid===J)}getIfInRemove(J){return!!this.toRemove.find(q=>q.indexableObject.uuid===J)}ngOnDestroy(){(0,w.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(J){if(this.resultsRD$.next(J),this.resultFound.emit(J),this.isEditRelationship){const q=J.page.map(Q=>Q.indexableObject.uuid);this.setSelectedIds(q,J.page)}}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(T.S),t.rXU(S.K),t.rXU(R.g),t.rXU(h.c),t.rXU(_.RelationshipDataService),t.rXU(y.m))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:u.EN,useClass:R.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(q,Q){1&q&&t.DNE(0,G,2,16,"ds-search",0),2&q&&t.Y8G("ngIf",Q.relationship.searchConfiguration&&Q.context)},dependencies:[i.Jj,L.r,e.h,e.D9,l.zH,l.tg,l.do,l.U0,i.bT,I.N],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return V})()},33126:(N,b,n)=>{"use strict";n.d(b,{j:()=>Et});var i=n(1473),t=n(83278),l=n.n(t),e=n(78124),f=n.n(e),m=n(25689),h=n.n(m),_=n(8917),y=n(14391),v=n(80183),D=n(12866),O=n(82777),M=n(56899),T=n(31635),R=n(21413),u=n(61280),w=n(56568);const C="_CONCAT_GROUP";class L extends i.iO5{constructor(it,Ne){super(it,Ne),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=it.separator+" ",this.relationship=it.relationship,this.repeatable=it.repeatable,this.required=it.required,this.hint=it.hint,this.metadataFields=it.metadataFields,this.submissionId=it.submissionId,this.hasSelectableMetadata=it.hasSelectableMetadata,this.metadataValue=it.metadataValue,this.valueUpdates=new R.B,this.valueUpdates.subscribe(ke=>this.value=ke),this.typeBindRelations=it.typeBindRelations?it.typeBindRelations:[],this.readOnly=it.disabled}get value(){const[it,Ne]=this.group.map(ke=>"string"==typeof ke.value?Object.assign(new u.e,{value:ke.value,display:ke.value}):ke.value);return(0,O.hj)(it)&&(0,O.hj)(it.value)&&(0,O.hj)(Ne)&&(0,O.hj)(Ne.value)?Object.assign(new u.e,it,{value:it.value+this.separator+Ne.value}):(0,O.hj)(it)&&(0,O.hj)(it.value)?Object.assign(new u.e,it):(0,O.hj)(Ne)&&(0,O.hj)(Ne.value)?Object.assign(new u.e,Ne):null}set value(it){let Ne;Ne="string"==typeof it?it:it.value,(0,O.Tn)(Ne)&&(Ne="");const ke=[...Ne.split(this.separator),null].map(ze=>Object.assign(new u.e,it,{display:ze,value:ze}));this.get(0).value=ke[0].value?ke[0]:void 0,this.get(1).value=ke[1].value?ke[1]:void 0}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"separator",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"typeBindRelations",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"typeBindHidden",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",w.j)],L.prototype,"relationship",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"repeatable",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"required",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"metadataFields",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"submissionId",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"hasSelectableMetadata",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",y.vD)],L.prototype,"metadataValue",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"readOnly",void 0);var B=n(38512),U=n(54438),W=n(59519),j=n.n(W),G=n(83085);class H extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var V=function(Lt){return Lt.WorkspaceItem="SUBMISSION",Lt.WorkflowItem="WORKFLOW",Lt}(V||{}),X=n(41780),J=n(89293),q=n(8590),Q=n(74850);class Y{}(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"hints",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"label",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],Y.prototype,"languageCodes",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"mandatoryMessage",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"mandatory",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Boolean)],Y.prototype,"repeatable",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],Y.prototype,"input",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],Y.prototype,"selectableMetadata",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",w.j)],Y.prototype,"selectableRelationship",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],Y.prototype,"rows",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"scope",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],Y.prototype,"style",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],Y.prototype,"typeBind",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],Y.prototype,"value",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],Y.prototype,"visibility",void 0);var z=n(14723);function Z(Lt,it,Ne,ke){(0,O.kZ)(Lt.layout)?(Lt.layout={},Lt.layout[it]={},Lt.layout[it][Ne]=ke):(0,O.b0)(Lt.layout[it])?(Lt.layout[it]={},Lt.layout[it][Ne]=ke):Lt.layout[it][Ne]=(0,O.b0)(Lt.layout[it][Ne])?ke:Lt.layout[it][Ne].concat(` ${ke}`)}var oe=function(Lt){return Lt.Date="date",Lt.Dropdown="dropdown",Lt.RelationGroup="group",Lt.List="list",Lt.Lookup="lookup",Lt.LookupName="lookup-name",Lt.LookupRelation="lookup-relation",Lt.Onebox="onebox",Lt.Name="name",Lt.Series="series",Lt.Tag="tag",Lt.Textarea="textarea",Lt}(oe||{});const se=new U.nKC("submissionId"),de=new U.nKC("configData"),te=new U.nKC("initFormValues"),le=new U.nKC("parserOptions"),Ee=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let be=class{constructor(it,Ne,ke,ze,Ue){this.submissionId=it,this.configData=Ne,this.initFormValues=ke,this.parserOptions=ze,this.translate=Ue}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==oe.List.valueOf()&&this.configData.input.type!==oe.Tag.valueOf()){let ke,it=0,Ne=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(ke=this.configData.selectableMetadata[0].metadata);let ze=!0;this.configData.input.type===oe.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(ze=!1);const Ue={id:j()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:ke,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,O.hj)(this.configData.selectableMetadata),isDraggable:ze,typeBindRelations:(0,O.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Qe;if(0===it)Qe=this.modelFactory(),it++;else{const xt=this.getInitValueCount(it-1);let _t=null;xt>0&&(_t=this.getInitFieldValue(it-1,Ne++),Ne===xt&&(Ne=0,it++)),Qe=this.modelFactory(_t,!1)}return Z(Qe,"element","host","col"),(Qe.hasLanguages||(0,O.hj)(Qe.relationship))&&Z(Qe,"grid","control","col"),[Qe]}};return new q.m(Ue,{grid:{group:"form-row"}})}{const it=this.modelFactory(this.getInitFieldValue());return it.submissionId=this.submissionId,(it.hasLanguages||(0,O.hj)(it.relationship))&&Z(it,"grid","control","col"),it}}setVocabularyOptions(it){(0,O.hj)(this.configData.selectableMetadata)&&(0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(it.vocabularyOptions=new J.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(it,Ne,ke=!1,ze){if((0,O.hj)(Ne)){if(ze)return it.value=this.getInitGroupValues(),void(Array.isArray(it.value)&&it.value.length>0&&it.value[0].language&&(it.language=it.value[0].language));(0,D.z5)(Ne)?it.value=Ne:"object"==typeof Ne?(it.metadataValue=Ne,it.language=Ne.language,it.place=Ne.place,it.value=ke?Ne:Ne.value):ke?it.value=new u.e(Ne):"string"==typeof Ne&&(it.value=Ne)}return it}getInitValueCount(it=0,Ne){const ke=Ne||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(ke)&&1===ke.length&&this.initFormValues.hasOwnProperty(ke[0]))return this.initFormValues[ke[0]].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(ke)&&ke.length>1){const ze=[];return ke.forEach(Ue=>{this.initFormValues.hasOwnProperty(Ue)&&ze.push(this.initFormValues[Ue].length)}),ze[it]}return 0}getInitGroupValues(){const it=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(it)&&1===it.length&&this.initFormValues.hasOwnProperty(it[0]))return this.initFormValues[it[0]]}getInitFieldValues(it){if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(it)&&this.initFormValues.hasOwnProperty(it))return this.initFormValues[it]}getInitFieldValue(it=0,Ne=0,ke){const ze=ke||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(ze)&&1===ze.length&&this.initFormValues.hasOwnProperty(ze[it])&&this.initFormValues[ze[it]].length>Ne)return this.initFormValues[ze[it]][Ne];if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(ze)&&ze.length>1){const Ue=[];return ze.forEach(St=>{if(this.initFormValues.hasOwnProperty(St)){const Qe=Object.assign(new u.e,this.initFormValues[St][Ne]);Qe.metadata=St,Ue.push(Qe)}}),Ue[it]}return null}getInitArrayIndex(){const it=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(it)&&1===it.length&&this.initFormValues.hasOwnProperty(it))return this.initFormValues[it].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(it)&&it.length>1){let Ne=0;return it.forEach(ke=>{this.initFormValues.hasOwnProperty(ke)&&(Ne+=this.initFormValues[ke].length)}),0===Ne?1:Ne}return 1}getFieldId(){const it=this.getAllFieldIds();return(0,O.Pe)(it)?it[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const it=[];return this.configData.selectableMetadata.forEach(Ne=>it.push(Ne.metadata)),it}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(it,Ne=!0,ke=!1,ze=!0,Ue=!0){const St=Object.create(null);return this.fieldId=it||this.getFieldId(),St.name=this.fieldId,St.id=this.fieldId.replace(/\./g,"_"),St.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),St.disabled=St.readOnly,(0,O.a4)(this.configData.selectableRelationship)&&(St.relationship=Object.assign(new w.j,this.configData.selectableRelationship)),St.repeatable=this.configData.repeatable,St.metadataFields=this.getAllFieldIds()||[],St.hasSelectableMetadata=(0,O.hj)(this.configData.selectableMetadata),St.submissionId=this.submissionId,this.setLabel(St,Ne),Ue&&(St.hint=this.configData.hints||"&nbsp;"),St.placeholder=this.configData.label,this.configData.mandatory&&ze&&this.markAsRequired(St),this.hasRegex()&&this.addPatternValidator(St),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(St.languageCodes=this.configData.languageCodes),(0,O.hj)(this.configData.typeBind)&&(St.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),St}isFieldReadOnly(it,Ne,ke){return(0,O.hj)(ke)&&(0,O.hj)(Ne)&&(0,O.hj)(it)&&(ke===G.L.WorkspaceItem.valueOf()&&it.main===z.x.READONLY||it.other===z.x.READONLY&&ke===G.L.WorkflowItem.valueOf())}getTypeBindRelations(it,Ne){const ke=[];return it.forEach(ze=>{ke.push({id:Ne,value:ze})}),[{match:i.zUr,operator:i.fXj,when:ke}]}hasRegex(){return(0,O.a4)(this.configData.input.regex)}addPatternValidator(it){const Ne=this.configData.input.regex.match(Ee);let ke;ke=null!=Ne&&Ne.length>3?new RegExp(Ne[2],Ne[3]):new RegExp(this.configData.input.regex);const ze="error.validation.pattern",Ue=`${ze}.${it.id}`,St=this.translate.instant(Ue)!==Ue;it.validators=Object.assign({},it.validators,{pattern:ke}),it.errorMessages=Object.assign({},it.errorMessages,{pattern:St?Ue:ze})}markAsRequired(it){it.required=!0,it.validators=Object.assign({},it.validators,{required:null}),it.errorMessages=Object.assign({},it.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(it,Ne=!0,ke=!1){Ne&&(it.label=ke?"&nbsp;":this.configData.label)}setOptions(it){(0,O.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(it.options=[],this.configData.selectableMetadata.forEach((Ne,ke)=>{0===ke&&(it.value=Ne.metadata),it.options.push({label:Ne.label,value:Ne.metadata})}))}};be=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(se)),(0,T.Qj)(1,(0,U.y_5)(de)),(0,T.Qj)(2,(0,U.y_5)(te)),(0,T.Qj)(3,(0,U.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,Y,Object,Object,X.c$])],be);var pe=n(33382),re=n(87668);class ye extends be{modelFactory(it,Ne){let ke=!1;const ze=this.initModel(null,!1,!0);if(ze.legend=this.configData.label,ze.disabled=ze.readOnly,ze.toggleIcon="fas fa-calendar",this.setValues(ze,it),(0,O.hj)(ze.value)){const St=ze.value.toString();if(St.length>=4){const Qe=St.split(pe.q);if(Qe.length<4)for(let xt=0;xt<Qe.length;xt++)Qe[xt].length!==(0===xt?4:2)&&(ke=!0)}}const Ue=new re.g(ze);return Ue.malformedDate=ke,Ue}}var De=n(6458);class nt extends be{modelFactory(it,Ne){const ke=this.initModel(null,Ne);return this.setValues(ke,it,!0),new De.H(ke)}}var mt=n(11220);let xe=class extends be{constructor(it,Ne,ke,ze,Ue){super(it,Ne,ke,ze,Ue)}modelFactory(it,Ne){const ke=this.initModel(null,Ne);let ze;if((0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(ke),(0,O.hj)(it)&&(ke.value=it),ze={element:{control:"col"},grid:{host:"col"}},new mt.j(ke,ze);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};xe=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(se)),(0,T.Qj)(1,(0,U.y_5)(de)),(0,T.Qj)(2,(0,U.y_5)(te)),(0,T.Qj)(3,(0,U.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,Y,Object,Object,X.c$])],xe);var ot=n(29658),$e=n(90558);class Fe extends be{modelFactory(it,Ne){const ke=this.initModel(null,Ne);let ze;return ke.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,O.hj)(this.getInitGroupValues())&&(ke.value=[],this.getInitGroupValues().forEach(Ue=>{if(Ue instanceof u.e)ke.value.push(Ue);else{const St=new u.e(Ue);ke.value.push(St)}})),this.setVocabularyOptions(ke)),ke.repeatable?(ke.group=[],ze=new ot.R(ke)):(ke.options=[],ze=new $e.t(ke)),ze}}var st=n(80902);class Ie extends be{modelFactory(it,Ne){if(this.configData.selectableMetadata[0].controlledVocabulary){const ke=this.initModel(null,Ne);return this.setVocabularyOptions(ke),this.setValues(ke,it,!0),new st.P(ke)}}}var We=n(37146);class Dt extends be{modelFactory(it,Ne){if(this.configData.selectableMetadata[0].controlledVocabulary){const ke=this.initModel(null,Ne);return this.setVocabularyOptions(ke),this.setValues(ke,it,!0),new We._(ke)}}}var kt=n(66733);let ct=class extends be{constructor(it,Ne,ke,ze,Ue,St,Qe=null,xt=null){super(it,Ne,ke,ze,Ue),this.separator=St,this.firstPlaceholder=Qe,this.secondPlaceholder=xt,this.separator=St,this.firstPlaceholder=Qe,this.secondPlaceholder=xt}modelFactory(it,Ne){const ke=this.configData.selectableMetadata[0].metadata,ze={grid:{host:"col-sm-6"}},Ue=ke.replace(/\./g,"_")+C,St=this.initModel(Ue,Ne,!1,!0);St.group=[],St.separator=this.separator;const Qe=this.initModel(ke+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),xt=this.initModel(ke+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Qe.hideErrorMessages=!0,xt.hideErrorMessages=!0,(0,O.Tn)(St.hint)&&(0,O.a4)(Qe.hint)&&(0,O.Tn)(xt.hint)&&(St.hint=Qe.hint,Qe.hint=void 0),this.configData.mandatory&&(St.required=!0,Qe.required=!0),St.disabled=Qe.readOnly,(0,O.hj)(this.firstPlaceholder)&&(Qe.placeholder=this.firstPlaceholder),(0,O.hj)(this.secondPlaceholder)&&(xt.placeholder=this.secondPlaceholder);const _t=this.configData.label.split("/");2===_t.length&&(Qe.placeholder=_t[0],xt.placeholder=_t[1]);const Zt=new kt.C(Qe,ze),fn=new kt.C(xt,ze);St.group.push(Zt),St.group.push(fn);const ss=new L(St,{element:{control:"form-row"}});return ss.name=this.getFieldId(),(0,O.hj)(it)&&(ss.value=it),ss}};ct=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(se)),(0,T.Qj)(1,(0,U.y_5)(de)),(0,T.Qj)(2,(0,U.y_5)(te)),(0,T.Qj)(3,(0,U.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,Y,Object,Object,X.c$,String,String,String])],ct);let Ot=class extends ct{constructor(it,Ne,ke,ze,Ue){super(it,Ne,ke,ze,Ue,",","form.last-name","form.first-name")}};Ot=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(se)),(0,T.Qj)(1,(0,U.y_5)(de)),(0,T.Qj)(2,(0,U.y_5)(te)),(0,T.Qj)(3,(0,U.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,Y,Object,Object,X.c$])],Ot);class dn extends i.iO5{constructor(it,Ne){super(it,Ne),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=it.readOnly,this.required=it.required,this.language=it.language,this.languageCodes=it.languageCodes,this.languageUpdates=new R.B,this.languageUpdates.subscribe(ke=>{this.language=ke}),this.hint=it.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(it){this._language=it}get languageCodes(){return this._languageCodes}set languageCodes(it){this._languageCodes=it,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],dn.prototype,"_language",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],dn.prototype,"_languageCodes",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",R.B)],dn.prototype,"languageUpdates",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],dn.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],dn.prototype,"readOnly",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],dn.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],dn.prototype,"required",void 0);var an=n(45500);class In extends be{modelFactory(it,Ne){if(this.configData.selectableMetadata.length>1){const ke={element:{control:"form-row",hint:"ds-form-qualdrop-hint"}},ze={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pr-0"}},Ue={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 pl-0"}},St=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Qe=Object.create(null);Qe.id=St.replace(/\./g,"_")+"_QUALDROP_GROUP",Qe.group=[],Qe.legend=this.configData.label,Qe.hint=this.configData.hints,this.setLabel(Qe,Ne),Qe.required=(0,O.hj)(this.configData.mandatory);const xt=this.initModel(St+"_QUALDROP_VALUE",Ne,!1,!1);xt.hint=null,this.setValues(xt,it);const _t=this.initModel(St+"_QUALDROP_METADATA",Ne,!1,!1);return _t.hint=null,this.setOptions(_t),(0,O.hj)(it)&&(_t.value=it.metadata),_t.disabled=xt.readOnly,Qe.readOnly=_t.disabled&&xt.readOnly,Qe.group.push(new i.z4z(_t,ze)),Qe.group.push(new kt.C(xt,Ue)),new dn(Qe,ke)}if(this.configData.selectableMetadata[0].controlledVocabulary){const ke=this.initModel(null,Ne);return this.setVocabularyOptions(ke),this.setValues(ke,it,!0),new an.K(ke)}{const ke=this.initModel(null,Ne);return this.setValues(ke,it),new kt.C(ke)}}}var Tt=n(11166);class Wt extends be{modelFactory(it,Ne){const ke=this.initModel(null,Ne);if(ke.submissionId=this.submissionId,ke.scopeUUID=this.parserOptions.collectionUUID,ke.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${ke.name}`);ke.formConfiguration=this.configData.rows,ke.relationFields=[],this.configData.rows.forEach(St=>{St.fields.forEach(Qe=>{Qe.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?ke.mandatoryField=this.configData.selectableMetadata[0].metadata:ke.relationFields.push(Qe.selectableMetadata[0].metadata)})}),(0,O.hj)(this.getInitGroupValues())&&(ke.value=[],this.getInitFieldValues(ke.mandatoryField).forEach((Qe,xt)=>{const _t=Object.create(null);[ke.mandatoryField].concat(ke.relationFields).forEach(fn=>{const Cn=this.getInitFieldValue(0,xt,[fn]);_t[fn]=(0,O.hj)(Cn)?Cn:M.N}),ke.value.push(_t)}));const Ue=new Tt.W(ke,{element:{container:"mb-3"}});return Ue.name=this.getFieldId(),Ue}}let It=class extends ct{constructor(it,Ne,ke,ze,Ue){super(it,Ne,ke,ze,Ue,";")}};It=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(se)),(0,T.Qj)(1,(0,U.y_5)(de)),(0,T.Qj)(2,(0,U.y_5)(te)),(0,T.Qj)(3,(0,U.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,Y,Object,Object,X.c$])],It);class qt extends be{modelFactory(it,Ne){const ke=this.initModel(null,Ne);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(ke),this.setValues(ke,it,null,!0),new B.H(ke)}}var ln=n(88280),Mt=n(77485);class Ht extends be{modelFactory(it,Ne){const ke=this.initModel(null,Ne);return ke.rows=10,ke.spellCheck=ln.c.form.spellCheck,this.setValues(ke,it),new Mt.E(ke,{element:{label:"col-form-label"}})}}const Kt=[se,de,te,le,X.c$];class Pt{static getProvider(it){switch(it){case oe.Date:return{provide:be,useClass:ye,deps:[...Kt]};case oe.Dropdown:return{provide:be,useClass:xe,deps:[...Kt]};case oe.RelationGroup:return{provide:be,useClass:Wt,deps:[...Kt]};case oe.List:return{provide:be,useClass:Fe,deps:[...Kt]};case oe.Lookup:return{provide:be,useClass:Ie,deps:[...Kt]};case oe.LookupName:return{provide:be,useClass:Dt,deps:[...Kt]};case oe.Onebox:return{provide:be,useClass:In,deps:[...Kt]};case oe.Name:return{provide:be,useClass:Ot,deps:[...Kt]};case oe.Series:return{provide:be,useClass:It,deps:[...Kt]};case oe.Tag:return{provide:be,useClass:qt,deps:[...Kt]};case oe.Textarea:return{provide:be,useClass:Ht,deps:[...Kt]};case void 0:return{provide:be,useClass:nt,deps:[...Kt]};default:return}}}let Qt=(()=>{class Lt{constructor(Ne){this.parentInjector=Ne}parse(Ne,ke,ze,Ue,St,Qe,xt){let _t=null,Zt=null;const fn={id:j()("df-row-group-config-"),group:[]},Cn=this.filterScopedFields(ke.fields,St),ss=" col-sm-"+Math.trunc(12/Cn.length),Vs={readOnly:Qe,submissionScope:St,collectionUUID:ze,typeField:xt};if(Cn.forEach(gt=>{const lt=(gt.style||ss)+" d-flex flex-column justify-content-start",Yt=Pt.getProvider(gt.input.type);if(!Yt)throw new Error(`unknown form control model type "${gt.input.type}" defined for Input field with label "${gt.label}".`);if(_t=U.zZn.create({providers:[Yt,{provide:se,useValue:Ne},{provide:de,useValue:gt},{provide:te,useValue:Ue},{provide:le,useValue:Vs}],parent:this.parentInjector}).get(be).parse(),_t){if(_t.type===i.WlY||_t.type===M.T)return void(ke.fields.length>1?(Z(_t,"grid","host",lt),fn.group.push(_t)):Zt=_t);Array.isArray(_t)?_t.forEach(Pn=>{Zt=Pn}):(Z(_t,"grid","host",lt),fn.group.push(_t)),_t=null}}),fn&&!(0,O.Im)(fn.group)){const lt=new H(fn,{element:{control:"form-row"}});Array.isArray(Zt)?Zt.push(lt):Zt=lt}return Zt}checksFieldScope(Ne,ke,ze){return(0,O.Im)(Ne)||!this.isHidden(ze,Ne,ke)}isHidden(Ne,ke,ze){return(0,O.hj)(ke)&&(0,O.Im)(Ne)&&(ze===G.L.WorkspaceItem.valueOf()&&ke!==V.WorkspaceItem.valueOf()||ze===G.L.WorkflowItem.valueOf()&&ke!==V.WorkflowItem.valueOf())}filterScopedFields(Ne,ke){const ze=[];return Ne.forEach(Ue=>{this.checksFieldScope(Ue.scope,ke,Ue.visibility)&&ze.push(Ue)}),ze}static{this.\u0275fac=function(ke){return new(ke||Lt)(U.KVO(U.zZn))}}static{this.\u0275prov=U.jDH({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}}return Lt})(),Et=(()=>{class Lt extends i.J9r{constructor(Ne,ke,ze,Ue){super(Ne,ke),this.rowParser=ze,this.configService=Ue,this.formModels=new Map,this.formGroups=new Map,(0,O.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(Ne,ke,ze,Ue){return{$event:{value:ze.value,autoSave:!1},context:ze?.parent instanceof i.fHx?ze?.parent:null,control:Ne,group:ke,model:ze,type:Ue}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(Ne){this.typeBindModel=Ne}findById(Ne,ke,ze=null){let Ue=null;const St=(Qe,xt,_t)=>{for(const Zt of xt){if(Zt.id===Qe){Ue=this.isArrayGroup(Zt)&&(0,O.Pe)(_t)?Zt.get(_t):Zt;break}if(this.isConcatGroup(Zt)&&Zt.id.match(new RegExp(Qe+C))){Ue=Zt;break}if(this.isGroup(Zt)&&St(Qe,Zt.group,_t),this.isArrayGroup(Zt)&&((0,O.kZ)(_t)||Zt.size>_t)){const fn=(0,O.kZ)(_t)?0:_t;St(Qe,Zt.get(fn).group,fn)}}};return St(Ne,ke,ze),Ue}clearAllModelsValue(Ne){const ke=ze=>{for(const Ue of ze)this.isGroup(Ue)?ke(Ue.group):this.isArrayGroup(Ue)?ke(Ue.groupFactory()):Ue.hasOwnProperty("valueChanges")&&(Ue.value=void 0)};ke(Ne)}getValueFromModel(Ne){let ke=Object.create({});const ze=(Qe,xt)=>{if(Array.isArray(Qe))return Qe.concat(xt)},Ue=(Qe,xt,_t)=>{const Zt=Qe.hasLanguages?Qe.language:null;if(Qe?.metadataValue?.authority?.includes(y.BY))return Qe.metadataValue;if(f()(xt))return new u.e(xt,Zt,null,null,_t);if((0,D.z5)(xt))return new u.e((0,D.$T)(xt));if(l()(xt)){const fn=xt.authority||xt.id||null,Cn=_t||xt.place;return(0,D.z5)(xt)?new u.e(xt,Zt,fn,xt,Cn):new u.e(xt.value,Zt,fn,xt.display,Cn,xt.confidence)}return xt},St=(Qe,xt=0)=>{let _t=Object.create({});for(const Zt of Qe){if(this.isRowGroup(Zt)&&!this.isCustomOrListGroup(Zt)){_t=h()(_t,St(Zt.group),ze);continue}if(this.isGroup(Zt)&&!this.isCustomOrListGroup(Zt)){_t[Zt.name]=St(Zt.group);continue}if(this.isRowArrayGroup(Zt)){for(const Cn of Zt.groups)_t=h()(_t,St(Cn.group,Cn.index),ze);continue}if(this.isArrayGroup(Zt)){_t[Zt.name]=[];for(const Cn of Zt.groups)_t[Zt.name].push(St(Cn.group,Cn.index));continue}let fn;if(fn=this.isQualdropGroup(Zt)?Zt.qualdropId:Zt.name,this.isRelationGroup(Zt))Zt.getGroupValue().forEach((ss,us)=>{Object.keys(ss).forEach(gt=>{const lt=Ue(Zt,ss[gt],us);(0,O.hj)(lt)&&lt.hasValue()&&(_t.hasOwnProperty(gt)?_t[gt].push(lt):_t[gt]=[lt])})});else if((0,O.EA)(Zt.value)&&(0,O.hj)(Zt.value)){const Cn=[];(Array.isArray(Zt.value)?Zt.value:[Zt.value]).forEach(us=>{Cn.push(Ue(Zt,us,xt))}),_t[fn]=fn&&_t.hasOwnProperty(fn)&&(0,O.Pe)(_t[fn])?_t[fn].concat(Cn):(0,O.hj)(Cn)?Cn:null}}return _t};return ke=St(Ne),ke}modelFromConfiguration(Ne,ke,ze,Ue={},St,Qe=!1,xt=null,_t=!1){let Zt=[];const fn="string"==typeof ke?JSON.parse(ke,i.zno):ke;return fn.rows&&!(0,O.Im)(fn.rows)&&fn.rows.forEach(Cn=>{const ss=this.rowParser.parse(Ne,Cn,ze,Ue,St,Qe,this.getTypeField());(0,O.Pe)(ss)&&(Array.isArray(ss)?Zt=Zt.concat(ss):Zt.push(ss))}),(0,O.Tn)(xt)&&(xt=this.findById(this.typeField,Zt)),(0,O.a4)(xt)&&this.setTypeBindModel(xt),Zt}isModelInCustomGroup(Ne){return this.isCustomGroup(Ne.parent)}hasArrayGroupValue(Ne){return Ne&&(this.isListGroup(Ne)||Ne.type===B.v)}hasMappedGroupValue(Ne){return this.isQualdropGroup(Ne.parent)||this.isRelationGroup(Ne.parent)}isGroup(Ne){return Ne&&(Ne.type===i.wnr||Ne.type===i.W25)}isQualdropGroup(Ne){return Ne&&Ne.type===i.wnr&&(0,O.a4)(Ne.qualdropId)}isCustomGroup(Ne){return Ne&&Ne.type===i.wnr&&!0===Ne.isCustomGroup}isConcatGroup(Ne){return this.isCustomGroup(Ne)&&-1!==Ne.id.indexOf(C)}isRowGroup(Ne){return Ne&&Ne.type===i.wnr&&!0===Ne.isRowGroup}isCustomOrListGroup(Ne){return Ne&&(this.isCustomGroup(Ne)||this.isListGroup(Ne))}isListGroup(Ne){return Ne&&(Ne.type===i.W25&&!0===Ne.isListGroup||Ne.type===i.KMD&&!0===Ne.isListGroup)}isRelationGroup(Ne){return Ne&&Ne.type===M.T}isRowArrayGroup(Ne){return Ne.type===i.WlY&&!0===Ne.isRowArray}isArrayGroup(Ne){return Ne.type===i.WlY}isInputModel(Ne){return Ne.type===i.FlA}getFormControlById(Ne,ke,ze,Ue=0){const St=this.findById(Ne,ze,Ue);return(0,O.hj)(St)?ke.get(this.getPath(St)):null}getFormControlByModel(Ne,ke){return(0,O.hj)(ke)?Ne.get(this.getPath(ke)):null}getId(Ne){let ke;return this.isArrayGroup(Ne)?Ne.index.toString():(ke=this.isModelInCustomGroup(Ne)?Ne.parent:Ne,ke.id!==ke.name?ke.name:ke.id)}removeFormModel(Ne){this.formModels.has(Ne)&&this.formModels.delete(Ne)}addFormGroups(Ne,ke){this.formGroups.set(Ne,ke)}removeFormGroup(Ne){this.formGroups.has(Ne)&&this.formGroups.delete(Ne)}getMetadataIdsFromEvent(Ne){let ke=Ne.model;for(;ke.parent;)ke=ke.parent;const ze=(St,Qe=0)=>{let xt=Object.create({});for(const _t of St){if(this.isRowGroup(_t)&&!this.isCustomOrListGroup(_t)){xt=h()(xt,ze(_t.group));continue}if(this.isGroup(_t)&&!this.isCustomOrListGroup(_t)){xt[_t.name]=ze(_t.group);continue}if(this.isRowArrayGroup(_t)){for(const fn of _t.groups)xt=h()(xt,ze(fn.group,fn.index));continue}if(this.isArrayGroup(_t)){xt[_t.name]=[];for(const fn of _t.groups)xt[_t.name].push(ze(fn.group,fn.index));continue}let Zt;Zt=this.isQualdropGroup(_t)?_t.qualdropId:_t.name,this.isRelationGroup(_t)?_t.getGroupValue().forEach((Cn,ss)=>{Object.keys(Cn).forEach(us=>{xt[us]=!0})}):xt[Zt]=!0}return xt},Ue=ze([ke]);return Object.keys(Ue)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,v.qD)()).subscribe(Ne=>{if(!Ne.hasSucceeded)return void(this.typeField="dc_type");const ke=Ne.payload.values[0];this.typeField=(0,O.Im)(ke)?"dc_type":ke.replace(/\./g,"_")})}getTypeField(){return(0,O.a4)(this.configService)&&(0,O.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,O.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(ke){return new(ke||Lt)(U.KVO(i.cYz),U.KVO(i.STK),U.KVO(Qt),U.KVO(_.ConfigurationDataService,8))}}static{this.\u0275prov=U.jDH({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}}return Lt})()},61280:(N,b,n)=>{"use strict";n.d(b,{e:()=>f});var i=n(98179),t=n(14391),l=n(82777),e=n(56899);class f{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+f.AUTHORITY_SPLIT}constructor(h=null,_=null,y=null,v=null,D=0,O=null,M=null,T=null){this.value=(0,l.Pe)(h)?"string"==typeof h?h.trim():h:null,this.language=_,this.authority=y,this.display=v||h,this.confidence=O,this.confidence=null==y||!(0,l.Im)(O)&&-1!==O?(0,l.hj)(O)?O:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=D,(0,l.hj)(T)&&(this.metadata=T),this.otherInformation=M}hasAuthority(){return(0,l.hj)(this.authority)}hasAuthorityToGenerate(){return(0,l.hj)(this.authority)&&this.authority.startsWith(f.AUTHORITY_GENERATE)}hasValue(){return(0,l.hj)(this.value)}hasOtherInformation(){return(0,l.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,l.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},56568:(N,b,n)=>{"use strict";n.d(b,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},39729:(N,b,n)=>{"use strict";n.d(b,{K:()=>O});var i=n(54438),t=n(48376),l=n.n(t),e=n(88280),f=n(98179),m=n(14391),h=n(43235),_=n(36599),y=n(82777),v=n(61280),D=n(41780);let O=(()=>{class M{onClick(){(0,y.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==f.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(R,u,w){this.elem=R,this.renderer=u,this.translate=w,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(R){R.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));const u=this.getNameByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));(0,y.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${u}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${u}`)))}ngAfterViewInit(){(0,y.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(R){let u=f.l.CF_UNSET;return(0,y.hj)(R)&&(R instanceof h.b||R instanceof _.M)&&R.hasAuthority()&&(u=f.l.CF_ACCEPTED),(0,y.hj)(R)&&R instanceof v.e&&(u=R.confidence),(0,y.hj)(R)&&R instanceof m.vD&&(u=R.confidence),(0,y.hj)(R)&&Object.values(f.l).includes(R)&&(u=R),u}getClassByConfidence(R){if(!this.visibleWhenAuthorityEmpty&&R===f.l.CF_UNSET)return"d-none";const u=e.c.submission.icons.authority.confidence,w=l()(u,{value:R}),C=l()(u,{value:"default"});return this.iconMode?-1!==w?u[w].icon:-1!==C?u[C].icon:"":-1!==w?u[w].style:-1!==C?u[C].style:""}getNameByConfidence(R){const u=f.l[R];return(0,y.hj)(u)?u.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(u){return new(u||M)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(D.c$))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(u,w){1&u&&i.bIt("click",function(){return w.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return M})()},32710:(N,b,n)=>{"use strict";n.d(b,{AI:()=>t,Dn:()=>m,Dp:()=>v,PW:()=>h,SD:()=>f,Tr:()=>y,V2:()=>e,bS:()=>l,yo:()=>_});var i=n(91e3);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class l{constructor(O,M,T){this.type=t.FORM_INIT,this.payload={formId:O,formData:M,valid:T}}}class e{constructor(O,M){this.type=t.FORM_CHANGE,this.payload={formId:O,formData:M}}}class f{constructor(O,M){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:O,touched:M}}}class m{constructor(O){this.type=t.FORM_REMOVE,this.payload={formId:O}}}class h{constructor(O,M){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:O,valid:M}}}class _{constructor(O,M,T,R){this.type=t.FORM_ADD_ERROR,this.payload={formId:O,fieldId:M,fieldIndex:T,errorMessage:R}}}class y{constructor(O,M,T){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:O,fieldId:M,fieldIndex:T}}}class v{constructor(O){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:O}}}},13143:(N,b,n)=>{"use strict";n.d(b,{s:()=>V});var i=n(60177),t=n(54438),l=n(89417),e=n(1473),f=n(41780),m=n(48376),h=n.n(m),_=n(5964),y=n(96354),v=n(23294),D=n(60456),O=n(82777),M=n(10460);function T(X,J){if(1&X){const q=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(Y){t.eBV(q);const z=t.XpG();return t.Njj(z.onCustomEvent(Y,z.blur))})("dfChange",function(Y){t.eBV(q);const z=t.XpG();return t.Njj(z.onCustomEvent(Y,z.change))})("dfFocus",function(Y){t.eBV(q);const z=t.XpG();return t.Njj(z.onCustomEvent(Y,z.focus))})("ngbEvent",function(Y){t.eBV(q);const z=t.XpG();return t.Njj(z.onCustomEvent(Y,z.ngbEvent))}),t.k0s()}if(2&X){const q=J.$implicit,Q=t.XpG();t.AVh("d-none",q.hidden),t.Y8G("formId",Q.formId)("group",Q.formGroup)("hasErrorMessaging",q.hasErrorMessages)("hidden",q.hidden)("layout",Q.formLayout)("model",q)("templates",Q.templates)("asBootstrapFormGroup",!0)}}let R=(()=>{class X extends e.f4U{constructor(q,Q){super(q,Q),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(Q){return new(Q||X)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-dynamic-form"]],contentQueries:function(Q,Y,z){if(1&Q&&t.wni(z,e.vJF,4),2&Q){let Z;t.mGM(Z=t.lsd())&&(Y.templates=Z)}},viewQuery:function(Q,Y){if(1&Q&&t.GBs(M._,5),2&Q){let z;t.mGM(z=t.lsd())&&(Y.components=z)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(Q,Y){1&Q&&t.DNE(0,T,1,10,"ds-dynamic-form-control-container",0),2&Q&&t.Y8G("ngForOf",Y.formModel)("ngForTrackBy",Y.trackByFn)},dependencies:()=>[M._,i.Sq],encapsulation:2})}}return X})();var u=n(33126),w=n(54002);const C=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],S=["[additional]","*","[before]","[between]","[after]"];function I(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",7)(1,"button",8),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(Y){t.eBV(q);const z=t.XpG(),Z=z.index,oe=z.context,se=t.XpG();return t.Njj(se.removeItem(Y,oe,Z))}),t.j41(4,"span"),t.nrm(5,"i",9),t.k0s()()()}2&X&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function L(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(Y){t.eBV(q);const z=t.XpG().$implicit,Z=t.XpG();return t.Njj(Z.insertItem(Y,z.context,z.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",13),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&X&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function B(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",7)(1,"div",14)(2,"button",15),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(Y){t.eBV(q);const z=t.XpG(),Z=z.index,oe=z.context,se=t.XpG();return t.Njj(se.removeItem(Y,oe,Z))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&X){const q=t.XpG(),Q=q.$implicit,Y=q.index,z=q.context,Z=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===Q.context.groups.length||Z.isItemReadOnly(z,Y)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function U(X,J){if(1&X&&t.DNE(0,I,6,6,"div",5)(1,L,9,9,"div",6)(2,B,8,10,"div",5),2&X){const q=J.$implicit,Q=J.index,Y=J.context,z=t.XpG();t.Y8G("ngIf",!Y.notRepeatable&&!z.isVirtual(Y,Q)&&1!==q.context.groups.length&&!z.isItemReadOnly(Y,Q)),t.R7$(),t.Y8G("ngIf",!Y.notRepeatable&&Q===q.context.groups.length-1&&!z.isItemReadOnly(Y,Q)),t.R7$(),t.Y8G("ngIf",Y.notRepeatable&&Y.showButtons&&q.context.groups.length>1)}}function W(X,J){1&X&&t.SdG(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function j(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(q);const Y=t.XpG(2);return t.Njj(Y.reset())}),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&X){const q=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,q.cancelLabel)," ")}}function G(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",22),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(q);const Y=t.XpG(2);return t.Njj(Y.onSubmit())}),t.nrm(2,"i",23),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&X){const q=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,q.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,q.submitLabel)," ")}}function H(X,J){if(1&X&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",16)(3,"div",17),t.SdG(4,2),t.DNE(5,j,4,3,"button",18),t.SdG(6,3),t.DNE(7,G,5,6,"button",19),t.SdG(8,4),t.k0s()()()),2&X){const q=t.XpG();t.R7$(5),t.Y8G("ngIf",q.displayCancel),t.R7$(2),t.Y8G("ngIf",q.displaySubmit)}}let V=(()=>{class X{constructor(q,Q,Y){this.formService=q,this.changeDetectorRef=Q,this.formBuilderService=Y,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(q=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,q)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,_.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,_.p)(q=>!!q&&((0,O.hj)(q.errors)||(0,O.hj)(this.formErrors))),(0,y.T)(q=>q.errors),(0,v.F)()).subscribe(q=>{const{formGroup:Q,formModel:Y}=this;q.filter(z=>-1===h()(this.formErrors,{fieldId:z.fieldId,fieldIndex:z.fieldIndex})).forEach(z=>{const{fieldId:Z}=z,{fieldIndex:oe}=z;let se;if(se=this.formBuilderService.getFormControlById(Z,this.parentFormModel?Q.parent:Q,Y,oe),se){const de=this.formBuilderService.findById(Z,Y);this.formService.addErrorToField(se,de,z.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(z=>-1===h()(q,{fieldId:z.fieldId,fieldIndex:z.fieldIndex})).forEach(z=>{const{fieldId:Z}=z,{fieldIndex:oe}=z;let se;if(se=this.formBuilderService.getFormControlById(Z,this.parentFormModel?Q.parent:Q,Y,oe),se){const de=this.formBuilderService.findById(Z,Y);this.formService.removeErrorFromField(se,de,z.message)}}),this.formErrors=q,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(q=>(0,O.a4)(q)).forEach(q=>q.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(q=>{!Object.is(q,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(q)}))}onBlur(q){this.blur.emit(q);const Q=q.control,Y=q.context&&q.context.index?q.context.index:0;Q.valid?this.formService.removeError(this.formId,q.model.name,Y):this.formService.addControlErrors(Q,this.formId,q.model.name,Y)}onCustomEvent(q){this.customEvent.emit(q)}onFocus(q){this.formService.setTouched(this.formId,this.formModel,q),this.focus.emit(q)}onChange(q){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(q),q.control.valid&&this.formService.removeError(this.formId,q.model.id,q.context&&q.context.index?q.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(q,Q){return q.groups[Q].group[0].readOnly}removeItem(q,Q,Y){const z=this.formGroup.get(this.formBuilderService.getPath(Q)),Z=this.getEvent(q,Q,Y,"remove");this.formBuilderService.isQualdropGroup(Z.model)&&this.removeArrayItem.emit(Z),this.formBuilderService.removeFormArrayGroup(Y,z,Q),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(Z.model)||this.removeArrayItem.emit(Z)}insertItem(q,Q,Y){const z=this.formGroup.get(this.formBuilderService.getPath(Q));this.formBuilderService.insertFormArrayGroup(Y,z,Q),this.addArrayItem.emit(this.getEvent(q,Q,Y,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(q,Q){const z=q.groups[Q].group[0].metadataValue;return(0,O.hj)(z)&&z.isVirtual}getEvent(q,Q,Y,z){const Z=Q.groups[Y],oe=Z.context;let se=this.formGroup.get(oe.id);if((0,O.kZ)(se))for(const le of Object.keys(this.formGroup.controls))if(se=this.formGroup.controls[le].get(oe.id),(0,O.Pe)(se))break;return{$event:q,context:Z,control:se.controls[Y],group:se,model:Z.group[0],type:z}}static{this.\u0275fac=function(Q){return new(Q||X)(t.rXU(w.u),t.rXU(t.gRc),t.rXU(u.j))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:S,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"dsBtnDisabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(Q,Y){1&Q&&(t.NAR(C),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(Z){return Z.stopPropagation()})("dfBlur",function(Z){return Y.onBlur(Z)})("dfChange",function(Z){return Y.onChange(Z)})("dfFocus",function(Z){return Y.onFocus(Z)})("ngbEvent",function(Z){return Y.onCustomEvent(Z)}),t.DNE(3,U,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,W,1,0,"ng-content",4)(6,H,9,2,"div",4),t.k0s()()),2&Q&&(t.R7$(),t.Y8G("formGroup",Y.formGroup),t.R7$(),t.Y8G("formId",Y.formId)("formGroup",Y.formGroup)("formModel",Y.formModel)("formLayout",Y.formLayout),t.R7$(3),t.Y8G("ngIf",!Y.displaySubmit&&!Y.displayCancel),t.R7$(),t.Y8G("ngIf",Y.displaySubmit||Y.displayCancel))},dependencies:[R,l.X1,l.qT,l.cb,l.j4,f.h,f.D9,e.EET,e.vJF,i.bT,i.Jj,D.A],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})}}return X})()},54002:(N,b,n)=>{"use strict";n.d(b,{u:()=>u});var i=n(89417),t=n(1473),l=n(25499),e=n(59519),f=n.n(e),m=n(5964),h=n(96354),_=n(23294),y=n(88280),v=n(82777),D=n(33126),O=n(32710);const M=w=>w.forms;function T(w){return(0,l.Mz)(M,C=>C[w])}var R=n(54438);let u=(()=>{class w{constructor(S,I){this.formBuilderService=S,this.store=I}isValid(S){return this.store.pipe((0,l.Lt)(T(S)),(0,m.p)(I=>(0,v.EA)(I)),(0,h.T)(I=>I.valid),(0,_.F)())}getFormData(S){return this.store.pipe((0,l.Lt)(T(S)),(0,m.p)(I=>(0,v.EA)(I)),(0,h.T)(I=>I.data),(0,_.F)())}getFormTouchedState(S){return this.store.pipe((0,l.Lt)(T(S)),(0,m.p)(I=>(0,v.EA)(I)),(0,h.T)(I=>I.touched),(0,_.F)())}getFormErrors(S){return this.store.pipe((0,l.Lt)(T(S)),(0,m.p)(I=>(0,v.EA)(I)),(0,h.T)(I=>I.errors),(0,_.F)())}isFormInitialized(S){return this.store.pipe((0,l.Lt)(T(S)),(0,_.F)(),(0,h.T)(I=>(0,v.EA)(I)))}getUniqueId(S){return f()()+"_"+S}validateAllFormFields(S){Object.keys(S.controls).forEach(I=>{const L=S.get(I);L instanceof i.hs?(L.markAsTouched({onlySelf:!0}),L.markAsDirty({onlySelf:!0})):(L instanceof i.J3||L instanceof i.Bm)&&this.validateAllFormFields(L)})}hasValidationErrors(S){let I=!1;const L=Object.keys(S.controls);for(const B of L){const U=S.get(B);if(U instanceof i.hs?I=!U.valid&&U.touched:(U instanceof i.J3||U instanceof i.Bm)&&(I=this.hasValidationErrors(U)),I)break}return I}addControlErrors(S,I,L,B){null!==S.errors&&Object.keys(S.errors).filter(W=>!0===S.errors[W]).map(W=>`error.validation.${W}`).forEach(W=>this.addError(I,L,B,W))}addErrorToField(S,I,L){const B={},U=this.getValidatorNameFromMap(L);let W=L;I.errorMessages||(I.errorMessages={}),(0,v.Im)(I.errorMessages[U])?I.errorMessages[U]=L:W=I.errorMessages[U],S.hasError(U)||(B[U]=!0,S.setErrors(B)),S instanceof i.J3&&I instanceof t.iO5&&this.formBuilderService.isConcatGroup(I)&&I.group.forEach(j=>{this.addErrorToField(S.controls[j.id],j,L)}),S.markAsTouched()}removeErrorFromField(S,I,L){const B={},U=this.getValidatorNameFromMap(L);S.hasError(U)&&(B[U]=null,S.setErrors(B)),S instanceof i.J3&&I instanceof t.iO5&&this.formBuilderService.isConcatGroup(I)&&I.group.forEach(W=>{this.removeErrorFromField(S.controls[W.id],W,L)}),S.markAsUntouched()}resetForm(S,I,L){this.formBuilderService.clearAllModelsValue(I),S.reset(),this.store.dispatch(new O.V2(L,S.value))}getValidatorNameFromMap(S){if(S.includes(".")){const I=S.split(".");I&&I.length>0&&(S=this.getValidatorNameFromMap(I[I.length-1]))}return y.c.form.validatorMap.hasOwnProperty(S)?y.c.form.validatorMap[S]:S}initForm(S,I,L){this.store.dispatch(new O.bS(S,this.formBuilderService.getValueFromModel(I),L))}setStatusChanged(S,I){this.store.dispatch(new O.PW(S,I))}getForm(S){return this.store.pipe((0,l.Lt)(T(S)))}removeForm(S){this.store.dispatch(new O.Dn(S))}changeForm(S,I){this.store.dispatch(new O.V2(S,this.formBuilderService.getValueFromModel(I)))}setTouched(S,I,L){const B=this.formBuilderService.getMetadataIdsFromEvent(L);this.store.dispatch(new O.SD(S,B))}addError(S,I,L,B){const U=I.replace(/\./g,"_");this.store.dispatch(new O.yo(S,U,L,B))}removeError(S,I,L){const B=I.replace(/\./g,"_");this.store.dispatch(new O.Tr(S,B,L))}static{this.\u0275fac=function(I){return new(I||w)(R.KVO(D.j),R.KVO(l.il))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},38443:(N,b,n)=>{"use strict";n.d(b,{_:()=>f});var i=n(54438),t=n(41780),l=n(77516),e=n(52149);let f=(()=>{class m{constructor(_,y){this.activeModal=_,this.translate=y,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(_){this.select.emit(_),this.activeModal.close(_)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(y){return new(y||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:10,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(y,v){1&y&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return v.activeModal.dismiss("Cross click")}),i.j41(5,"span",3),i.EFF(6,"\xd7"),i.k0s()()(),i.j41(7,"div",4)(8,"div",5)(9,"ds-vocabulary-treeview",6),i.bIt("select",function(O){return v.onSelect(O)}),i.k0s()()()),2&y&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(7),i.Y8G("vocabularyOptions",v.vocabularyOptions)("description",v.description)("preloadLevel",v.preloadLevel)("selectedItems",v.selectedItems)("multiSelect",v.multiSelect)("showAdd",v.showAdd))},dependencies:[l.P,t.h,t.D9]})}}return m})()},77516:(N,b,n)=>{"use strict";n.d(b,{P:()=>xe});var i=n(64109),t=n(60177),l=n(54438),e=n(89417),f=n(52149),m=n(41780),h=n(32089),_=n(16292),y=n(47978),v=n(60456),D=n(82777),O=n(82394),M=n(45024),T=n(84412),R=n(57786),u=n(96354);class w extends M.qS{get data(){return this._data.value}set data($e){this._data.next($e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor($e,Fe,st=[]){super(),this._treeControl=$e,this._treeFlattener=Fe,this._flattenedData=new T.t([]),this._expandedData=new T.t([]),this._data=new T.t(st)}connect($e){return(0,R.h)($e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,u.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var C=n(96697);class S{constructor($e,Fe,st,Ie){this.transformFunction=$e,this.getLevel=Fe,this.isExpandable=st,this.getChildren=Ie}_flattenNode($e,Fe,st,Ie){const We=this.transformFunction($e,Fe);if(st.push(We),this.isExpandable(We)){const Dt=this.getChildren($e);Dt&&(Array.isArray(Dt)?this._flattenChildren(Dt,Fe,st,Ie):Dt.pipe((0,C.s)(1)).subscribe(kt=>{this._flattenChildren(kt,Fe,st,Ie)}))}return st}_flattenChildren($e,Fe,st,Ie){$e.forEach((We,Dt)=>{const kt=Ie.slice();kt.push(Dt!==$e.length-1),this._flattenNode(We,Fe+1,st,kt)})}flattenNodes($e){const Fe=[];return $e.forEach(st=>this._flattenNode(st,0,Fe,[])),Fe}expandFlattenedNodes($e,Fe){const st=[],Ie=[];return Ie[0]=!0,$e.forEach(We=>{let Dt=!0;for(let kt=0;kt<=this.getLevel(We);kt++)Dt=Dt&&Ie[kt];Dt&&st.push(We),this.isExpandable(We)&&(Ie[this.getLevel(We)+1]=Fe.isExpanded(We))}),st}}var I=n(48376),L=n.n(I),B=n(71985),U=n(7673),W=n(73028),j=n(31943),G=n(79335),H=n(80183),V=n(19506);const X="LOAD_MORE",J="LOAD_MORE_ROOT",q={id:X},Q={id:J};class Y{get children(){return this.childrenChange.value}constructor($e,Fe=!1,st=new h.Q,Ie=null,We=!1,Dt=!1,kt=!1){this.item=$e,this.hasChildren=Fe,this.pageInfo=st,this.loadMoreParentItem=Ie,this.isSearchNode=We,this.isInInitValueHierarchy=Dt,this.isSelected=kt,this.childrenChange=new T.t([])}updatePageInfo($e){this.pageInfo=$e}}class z{constructor($e,Fe=1,st=!1,Ie=!1,We=new h.Q,Dt=null,kt=!1,ct=!1,Ot=!1){this.item=$e,this.level=Fe,this.expandable=st,this.childrenLoaded=Ie,this.pageInfo=We,this.loadMoreParentItem=Dt,this.isSearchNode=kt,this.isInInitValueHierarchy=ct,this.isSelected=Ot}}let Z=(()=>{class ot{constructor(Fe){this.vocabularyService=Fe,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new T.t([]),this.initValueHierarchy=[],this.loading=new T.t(!1),this.hideSearchingWhenUnsubscribed$=new B.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Fe,st,Ie,We){this.loading.next(!0),this.vocabularyOptions=Fe,this.vocabularyName=Fe.name,this.pageInfo=st,(0,D.hj)(We)?this.getNodeHierarchyById(We,Ie).subscribe(Dt=>{this.initValueHierarchy=Dt,this.retrieveTopNodes(st,[],Ie)}):this.retrieveTopNodes(st,[],Ie)}getData(){return this.dataChange}loadMoreRoot(Fe,st){const Ie=this.dataChange.value;Ie.pop(),this.retrieveTopNodes(Fe.pageInfo,Ie,st)}loadMore(Fe,st,Ie=!1){if(!this.nodeMap.has(Fe.otherInformation.id))return;const We=this.nodeMap.get(Fe.otherInformation.id),Dt=this.nodeMap.get(Fe.otherInformation.id).children||[];Dt.pop(),this.getChildrenNodesByParent(Fe.otherInformation.id,We.pageInfo).subscribe(kt=>{if(Ie&&We.children.length>0)return;const ct=kt.page.map(Ot=>this._generateNode(Ot,st));if(Dt.push(...ct),kt.pageInfo.currentPage+1<=kt.pageInfo.totalPages){const Ot=Object.assign(new h.Q,kt.pageInfo,{currentPage:kt.pageInfo.currentPage+1});We.updatePageInfo(Ot),Dt.push(new Y(q,!1,Ot,Fe))}We.childrenChange.next(Dt),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Fe,st){this.loading.next(!0),(0,D.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Fe,!1,this.vocabularyOptions,new h.Q).pipe((0,H.Ar)(),(0,W.Z)(Ie=>Ie.length>0?Ie:(0,U.of)(null)),(0,W.Z)(Ie=>this.vocabularyService.findEntryDetailById(Ie.otherInformation.id,this.vocabularyName).pipe((0,H.ak)())),(0,W.Z)(Ie=>this.getNodeHierarchy(Ie,st)),(0,j.S)((Ie,We)=>(0,D.Im)(We)||-1!==L()(Ie,Dt=>Dt.item.otherInformation.id===We.item.otherInformation.id)?Ie:[...Ie,We],[]),(0,G.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(Ie=>{this.dataChange.next(Ie),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Fe,st,Ie=!1,We=!0){const Dt=Fe.otherInformation.id;if(this.nodeMap.has(Dt))return this.nodeMap.get(Dt);const kt=Fe.hasOtherInformation()&&"true"===Fe.otherInformation.hasChildren,ct=this.pageInfo,Ot=this.initValueHierarchy.includes(Dt),ve=st.some(()=>st.includes(Dt)),Be=new Y(Fe,kt,ct,null,Ie,Ot,ve);return We&&this.nodeMap.set(Dt,Be),Be}getNodeHierarchyById(Fe,st){return this.getById(Fe).pipe((0,W.Z)(Ie=>this.getNodeHierarchy(Ie,st,[],!1)),(0,u.T)(Ie=>this.getNodeHierarchyIds(Ie,st)))}getChildrenNodesByParent(Fe,st){return this.vocabularyService.getEntryDetailChildren(Fe,this.vocabularyName,st).pipe((0,H.ak)())}getParentNode(Fe){return this.vocabularyService.getEntryDetailParent(Fe,this.vocabularyName).pipe((0,H.ak)())}getById(Fe){return this.vocabularyService.findEntryDetailById(Fe,this.vocabularyName).pipe((0,H.ak)())}retrieveTopNodes(Fe,st,Ie){this.vocabularyService.searchTopEntries(this.vocabularyName,Fe).pipe((0,H.ak)()).subscribe(We=>{this.vocabularyService.clearSearchTopRequests();const Dt=We.page.map(kt=>this._generateNode(kt,Ie));if(st.push(...Dt),We.pageInfo.currentPage+1<=We.pageInfo.totalPages){const kt=Object.assign(new h.Q,We.pageInfo,{currentPage:We.pageInfo.currentPage+1}),ct=new Y(Q,!1,kt);ct.updatePageInfo(kt),st.push(ct)}this.loading.next(!1),this.dataChange.next(st)})}getNodeHierarchy(Fe,st,Ie,We=!0){if((0,D.Im)(Fe))return(0,U.of)(null);const Dt=this._generateNode(Fe,st,We,We);if((0,D.hj)(Ie)){const kt=Ie.filter(ct=>-1===L()(Dt.children,Ot=>Ot.item.otherInformation.id===ct.item.otherInformation.id));kt.forEach(ct=>{ct.loadMoreParentItem=Dt.item}),Dt.children.push(...kt)}return Dt.item.hasOtherInformation()&&(0,D.hj)(Dt.item.otherInformation.parent)?this.getParentNode(Dt.item.otherInformation.id).pipe((0,W.Z)(kt=>this.getNodeHierarchy(kt,st,[Dt],We))):(0,U.of)(Dt)}getNodeHierarchyIds(Fe,st,Ie=[]){return Ie.includes(Fe.item.otherInformation.id)||Ie.push(Fe.item.otherInformation.id),(0,D.hj)(Fe.children)?this.getNodeHierarchyIds(Fe.children[0],st,Ie):Ie}static{this.\u0275fac=function(st){return new(st||ot)(l.KVO(V.g))}}static{this.\u0275prov=l.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}}return ot})();const oe=["searchInput"];function se(ot,$e){if(1&ot&&l.nrm(0,"ds-alert",19),2&ot){const Fe=l.XpG();l.Y8G("content",Fe.description)("type",Fe.AlertType.Info)}}function de(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"button",20),l.nI1(1,"translate"),l.bIt("click",function(){l.eBV(Fe);const Ie=l.XpG();return l.Njj(Ie.add())}),l.EFF(2),l.nI1(3,"translate"),l.k0s()}2&ot&&(l.BMQ("aria-label",l.bMT(1,2,"vocabulary-treeview.search.form.add")),l.R7$(2),l.SpI(" ",l.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function te(ot,$e){1&ot&&l.nrm(0,"ds-loading",21),2&ot&&l.Y8G("showMessage",!1)}function le(ot,$e){1&ot&&(l.j41(0,"h2",22)(1,"span"),l.EFF(2),l.nI1(3,"translate"),l.k0s()()),2&ot&&(l.R7$(2),l.JRh(l.bMT(3,1,"vocabulary-treeview.search.no-result")))}function Ee(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"label",28)(1,"input",29),l.mxI("ngModelChange",function(Ie){l.eBV(Fe);const We=l.XpG().$implicit;return l.DH7(We.isSelected,Ie)||(We.isSelected=Ie),l.Njj(Ie)}),l.bIt("change",function(){l.eBV(Fe);const Ie=l.XpG().$implicit,We=l.XpG();return l.Njj(We.onSelect(Ie.item))}),l.k0s(),l.j41(2,"span"),l.EFF(3),l.k0s()()}if(2&ot){const Fe=l.XpG().$implicit;l.AVh("text-success",Fe.isSelected),l.Y8G("ngbTooltip",null==Fe.item||null==Fe.item.otherInformation?null:Fe.item.otherInformation.note)("openDelay",500),l.R7$(),l.Y8G("disabled",!(null!=Fe.item&&Fe.item.selectable)),l.R50("ngModel",Fe.isSelected),l.Y8G("checked",Fe.isSelected),l.R7$(2),l.JRh(Fe.item.display)}}function be(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"button",30),l.bIt("click",function(){l.eBV(Fe);const Ie=l.XpG().$implicit,We=l.XpG();return l.Njj(We.onSelect(Ie.item))}),l.j41(1,"span"),l.EFF(2),l.k0s()()}if(2&ot){const Fe=l.XpG().$implicit;l.AVh("text-success",Fe.isSelected),l.Y8G("dsBtnDisabled",!(null!=Fe.item&&Fe.item.selectable))("ngbTooltip",null==Fe.item||null==Fe.item.otherInformation?null:Fe.item.otherInformation.note)("openDelay",500),l.R7$(2),l.JRh(Fe.item.display)}}function pe(ot,$e){if(1&ot&&(l.j41(0,"cdk-tree-node",23)(1,"span",24),l.nrm(2,"i",25),l.k0s(),l.DNE(3,Ee,4,8,"label",26)(4,be,3,6,"button",27),l.k0s()),2&ot){const Fe=l.XpG();l.R7$(3),l.Y8G("ngIf",Fe.multiSelect),l.R7$(),l.Y8G("ngIf",!Fe.multiSelect)}}function re(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"label",28)(1,"input",29),l.mxI("ngModelChange",function(Ie){l.eBV(Fe);const We=l.XpG().$implicit;return l.DH7(We.isSelected,Ie)||(We.isSelected=Ie),l.Njj(Ie)}),l.bIt("change",function(){l.eBV(Fe);const Ie=l.XpG().$implicit,We=l.XpG();return l.Njj(We.onSelect(Ie.item))}),l.k0s(),l.j41(2,"span"),l.EFF(3),l.k0s()()}if(2&ot){const Fe=l.XpG().$implicit;l.AVh("text-success",Fe.isSelected),l.Y8G("ngbTooltip",null==Fe.item||null==Fe.item.otherInformation?null:Fe.item.otherInformation.note)("openDelay",500),l.R7$(),l.Y8G("disabled",!(null!=Fe.item&&Fe.item.selectable)),l.R50("ngModel",Fe.isSelected),l.Y8G("checked",Fe.isSelected),l.R7$(2),l.JRh(Fe.item.display)}}function ye(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"button",30),l.bIt("click",function(){l.eBV(Fe);const Ie=l.XpG().$implicit,We=l.XpG();return l.Njj(We.onSelect(Ie.item))}),l.j41(1,"span"),l.EFF(2),l.k0s()()}if(2&ot){const Fe=l.XpG().$implicit;l.AVh("text-success",Fe.isSelected),l.Y8G("dsBtnDisabled",!(null!=Fe.item&&Fe.item.selectable))("ngbTooltip",null==Fe.item||null==Fe.item.otherInformation?null:Fe.item.otherInformation.note)("openDelay",500),l.R7$(2),l.JRh(Fe.item.display)}}function De(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"cdk-tree-node",23)(1,"button",31),l.bIt("click",function(){const Ie=l.eBV(Fe).$implicit,We=l.XpG();return l.Njj(We.loadChildren(Ie))}),l.nrm(2,"i"),l.k0s(),l.DNE(3,re,4,8,"label",26)(4,ye,3,6,"button",27),l.k0s()}if(2&ot){const Fe=$e.$implicit,st=l.XpG();l.R7$(),l.BMQ("aria-label","toggle "+Fe.name),l.R7$(),l.ZvI("fas fa-fw ",st.treeControl.isExpanded(Fe)?"fa-angle-down":"fa-angle-right",""),l.R7$(),l.Y8G("ngIf",st.multiSelect),l.R7$(),l.Y8G("ngIf",!st.multiSelect)}}function nt(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"cdk-tree-node",32)(1,"button",33),l.nI1(2,"translate"),l.bIt("click",function(){const Ie=l.eBV(Fe).$implicit,We=l.XpG();return l.Njj(We.loadMore(Ie.loadMoreParentItem))}),l.EFF(3),l.nI1(4,"translate"),l.k0s()()}2&ot&&(l.R7$(),l.BMQ("aria-label",l.bMT(2,2,"vocabulary-treeview.load-more")),l.R7$(2),l.SpI(" ",l.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function mt(ot,$e){if(1&ot){const Fe=l.RV6();l.j41(0,"cdk-tree-node")(1,"button",33),l.nI1(2,"translate"),l.bIt("click",function(){const Ie=l.eBV(Fe).$implicit,We=l.XpG();return l.Njj(We.loadMoreRoot(Ie))}),l.EFF(3),l.nI1(4,"translate"),l.k0s()()}2&ot&&(l.R7$(),l.BMQ("aria-label",l.bMT(2,2,"vocabulary-treeview.load-more")),l.R7$(2),l.SpI(" ",l.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let xe=(()=>{class ot{constructor(Fe){this.vocabularyTreeviewService=Fe,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new l.bkB(null),this.deselect=new l.bkB(null),this.subs=[],this.AlertType=y.v,this.getChildren=st=>st.childrenChange,this.transformer=(st,Ie)=>{const We=this.getEntryId(st.item),Dt=this.nodeMap.get(We);if(Dt&&Dt.item.id!==X&&Dt.item.id!==J)return Dt;const kt=new z(st.item,Ie,st.hasChildren,st.hasChildren&&(0,D.hj)(st.children),st.pageInfo,st.loadMoreParentItem,st.isSearchNode,st.isInInitValueHierarchy,st.isSelected);return this.nodeMap.set(We,kt),(Ie+1<this.preloadLevel&&kt.childrenLoaded||kt.isSearchNode&&kt.childrenLoaded||kt.isInInitValueHierarchy)&&(kt.isSearchNode||this.loadChildren(kt),this.treeControl.expand(kt)),kt},this.getLevel=st=>st.level,this.isExpandable=st=>st.expandable,this.hasChildren=(st,Ie)=>Ie.expandable,this.isLoadMore=(st,Ie)=>Ie.item.id===X,this.isLoadMoreRoot=(st,Ie)=>Ie.item.id===J,this.treeFlattener=new S(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new i.XW(this.getLevel,this.isExpandable),this.dataSource=new w(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(st=>{this.dataSource.data=st})),this.loading=this.vocabularyTreeviewService.isLoading();const Fe=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new h.Q,this.getSelectedEntryIds(),Fe)}loadMore(Fe){this.vocabularyTreeviewService.loadMore(Fe,this.getSelectedEntryIds())}loadMoreRoot(Fe){this.vocabularyTreeviewService.loadMoreRoot(Fe,this.getSelectedEntryIds())}loadChildren(Fe){this.vocabularyTreeviewService.loadMore(Fe.item,this.getSelectedEntryIds(),!0)}onSelect(Fe){this.getSelectedEntryIds().includes(this.getEntryId(Fe))?(this.selectedItems=this.selectedItems.filter(st=>this.getEntryId(st)!==this.getEntryId(Fe)),this.deselect.emit(Fe)):(this.selectedItems.push(Fe),this.select.emit(Fe))}search(){(0,D.hj)(this.searchText)&&((0,D.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,D.hj)(this.searchText)}reset(){this.searchText="";for(const Fe of this.selectedItems)this.deselect.emit(Fe),this.nodeMap.get(this.getEntryId(Fe)).isSelected=!1;this.selectedItems=[],(0,D.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Fe=>(0,D.a4)(Fe)).forEach(Fe=>Fe.unsubscribe())}getEntryId(Fe){return Fe?.authority||Fe?.otherInformation?.id||Fe?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Fe=>this.getEntryId(Fe)).filter(Fe=>(0,D.hj)(Fe))}ngOnChanges(Fe){!Fe.vocabularyOptions.isFirstChange()&&Fe.vocabularyOptions.currentValue!==Fe.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new h.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(st){return new(st||ot)(l.rXU(Z))}}static{this.\u0275cmp=l.VBU({type:ot,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(st,Ie){if(1&st&&l.GBs(oe,5),2&st){let We;l.mGM(We=l.lsd())&&(Ie.searchInput=We.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[l.OA$,l.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type",4,"ngIf"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["aria-live","polite"],["class","h4 text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"content","type"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"showMessage"],[1,"h4","text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1"],[1,"fas","fa-fw","fa-angle-right","invisible"],["class","d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-left","container","body",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"mr-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body",1,"btn","btn-outline-link","btn-sm","text-left",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1",3,"click"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(st,Ie){if(1&st){const We=l.RV6();l.DNE(0,se,1,2,"ds-alert",1),l.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),l.nI1(6,"translate"),l.nI1(7,"translate"),l.mxI("ngModelChange",function(kt){return l.eBV(We),l.DH7(Ie.searchText,kt)||(Ie.searchText=kt),l.Njj(kt)}),l.bIt("keyup.enter",function(){return l.eBV(We),l.Njj(Ie.search())}),l.k0s(),l.j41(8,"div",6)(9,"button",7),l.nI1(10,"translate"),l.bIt("click",function(){return l.eBV(We),l.Njj(Ie.search())}),l.EFF(11),l.nI1(12,"translate"),l.k0s(),l.j41(13,"button",8),l.nI1(14,"translate"),l.bIt("click",function(){return l.eBV(We),l.Njj(Ie.reset())}),l.EFF(15),l.nI1(16,"translate"),l.k0s(),l.DNE(17,de,4,6,"button",9),l.j41(18,"button",7),l.nI1(19,"translate"),l.bIt("click",function(){return l.eBV(We),l.Njj(Ie.add())}),l.EFF(20),l.nI1(21,"translate"),l.k0s()()()()(),l.j41(22,"div",10),l.DNE(23,te,1,1,"ds-loading",11),l.nI1(24,"async"),l.j41(25,"div",12),l.DNE(26,le,4,3,"h2",13),l.nI1(27,"async"),l.k0s(),l.j41(28,"cdk-tree",14),l.DNE(29,pe,5,2,"cdk-tree-node",15)(30,De,5,6,"cdk-tree-node",16)(31,nt,5,6,"cdk-tree-node",17)(32,mt,5,6,"cdk-tree-node",18),l.k0s()()}2&st&&(l.Y8G("ngIf",Ie.description),l.R7$(4),l.R50("ngModel",Ie.searchText),l.Y8G("placeholder",l.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),l.BMQ("aria-label",l.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),l.R7$(5),l.Y8G("dsBtnDisabled",!Ie.isSearchEnabled()),l.BMQ("aria-label",l.bMT(10,24,"vocabulary-treeview.search.form.search")),l.R7$(2),l.SpI(" ",l.bMT(12,26,"vocabulary-treeview.search.form.search")," "),l.R7$(2),l.BMQ("aria-label",l.bMT(14,28,"vocabulary-treeview.search.form.reset")),l.R7$(2),l.SpI(" ",l.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),l.R7$(2),l.Y8G("ngIf",Ie.showAdd&&Ie.vocabularyOptions.closed),l.R7$(),l.Y8G("dsBtnDisabled",Ie.vocabularyOptions.closed),l.BMQ("aria-label",l.bMT(19,32,"vocabulary-treeview.search.form.add")),l.R7$(2),l.SpI(" ",l.bMT(21,34,"vocabulary-treeview.search.form.add")," "),l.R7$(3),l.Y8G("ngIf",l.bMT(24,36,Ie.loading)),l.R7$(3),l.Y8G("ngIf",!0!==l.bMT(27,38,Ie.loading)&&0===Ie.dataSource.data.length),l.R7$(2),l.Y8G("dataSource",Ie.dataSource)("treeControl",Ie.treeControl),l.R7$(2),l.Y8G("cdkTreeNodeDefWhen",Ie.hasChildren),l.R7$(),l.Y8G("cdkTreeNodeDefWhen",Ie.isLoadMore),l.R7$(),l.Y8G("cdkTreeNodeDefWhen",Ie.isLoadMoreRoot))},dependencies:[e.YN,e.me,e.Zm,e.BC,e.vS,f.n8,f.md,t.bT,i.Dc,i.Sz,i.aI,i.Hy,i.NL,i.xn,m.h,m.D9,t.Jj,O.v,_.C,v.A],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}"]})}}return ot})()},73335:(N,b,n)=>{"use strict";n.d(b,{e:()=>D});var i=n(7673),t=n(96354),l=n(96697),e=n(8917),f=n(80183),m=n(82777),h=n(54438);const v=/^([^\/]+\/[^\/]+)$/;let D=(()=>{class O{constructor(T){this.configurationService=T}normalizeHandle(T){return(0,m.Tn)(T)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,f.qD)(),(0,t.T)(R=>{if(R.hasSucceeded)return R.payload.values.length>=1?R.payload.values[0]:void 0}),(0,t.T)(R=>{let u;return u=T.match((O=>{const M=O?.replace(/\/$/,"");return new RegExp(`(${M?M+"|":""}handle)/([^/]+/[^/]+)$`)})(R)),((0,m.Im)(u)||u.length<3)&&(u=T.match(v)),(0,m.Im)(u)||u.length<2?null:u[u.length-1]}),(0,l.s)(1))}static{this.\u0275fac=function(R){return new(R||O)(h.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=h.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},65354:(N,b,n)=>{"use strict";n.d(b,{O:()=>t,l:()=>l});const t={RESIZE:(0,n(91e3).N)("dspace/host-window/RESIZE")};class l{constructor(f,m){this.type=t.RESIZE,this.payload={width:f,height:m}}}},57538:(N,b,n)=>{"use strict";n.d(b,{CV:()=>M,tP:()=>y});var i=n(25499),t=n(84572),l=n(5964),e=n(96354),f=n(23294),m=n(82777),h=n(1221),_=n(54438),y=function(T){return T[T.XS=0]="XS",T[T.SM=1]="SM",T[T.MD=2]="MD",T[T.LG=3]="LG",T[T.XL=4]="XL",T}(y||{});const v=y.SM,O=(0,i.Mz)(T=>T.hostWindow,T=>T.width);let M=(()=>{class T{constructor(u,w){this.store=u,this.variableService=w,this.breakPoints={},w.getAllVariables().subscribe(C=>{this.breakPoints.XL_MIN=parseInt(C["--bs-xl-min"],10),this.breakPoints.LG_MIN=parseInt(C["--bs-lg-min"],10),this.breakPoints.MD_MIN=parseInt(C["--bs-md-min"],10),this.breakPoints.SM_MIN=parseInt(C["--bs-sm-min"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(O),(0,l.p)(u=>(0,m.a4)(u)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(u=>u<this.breakPoints.SM_MIN?y.XS:u>=this.breakPoints.SM_MIN&&u<this.breakPoints.MD_MIN?y.SM:u>=this.breakPoints.MD_MIN&&u<this.breakPoints.LG_MIN?y.MD:u>=this.breakPoints.LG_MIN&&u<this.breakPoints.XL_MIN?y.LG:y.XL),(0,f.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(u=>u===y.XS),(0,f.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(u=>u===y.SM),(0,f.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(u=>u===y.MD),(0,f.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(u=>u===y.LG),(0,f.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(u=>u===y.XL),(0,f.F)())}is(u){return this.widthCategory.pipe((0,e.T)(w=>w===u),(0,f.F)())}isIn(u){return this.widthCategory.pipe((0,e.T)(w=>u.includes(w)),(0,f.F)())}isUpTo(u){return this.widthCategory.pipe((0,e.T)(w=>w<=u),(0,f.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(u=>u<=v),(0,f.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(u=>u>v),(0,f.F)())}isXsOrSm(){return(0,t.z)(this.isXs(),this.isSm()).pipe((0,e.T)(([u,w])=>u||w),(0,f.F)())}static{this.\u0275fac=function(w){return new(w||T)(_.KVO(i.il),_.KVO(h.J))}}static{this.\u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},59458:(N,b,n)=>{"use strict";n.d(b,{k:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.elementRef=f}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsHoverClass",""]],hostBindings:function(m,h){1&m&&i.bIt("mouseenter",function(){return h.onMouseEnter()})("mouseleave",function(){return h.onMouseLeave()})},inputs:{hoverClass:[i.Mj6.None,"dsHoverClass","hoverClass"]},standalone:!0})}}return l})()},34458:(N,b,n)=>{"use strict";n.d(b,{d:()=>v});var i=n(60177),t=n(52149),l=n(25499),e=n(41780),f=n(96354),m=n(67116),h=n(38169),_=n(54438);function y(D,O){if(1&D){const M=_.RV6();_.j41(0,"ul",1)(1,"li",2)(2,"button",3),_.nI1(3,"translate"),_.bIt("click",function(){_.eBV(M);const R=_.XpG();return _.Njj(R.stopImpersonating())}),_.nrm(4,"i",4),_.k0s()()()}2&D&&(_.R7$(2),_.FS9("ngbTooltip",_.bMT(3,1,"nav.stop-impersonating")))}let v=(()=>{class D{constructor(M,T,R){this.elRef=M,this.store=T,this.authService=R,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,l.Lt)(h.wR)).pipe((0,f.T)(M=>M&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(M=>{M?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(T){return new(T||D)(_.rXU(_.aKT),_.rXU(l.il),_.rXU(m.uR))}}static{this.\u0275cmp=_.VBU({type:D,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[_.aNF],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(T,R){1&T&&(_.DNE(0,y,5,3,"ul",0),_.nI1(1,"async")),2&T&&_.Y8G("ngIf",_.bMT(1,1,R.isImpersonating$))},dependencies:[i.bT,t.n8,t.md,i.Jj,e.h,e.D9],encapsulation:2})}}return D})()},81648:(N,b,n)=>{"use strict";n.d(b,{H:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(46301),m=n(56386),h=n(14412);const _=u=>({show:u}),y=u=>({"is-invalid":u}),v=()=>({standalone:!0});function D(u,w){1&u&&t.eu8(0)}function O(u,w){if(1&u&&(t.j41(0,"label",11)(1,"span",12),t.EFF(2),t.k0s(),t.DNE(3,D,1,0,"ng-container",13),t.k0s()),2&u){const C=t.XpG(),S=t.sdS(5);t.R7$(2),t.SpI(" ",C.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",S)}}function M(u,w){if(1&u){const C=t.RV6();t.j41(0,"input",14,2),t.mxI("ngModelChange",function(I){t.eBV(C);const L=t.XpG();return t.DH7(L.value,I)||(L.value=I),t.Njj(I)}),t.bIt("onDebounce",function(I){t.eBV(C);const L=t.XpG();return t.Njj(L.find(I))}),t.k0s()}if(2&u){const C=t.XpG();t.R50("ngModel",C.value),t.Y8G("name",C.name)("ngClass",t.eq3(6,y,!C.valid))("dsDebounce",C.debounceTime)("placeholder",C.placeholder)("ngModelOptions",t.lJ4(8,v))}}function T(u,w){if(1&u){const C=t.RV6();t.j41(0,"div")(1,"a",15,3),t.bIt("click",function(){const I=t.eBV(C).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(I))}),t.nrm(3,"span",16),t.k0s()()}if(2&u){const C=w.$implicit;t.R7$(3),t.Y8G("innerHTML",C.displayValue,t.npT)}}let R=(()=>{class u extends h.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(C){this.value=C,this.submitSuggestion.emit(C)}onClickSuggestion(C){return this.value=C.value,this.clickSuggestion.emit(C),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=t.xGo(u)))(I||u)}})()}static{this.\u0275cmp=t.VBU({type:u,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:l.kq,useExisting:(0,t.Rfq)(()=>u),multi:!0}]),t.Vt3,t.aNF],decls:13,vars:12,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"form-group","mb-0"],["class","mb-0 w-100",4,"ngIf","ngIfElse"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0","w-100"],[1,"font-weight-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(S,I){if(1&S){const L=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(I.onSubmit(I.value))})("keydown",function(U){return t.eBV(L),t.Njj(I.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(L),t.Njj(I.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(L),t.Njj(I.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(L),t.Njj(I.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(I.close())}),t.j41(2,"div",5),t.DNE(3,O,4,2,"label",6),t.k0s(),t.DNE(4,M,2,9,"ng-template",null,1,t.C5r),t.j41(6,"button",7),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",8),t.nI1(10,"async"),t.j41(11,"div",9),t.DNE(12,T,4,1,"div",10),t.k0s()()()}if(2&S){const L=t.sdS(5);t.Y8G("action",I.action,t.B4B),t.R7$(3),t.Y8G("ngIf",I.label)("ngIfElse",L),t.R7$(4),t.SpI(" ",t.bMT(8,6,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(10,_,t.bMT(10,8,I.show)&&I.isNotEmpty(I.suggestions))),t.R7$(3),t.Y8G("ngForOf",I.suggestions)}},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,f.z,i.bT,i.T3,m.R,i.YU,i.pM,i.Jj,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return u})()},14412:(N,b,n)=>{"use strict";n.d(b,{t:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(84412),m=n(82777),h=n(46301),_=n(56386);const y=["inputField"],v=["suggestion"],D=u=>({"is-invalid":u}),O=()=>({standalone:!0}),M=u=>({show:u});function T(u,w){if(1&u){const C=t.RV6();t.j41(0,"div")(1,"a",9,2),t.bIt("click",function(){const I=t.eBV(C).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(I.value))}),t.nrm(3,"span",10),t.k0s()()}if(2&u){const C=w.$implicit;t.R7$(3),t.Y8G("innerHTML",C.displayValue,t.npT)}}let R=(()=>{class u{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new f.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=C=>{},this.propagateTouch=C=>{}}ngOnChanges(C){(0,m.a4)(C.suggestions)&&this.show.next((0,m.hj)(C.suggestions.currentValue)&&!C.suggestions.firstChange)}shiftFocusUp(C){C.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(C){C.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(C){"Enter"!==C.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(C){return(0,m.hj)(C)}onSubmit(C){}onClickSuggestion(C){}find(C){this.blockReopen||(this.findSuggestions.emit(C),this.typeSuggestion.emit(C)),this.blockReopen=!1}registerOnChange(C){this.propagateChange=C}registerOnTouched(C){this.propagateTouch=C}setDisabledState(C){this.disabled=C}writeValue(C){this.value=C}get value(){return this._value}set value(C){this._value=C,this.propagateChange(this._value)}static{this.\u0275fac=function(S){return new(S||u)}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["ds-input-suggestions"]],viewQuery:function(S,I){if(1&S&&(t.GBs(y,5),t.GBs(v,5)),2&S){let L;t.mGM(L=t.lsd())&&(I.queryInput=L.first),t.mGM(L=t.lsd())&&(I.resultViews=L)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(S,I){if(1&S){const L=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(I.onSubmit(I.value))})("keydown",function(U){return t.eBV(L),t.Njj(I.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(L),t.Njj(I.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(L),t.Njj(I.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(L),t.Njj(I.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(I.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(U){return t.eBV(L),t.DH7(I.value,U)||(I.value=U),t.Njj(U)}),t.bIt("onDebounce",function(U){return t.eBV(L),t.Njj(I.find(U))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.DNE(10,T,4,1,"div",8),t.k0s()()()}2&S&&(t.Y8G("action",I.action,t.B4B),t.R7$(2),t.R50("ngModel",I.value),t.Y8G("name",I.name)("ngClass",t.eq3(14,D,!I.valid))("dsDebounce",I.debounceTime)("placeholder",I.placeholder)("ngModelOptions",t.lJ4(16,O)),t.R7$(3),t.SpI(" ",t.bMT(6,10,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(17,M,t.bMT(8,12,I.show)&&I.isNotEmpty(I.suggestions))),t.R7$(3),t.Y8G("ngForOf",I.suggestions))},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,h.z,_.R,i.YU,i.pM,i.Jj,e.h,e.D9],encapsulation:2})}}return u})()},31580:(N,b,n)=>{"use strict";n.r(b),n.d(b,{LangSwitchComponent:()=>y});var i=n(60177),t=n(52149),l=n(41780),e=n(88280),f=n(63648),m=n(54438);function h(v,D){if(1&v){const O=m.RV6();m.j41(0,"li",7,0),m.bIt("keyup.enter",function(){const T=m.eBV(O).$implicit,R=m.XpG(2);return m.Njj(R.useLang(T))})("click",function(){const T=m.eBV(O).$implicit,R=m.XpG(2);return m.Njj(R.useLang(T))}),m.EFF(2),m.k0s()}if(2&v){const O=D.$implicit,M=m.XpG(2);m.AVh("active",O===M.translate.currentLang),m.R7$(2),m.SpI(" ",M.langLabel(O)," ")}}function _(v,D){if(1&v){const O=m.RV6();m.j41(0,"div",2)(1,"a",3),m.nI1(2,"translate"),m.nI1(3,"translate"),m.bIt("click",function(T){return m.eBV(O),m.Njj(T.preventDefault())}),m.nrm(4,"i",4),m.k0s(),m.j41(5,"ul",5),m.nI1(6,"translate"),m.DNE(7,h,3,3,"li",6),m.k0s()()}if(2&v){const O=m.XpG();m.R7$(),m.Y8G("title",m.bMT(2,4,"nav.language")),m.BMQ("aria-label",m.bMT(3,6,"nav.language")),m.R7$(4),m.BMQ("aria-label",m.bMT(6,8,"nav.language")),m.R7$(2),m.Y8G("ngForOf",O.translate.getLangs())}}let y=(()=>{class v{constructor(O,M,T){this.el=O,this.translate=M,this.localeService=T}ngOnInit(){this.activeLangs=e.c.languages.filter(O=>!0===O.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(O=>O.code===this.translate.currentLang).label}langLabel(O){return this.activeLangs.find(M=>M.code===O).label}useLang(O){this.localeService.setCurrentLanguageCode(O),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(M){return new(M||v)(m.rXU(m.aKT),m.rXU(l.c$),m.rXU(f.iH))}}static{this.\u0275cmp=m.VBU({type:v,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[["langSelect",""],["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","menuitem","aria-controls","language-menu-list","aria-haspopup","menu","data-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","menu",1,"dropdown-menu"],["class","dropdown-item","tabindex","0","role","menuitem",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0","role","menuitem",1,"dropdown-item",3,"keyup.enter","click"]],template:function(M,T){1&M&&m.DNE(0,_,8,10,"div",1),2&M&&m.Y8G("ngIf",T.moreThanOneLanguage)},dependencies:[i.bT,t.zH,t.tg,t.do,t.U0,i.pM,l.h,l.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return v})()},28068:(N,b,n)=>{"use strict";n.d(b,{n:()=>m});var i=n(8886),l=(n(31580),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(y){return n(97394)(`./${y}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,31580))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-lang-switch"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},98776:(N,b,n)=>{"use strict";n.d(b,{E:()=>m});var i=n(60177),t=n(25488),l=n(54438);const e=h=>({"visually-hidden":h});function f(h,_){if(1&h&&(l.j41(0,"div",2),l.EFF(1),l.k0s()),2&h){const y=_.$implicit;l.R7$(),l.JRh(y)}}let m=(()=>{class h{constructor(y){this.liveRegionService=y}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(v){return new(v||h)(l.rXU(t.A))}}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-live-region"]],standalone:!0,features:[l.aNF],decls:3,vars:6,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],["class","live-region-message",4,"ngFor","ngForOf"],[1,"live-region-message"]],template:function(v,D){1&v&&(l.j41(0,"div",0),l.DNE(1,f,2,1,"div",1),l.nI1(2,"async"),l.k0s()),2&v&&(l.Y8G("ngClass",l.eq3(4,e,!D.isVisible)),l.R7$(),l.Y8G("ngForOf",l.bMT(2,2,D.messages$)))},dependencies:[i.YU,i.pM,i.Jj],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return h})()},25488:(N,b,n)=>{"use strict";n.d(b,{A:()=>f});var i=n(84412),t=n(88280),l=n(54438),e=n(30164);let f=(()=>{class m{constructor(_){this.uuidService=_,this.messageTimeOutDurationMs=t.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=t.c.liveRegion.isVisible}getMessages(){return this.messages.map(_=>_.message)}getMessages$(){return this.messages$}addMessage(_){const y=this.uuidService.generate();return this.messages.push({message:_,uuid:y}),setTimeout(()=>this.clearMessageByUUID(y),this.messageTimeOutDurationMs),this.emitCurrentMessages(),y}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(_){const y=this.messages.findIndex(v=>v.uuid===_);-1!==y&&(this.messages.splice(y,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(_){this.liveRegionIsVisible=_}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(_){this.messageTimeOutDurationMs=_}static{this.\u0275fac=function(y){return new(y||m)(l.KVO(e.v))}}static{this.\u0275prov=l.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},82394:(N,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(82522),t=n(8886),l=n(54438);const e=["*"];function f(h,_){}let m=(()=>{class h extends t.J{constructor(y,v){super(y,v),this.cdr=y,this.themeService=v,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(y){return n(54512)(`./${y}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,32280))}static{this.\u0275fac=function(v){return new(v||h)(l.rXU(l.gRc),l.rXU(i.Fs))}}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},91956:(N,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(60177),t=n(54438),e=(n(52027),n(96756));function f(h,_){1&h&&t.eu8(0)}let m=(()=>{class h{constructor(y){this.injector=y}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,e.HF)(this.authMethod.authMethodType)}static{this.\u0275fac=function(v){return new(v||h)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(v,D){1&v&&t.DNE(0,f,1,0,"ng-container",0),2&v&&t.Y8G("ngComponentOutlet",D.getAuthMethodContent())("ngComponentOutletInjector",D.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return h})()},38790:(N,b,n)=>{"use strict";n.r(b),n.d(b,{LogInComponent:()=>R});var i=n(60177),t=n(25499),l=n(96354),e=n(67116),f=n(38169),m=n(82777),h=n(82394),_=n(91956),y=n(96756),v=n(54438);function D(u,w){1&u&&v.nrm(0,"ds-loading",2)}function O(u,w){1&u&&v.nrm(0,"div",7)}function M(u,w){if(1&u&&(v.qex(0),v.nrm(1,"ds-log-in-container",5),v.DNE(2,O,1,0,"div",6),v.bVm()),2&u){const C=w.$implicit,S=w.last,I=v.XpG(2);v.R7$(),v.Y8G("authMethod",C)("isStandalonePage",I.isStandalonePage),v.R7$(),v.Y8G("ngIf",!S)}}function T(u,w){if(1&u&&(v.j41(0,"div",3),v.DNE(1,M,3,3,"ng-container",4),v.nI1(2,"async"),v.k0s()),2&u){const C=v.XpG();v.R7$(),v.Y8G("ngForOf",v.bMT(2,1,C.authMethods))}}let R=(()=>{class u{constructor(C,S){this.store=C,this.authService=S}ngOnInit(){this.authMethods=this.store.pipe((0,t.Lt)(f.hx),(0,l.T)(C=>C.filter(S=>void 0!==(0,y.HF)(S.authMethodType)).sort((S,I)=>S.position-I.position))),this.loading=this.store.pipe((0,t.Lt)(f.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(f.wR)),this.store.pipe((0,t.Lt)(f.H8)).subscribe(C=>{(0,m.a4)(C)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(S){return new(S||u)(v.rXU(t.il),v.rXU(e.uR))}}static{this.\u0275cmp=v.VBU({type:u,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[v.aNF],decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(S,I){1&S&&(v.DNE(0,D,1,0,"ds-loading",0),v.nI1(1,"async"),v.nI1(2,"async"),v.DNE(3,T,3,3,"div",1),v.nI1(4,"async"),v.nI1(5,"async")),2&S&&(v.Y8G("ngIf",v.bMT(1,2,I.loading)||v.bMT(2,4,I.isAuthenticated)),v.R7$(3),v.Y8G("ngIf",!0!==v.bMT(4,6,I.loading)&&!0!==v.bMT(5,8,I.isAuthenticated)))},dependencies:[i.bT,h.v,i.pM,_.u,i.Jj],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return u})()},96756:(N,b,n)=>{"use strict";n.d(b,{HF:()=>se});var i=n(2044),t=n(25499),l=n(41780),e=n(96697),f=n(67116),h=(n(52027),n(38169)),_=n(1676),y=n(45663),v=n(82777),D=n(54438),O=n(59752);let M=(()=>{class de{constructor(le,Ee,be,pe,re,ye){this.injectedAuthMethodModel=le,this.isStandalonePage=Ee,this._window=be,this.authService=pe,this.hardRedirectService=re,this.store=ye,this.authMethod=le}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(h.wR)),this.loading=this.store.pipe((0,t.Lt)(h.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(le=>{this.isStandalonePage?(0,v.Im)(le)&&(le="/"):le=this.hardRedirectService.getCurrentRoute();const Ee=new y.t(this._window.nativeWindow.origin,le).toString();let be=this.location;const re=/\?redirectUrl=(.*)/g.exec(this.location),ye=re&&re[1]?re[1]:null;(0,v.Pe)(ye)&&ye!==Ee&&(be=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${Ee}`)),this.hardRedirectService.redirect(be)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(Ee){return new(Ee||de)(D.rXU("authMethodProvider"),D.rXU("isStandalonePage"),D.rXU(_.lc),D.rXU(f.uR),D.rXU(O.$),D.rXU(t.il))}}static{this.\u0275cmp=D.VBU({type:de,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[D.aNF],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","btn-block","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(Ee,be){1&Ee&&(D.j41(0,"button",0),D.bIt("click",function(){return be.redirectToExternalProvider()}),D.nrm(1,"i",1),D.EFF(2),D.nI1(3,"translate"),D.k0s()),2&Ee&&(D.R7$(2),D.SpI(" ",D.bMT(3,1,be.getButtonLabel()),"\n"))},dependencies:[l.h,l.D9]})}}return de})();var T=n(60177),R=n(89417),u=n(7901),w=n(44668),C=n(84572),S=n(96354),I=n(5964),L=n(69799),B=n(59836),U=n(65007),W=n(3970),j=n(50332),G=n(60456),H=n(75465);const V=de=>[de];function X(de,te){if(1&de&&(D.j41(0,"div",8),D.EFF(1),D.nI1(2,"async"),D.nI1(3,"translate"),D.k0s()),2&de){const le=D.XpG();D.Y8G("@fadeOut",void 0),D.R7$(),D.JRh(D.bMT(3,4,D.bMT(2,2,le.error)))}}function J(de,te){if(1&de&&(D.j41(0,"div",9),D.EFF(1),D.nI1(2,"async"),D.nI1(3,"translate"),D.k0s()),2&de){const le=D.XpG();D.Y8G("@fadeOut",void 0),D.R7$(),D.JRh(D.bMT(3,4,D.bMT(2,2,le.message)))}}function q(de,te){if(1&de&&(D.j41(0,"a",12),D.nI1(1,"dsBrowserOnly"),D.EFF(2),D.nI1(3,"translate"),D.k0s()),2&de){const le=D.XpG(2);D.Y8G("routerLink",D.eq3(7,V,le.getRegisterRoute())),D.BMQ("data-test",D.bMT(1,3,"register")),D.R7$(2),D.JRh(D.bMT(3,5,"login.form.new-user"))}}function Q(de,te){if(1&de&&(D.j41(0,"a",12),D.nI1(1,"dsBrowserOnly"),D.EFF(2),D.nI1(3,"translate"),D.k0s()),2&de){const le=D.XpG(2);D.Y8G("routerLink",D.eq3(7,V,le.getForgotRoute())),D.BMQ("data-test",D.bMT(1,3,"forgot")),D.R7$(2),D.JRh(D.bMT(3,5,"login.form.forgot-password"))}}function Y(de,te){if(1&de&&(D.qex(0),D.j41(1,"div",10),D.DNE(2,q,4,9,"a",11),D.nI1(3,"async"),D.DNE(4,Q,4,9,"a",11),D.nI1(5,"async"),D.k0s(),D.bVm()),2&de){const le=D.XpG();D.R7$(2),D.Y8G("ngIf",D.bMT(3,2,le.canRegister$)),D.R7$(2),D.Y8G("ngIf",D.bMT(5,4,le.canForgot$))}}const Z=new Map([[i.Q.Password,(()=>{class de{constructor(le,Ee,be,pe,re,ye,De){this.injectedAuthMethodModel=le,this.isStandalonePage=Ee,this.authService=be,this.hardRedirectService=pe,this.formBuilder=re,this.store=ye,this.authorizationService=De,this.hasError=!1,this.hasMessage=!1,this.authMethod=le}ngOnInit(){this.form=this.formBuilder.group({email:["",R.k0.required],password:["",R.k0.required]}),this.error=this.store.pipe((0,t.Lt)(h.H8),(0,S.T)(le=>(this.hasError=(0,v.hj)(le),le))),this.message=this.store.pipe((0,t.Lt)(h.dx),(0,S.T)(le=>(this.hasMessage=(0,v.hj)(le),le))),this.canRegister$=this.authorizationService.isAuthorized(W._.EPersonRegistration).pipe((0,w.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(W._.EPersonForgotPassword).pipe((0,w.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,C.z)([this.canRegister$,this.canForgot$]).pipe((0,S.T)(([le,Ee])=>le||Ee),(0,I.p)(Boolean))}getRegisterRoute(){return(0,L.Do)()}getForgotRoute(){return(0,L.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new B.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const le=this.form.get("email").value,Ee=this.form.get("password").value;le.trim(),Ee.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new B.Sn(le,Ee)),this.form.reset()}static{this.\u0275fac=function(Ee){return new(Ee||de)(D.rXU("authMethodProvider"),D.rXU("isStandalonePage"),D.rXU(f.uR),D.rXU(O.$),D.rXU(R.ze),D.rXU(t.il),D.rXU(U.AuthorizationDataService))}}static{this.\u0275cmp=D.VBU({type:de,selectors:[["ds-log-in-password"]],standalone:!0,features:[D.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],[1,"mt-2"],["class","dropdown-item","role","menuitem",3,"routerLink",4,"ngIf"],["role","menuitem",1,"dropdown-item",3,"routerLink"]],template:function(Ee,be){1&Ee&&(D.j41(0,"form",0),D.bIt("ngSubmit",function(){return be.submit()}),D.nrm(1,"input",1),D.nI1(2,"translate"),D.nI1(3,"translate"),D.nI1(4,"dsBrowserOnly"),D.nrm(5,"input",2),D.nI1(6,"translate"),D.nI1(7,"translate"),D.nI1(8,"dsBrowserOnly"),D.DNE(9,X,4,6,"div",3),D.nI1(10,"async"),D.DNE(11,J,4,6,"div",4),D.nI1(12,"async"),D.j41(13,"button",5),D.nI1(14,"dsBrowserOnly"),D.nrm(15,"i",6),D.EFF(16),D.nI1(17,"translate"),D.k0s()(),D.DNE(18,Y,6,6,"ng-container",7),D.nI1(19,"async")),2&Ee&&(D.Y8G("formGroup",be.form),D.R7$(),D.FS9("placeholder",D.bMT(2,13,"login.form.email")),D.BMQ("aria-label",D.bMT(3,15,"login.form.email"))("data-test",D.bMT(4,17,"email")),D.R7$(4),D.FS9("placeholder",D.bMT(6,19,"login.form.password")),D.BMQ("aria-label",D.bMT(7,21,"login.form.password"))("data-test",D.bMT(8,23,"password")),D.R7$(4),D.Y8G("ngIf",D.bMT(10,25,be.error)&&be.hasError),D.R7$(2),D.Y8G("ngIf",D.bMT(12,27,be.message)&&be.hasMessage),D.R7$(2),D.Y8G("dsBtnDisabled",!be.form.valid),D.BMQ("data-test",D.bMT(14,29,"login-button")),D.R7$(3),D.SpI(" ",D.bMT(17,31,"login.form.submit"),""),D.R7$(2),D.Y8G("ngIf",D.bMT(19,33,be.canShowDivider$)))},dependencies:[R.YN,R.qT,R.me,R.BC,R.cb,R.YS,R.X1,R.j4,R.JD,T.bT,u.Wk,T.Jj,l.h,l.D9,H.L,G.A],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[j.Xn]}})}}return de})()],[i.Q.Shibboleth,M],[i.Q.Oidc,M],[i.Q.Orcid,M]]);function se(de){return Z.get(de)}},68900:(N,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(8886),l=(n(38790),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(y){return n(43800)(`./${y}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38790))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},61980:(N,b,n)=>{"use strict";n.d(b,{y:()=>D});var i=n(60177),t=n(25499),l=n(41780),e=n(59836),f=n(38169),m=n(50332),h=n(75465),_=n(54438),y=n(7901);function v(O,M){if(1&O&&(_.j41(0,"div",4),_.EFF(1),_.nI1(2,"async"),_.k0s()),2&O){const T=_.XpG();_.Y8G("@fadeOut",void 0),_.R7$(),_.JRh(_.bMT(2,2,T.error))}}let D=(()=>{class O{constructor(T,R){this.router=T,this.store=R}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(f.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(R){return new(R||O)(_.rXU(y.Ix),_.rXU(t.il))}}static{this.\u0275cmp=_.VBU({type:O,selectors:[["ds-log-out"]],standalone:!0,features:[_.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","menuitem",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(R,u){1&R&&(_.j41(0,"div",0),_.DNE(1,v,3,4,"div",1),_.nI1(2,"async"),_.j41(3,"button",2),_.nI1(4,"dsBrowserOnly"),_.bIt("click",function(){return u.logOut()}),_.nrm(5,"i",3),_.EFF(6),_.nI1(7,"translate"),_.k0s()()),2&R&&(_.R7$(),_.Y8G("ngIf",_.bMT(2,3,u.error)),_.R7$(2),_.BMQ("data-test",_.bMT(4,5,"logout-button")),_.R7$(3),_.SpI(" ",_.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.bT,i.Jj,l.h,l.D9,h.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return O})()},19340:(N,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},34237:(N,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},6446:(N,b,n)=>{"use strict";n.d(b,{a:()=>H});var i=n(54438),t=n(84412),l=n(23294),e=n(25558),f=n(82777),m=n(39548),h=n(60177),_=n(7901),y=n(41780),v=n(34237);const O=V=>({disabled:V});let M=(()=>{class V{constructor(J){this.item=J}ngOnInit(){this.hasLink=(0,f.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(q,Q){1&q&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(z){return z.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&q&&(i.Y8G("ngClass",i.eq3(9,O,!Q.hasLink))("href",Q.href,i.B4B)("title",i.bMT(1,5,Q.item.text)),i.BMQ("aria-disabled",!Q.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Q.item.text)))},dependencies:[h.YU,y.h,y.D9,_.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();const R=V=>({disabled:V});let u=(()=>{class V{constructor(J,q){this.router=q,this.item=J}ngOnInit(){this.hasLink=(0,f.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(J){J.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),J.stopPropagation()}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"),i.rXU(_.Ix))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(q,Q){1&q&&(i.j41(0,"a",0),i.bIt("click",function(z){return z.stopPropagation()})("keyup.space",function(z){return Q.navigate(z)})("keydown.enter",function(z){return Q.navigate(z)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&q&&(i.Y8G("ngClass",i.eq3(8,R,!Q.hasLink||Q.item.disabled))("routerLink",Q.getRouterLink())("queryParams",Q.item.queryParams),i.BMQ("aria-disabled",!Q.hasLink||Q.item.disabled)("data-test","link-menu-item."+Q.item.text),i.R7$(),i.JRh(i.bMT(2,6,Q.item.text)))},dependencies:[h.YU,_.Wk,y.h,y.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();function C(V,X){if(1&V){const J=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Q){i.eBV(J);const Y=i.XpG();return i.Njj(Y.activate(Q))})("keyup.space",function(Q){i.eBV(J);const Y=i.XpG();return i.Njj(Y.activate(Q))})("keyup.enter",function(Q){i.eBV(J);const Y=i.XpG();return i.Njj(Y.activate(Q))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&V){const J=i.XpG();i.Y8G("title",i.bMT(1,3,J.item.text)),i.BMQ("data-test",J.item.text),i.R7$(2),i.JRh(i.bMT(3,5,J.item.text))}}function S(V,X){if(1&V&&(i.j41(0,"span",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&V){const J=i.XpG();i.BMQ("data-test",J.item.text),i.R7$(),i.JRh(i.bMT(2,2,J.item.text))}}let I=(()=>{class V{constructor(J){this.item=J}activate(J){this.item.disabled||(J.preventDefault(),this.item.function(),J.stopPropagation())}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["class","ds-menu-item","role","menuitem","routerLinkActive","active","href","javascript:void(0);",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"],[1,"nav-item","nav-link","disabled"]],template:function(q,Q){1&q&&i.DNE(0,C,4,7,"a",0)(1,S,3,4,"span",1),2&q&&(i.Y8G("ngIf",!Q.item.disabled),i.R7$(),i.Y8G("ngIf",Q.item.disabled))},dependencies:[h.bT,y.h,y.D9,_.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return V})(),B=(()=>{class V{constructor(J){this.item=J}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[[1,"ds-menu-item"]],template:function(q,Q){1&q&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&q&&(i.AVh("disabled",Q.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Q.item.text)))},dependencies:[y.h,y.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();const U=new Map;U.set(v.x.EXTERNAL,M),U.set(v.x.LINK,u),U.set(v.x.ONCLICK,I),U.set(v.x.TEXT,B);class G{constructor(){this.shouldPersistOnRouteChange=!1}}let H=(()=>{class V{constructor(J,q,Q){this.section=J,this.menuService=q,this.injector=Q,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,l.F)()).subscribe(J=>{this.active$.value!==J&&this.active$.next(J)})),this.initializeInjectorData()}toggleSection(J){J.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(J,q=!0){q&&J.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(J,q=!0){q&&J.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(J=>J)).subscribe(J=>{this.updateSectionMap(J.id,this.getItemModelInjector(J.model),this.getMenuItemComponent(J.model))}))}updateSectionMap(J,q,Q){const Y=this.sectionMap$.getValue();Y.set(J,{injector:q,component:Q}),this.sectionMap$.next(Y)}getMenuItemComponent(J){return(0,f.Tn)(J)&&(J=this.section.model),function j(V){return U.get(V)}(J.type)}getItemModelInjector(J){return(0,f.Tn)(J)&&(J=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>J,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(J=>(0,f.a4)(J)).forEach(J=>J.unsubscribe())}static{this.\u0275fac=function(q){return new(q||V)(i.rXU(G),i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(q,Q){},encapsulation:2})}}return V})()},54476:(N,b,n)=>{"use strict";n.d(b,{C0:()=>R,F$:()=>l,FH:()=>T,Hw:()=>M,JG:()=>m,JK:()=>_,PM:()=>v,YN:()=>O,cf:()=>u,eq:()=>e,ie:()=>h,j$:()=>w,jZ:()=>t,oh:()=>y,sP:()=>f,tU:()=>C});var i=n(91e3);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class l{constructor(I){this.type=t.COLLAPSE_MENU,this.menuID=I}}class e{constructor(I){this.type=t.EXPAND_MENU,this.menuID=I}}class f{constructor(I){this.type=t.TOGGLE_MENU,this.menuID=I}}class m{constructor(I){this.type=t.SHOW_MENU,this.menuID=I}}class h{constructor(I){this.type=t.HIDE_MENU,this.menuID=I}}class _{constructor(I){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=I}}class y{constructor(I){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=I}}class v{constructor(){this.type=t.REINIT_MENUS}}class D{constructor(I,L){this.menuID=I,this.id=L}}class O extends D{constructor(I,L){super(I,L.id),this.type=t.ADD_SECTION,this.section=L}}class M extends D{constructor(I,L){super(I,L),this.type=t.REMOVE_SECTION}}class T extends D{constructor(I,L){super(I,L),this.type=t.HIDE_SECTION}}class R extends D{constructor(I,L){super(I,L),this.type=t.SHOW_SECTION}}class u extends D{constructor(I,L){super(I,L),this.type=t.ACTIVATE_SECTION}}class w extends D{constructor(I,L){super(I,L),this.type=t.DEACTIVATE_SECTION}}class C extends D{constructor(I,L){super(I,L),this.type=t.TOGGLE_ACTIVE_SECTION}}},30458:(N,b,n)=>{"use strict";n.d(b,{Z:()=>pe});var i=n(54438),t=n(84412),l=n(7673),e=n(25558),f=n(73028),m=n(96354),h=n(23294),_=n(65007),y=n(3970),v=n(82777),D=n(82522),O=n(39548),M=n(9901),T=n(99452),R=n(8886);n(58499);const w=["*"];function C(re,ye){}let S=(()=>{class re extends R.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(De){return n(88289)(`./${De}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,58499))}static{this.\u0275fac=(()=>{let De;return function(mt){return(De||(De=i.xGo(re)))(mt||re)}})()}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:w,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(nt,mt){1&nt&&(i.NAR(),i.DNE(0,C,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return re})();var I=n(26821),L=n(60177),B=n(52149),U=n(41780),W=n(19340),j=n(6446),G=n(60456),H=n(7901);function V(re,ye){if(1&re&&i.nrm(0,"i"),2&re){const De=i.XpG(2).$implicit;i.ZvI("fas fa-",De.icon," fa-fw")}}function X(re,ye){1&re&&i.nrm(0,"i",11)}function J(re,ye){if(1&re&&(i.j41(0,"div",9),i.DNE(1,V,1,3,"i",10)(2,X,1,0,"ng-template",null,0,i.C5r),i.k0s()),2&re){const De=i.sdS(3),nt=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",nt.icon)("ngIfElse",De)}}function q(re,ye){1&re&&i.eu8(0)}function Q(re,ye){if(1&re&&(i.j41(0,"li",6),i.DNE(1,J,4,2,"div",7),i.nI1(2,"async"),i.DNE(3,q,1,0,"ng-container",8),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&re){const De=ye.$implicit,nt=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,3,nt.renderIcons$)),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,nt.sectionMap$).get(De.id).component)("ngComponentOutletInjector",i.bMT(5,7,nt.sectionMap$).get(De.id).injector)}}let Y=(()=>{class re extends j.a{constructor(De,nt,mt,xe){super(De,nt,mt),this.menuService=nt,this.injector=mt,this.router=xe,this.menuID=W.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,m.T)(De=>De.some(nt=>(0,v.a4)(nt.icon))))}static{this.\u0275fac=function(nt){return new(nt||re)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn),i.rXU(H.Ix))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:10,vars:16,consts:[["spacer",""],["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","mr-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"mr-2"],[3,"class",4,"ngIf","ngIfElse"],[1,"fas","fa-fw"]],template:function(nt,mt){1&nt&&(i.j41(0,"div",1)(1,"div",2),i.nI1(2,"translate"),i.j41(3,"button",3),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",4),i.DNE(8,Q,6,9,"li",5),i.nI1(9,"async"),i.k0s()()()),2&nt&&(i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,8,mt.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,10,mt.itemModel.text))("dsBtnDisabled",null==mt.section.model?null:mt.section.model.disabled),i.BMQ("aria-label",i.bMT(5,12,mt.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",mt.section.icon," fa-fw"),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,14,mt.subSections$)))},dependencies:[B.zH,B.tg,B.do,B.U0,B.n8,B.md,L.pM,L.bT,L.OI,U.h,U.D9,L.Jj,G.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]})}}return re})();function z(re,ye){if(1&re&&(i.j41(0,"a",4),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const De=i.XpG(2);i.Y8G("routerLink",De.itemModel.link),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function Z(re,ye){if(1&re&&(i.j41(0,"button",7),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const De=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function oe(re,ye){if(1&re&&(i.j41(0,"div",1),i.nI1(1,"translate"),i.DNE(2,z,5,7,"a",2)(3,Z,5,7,"button",3),i.k0s()),2&re){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,De.itemModel.text)),i.R7$(2),i.Y8G("ngIf",!De.section.model.disabled),i.R7$(),i.Y8G("ngIf",De.section.model.disabled)}}function se(re,ye){if(1&re){const De=i.RV6();i.j41(0,"div",1),i.nI1(1,"translate"),i.j41(2,"button",8),i.bIt("click",function(mt){i.eBV(De);const xe=i.XpG();return i.Njj(xe.activate(mt))}),i.nrm(3,"i",5),i.j41(4,"span",6),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&re){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,De.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",De.section.model.disabled),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,De.itemModel.text))}}let de=(()=>{class re extends j.a{constructor(De,nt,mt){super(De,nt,mt),this.menuService=nt,this.injector=mt,this.menuID=W.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.hasLink=(0,v.hj)(this.itemModel?.link),this.canActivate=(0,v.hj)(this.itemModel?.function),super.ngOnInit()}activate(De){De.preventDefault(),this.itemModel.disabled||this.itemModel.function(),De.stopPropagation()}static{this.\u0275fac=function(nt){return new(nt||re)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"ngbTooltip"],["class","btn btn-dark btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-dark btn-sm",3,"dsBtnDisabled",4,"ngIf"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(nt,mt){1&nt&&i.DNE(0,oe,4,5,"div",0)(1,se,7,10,"div",0),2&nt&&(i.Y8G("ngIf",!mt.canActivate),i.R7$(),i.Y8G("ngIf",mt.canActivate))},dependencies:[L.bT,B.n8,B.md,H.Wk,U.h,U.D9,G.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return re})();var te=n(81569);const le=new Map;le.set(W.D.ADMIN,new Map),le.get(W.D.ADMIN).set(!1,new Map),le.get(W.D.ADMIN).get(!1).set(te.SS,M.g),le.get(W.D.ADMIN).set(!0,new Map),le.get(W.D.ADMIN).get(!0).set(te.SS,T.W),le.set(W.D.PUBLIC,new Map),le.get(W.D.PUBLIC).set(!1,new Map),le.get(W.D.PUBLIC).get(!1).set(te.SS,I.X),le.get(W.D.PUBLIC).set(!0,new Map),le.get(W.D.PUBLIC).get(!0).set(te.SS,S),le.set(W.D.DSO_EDIT,new Map),le.get(W.D.DSO_EDIT).set(!1,new Map),le.get(W.D.DSO_EDIT).get(!1).set(te.SS,de),le.get(W.D.DSO_EDIT).set(!0,new Map),le.get(W.D.DSO_EDIT).get(!0).set(te.SS,Y);let pe=(()=>{class re{constructor(De,nt,mt,xe,ot){this.menuService=De,this.injector=nt,this.authorizationService=mt,this.route=xe,this.themeService=ot,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,e.n)(De=>De),(0,f.Z)(De=>De.id.includes("statistics")?this.getAuthorizedStatistics(De):(0,l.of)(De)),(0,v.VT)(),(0,e.n)(De=>this.getSectionComponent(De).pipe((0,m.T)(nt=>({section:De,component:nt})))),(0,h.F)((De,nt)=>De.section.id===nt.section.id&&De.component.prototype===nt.component.prototype)).subscribe(({section:De,component:nt})=>{const mt=this.sectionMap$.getValue();mt.set(De.id,{injector:this.getSectionDataInjector(De),component:nt}),this.sectionMap$.next(mt)}))}getActivatedRoute(De){return De.children.length>0?this.getActivatedRoute(De.firstChild):De}getAuthorizedStatistics(De){return this.activatedRouteLastChild.data.pipe((0,e.n)(nt=>this.authorizationService.isAuthorized(y._.CanViewUsageStatistics,this.getObjectUrl(nt)).pipe((0,m.T)(mt=>mt?De:{}))))}getObjectUrl(De){return(De.site?De.site:De.dso?.payload)?._links?.self?.href}toggle(De){De.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(De){De.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(De){De.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(De,nt){(0,v.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(De,nt)}getSectionComponent(De){return this.menuService.hasSubSections(this.menuID,De.id).pipe((0,m.T)(nt=>function be(re,ye,De){const nt=le.get(re).get(ye).get(De);return(0,v.a4)(nt)?nt:le.get(re).get(ye).get(te.SS)}(this.menuID,nt,this.themeService.getThemeName())))}getSectionDataInjector(De){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>De,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(De=>(0,v.a4)(De)).forEach(De=>De.unsubscribe())}static{this.\u0275fac=function(nt){return new(nt||re)(i.rXU(O.$),i.rXU(i.zZn),i.rXU(_.AuthorizationDataService),i.rXU(H.nX),i.rXU(D.Fs))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(nt,mt){},encapsulation:2})}}return re})()},39548:(N,b,n)=>{"use strict";n.d(b,{$:()=>B});var i=n(7901),t=n(25499),l=n(84572),e=n(96354),f=n(23294),m=n(25558),h=n(5964),_=n(96697),y=n(72352),v=n(46588),D=n(82777),O=n(54476),M=n(19340),T=n(54438);function R(U,W){return(0,t.Mz)(W,j=>{if((0,D.a4)(j))return j[U]})}const u=U=>U.menus,w=U=>(0,y.pc)(U,u),C=U=>(0,D.a4)(U)?U.sections:{},I=U=>U.sectionToSubsectionIndex,L=U=>R(U,I);let B=(()=>{class U{constructor(j,G,H){this.store=j,this.route=G,this.router=H}getMenu(j){return this.store.pipe((0,t.Lt)(w(j)))}getMenuTopSections(j,G=!0){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(C),(0,e.T)(H=>Object.values(H)),(0,f.F)((0,v.W2)()),(0,e.T)(H=>H.filter(V=>(0,D.Tn)(V.parentID)).filter(V=>!G||V.visible)))}getSubSectionsByParentID(j,G,H=!0){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(L(G)),(0,e.T)(V=>(0,D.hj)(V)?V:[]),(0,m.n)(V=>(0,l.z)(V.map(X=>this.getMenuSection(j,X)))),(0,e.T)(V=>V.filter(X=>(0,D.a4)(X)&&(!H||X.visible))))}hasSubSections(j,G){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(L(G)),(0,e.T)(H=>(0,D.hj)(H)))}getMenuSection(j,G){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)((U=>R(U,C))(G)))}getNonPersistentMenuSections(j){return this.getMenu(j).pipe((0,e.T)(G=>Object.values(G.sections).filter(H=>!H.shouldPersistOnRouteChange)))}addSection(j,G){this.store.dispatch(new O.YN(j,G))}removeSection(j,G){this.store.dispatch(new O.Hw(j,G))}isMenuCollapsed(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,D.a4)(G)?G.collapsed:void 0))}isMenuPreviewCollapsed(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,D.a4)(G)?G.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(j){return(0,l.z)([this.isMenuVisible(j),this.menuHasVisibleSections(j)]).pipe((0,e.T)(([G,H])=>G&&H))}isMenuVisible(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,D.a4)(G)?G.visible:void 0))}menuHasVisibleSections(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,D.a4)(G)?Object.values(G.sections).some(H=>H.visible&&void 0===H.parentID):void 0))}expandMenu(j){this.store.dispatch(new O.eq(j))}collapseMenu(j){this.store.dispatch(new O.F$(j))}expandMenuPreview(j){this.store.dispatch(new O.oh(j))}collapseMenuPreview(j){this.store.dispatch(new O.JK(j))}toggleMenu(j){this.store.dispatch(new O.sP(j))}showMenu(j){this.store.dispatch(new O.JG(j))}showMenuSection(j,G){this.store.dispatch(new O.C0(j,G))}hideMenu(j){this.store.dispatch(new O.ie(j))}hideMenuSection(j,G){this.store.dispatch(new O.FH(j,G))}toggleActiveSection(j,G){this.store.dispatch(new O.tU(j,G))}activateSection(j,G){this.store.dispatch(new O.cf(j,G))}deactivateSection(j,G){this.store.dispatch(new O.j$(j,G))}isSectionActive(j,G){return this.getMenuSection(j,G).pipe((0,D.Az)(),(0,e.T)(H=>H.active))}isSectionVisible(j,G){return this.getMenuSection(j,G).pipe((0,e.T)(H=>H.visible))}listenForRouteChanges(){this.router.events.pipe((0,h.p)(j=>j instanceof i.wF)).subscribe(()=>{Object.values(M.D).forEach(j=>{this.buildRouteMenuSections(j)})})}buildRouteMenuSections(j){this.getNonPersistentMenuSections(j).pipe((0,e.T)(G=>G.map(H=>H.id)),(0,_.s)(1)).subscribe(G=>{this.resolveRouteMenuSections(this.route.root,j).forEach(V=>{const X=G.indexOf(V.id);X>-1?G.splice(X,1):this.addSection(j,V)}),G.forEach(V=>{this.removeSection(j,V)})})}resolveRouteMenuSections(j,G){const H=j.snapshot.data,V=j.snapshot.params,X=(0,D.Tn)(j.firstChild);if((0,D.a4)(H)&&(0,D.a4)(H.menu)&&(0,D.a4)(H.menu[G])){let J=H.menu[G];if(J=this.resolveSubstitutions(J,V),Array.isArray(J)||(J=[J]),X)return[...J];{const q=this.resolveRouteMenuSections(j.firstChild,G);return[...J.filter(Q=>!q.map(Y=>Y.id).includes(Q.id)),...q]}}return X?[]:this.resolveRouteMenuSections(j.firstChild,G)}resolveSubstitutions(j,G){let H;return(0,D.Im)(G)?H=j:"string"==typeof j?(H=j,Object.entries(G).forEach(([V,X])=>H=H.replaceAll(`:${V}`,X))):Array.isArray(j)?(H=[],j.forEach((V,X)=>{H[X]=this.resolveSubstitutions(j[X],G)})):"object"==typeof j?(H={},Object.keys(j).forEach(V=>{H[V]=this.resolveSubstitutions(j[V],G)})):H=j,H}static{this.\u0275fac=function(G){return new(G||U)(T.KVO(t.il),T.KVO(i.nX),T.KVO(i.Ix))}}static{this.\u0275prov=T.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},79222:(N,b,n)=>{"use strict";n.d(b,{Q:()=>f});var i=n(60177),t=n(54438);const l=["*"];function e(m,h){if(1&m&&(t.j41(0,"h2",4),t.EFF(1),t.k0s()),2&m){const _=t.XpG();t.R7$(),t.JRh(_.label)}}let f=(()=>{class m{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(y){return new(y||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[t.aNF],ngContentSelectors:l,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],[1,"simple-view-element-header"]],template:function(y,v){if(1&y&&(t.NAR(),t.j41(0,"div",1),t.DNE(1,e,2,1,"h2",2),t.j41(2,"div",3,0),t.SdG(4),t.k0s()()),2&y){const D=t.sdS(3);t.AVh("d-none",v.hideIfNoTextContent&&0===D.textContent.trim().length),t.R7$(),t.Y8G("ngIf",v.label)}},dependencies:[i.bT],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return m})()},32272:(N,b,n)=>{"use strict";n.d(b,{V:()=>h}),n(26292);var t=n(22924),l=n(82522),e=n(90190),f=n(54438);function m(_,y){}let h=(()=>{class _ extends t.e{constructor(v,D){super(v),this.themeService=v,this.getMetadataRepresentationComponent=D,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(D){return new(D||_)(f.rXU(l.Fs),f.rXU(e.RM))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(D,O){1&D&&f.DNE(0,m,0,0,"ng-template",1,0,f.C5r)},encapsulation:2})}}return _})()},90190:(N,b,n)=>{"use strict";n.d(b,{RM:()=>mt});var i=n(54438),t=n(85448),l=n(7901),e=n(52149),m=(n(93498),n(90887));n(26292);let _=(()=>{class Ie{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(kt){return new(kt||Ie)}}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(kt,ct){},encapsulation:2})}}return Ie})(),y=(()=>{class Ie extends _{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(kt,ct){},encapsulation:2})}}return Ie})();var v=n(21308);const D=Ie=>[Ie],O=()=>["dc.description"];function M(Ie,We){if(1&Ie&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ie){const Dt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Dt.mdRepresentation.firstMetadataValue(i.lJ4(1,O)),i.npT)}}let T=(()=>{class Ie extends y{static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(kt,ct){if(1&kt&&(i.DNE(0,M,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&kt){const Ot=i.sdS(1);i.R7$(2),i.Y8G("id",ct.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,D,ct.itemPageRoute))("innerHTML",ct.mdRepresentation.getValue(),i.npT)("ngbTooltip",ct.mdRepresentation.allMetadata(i.lJ4(6,O)).length>0?Ot:null)}},dependencies:[v.d,l.Wk,e.n8,e.md],encapsulation:2})}}return Ie})();var R=n(60177),w=(n(14391),n(41780));const C=Ie=>({"not-authenticated":Ie});function S(Ie,We){if(1&Ie&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.R7$(),i.JRh(Dt.orcidTooltip)}}let I=(()=>{class Ie{constructor(Dt){this.translateService=Dt}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(kt){return new(kt||Ie)(i.rXU(w.c$))}}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(kt,ct){if(1&kt&&(i.nrm(0,"img",1),i.DNE(1,S,2,1,"ng-template",null,0,i.C5r)),2&kt){const Ot=i.sdS(2);i.Mz_("alt","ORCID ",ct.orcidTooltip,""),i.Y8G("ngbTooltip",Ot)("ngClass",i.eq3(4,C,!ct.authenticatedTimestamp))}},dependencies:[e.n8,e.md,R.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return Ie})();const L=Ie=>[Ie],B=()=>["person.jobTitle"];function U(Ie,We){1&Ie&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function W(Ie,We){if(1&Ie&&(i.j41(0,"span"),i.nrm(1,"span",8),i.DNE(2,U,2,0,"span",9),i.k0s()),2&Ie){const Dt=We.$implicit,kt=We.last;i.R7$(),i.Y8G("innerHTML",Dt,i.npT),i.R7$(),i.Y8G("ngIf",!kt)}}function j(Ie,We){if(1&Ie&&(i.j41(0,"span",6),i.DNE(1,W,3,2,"span",7),i.k0s()),2&Ie){const Dt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Dt.mdRepresentation.allMetadataValues(i.lJ4(1,B)))}}function G(Ie,We){if(1&Ie&&(i.j41(0,"span",4),i.DNE(1,j,2,2,"span",5),i.k0s()),2&Ie){const Dt=i.XpG();i.R7$(),i.Y8G("ngIf",Dt.mdRepresentation.allMetadata(i.lJ4(1,B)).length>0)}}function H(Ie,We){if(1&Ie&&i.nrm(0,"ds-orcid-badge-and-tooltip",10),2&Ie){const Dt=i.XpG();i.Y8G("orcid",Dt.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",Dt.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let V=(()=>{class Ie extends y{static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],["class","ml-1",3,"orcid","authenticatedTimestamp",4,"ngIf"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"ml-1",3,"orcid","authenticatedTimestamp"]],template:function(kt,ct){if(1&kt&&(i.DNE(0,G,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,H,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&kt){const Ot=i.sdS(1);i.R7$(2),i.Y8G("id",ct.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,L,ct.itemPageRoute))("innerHTML",ct.mdRepresentation.getValue(),i.npT)("ngbTooltip",ct.mdRepresentation.allMetadata(i.lJ4(7,B)).length>0?Ot:null),i.R7$(),i.Y8G("ngIf",ct.mdRepresentation.firstMetadata("person.identifier.orcid"))}},dependencies:[R.bT,R.pM,v.d,l.Wk,e.n8,e.md,I],encapsulation:2})}}return Ie})();var X=n(96526);const J=Ie=>[Ie];function q(Ie,We){if(1&Ie&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ie){const Dt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Dt.dsoNameService.getName(Dt.mdRepresentation),i.npT)}}let Q=(()=>{class Ie extends y{constructor(Dt){super(),this.dsoNameService=Dt}static{this.\u0275fac=function(kt){return new(kt||Ie)(i.rXU(X.f))}}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(kt,ct){if(1&kt&&(i.DNE(0,q,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&kt){const Ot=i.sdS(1);i.R7$(2),i.Y8G("id",ct.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,J,ct.itemPageRoute))("innerHTML",ct.dsoNameService.getName(ct.mdRepresentation),i.npT)("ngbTooltip",ct.dsoNameService.getName(ct.mdRepresentation).length>0?Ot:null)}},dependencies:[v.d,l.Wk,e.n8,e.md],encapsulation:2})}}return Ie})();var Y=n(82777),z=n(81569),Z=n(7654);const oe=Ie=>["/browse/",Ie];function se(Ie,We){if(1&Ie&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.Y8G("routerLink",i.eq3(3,oe,Dt.mdRepresentation.browseDefinition.id))("queryParams",Dt.getQueryParams()),i.R7$(),i.SpI(" ",Dt.mdRepresentation.getValue()," ")}}let de=(()=>{class Ie extends _{getQueryParams(){const Dt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===Z.o.value?{value:this.mdRepresentation.getValue()}:Dt}static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(kt,ct){1&kt&&(i.j41(0,"div"),i.DNE(1,se,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&kt&&(i.R7$(),i.Y8G("ngIf","browse_link"===ct.mdRepresentation.representationType))},dependencies:[R.bT,l.Wk],encapsulation:2})}}return Ie})();var te=n(78448),le=n(17191);let Ee=(()=>{class Ie extends _{constructor(){super(...arguments),this.viewMode=te.n.ListElement}static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(kt,ct){1&kt&&i.nrm(0,"ds-listable-object-component-loader",0),2&kt&&i.Y8G("object",ct.mdRepresentation)("viewMode",ct.viewMode)},dependencies:[le.v],encapsulation:2})}}return Ie})();const be=Ie=>["/browse/",Ie];function pe(Ie,We){if(1&Ie&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.R7$(),i.SpI(" ",Dt.mdRepresentation.getValue()," ")}}function re(Ie,We){if(1&Ie&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.Y8G("href",Dt.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",Dt.mdRepresentation.getValue()," ")}}function ye(Ie,We){if(1&Ie&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.R7$(),i.JRh(Dt.mdRepresentation.getValue())}}function De(Ie,We){if(1&Ie&&(i.j41(0,"a",5),i.EFF(1),i.k0s()),2&Ie){const Dt=i.XpG();i.Y8G("routerLink",i.eq3(3,be,Dt.mdRepresentation.browseDefinition.id))("queryParams",Dt.getQueryParams()),i.R7$(),i.SpI(" ",Dt.mdRepresentation.getValue()," ")}}let nt=(()=>{class Ie extends _{getQueryParams(){const Dt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===Z.o.value?{value:this.mdRepresentation.getValue()}:Dt}static{this.\u0275fac=(()=>{let Dt;return function(ct){return(Dt||(Dt=i.xGo(Ie)))(ct||Ie)}})()}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(kt,ct){1&kt&&(i.j41(0,"div"),i.DNE(1,pe,2,1,"span",0)(2,re,2,2,"a",1)(3,ye,2,1,"span",0)(4,De,2,5,"a",2),i.k0s()),2&kt&&(i.R7$(),i.Y8G("ngIf","plain_text"===ct.mdRepresentation.representationType&&!ct.isLink()),i.R7$(),i.Y8G("ngIf","plain_text"===ct.mdRepresentation.representationType&&ct.isLink()),i.R7$(),i.Y8G("ngIf","authority_controlled"===ct.mdRepresentation.representationType),i.R7$(),i.Y8G("ngIf","browse_link"===ct.mdRepresentation.representationType))},dependencies:[R.bT,l.Wk],encapsulation:2})}}return Ie})();const mt=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>st}),xe="Publication",ot=t.d.PlainText,$e=new Map([["Publication",new Map([[t.d.PlainText,new Map([[z.A2,new Map([[z.SS,nt]])]])],[t.d.AuthorityControlled,new Map([[z.A2,new Map([[z.SS,nt]])]])],[t.d.BrowseLink,new Map([[z.A2,new Map([[z.SS,de]])]])],[t.d.Item,new Map([[z.A2,new Map([[z.SS,Ee]])]])]])],["Person",new Map([[t.d.Item,new Map([[z.A2,new Map([[z.SS,V]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[z.A2,new Map([[z.SS,T]])]])]])],["Project",new Map([[t.d.Item,new Map([[z.A2,new Map([[z.SS,Q]])]])]])]]);function st(Ie,We,Dt=z.A2,kt=z.SS){const ct=$e.get(Ie);if((0,Y.a4)(ct)){const Ot=ct.get(We);if((0,Y.a4)(Ot)){const ve=Ot.get(Dt);if((0,Y.a4)(ve)){const Be=(0,z.eW)(ve,kt);if((0,Y.a4)(Be))return Be;if((0,Y.a4)(ve.get(z.SS)))return ve.get(z.SS)}if((0,Y.a4)(Ot.get(z.A2))&&(0,Y.a4)(Ot.get(z.A2).get(z.SS)))return Ot.get(z.A2).get(z.SS)}if((0,Y.a4)(ct.get(ot))&&(0,Y.a4)(ct.get(ot).get(z.A2))&&(0,Y.a4)(ct.get(ot).get(z.A2).get(z.SS)))return ct.get(ot).get(z.A2).get(z.SS)}return $e.get(xe).get(ot).get(z.A2).get(z.SS)}},43796:(N,b,n)=>{"use strict";n.d(b,{SU:()=>Gt,u3:()=>ft});var i=n(60177),t=n(89417),l=n(52149),e=n(41780),f=n(13933),m=n(18226),h=n(96354),_=n(32473),y=n(52749),v=n(56760),D=n(80183),O=n(52837),M=n(12532),T=n(39806),R=n(43782),u=n(54438),w=n(7901);let C=(()=>{class Ke extends R.${constructor(at,dt,vt,jt,nn,Dn,Vn,xn,fs,Ms){super(at,dt,vt,jt,nn,Dn,fs,Ms),this.route=at,this.workflowItemService=dt,this.router=vt,this.routeService=jt,this.notificationsService=nn,this.translationService=Dn,this.workflowActionService=Vn,this.claimedTaskDataService=xn,this.requestService=fs,this.location=Ms}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,D.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(at=>{if(at){const dt=this.translationService.get("workflow-item."+this.type+".notification.success.title"),vt=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(dt,vt),this.previousPage()}else{const dt=this.translationService.get("workflow-item."+this.type+".notification.error.title"),vt=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(dt,vt)}})}sendRequest(at){return this.claimedTaskDataService.submitTask(at,this.createBody()).pipe((0,h.T)(dt=>dt.hasSucceeded))}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(w.nX),u.rXU(O.WorkflowItemDataService),u.rXU(w.Ix),u.rXU(v.v$),u.rXU(T.I),u.rXU(e.c$),u.rXU(y.WorkflowActionDataService),u.rXU(M.ClaimedTaskDataService),u.rXU(_.B),u.rXU(i.aZ))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-workflow-action"]],features:[u.Vt3],decls:0,vars:0,template:function(dt,vt){},encapsulation:2})}}return Ke})();const S=Ke=>({"is-invalid":Ke}),I=Ke=>({"text-danger":Ke});function L(Ke,en){1&Ke&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function B(Ke,en){1&Ke&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function U(Ke,en){1&Ke&&(u.j41(0,"span"),u.EFF(1,"*"),u.k0s())}function W(Ke,en){1&Ke&&(u.j41(0,"small",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function j(Ke,en){1&Ke&&(u.j41(0,"small",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function G(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"form",7),u.bIt("ngSubmit",function(){u.eBV(at);const vt=u.XpG(2);return u.Njj(vt.performAction())}),u.j41(1,"div",8)(2,"label",9)(3,"span"),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.DNE(6,U,2,0,"span",1),u.k0s(),u.j41(7,"textarea",10),u.EFF(8,"      "),u.k0s(),u.DNE(9,W,3,3,"small",11),u.k0s(),u.j41(10,"div",8)(11,"label",12),u.EFF(12),u.nI1(13,"translate"),u.k0s(),u.j41(14,"div",13),u.nrm(15,"ngb-rating",14),u.k0s(),u.DNE(16,j,3,3,"small",11),u.k0s()()}if(2&Ke){const at=u.XpG().ngVar,dt=u.XpG();u.Y8G("formGroup",dt.ratingForm),u.R7$(4),u.JRh(u.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),u.R7$(2),u.Y8G("ngIf",null==at?null:at.descriptionRequired),u.R7$(),u.Y8G("ngClass",u.eq3(14,S,dt.isInvalid("review")))("required",null==at?null:at.descriptionRequired),u.R7$(2),u.Y8G("ngIf",dt.isInvalid("review")),u.R7$(3),u.SpI(" ",u.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),u.R7$(3),u.Y8G("max",null==at?null:at.maxValue)("ngClass",u.eq3(16,I,dt.isInvalid("rating"))),u.R7$(),u.Y8G("ngIf",dt.isInvalid("rating"))}}function H(Ke,en){if(1&Ke&&(u.nrm(0,"ds-modify-item-overview",16),u.nI1(1,"async")),2&Ke){const at=u.XpG(2);u.Y8G("item",u.bMT(1,1,at.item$))}}function V(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"div"),u.DNE(1,L,3,3,"p",1)(2,B,3,3,"p",1)(3,G,17,18,"form",2)(4,H,2,3,"ds-modify-item-overview",3),u.nI1(5,"async"),u.j41(6,"div",4)(7,"button",5),u.bIt("click",function(){u.eBV(at);const vt=u.XpG();return u.Njj(vt.previousPage())}),u.EFF(8),u.nI1(9,"translate"),u.k0s(),u.j41(10,"button",6),u.bIt("click",function(){u.eBV(at);const vt=u.XpG();return u.Njj(vt.performAction())}),u.EFF(11),u.nI1(12,"translate"),u.k0s()()()}if(2&Ke){const at=en.ngVar,dt=u.XpG();u.R7$(),u.Y8G("ngIf",null==at?null:at.descriptionRequired),u.R7$(),u.Y8G("ngIf",!(null!=at&&at.descriptionRequired)),u.R7$(),u.Y8G("ngIf",dt.ratingForm),u.R7$(),u.Y8G("ngIf",u.bMT(5,6,dt.item$)),u.R7$(4),u.SpI(" ",u.bMT(9,8,"workflow-item."+dt.getType()+".button.cancel")," "),u.R7$(3),u.SpI(" ",u.bMT(12,10,"workflow-item."+dt.getType()+".button.confirm")," ")}}const X="submit_score",J="scorereviewaction";let q=(()=>{class Ke extends C{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const at={[X]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const dt=this.ratingForm.get("review").value;Object.assign(at,{review:dt})}return at}getType(){return J}getAdvancedInfo(at){return at?at.advancedInfo[0]:null}isInvalid(at){return this.ratingForm.get(at).touched&&!this.ratingForm.get(at).valid}static{this.\u0275fac=(()=>{let at;return function(vt){return(at||(at=u.xGo(Ke)))(vt||Ke)}})()}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(dt,vt){1&dt&&(u.DNE(0,V,13,12,"div",0),u.nI1(1,"async")),2&dt&&u.Y8G("ngVar",vt.getAdvancedInfo(u.bMT(1,1,vt.workflowAction$)))},dependencies:[f.W,i.bT,i.Jj,e.h,e.D9,l.Ny,l.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,m.r]})}}return Ke})();var Q=n(82777),Y=n(7673),z=n(72796),Z=n(96526),oe=n(96820),se=n(74449),de=n(44494),te=n(79145),le=n(22978),Ee=n(60456),be=n(48674),pe=n(5682);const re=()=>["top","right","bottom"],ye=Ke=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Ke}),De=Ke=>({name:Ke}),nt=Ke=>["btn btn-sm",Ke];function mt(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"button",22),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV(at);const vt=u.XpG().$implicit,jt=u.XpG(2);return u.Njj(jt.deleteMemberFromGroup(vt.eperson))}),u.nrm(2,"i",23),u.k0s()}if(2&Ke){const at=u.XpG().$implicit,dt=u.XpG(2);u.FS9("title",u.i5U(1,4,dt.messagePrefix+".table.edit.buttons.remove",u.eq3(7,De,dt.dsoNameService.getName(at.eperson)))),u.Y8G("dsBtnDisabled",dt.actionConfig.remove.disabled)("ngClass",u.eq3(9,nt,dt.actionConfig.remove.css)),u.R7$(2),u.Y8G("ngClass",dt.actionConfig.remove.icon)}}function xe(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"button",22),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV(at);const vt=u.XpG().$implicit,jt=u.XpG(2);return u.Njj(jt.addMemberToGroup(vt.eperson))}),u.nrm(2,"i",23),u.k0s()}if(2&Ke){const at=u.XpG().$implicit,dt=u.XpG(2);u.FS9("title",u.i5U(1,4,dt.messagePrefix+".table.edit.buttons.add",u.eq3(7,De,dt.dsoNameService.getName(at.eperson)))),u.Y8G("dsBtnDisabled",dt.actionConfig.add.disabled)("ngClass",u.eq3(9,nt,dt.actionConfig.add.css)),u.R7$(2),u.Y8G("ngClass",dt.actionConfig.add.icon)}}function ot(Ke,en){if(1&Ke&&(u.j41(0,"tr")(1,"td",17),u.EFF(2),u.k0s(),u.j41(3,"td",17)(4,"a",19),u.EFF(5),u.k0s()(),u.j41(6,"td",17),u.EFF(7),u.nI1(8,"translate"),u.nrm(9,"br"),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"td",17)(13,"div",20),u.DNE(14,mt,3,11,"button",21)(15,xe,3,11,"button",21),u.k0s()()()),2&Ke){const at=en.$implicit,dt=u.XpG(2);u.R7$(2),u.JRh(at.eperson.id),u.R7$(2),u.Y8G("routerLink",dt.getEPersonEditRoute(at.eperson.id)),u.R7$(),u.SpI(" ",dt.dsoNameService.getName(at.eperson)," "),u.R7$(2),u.Lme(" ",u.bMT(8,9,dt.messagePrefix+".table.email"),": ",at.eperson.email?at.eperson.email:"-",""),u.R7$(3),u.Lme(" ",u.bMT(11,11,dt.messagePrefix+".table.netid"),": ",at.eperson.netid?at.eperson.netid:"-"," "),u.R7$(4),u.Y8G("ngIf",at.ableToDelete),u.R7$(),u.Y8G("ngIf",!at.ableToDelete)}}function $e(Ke,en){if(1&Ke&&(u.j41(0,"ds-pagination",13),u.nI1(1,"async"),u.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"th",16),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"th",16),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"th",17),u.EFF(16),u.nI1(17,"translate"),u.k0s()()(),u.j41(18,"tbody"),u.DNE(19,ot,16,13,"tr",18),u.nI1(20,"async"),u.k0s()()()()),2&Ke){let at,dt;const vt=u.XpG();u.Y8G("paginationOptions",vt.config)("collectionSize",null==(at=u.bMT(1,9,vt.ePeopleMembersOfGroup))?null:at.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),u.R7$(7),u.JRh(u.bMT(8,11,vt.messagePrefix+".table.id")),u.R7$(3),u.JRh(u.bMT(11,13,vt.messagePrefix+".table.name")),u.R7$(3),u.JRh(u.bMT(14,15,vt.messagePrefix+".table.identity")),u.R7$(3),u.JRh(u.bMT(17,17,vt.messagePrefix+".table.edit")),u.R7$(3),u.Y8G("ngForOf",null==(dt=u.bMT(20,19,vt.ePeopleMembersOfGroup))?null:dt.page)}}function Fe(Ke,en){if(1&Ke&&(u.j41(0,"div",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke){const at=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,at.messagePrefix+".no-members-yet")," ")}}function st(Ke,en){if(1&Ke&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke){const at=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,at.messagePrefix+".search.head")," ")}}function Ie(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"tr")(1,"td",17),u.EFF(2),u.k0s(),u.j41(3,"td",17)(4,"a",19),u.EFF(5),u.k0s()(),u.j41(6,"td",17),u.EFF(7),u.nI1(8,"translate"),u.nrm(9,"br"),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"td",17)(13,"div",20)(14,"button",22),u.nI1(15,"translate"),u.bIt("click",function(){const vt=u.eBV(at).$implicit,jt=u.XpG(2);return u.Njj(jt.addMemberToGroup(vt))}),u.nrm(16,"i",23),u.k0s()()()()}if(2&Ke){const at=en.$implicit,dt=u.XpG(2);u.R7$(2),u.JRh(at.id),u.R7$(2),u.Y8G("routerLink",dt.getEPersonEditRoute(at.id)),u.R7$(),u.SpI(" ",dt.dsoNameService.getName(at)," "),u.R7$(2),u.Lme(" ",u.bMT(8,11,dt.messagePrefix+".table.email"),": ",at.email?at.email:"-",""),u.R7$(3),u.Lme(" ",u.bMT(11,13,dt.messagePrefix+".table.netid"),": ",at.netid?at.netid:"-"," "),u.R7$(4),u.FS9("title",u.i5U(15,15,dt.messagePrefix+".table.edit.buttons.add",u.eq3(18,De,dt.dsoNameService.getName(at)))),u.Y8G("dsBtnDisabled",dt.actionConfig.add.disabled)("ngClass",u.eq3(20,nt,dt.actionConfig.add.css)),u.R7$(2),u.Y8G("ngClass",dt.actionConfig.add.icon)}}function We(Ke,en){if(1&Ke&&(u.j41(0,"ds-pagination",13),u.nI1(1,"async"),u.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"th",16),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"th",16),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"th",17),u.EFF(16),u.nI1(17,"translate"),u.k0s()()(),u.j41(18,"tbody"),u.DNE(19,Ie,17,22,"tr",18),u.nI1(20,"async"),u.k0s()()()()),2&Ke){let at,dt;const vt=u.XpG();u.Y8G("paginationOptions",vt.configSearch)("collectionSize",null==(at=u.bMT(1,9,vt.ePeopleSearch))?null:at.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),u.R7$(7),u.JRh(u.bMT(8,11,vt.messagePrefix+".table.id")),u.R7$(3),u.JRh(u.bMT(11,13,vt.messagePrefix+".table.name")),u.R7$(3),u.JRh(u.bMT(14,15,vt.messagePrefix+".table.identity")),u.R7$(3),u.JRh(u.bMT(17,17,vt.messagePrefix+".table.edit")),u.R7$(3),u.Y8G("ngForOf",null==(dt=u.bMT(20,19,vt.ePeopleSearch))?null:dt.page)}}function Dt(Ke,en){if(1&Ke&&(u.j41(0,"div",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke){const at=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,at.messagePrefix+".no-items")," ")}}var kt=function(Ke){return Ke[Ke.ActiveGroup=0]="ActiveGroup",Ke[Ke.Members=1]="Members",Ke[Ke.SearchResults=2]="SearchResults",Ke}(kt||{});let ct=(()=>{class Ke extends z.v{constructor(at,dt,vt,jt,nn,Dn,Vn,xn){super(at,dt,vt,jt,nn,Dn,Vn,xn),this.groupService=at,this.ePersonDataService=dt,this.translateService=vt,this.notificationsService=jt,this.formBuilder=nn,this.paginationService=Dn,this.router=Vn,this.dsoNameService=xn,this.selectedReviewersUpdated=new u.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(at){this.groupId=at.groupId.currentValue,at.groupId.currentValue!==at.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(kt.ActiveGroup),this.subs.set(kt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,D.ak)()).subscribe(dt=>{null!=dt&&(this.groupDataService.editGroup(dt),this.groupBeingEdited=dt,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(at){if(this.config.currentPage=at,null===this.groupId){const dt=new oe.O;dt.page=this.selectedReviewers.map(vt=>Object.assign(new te.h,{eperson:vt,ableToDelete:this.isMemberOfGroup(vt)})),this.ePeopleMembersOfGroup.next(dt)}else super.retrieveMembers(at)}isMemberOfGroup(at){return(0,Y.of)((0,Q.a4)(this.selectedReviewers.find(dt=>dt.id===at.id)))}deleteMemberFromGroup(at){const dt=this.selectedReviewers.findIndex(vt=>vt.id===at.id);-1!==dt&&this.selectedReviewers.splice(dt,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(at){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(at),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(de.GroupDataService),u.rXU(se.EPersonDataService),u.rXU(e.c$),u.rXU(T.I),u.rXU(t.ze),u.rXU(le.m),u.rXU(w.Ix),u.rXU(Z.f))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[u.Vt3,u.OA$,u.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(dt,vt){if(1&dt&&(u.qex(0),u.j41(1,"h2",0),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"h3"),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.DNE(7,$e,21,21,"ds-pagination",1),u.nI1(8,"async"),u.DNE(9,Fe,3,3,"div",2),u.nI1(10,"async"),u.nI1(11,"async"),u.j41(12,"h3",3),u.DNE(13,st,3,3,"span",4),u.k0s(),u.j41(14,"form",5),u.bIt("ngSubmit",function(){return vt.search(vt.searchForm.value)}),u.j41(15,"div",6)(16,"div",7),u.nrm(17,"input",8),u.j41(18,"span",9)(19,"button",10),u.nrm(20,"i",11),u.EFF(21),u.nI1(22,"translate"),u.k0s()()()(),u.j41(23,"div")(24,"button",12),u.bIt("click",function(){return vt.clearFormAndResetResult()}),u.EFF(25),u.nI1(26,"translate"),u.k0s()()(),u.DNE(27,We,21,21,"ds-pagination",1),u.nI1(28,"async"),u.DNE(29,Dt,3,3,"div",2),u.nI1(30,"async"),u.bVm()),2&dt){let jt,nn,Dn,Vn;u.R7$(2),u.JRh(u.bMT(3,10,vt.messagePrefix+".head")),u.R7$(3),u.JRh(u.bMT(6,12,vt.messagePrefix+".headMembers")),u.R7$(2),u.Y8G("ngIf",(null==(jt=u.bMT(8,14,vt.ePeopleMembersOfGroup))?null:jt.totalElements)>0),u.R7$(2),u.Y8G("ngIf",void 0===u.bMT(10,16,vt.ePeopleMembersOfGroup)||0===(null==(nn=u.bMT(11,18,vt.ePeopleMembersOfGroup))?null:nn.totalElements)),u.R7$(4),u.Y8G("dsContextHelp",u.eq3(29,ye,u.lJ4(28,re))),u.R7$(),u.Y8G("formGroup",vt.searchForm),u.R7$(7),u.SpI(" ",u.bMT(22,20,vt.messagePrefix+".search.button"),""),u.R7$(4),u.JRh(u.bMT(26,22,vt.messagePrefix+".button.see-all")),u.R7$(2),u.Y8G("ngIf",(null==(Dn=u.bMT(28,24,vt.ePeopleSearch))?null:Dn.totalElements)>0),u.R7$(2),u.Y8G("ngIf",0===(null==(Vn=u.bMT(30,26,vt.ePeopleSearch))?null:Vn.totalElements)&&vt.searchDone)}},dependencies:[e.h,e.D9,be.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,pe.e,i.bT,i.Jj,w.Wk,i.YU,i.Sq,Ee.A],encapsulation:2})}}return Ke})();function Ot(Ke,en){1&Ke&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.JRh(u.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function ve(Ke,en){1&Ke&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.JRh(u.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function Be(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"ds-reviewers-list",7),u.bIt("selectedReviewersUpdated",function(vt){u.eBV(at);const jt=u.XpG();return jt.selectedReviewers=vt,u.Njj(jt.displayError=!1)}),u.k0s()}if(2&Ke){const at=u.XpG();u.Y8G("actionConfig",at.reviewersListActionConfig)("groupId",at.groupId)("ngClass",at.groupId?"reviewersListWithGroup":"")("multipleReviewers",at.multipleReviewers)}}function pt(Ke,en){1&Ke&&(u.j41(0,"small",8),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function dn(Ke,en){if(1&Ke&&(u.nrm(0,"ds-modify-item-overview",9),u.nI1(1,"async")),2&Ke){const at=u.XpG();u.Y8G("item",u.bMT(1,1,at.item$))}}const an="submit_select_reviewer",In="selectrevieweraction";let Tt=(()=>{class Ke extends C{constructor(at,dt,vt,jt,nn,Dn,Vn,xn,fs,Ms){super(at,dt,vt,jt,nn,Dn,Vn,xn,fs,Ms),this.route=at,this.workflowItemService=dt,this.router=vt,this.routeService=jt,this.notificationsService=nn,this.translationService=Dn,this.workflowActionService=Vn,this.claimedTaskDataService=xn,this.requestService=fs,this.location=Ms,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(at=>at.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(at=>{this.groupId=at?at.advancedInfo[0].group:null}))}getType(){return In}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[an]:!0,eperson:this.selectedReviewers.map(at=>at.id)}}previousPage(){let at=this.previousQueryParameters;(0,Q.a4)(at)||(at={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:at})}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(w.nX),u.rXU(O.WorkflowItemDataService),u.rXU(w.Ix),u.rXU(v.v$),u.rXU(T.I),u.rXU(e.c$),u.rXU(y.WorkflowActionDataService),u.rXU(M.ClaimedTaskDataService),u.rXU(_.B),u.rXU(i.aZ))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(dt,vt){1&dt&&(u.j41(0,"div"),u.DNE(1,Ot,3,3,"p",0)(2,ve,3,3,"p",0)(3,Be,1,4,"ds-reviewers-list",1)(4,pt,3,3,"small",2)(5,dn,2,3,"ds-modify-item-overview",3),u.nI1(6,"async"),u.j41(7,"div",4)(8,"button",5),u.bIt("click",function(){return vt.previousPage()}),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"button",6),u.bIt("click",function(){return vt.performAction()}),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()),2&dt&&(u.R7$(),u.Y8G("ngIf",vt.multipleReviewers),u.R7$(),u.Y8G("ngIf",!vt.multipleReviewers),u.R7$(),u.Y8G("ngIf",void 0!==vt.groupId),u.R7$(),u.Y8G("ngIf",vt.displayError),u.R7$(),u.Y8G("ngIf",u.bMT(6,7,vt.item$)),u.R7$(4),u.SpI(" ",u.bMT(10,9,"workflow-item."+vt.getType()+".button.cancel")," "),u.R7$(3),u.SpI(" ",u.bMT(13,11,"workflow-item."+vt.getType()+".button.confirm")," "))},dependencies:[i.MD,i.YU,i.bT,i.Jj,f.W,e.h,e.D9,ct],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return Ke})();var Wt=n(78655),It=n(48622),qt=n(96697),Ht=(n(88318),n(25567),n(22822)),Kt=n(46369);let Pt=(()=>{class Ke extends Kt.i{constructor(at,dt,vt,jt,nn,Dn){super(Ht.a,at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,qt.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(at){this.object=at}initReloadAnchor(){(0,Q.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(at=>at.unsubscribe())}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},features:[u.Vt3],decls:0,vars:0,template:function(dt,vt){},encapsulation:2})}}return Ke})();function Ct(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Qt(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Lt=(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn,Vn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.workflowItemDataService=Vn}reloadObjectExecution(){return(0,Y.of)(this.object)}convertReloadedObject(at){return Object.assign(new It.t,at,{indexableObject:at})}handleReloadableActionResponse(at,dt){super.handleReloadableActionResponse(at,dt),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(O.WorkflowItemDataService))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(dt,vt){1&dt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return vt.submitTask()}),u.DNE(3,Ct,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,Qt,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&dt&&(u.FS9("ngbTooltip",u.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),u.Y8G("className","btn btn-success")("dsBtnDisabled",u.bMT(2,7,vt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,9,vt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,11,vt.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ee.A]})}}return Ke})();var it=n(66211);function Ne(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function ke(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let Ue=(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn}reloadObjectExecution(){return(0,Y.of)(this.object)}convertReloadedObject(at){return Object.assign(new it.H,at,{indexableObject:at})}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(dt,vt){1&dt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return vt.submitTask()}),u.DNE(3,Ne,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,ke,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&dt&&(u.FS9("ngbTooltip",u.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),u.Y8G("dsBtnDisabled",u.bMT(2,6,vt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,8,vt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,10,vt.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ee.A]})}}return Ke})();const St=Ke=>[Ke];function Qe(Ke,en){if(1&Ke&&(u.j41(0,"a",1),u.nI1(1,"translate"),u.nI1(2,"async"),u.nrm(3,"i",2),u.EFF(4),u.nI1(5,"translate"),u.k0s()),2&Ke){let at;const dt=u.XpG();u.FS9("ngbTooltip",u.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),u.Y8G("routerLink",u.eq3(9,St,"/workflowitems/"+(null==(at=u.bMT(2,5,dt.object.workflowitem))||null==at.payload?null:at.payload.id)+"/edit")),u.R7$(4),u.SpI(" ",u.bMT(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}let _t=(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[u.Vt3,u.aNF],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(dt,vt){1&dt&&u.DNE(0,Qe,6,11,"a",0),2&dt&&u.Y8G("ngIf",vt.object)},dependencies:[i.bT,l.n8,l.md,w.Wk,i.Jj,e.h,e.D9]})}}return Ke})();var Zt=n(79951);let fn=(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn,Vn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.route=Vn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,D.ak)()).subscribe(at=>{this.workflowTaskPageRoute=(0,Zt.HJ)(at.id)}))}openAdvancedClaimedTaskTab(){const at={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(at.state={},at.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],at)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(w.nX))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[u.Vt3],decls:0,vars:0,template:function(dt,vt){},encapsulation:2})}}return Ke})(),Cn=(()=>{class Ke extends fn{constructor(at,dt,vt,jt,nn,Dn,Vn){super(at,dt,vt,jt,nn,Dn,Vn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.route=Vn,this.workflowType=J}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(w.nX))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(dt,vt){1&dt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.bIt("click",function(){return vt.openAdvancedClaimedTaskTab()}),u.nrm(2,"i",1),u.EFF(3),u.nI1(4,"translate"),u.k0s()),2&dt&&(u.FS9("ngbTooltip",u.bMT(1,2,"submission.workflow.generic."+vt.option+"-help")),u.R7$(3),u.SpI(" ",u.bMT(4,4,"submission.workflow.generic."+vt.option),"\n"))},dependencies:[l.n8,l.md,e.h,e.D9]})}}return Ke})();var ss=n(83233);function us(Ke,en){1&Ke&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ke&&u.Y8G("innerHTML",u.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),u.npT)}function Vs(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",5),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function gt(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",6),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function lt(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",5),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Yt(Ke,en){1&Ke&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ke&&(u.R7$(),u.JRh(u.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function Pn(Ke,en){if(1&Ke){const at=u.RV6();u.j41(0,"div",7)(1,"h4",8),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",9),u.bIt("click",function(){const vt=u.eBV(at).dismiss;return u.Njj(vt("Cross click"))}),u.j41(5,"span",10),u.EFF(6,"\xd7"),u.k0s()()(),u.j41(7,"div",11)(8,"div",12),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"form",13),u.bIt("ngSubmit",function(){u.eBV(at);const vt=u.XpG();return u.Njj(vt.submitTask())}),u.nrm(12,"textarea",14),u.nI1(13,"translate"),u.j41(14,"button",15),u.nI1(15,"async"),u.DNE(16,lt,4,3,"span",3),u.nI1(17,"async"),u.DNE(18,Yt,3,3,"span",3),u.nI1(19,"async"),u.k0s()()()}if(2&Ke){const at=u.XpG();u.R7$(2),u.JRh(u.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),u.R7$(7),u.SpI(" ",u.bMT(10,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),u.R7$(2),u.Y8G("formGroup",at.rejectForm),u.R7$(),u.FS9("placeholder",u.bMT(13,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),u.R7$(2),u.Y8G("dsBtnDisabled",!at.rejectForm.valid||u.bMT(15,13,at.processing$)),u.R7$(2),u.Y8G("ngIf",u.bMT(17,15,at.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(19,17,at.processing$))}}let is=(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn,Vn,xn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.formBuilder=Vn,this.modalService=xn}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const at=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:at})}openRejectModal(at){this.rejectForm.reset(),this.modalRef=this.modalService.open(at)}reloadObjectExecution(){return(0,Y.of)(this.object)}convertReloadedObject(at){return Object.assign(new ss.q,at,{indexableObject:at})}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(t.ze),u.rXU(l.Bq))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[u.Vt3,u.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","mt-3",3,"dsBtnDisabled"]],template:function(dt,vt){if(1&dt){const jt=u.RV6();u.DNE(0,us,2,3,"ng-template",null,0,u.C5r),u.j41(2,"button",2),u.nI1(3,"async"),u.bIt("click",function(){u.eBV(jt);const Dn=u.sdS(9);return u.Njj(vt.openRejectModal(Dn))}),u.DNE(4,Vs,4,3,"span",3),u.nI1(5,"async"),u.DNE(6,gt,4,3,"span",3),u.nI1(7,"async"),u.k0s(),u.DNE(8,Pn,20,19,"ng-template",null,1,u.C5r)}if(2&dt){const jt=u.sdS(1);u.R7$(2),u.Y8G("className","btn btn-danger")("ngbTooltip",jt)("dsBtnDisabled",u.bMT(3,5,vt.processing$)),u.R7$(2),u.Y8G("ngIf",u.bMT(5,7,vt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(7,9,vt.processing$))}},dependencies:[l.n8,l.md,i.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.Jj,e.h,e.D9,Ee.A]})}}return Ke})();var as=n(28515);function Ys(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function gs(Ke,en){1&Ke&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ke&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const pn=new Map([["submit_approve",Lt],["submit_decline_task",Ue],["submit_edit_metadata",_t],[X,Cn],["submit_reject",is],["return_to_pool",(()=>{class Ke extends Pt{constructor(at,dt,vt,jt,nn,Dn,Vn){super(at,dt,vt,jt,nn,Dn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.poolTaskService=Vn}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,qt.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(as.PoolTaskDataService))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(dt,vt){1&dt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return vt.submitTask()}),u.DNE(3,Ys,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,gs,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&dt&&(u.FS9("ngbTooltip",u.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),u.Y8G("className","btn btn-secondary")("dsBtnDisabled",u.bMT(2,7,vt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,9,vt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,11,vt.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ee.A]})}}return Ke})()],[an,(()=>{class Ke extends fn{constructor(at,dt,vt,jt,nn,Dn,Vn){super(at,dt,vt,jt,nn,Dn,Vn),this.injector=at,this.router=dt,this.notificationsService=vt,this.translate=jt,this.searchService=nn,this.requestService=Dn,this.route=Vn,this.workflowType=In}static{this.\u0275fac=function(dt){return new(dt||Ke)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(Wt.S),u.rXU(_.B),u.rXU(w.nX))}}static{this.\u0275cmp=u.VBU({type:Ke,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(dt,vt){1&dt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.bIt("click",function(){return vt.openAdvancedClaimedTaskTab()}),u.nrm(2,"i",1),u.EFF(3),u.nI1(4,"translate"),u.k0s()),2&dt&&(u.FS9("ngbTooltip",u.bMT(1,2,"submission.workflow.generic."+vt.option+"-help")),u.R7$(3),u.SpI(" ",u.bMT(4,4,"submission.workflow.generic."+vt.option),"\n"))},dependencies:[l.n8,l.md,e.h,e.D9]})}}return Ke})()]]),Zn=new Map([[J,q],[In,Tt]]);function ft(Ke){return pn.get(Ke)}function Gt(Ke){return Zn.get(Ke)}},5845:(N,b,n)=>{"use strict";n.d(b,{p:()=>W});var i=n(54438),t=n(84412),l=n(96697),e=n(88141),f=n(32473),m=n(80183),h=n(78655),_=n(4065),y=n(39806),v=n(29326),D=n(88318),O=n(25567),M=n(91581),T=n(52837),R=n(24261),u=n(12532),w=n(78416),C=n(27605),S=n(28515);class I{getConstructor(G){switch(G){case D.q.type:return v.ItemDataService;case M.F.type:return R.WorkspaceitemDataService;case O.t.type:return T.WorkflowItemDataService;case w.T.type:return u.ClaimedTaskDataService;case C.k.type:return S.PoolTaskDataService;default:return}}}var L=n(42547),B=n(7901),U=n(41780);let W=(()=>{class j{constructor(H,V,X,J,q,Q,Y){this.objectType=H,this.injector=V,this.router=X,this.notificationsService=J,this.translate=q,this.searchService=Q,this.requestService=Y,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const z=new I;this.objectDataService=V.get(z.getConstructor(H))}reload(){this.router.navigated=!1;const H=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,l.s)(1),(0,e.M)(V=>this.requestService.removeByHrefSubstring(V))).subscribe(()=>this.router.navigateByUrl(H))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(H=>{this.initObjects(H.payload)})}handleActionResponse(H){H?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new _.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new _.y(2e4,!0))}static{this.\u0275fac=function(V){return new(V||j)(i.rXU(L.v),i.rXU(i.zZn),i.rXU(B.Ix),i.rXU(y.I),i.rXU(U.c$),i.rXU(h.S),i.rXU(f.B))}}static{this.\u0275cmp=i.VBU({type:j,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(V,X){},encapsulation:2})}}return j})()},46369:(N,b,n)=>{"use strict";n.d(b,{i:()=>C});var i=n(7673),t=n(96697),l=n(25558),e=n(88141),f=n(96354),m=n(1716),h=n(32473),_=n(80183),y=n(78655),v=n(4065),D=n(39806),O=n(43280),M=n(5845),T=n(54438),R=n(42547),u=n(7901),w=n(41780);let C=(()=>{class S extends M.p{constructor(L,B,U,W,j,G,H){super(L,B,U,W,j,G,H),this.objectType=L,this.injector=B,this.router=U,this.notificationsService=W,this.translate=j,this.searchService=G,this.requestService=H}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,l.n)(L=>L.hasSucceeded?this._reloadObject().pipe((0,e.M)(B=>{this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,B)})):(this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(L,B){L?(B?this.processCompleted.emit({result:L,reloadedObject:B}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new v.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new v.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(L){const B=(0,O.L)(L.constructor);return Object.assign(new B,L,{indexableObject:L})}_reloadObject(){return this.reloadObjectExecution().pipe((0,l.n)(L=>L instanceof m.j?(0,i.of)(L).pipe((0,_.qD)(),(0,f.T)(B=>B.payload)):(0,i.of)(L))).pipe((0,f.T)(L=>L&&this.convertReloadedObject(L)))}static{this.\u0275fac=function(B){return new(B||S)(T.rXU(R.v),T.rXU(T.zZn),T.rXU(u.Ix),T.rXU(D.I),T.rXU(w.c$),T.rXU(y.S),T.rXU(h.B))}}static{this.\u0275cmp=T.VBU({type:S,selectors:[["ds-mydspace-reloadable-actions"]],features:[T.Vt3],decls:0,vars:0,template:function(B,U){},encapsulation:2})}}return S})()},43323:(N,b,n)=>{"use strict";n.d(b,{L:()=>l,o:()=>t});const t=(0,n(91e3).N)("dspace/ngrx/NO_OP_ACTION");class l{constructor(){this.type=t}}},91e3:(N,b,n)=>{"use strict";n.d(b,{N:()=>l});const i={};function l(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},16358:(N,b,n)=>{"use strict";n.d(b,{n:()=>i,p:()=>t});var i=function(l){return l.Fade="fade",l.FromTop="fromTop",l.FromRight="fromRight",l.FromBottom="fromBottom",l.FromLeft="fromLeft",l.Rotate="rotate",l.Scale="scale",l}(i||{}),t=function(l){return l.In="In",l.Out="Out",l}(t||{})},4065:(N,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(16358);class t{constructor(e=5e3,f=!0,m=i.n.Scale,h=!0){this.timeOut=e,this.clickToClose=f,this.animate=m,this.announceContentInLiveRegion=h}}},3050:(N,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},55709:(N,b,n)=>{"use strict";n.d(b,{z:()=>Ot});var i=n(49969),t=n(60177),l=n(54438),e=n(7673),f=n(71985),m=n(5964),h=n(61594),_=n(50332);const y=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),v=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),D=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),O=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),u=((0,i.hZ)("fromBottomIn",[v]),(0,i.hZ)("fromBottomOut",[O]),(0,i.hZ)("fromBottomInOut",[v,O]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),w=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),C=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),S=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),U=((0,i.hZ)("fromLeftIn",[w]),(0,i.hZ)("fromLeftOut",[S]),(0,i.hZ)("fromLeftInOut",[w,S]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),W=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),j=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),G=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[W]),(0,i.hZ)("fromRightOut",[G]),(0,i.hZ)("fromRightInOut",[W,G]);var J=n(6703),q=n(68681);const Q=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),Y=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),z=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),Z=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[Y]),(0,i.hZ)("scaleOut",[Z]),(0,i.hZ)("scaleInOut",[Y,Z]);var te=n(82777),le=n(16358),Ee=n(39806),be=n(345);const pe=(ve,Be,pt,dn)=>({"fas fa-2x":!0,"fa-check-circle":ve,"fa-times-circle":Be,"fa-exclamation-triangle":pt,"fa-info-circle":dn}),re=ve=>({width:ve});function ye(ve,Be){if(1&ve&&(l.j41(0,"div",12),l.nrm(1,"span",13),l.k0s()),2&ve){const pt=l.XpG();l.R7$(),l.Y8G("ngStyle",l.eq3(1,re,pt.progressWidth+"%"))}}function De(ve,Be){if(1&ve){const pt=l.RV6();l.j41(0,"button",14),l.bIt("click",function(){l.eBV(pt);const an=l.XpG();return l.Njj(an.remove())}),l.j41(1,"span",15),l.EFF(2,"\xd7"),l.k0s()()}}function nt(ve,Be){1&ve&&l.eu8(0)}function mt(ve,Be){if(1&ve&&(l.j41(0,"div",18),l.DNE(1,nt,1,0,"ng-container",19),l.k0s()),2&ve){const pt=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",pt.title)}}function xe(ve,Be){if(1&ve&&(l.j41(0,"div",18),l.EFF(1),l.nI1(2,"async"),l.k0s()),2&ve){const pt=l.XpG(2);l.R7$(),l.JRh(l.bMT(2,1,pt.title))}}function ot(ve,Be){if(1&ve&&(l.j41(0,"div",16)(1,"strong"),l.DNE(2,mt,2,1,"div",17)(3,xe,3,3,"ng-template",null,0,l.C5r),l.k0s()()),2&ve){const pt=l.sdS(4),dn=l.XpG();l.R7$(2),l.Y8G("ngIf",dn.titleIsTemplate)("ngIfElse",pt)}}function $e(ve,Be){1&ve&&l.eu8(0)}function Fe(ve,Be){if(1&ve&&(l.j41(0,"div",21),l.DNE(1,$e,1,0,"ng-container",19),l.k0s()),2&ve){const pt=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",pt.content)}}function st(ve,Be){if(1&ve&&(l.j41(0,"div",21),l.EFF(1),l.nI1(2,"async"),l.k0s()),2&ve){const pt=l.XpG(2);l.R7$(),l.JRh(l.bMT(2,1,pt.content))}}function Ie(ve,Be){if(1&ve&&(l.j41(0,"div",16),l.DNE(1,Fe,2,1,"div",20)(2,st,3,3,"ng-template",null,1,l.C5r),l.k0s()),2&ve){const pt=l.sdS(3),dn=l.XpG();l.R7$(),l.Y8G("ngIf",dn.contentIsTemplate)("ngIfElse",pt)}}function We(ve,Be){1&ve&&l.eu8(0)}function Dt(ve,Be){if(1&ve&&(l.j41(0,"div",23),l.DNE(1,We,1,0,"ng-container",19),l.k0s()),2&ve){const pt=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",pt.content)}}function kt(ve,Be){if(1&ve&&l.nrm(0,"div",24),2&ve){const pt=l.XpG(2);l.Y8G("innerHTML",pt.content,l.npT)}}function ct(ve,Be){if(1&ve&&(l.j41(0,"div",16),l.DNE(1,Dt,2,1,"div",22)(2,kt,1,1,"ng-template",null,2,l.C5r),l.k0s()),2&ve){const pt=l.sdS(3),dn=l.XpG();l.R7$(),l.Y8G("ngIf",dn.contentIsTemplate)("ngIfElse",pt)}}let Ot=(()=>{class ve{constructor(pt,dn,an,In){this.notificationService=pt,this.domSanitizer=dn,this.cdr=an,this.zone=In,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(Tt=>!Tt),(0,h.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+le.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(pt,dn){if(pt instanceof l.C4Q)this[dn]=pt;else if("title"===dn||"content"===dn&&!this.html){let an=null;(0,te.hj)(pt)&&("string"==typeof pt?an=(0,e.of)(pt):pt instanceof f.c?an=pt:"object"==typeof pt&&(0,te.hj)(pt.value)&&(an=(0,e.of)(pt.value))),this[dn]=an}else this[dn]=this.domSanitizer.bypassSecurityTrustHtml(pt);this[dn+"IsTemplate"]=pt instanceof l.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+le.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(dn){return new(dn||ve)(l.rXU(Ee.I),l.rXU(be.up),l.rXU(l.gRc),l.rXU(l.SKi))}}static{this.\u0275cmp=l.VBU({type:ve,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[l.aNF],decls:11,vars:15,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","close pt-0 pr-1 pl-0 pb-0","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 mr-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-left",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","pt-0","pr-1","pl-0","pb-0",3,"click"],["aria-hidden","true"],[1,"p-2","mr-3"],["class","notification-title pl-1",4,"ngIf","ngIfElse"],[1,"notification-title","pl-1"],[4,"ngTemplateOutlet"],["class","notification-content pl-1",4,"ngIf","ngIfElse"],[1,"notification-content","pl-1"],["class","notification-html pl-1",4,"ngIf","ngIfElse"],[1,"notification-html","pl-1"],[1,"notification-html","pl-1",3,"innerHTML"]],template:function(dn,an){1&dn&&(l.j41(0,"div",3),l.DNE(1,ye,2,3,"div",4)(2,De,3,0,"button",5),l.j41(3,"div",6)(4,"div",7)(5,"div",8),l.nrm(6,"i",9),l.k0s()(),l.j41(7,"div",10),l.DNE(8,ot,5,2,"div",11)(9,Ie,4,2,"div",11)(10,ct,4,2,"div",11),l.k0s()()()),2&dn&&(l.ZvI("notification alert ",an.notification.type," alert-dismissible m-3 shadow"),l.Y8G("@enterLeave",an.animate),l.R7$(),l.Y8G("ngIf",an.showProgressBar),l.R7$(),l.Y8G("ngIf",an.notification.options.clickToClose),l.R7$(4),l.Y8G("ngClass",l.ziG(10,pe,"alert-success"===an.notification.type,"alert-danger"===an.notification.type,"alert-warning"===an.notification.type,"alert-info"===an.notification.type)),l.R7$(2),l.Y8G("ngIf",an.title),l.R7$(),l.Y8G("ngIf",an.content&&!an.html),l.R7$(),l.Y8G("ngIf",an.content&&an.html))},dependencies:[t.bT,t.B3,t.YU,t.T3,t.Jj],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[_.e9,_.HT,_.ai,_.wA,v,y,O,D,W,U,G,j,w,u,S,C,J.iP,J.Wk,J.Py,J.B_,q.UE,q.CC,q.L2,q.Ru,Q,Y,z,Z])]},changeDetection:0})}}return ve})()},25871:(N,b,n)=>{"use strict";n.d(b,{s:()=>R});var i=n(60177),t=n(25499),l=n(22458),e=n.n(l),f=n(84412),m=n(7673),h=n(96697),_=n(82777),y=n(25488),v=n(55709),D=n(39806);const O=u=>u.notifications;var M=n(54438);function T(u,w){if(1&u&&M.nrm(0,"ds-notification",2),2&u){const C=w.$implicit,S=M.XpG();M.Y8G("notification",C)("isPaused$",S.isPaused$)}}let R=(()=>{class u{set options(C){this.attachChanges(C)}constructor(C,S,I,L){this.service=C,this.store=S,this.cdr=I,this.liveRegionService=L,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new f.t(!1)}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(O)).subscribe(C=>{0===C.length?this.notifications=[]:C.length>this.notifications.length?e()(C,this.notifications).forEach(I=>{this.add(I)}):e()(this.notifications,C).forEach(I=>{this.notifications=this.notifications.filter(L=>L.id!==I.id)}),this.cdr.detectChanges()})}add(C){this.block(C)?this.service.remove(C):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,C),this.addContentToLiveRegion(C))}addContentToLiveRegion(C){let S=C.content;!C.options.announceContentInLiveRegion||(0,_.Tn)(S)||("string"==typeof S&&(S=(0,m.of)(S)),S.pipe((0,_.VT)(),(0,h.s)(1)).subscribe(I=>this.liveRegionService.addMessage(I)))}block(C){const S=C.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(I=>{if(S(I,C))return!0}),!1}checkStandard(C,S){return C.type===S.type&&C.title===S.title&&C.content===S.content}checkHtml(C,S){return!!C.html&&C.type===S.type&&C.title===S.title&&C.content===S.content&&C.html===S.html}attachChanges(C){Object.keys(C).forEach(S=>{this.hasOwnProperty(S)&&(this[S]=C[S])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(S){return new(S||u)(M.rXU(D.I),M.rXU(t.il),M.rXU(M.gRc),M.rXU(y.A))}}static{this.\u0275cmp=M.VBU({type:u,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[M.aNF],decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(S,I){1&S&&(M.j41(0,"div",0),M.bIt("mouseenter",function(){return I.isPaused$.next(!0)})("mouseleave",function(){return I.isPaused$.next(!1)}),M.DNE(1,T,1,2,"ds-notification",1),M.k0s()),2&S&&(M.Y8G("ngClass",I.position),M.R7$(),M.Y8G("ngForOf",I.notifications))},dependencies:[i.YU,i.pM,v.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return u})()},11568:(N,b,n)=>{"use strict";n.d(b,{Is:()=>t,Sc:()=>l,e0:()=>f,o4:()=>e});var i=n(91e3);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class l{constructor(h){this.type=t.NEW_NOTIFICATION,this.payload=h}}class e{constructor(h){this.payload=h,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class f{constructor(h){this.type=t.REMOVE_NOTIFICATION,this.payload=h}}},39806:(N,b,n)=>{"use strict";n.d(b,{I:()=>T});var i=n(59519),t=n.n(i),l=n(7673),e=n(61594),f=n(88280),m=n(82777),h=n(4065);class _{constructor(u,w,C,S,I,L){this.id=u,this.type=w,this.title=C,this.content=S,this.options=(0,m.Im)(I)?new h.y:I,this.html=L}}var y=n(3050),v=n(11568),D=n(54438),O=n(25499),M=n(41780);let T=(()=>{class R{constructor(w,C){this.store=w,this.translate=C}add(w){const C=new v.Sc(w);this.store.dispatch(C)}success(w=(0,l.of)(""),C=(0,l.of)(""),S={},I=!1){const L={...this.getDefaultOptions(),...S},B=new _(t()(),y._.Success,w,C,L,I);return this.add(B),B}error(w=(0,l.of)(""),C=(0,l.of)(""),S={},I=!1){const L={...this.getDefaultOptions(),...S},B=new _(t()(),y._.Error,w,C,L,I);return this.add(B),B}info(w=(0,l.of)(""),C=(0,l.of)(""),S={},I=!1){const L={...this.getDefaultOptions(),...S},B=new _(t()(),y._.Info,w,C,L,I);return this.add(B),B}warning(w=(0,l.of)(""),C=(0,l.of)(""),S=this.getDefaultOptions(),I=!1){const L={...this.getDefaultOptions(),...S},B=new _(t()(),y._.Warning,w,C,L,I);return this.add(B),B}notificationWithAnchor(w,C,S,I,L,B){this.translate.get(I).pipe((0,e.$)()).subscribe(U=>{const W=`<a class="align-baseline btn btn-link p-0 m-0" href="${S}" >\n                        <strong>${U}</strong>\n                      </a>`,j=Object.create({});j[B]=W,this.translate.get(L,j).pipe((0,e.$)()).subscribe(G=>{switch(w){case y._.Success:this.success(null,G,C,!0);break;case y._.Error:this.error(null,G,C,!0);break;case y._.Info:this.info(null,G,C,!0);break;case y._.Warning:this.warning(null,G,C,!0)}})})}remove(w){const C=new v.e0(w.id);this.store.dispatch(C)}removeAll(){const w=new v.o4;this.store.dispatch(w)}getDefaultOptions(){return new h.y(f.c.notifications.timeOut,f.c.notifications.clickToClose,f.c.notifications.animate)}static{this.\u0275fac=function(C){return new(C||R)(D.KVO(O.il),D.KVO(M.c$))}}static{this.\u0275prov=D.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},7581:(N,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},67560:(N,b,n)=>{"use strict";n.d(b,{h:()=>ze});var i=n(60177),t=n(54438),l=n(96354),e=n(23294),h=(n(6238),n(1716),n(26292)),_=n(78448),y=n(82777),v=n(41780),D=n(50332),O=n(79632),M=n(82394),T=n(7581),R=n(17191),u=n(5682);function w(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"div",5)(1,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(_t){t.eBV(Qe);const Zt=t.XpG(2);return t.Njj(Zt.contentChange.emit(_t))}),t.k0s()()}if(2&Ue){const Qe=St.$implicit,xt=t.XpG(2);t.R7$(),t.Y8G("object",Qe)("viewMode",xt.viewMode)("context",xt.context)("showThumbnails",xt.showThumbnails)}}function C(Ue,St){if(1&Ue&&(t.j41(0,"div",3),t.DNE(1,w,2,4,"div",4),t.k0s()),2&Ue){const Qe=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",null==Qe.objects||null==Qe.objects.payload?null:Qe.objects.payload.page)}}function S(Ue,St){1&Ue&&(t.nrm(0,"ds-error",7),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"error.objects"))}function I(Ue,St){1&Ue&&(t.nrm(0,"ds-loading",7),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let L=(()=>{class Ue{constructor(){this.viewMode=_.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(Qe){this._objects=Qe}get objects(){return this._objects}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(xt){return new(xt||Ue)}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"],[3,"message"]],template:function(xt,_t){1&xt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return _t.onPageChange(fn)})("pageSizeChange",function(fn){return _t.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return _t.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return _t.onSortFieldChange(fn)})("paginationChange",function(fn){return _t.onPaginationChange(fn)})("prev",function(){return _t.goPrev()})("next",function(){return _t.goNext()}),t.DNE(1,C,2,2,"div",1)(2,S,2,3,"ds-error",2)(3,I,2,3,"ds-loading",2),t.k0s()),2&xt&&(t.Y8G("paginationOptions",_t.config)("collectionSize",null==_t.objects||null==_t.objects.payload?null:_t.objects.payload.totalElements)("sortOptions",_t.sortConfig)("objects",_t.objects)("hideGear",_t.hideGear)("hidePaginationDetail",_t.hidePaginationDetail)("hidePagerWhenSinglePage",_t.hidePagerWhenSinglePage)("showPaginator",_t.showPaginator),t.R7$(),t.Y8G("ngIf",null==_t.objects?null:_t.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",_t.objects.hasFailed),t.R7$(),t.Y8G("ngIf",_t.objects.isLoading))},dependencies:[u.e,i.bT,i.pM,R.v,O.A,M.v,v.h,v.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[D.qG]}})}}return Ue})();var B=n(84412),U=n(84572),W=n(99172),j=n(57538),G=n(75465);function H(Ue,St){if(1&Ue&&(t.j41(0,"div",7),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",8),t.k0s()),2&Ue){const Qe=St.$implicit,xt=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",Qe)("viewMode",xt.viewMode)("context",xt.context)("showThumbnails",xt.showThumbnails)("linkType",xt.linkType)}}function V(Ue,St){if(1&Ue&&(t.j41(0,"div",5),t.DNE(1,H,3,8,"div",6),t.k0s()),2&Ue){const Qe=St.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",Qe)}}function X(Ue,St){if(1&Ue&&(t.j41(0,"div",3),t.DNE(1,V,2,2,"div",4),t.nI1(2,"async"),t.k0s()),2&Ue){const Qe=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,Qe.columns$))}}function J(Ue,St){1&Ue&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"error.objects"))}function q(Ue,St){1&Ue&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Q=(()=>{class Ue{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(Qe){this.hostWindow=Qe,this.viewMode=_.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}ngOnInit(){const Qe=this.hostWindow.widthCategory.pipe((0,l.T)(xt=>{switch(xt){case j.tP.XL:case j.tP.LG:return 3;case j.tP.MD:case j.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,W.Z)(3));this.columns$=(0,U.z)(Qe,this._objects$).pipe((0,l.T)(([xt,_t])=>{if((0,y.a4)(_t)&&(0,y.a4)(_t.payload)&&(0,y.a4)(_t.payload.page)){const fn=[];return _t.payload.page.forEach((Cn,ss)=>{const us=ss%xt;let Vs=fn[us];(0,y.Tn)(Vs)&&(Vs=[]),fn[us]=[...Vs,Cn]}),fn}return[]}))}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU(j.CV))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function(xt,_t){1&xt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return _t.onPageChange(fn)})("pageSizeChange",function(fn){return _t.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return _t.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return _t.onSortFieldChange(fn)})("paginationChange",function(fn){return _t.onPaginationChange(fn)})("prev",function(){return _t.goPrev()})("next",function(){return _t.goNext()}),t.DNE(1,X,3,3,"div",1)(2,J,2,3,"ds-error",2)(3,q,2,3,"ds-loading",2),t.k0s()),2&xt&&(t.Y8G("paginationOptions",_t.config)("collectionSize",null==_t.objects||null==_t.objects.payload?null:_t.objects.payload.totalElements)("sortOptions",_t.sortConfig)("hideGear",_t.hideGear)("objects",_t.objects)("hidePagerWhenSinglePage",_t.hidePagerWhenSinglePage)("hidePaginationDetail",_t.hidePaginationDetail)("showPaginator",_t.showPaginator),t.R7$(),t.Y8G("ngIf",null==_t.objects?null:_t.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",_t.objects.hasFailed),t.R7$(),t.Y8G("ngIf",_t.objects.isLoading))},dependencies:[u.e,i.bT,i.pM,R.v,O.A,M.v,i.Jj,v.h,v.D9,G.L],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[D.qG]}})}}return Ue})();var Y=n(8886);n(52304);const Z=["*"];function oe(Ue,St){}let se=(()=>{class Ue extends Y.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(Qe){return n(8894)(`./${Qe}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52304))}static{this.\u0275fac=(()=>{let Qe;return function(_t){return(Qe||(Qe=t.xGo(Ue)))(_t||Ue)}})()}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:Z,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(xt,_t){1&xt&&(t.NAR(),t.DNE(0,oe,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Ue})();var de=n(7673),te=n(96697),Ee=(n(96820),n(82522)),be=n(7901),pe=n(39012),re=n(13955);let ye=(()=>{class Ue{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=T.n,this.viewModes=_.n,this.contexts=h.o}static{this.\u0275fac=function(xt){return new(xt||Ue)}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(xt,_t){},encapsulation:2})}}return Ue})(),De=(()=>{class Ue extends ye{static{this.\u0275fac=(()=>{let Qe;return function(_t){return(Qe||(Qe=t.xGo(Ue)))(_t||Ue)}})()}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(xt,_t){},encapsulation:2})}}return Ue})();var nt=n(21308),mt=n(44869),xe=n(25543),$e=(n(3e3),n(52149));const Fe=Ue=>({default:Ue});function st(Ue,St){if(1&Ue&&(t.j41(0,"div")(1,"div",9)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&Ue){let Qe;const xt=St.$implicit,_t=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,xt+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+_t.notifyMessage[xt],t.eq3(7,Fe,null!==(Qe=_t.notifyMessage[xt])&&void 0!==Qe?Qe:"n/a")))}}function Ie(Ue,St){if(1&Ue&&t.nrm(0,"pre",12),2&Ue){const Qe=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",Qe.notifyMessage.message,t.npT)}}let We=(()=>{class Ue{constructor(Qe,xt){this.activeModal=Qe,this.translationsService=xt,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new xe.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU($e.Lw),t.rXU(v.c$))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:14,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],["class","bg-secondary text-white mt-2 p-2",3,"innerHTML",4,"ngIf"],[1,"row","mb-4"],[1,"font-weight-bold","col"],[1,"col","text-right"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"]],template:function(xt,_t){1&xt&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return _t.activeModal.dismiss("Cross click")}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4),t.DNE(8,st,8,9,"div",5),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return _t.toggleCoarMessage()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,Ie,1,2,"pre",8),t.k0s()),2&xt&&(t.R7$(2),t.JRh(t.bMT(3,4,"notify-message-modal.title")),t.R7$(6),t.Y8G("ngForOf",_t.notifyMessageKeys),t.R7$(3),t.SpI(" ",t.bMT(12,6,"notify-message-modal.show-message")," "),t.R7$(2),t.Y8G("ngIf",_t.isCoarMessageVisible))},dependencies:[i.Sq,v.h,v.D9,i.bT],encapsulation:2,data:{animation:[D.qG]}})}}return Ue})();var Dt=n(88857);function kt(Ue,St){if(1&Ue&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&Ue){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,Qe.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function ct(Ue,St){1&Ue&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Ot(Ue,St){if(1&Ue&&(t.j41(0,"a",12),t.EFF(1),t.k0s()),2&Ue){const Qe=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(Qe.context||Qe.object)),t.R7$(),t.JRh(Qe.relatedItem)}}function ve(Ue,St){1&Ue&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Be(Ue,St){if(1&Ue&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&Ue){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(Qe.ldnService)}}function pt(Ue,St){1&Ue&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function dn(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Qe);const _t=t.XpG().$implicit,Zt=t.XpG();return t.Njj(Zt.reprocessMessage(_t))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&Ue&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function an(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,kt,3,4,"div",5)(3,ct,2,0,"div",5),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",6)(6,"ds-truncatable-part",7),t.DNE(7,Ot,2,2,"a",8),t.k0s()(),t.DNE(8,ve,2,0,"div",5),t.k0s(),t.j41(9,"td"),t.DNE(10,Be,2,1,"div",5)(11,pt,2,0,"div",5),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",9)(21,"button",10),t.bIt("click",function(){const _t=t.eBV(Qe).$implicit,Zt=t.XpG();return t.Njj(Zt.openDetailModal(_t))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,dn,3,3,"button",11),t.k0s()()()}if(2&Ue){const Qe=St.$implicit,xt=t.XpG();t.R7$(2),t.Y8G("ngIf",Qe.queueLastStartTime),t.R7$(),t.Y8G("ngIf",!Qe.queueLastStartTime),t.R7$(2),t.Y8G("id",Qe.id),t.R7$(),t.Y8G("id",Qe.id)("minLines",2),t.R7$(),t.Y8G("ngIf",Qe.relatedItem),t.R7$(),t.Y8G("ngIf",!Qe.relatedItem),t.R7$(2),t.Y8G("ngIf",Qe.ldnService),t.R7$(),t.Y8G("ngIf",!Qe.ldnService),t.R7$(3),t.JRh(Qe.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+Qe.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.Y8G("ngIf",Qe.queueStatusLabel!==xt.reprocessStatus&&xt.validStatusesForReprocess.includes(Qe.queueStatusLabel))}}let In=(()=>{class Ue extends De{constructor(Qe,xt,_t,Zt){super(),this.modalService=Qe,this.adminNotifyMessagesService=xt,this.datePipe=_t,this.searchConfigService=Zt,this.messagesSubject$=new B.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(Qe=>{this.isInbound=Qe.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(Qe=>Qe.unsubscribe())}openDetailModal(Qe){const xt=this.modalService.open(We),_t={...Qe};this.messageKeys.forEach(Zt=>{this.dateTypeKeys.includes(Zt)&&(_t[Zt]=this.datePipe.transform(_t[Zt],this.dateFormat))}),_t.message=JSON.stringify(JSON.parse(Qe.message),null,2),xt.componentInstance.notifyMessage=_t,xt.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(Qe){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(Qe,this.messagesSubject$).subscribe(xt=>{this.messagesSubject$.next(xt)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(Qe=>Qe.indexableObject)).subscribe(Qe=>{this.messagesSubject$.next(Qe)}))}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU($e.Bq),t.rXU(Dt.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(re.EN))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:re.EN,useClass:pe.g}]),t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[3,"id","minLines"],[3,"routerLink",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"routerLink"],[1,"btn","btn-warning",3,"click"]],template:function(xt,_t){1&xt&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.DNE(23,an,25,17,"tr",4),t.nI1(24,"async"),t.k0s()()()),2&xt&&(t.R7$(5),t.JRh(t.bMT(6,7,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,9,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,11,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,13,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,15,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,17,"notify-message-result.action")),t.R7$(3),t.Y8G("ngForOf",t.bMT(24,19,_t.messagesSubject$)))},dependencies:[v.h,v.D9,i.Sq,i.bT,i.vh,i.Jj,nt.d,mt.W,be.Wk],encapsulation:2})}}return Ue})();var Tt=n(40887),Wt=n(81569);const It=new Map([[Tt.o,new Map([[_.n.Table,new Map([[h.o.CoarNotify,new Map([[Wt.SS,In]])]])]])]]);let ln=(()=>{class Ue{constructor(Qe){this.viewContainerRef=Qe}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:Ue,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return Ue})();function Mt(Ue,St){}let Ht=(()=>{class Ue{constructor(Qe,xt){this.cdr=Qe,this.themeService=xt,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=_.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(Qe){(0,y.Tn)(this.compRef)?this.instantiateComponent(this.objects,Qe):this.inAndOutputNames.some(xt=>(0,y.a4)(Qe[xt]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(Qe))}ngOnDestroy(){this.subs.filter(Qe=>(0,y.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}instantiateComponent(Qe,xt){const _t=this.getComponent(Qe?.page[0]?.getRenderTypes(),this.viewMode,this.context),Zt=this.tabulatableObjectsDirective.viewContainerRef;Zt.clear(),this.compRef=Zt.createComponent(_t,{index:0,injector:void 0}),(0,y.a4)(xt)?this.ngOnChanges(xt):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,U.z)([(0,de.of)(xt),this.compRef.instance.reloadedObject.pipe((0,te.s)(1))]).subscribe(([fn,Cn])=>{Cn&&(this.compRef.destroy(),this.objects=Cn,this.instantiateComponent(Cn,fn),this.cdr.detectChanges(),this.contentChange.emit(Cn))})}getComponent(Qe,xt,_t){return function qt(Ue,St,Qe=Wt.A2,xt=Wt.SS){let _t=null;for(const Zt of Ue){const fn=It.get(Zt);if((0,y.a4)(fn)){const Cn=(0,Wt.mo)(fn,[St,Qe,xt],[Wt.e8,Wt.A2,Wt.SS]);((0,y.Tn)(_t)||_t.isLessRelevantThan(Cn))&&(_t=Cn)}}return(0,y.a4)(_t)?_t.match:null}(Qe,xt,_t,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,y.hj)(this.inAndOutputNames)&&(0,y.a4)(this.compRef)&&(0,y.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(Qe=>void 0!==this[Qe]).forEach(Qe=>{this.compRef.instance[Qe]=this[Qe]})}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU(t.gRc),t.rXU(Ee.Fs))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(xt,_t){if(1&xt&&t.GBs(ln,7),2&xt){let Zt;t.mGM(Zt=t.lsd())&&(_t.tabulatableObjectsDirective=Zt.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(xt,_t){1&xt&&t.DNE(0,Mt,0,0,"ng-template",0)},dependencies:[ln],encapsulation:2})}}return Ue})();function Kt(Ue,St){if(1&Ue&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",3),t.k0s()()),2&Ue){const Qe=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",Qe.objects.payload)("context",Qe.context)("showThumbnails",Qe.showThumbnails)("linkType",Qe.linkType)}}function Pt(Ue,St){1&Ue&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"error.objects"))}function Ct(Ue,St){1&Ue&&(t.nrm(0,"ds-loading",4),t.nI1(1,"translate")),2&Ue&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Qt=(()=>{class Ue{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=_.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(xt){return new(xt||Ue)}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"objects","context","showThumbnails","linkType"],[3,"message"]],template:function(xt,_t){1&xt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return _t.onPageChange(fn)})("pageSizeChange",function(fn){return _t.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return _t.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return _t.onSortFieldChange(fn)})("paginationChange",function(fn){return _t.onPaginationChange(fn)})("prev",function(){return _t.goPrev()})("next",function(){return _t.goNext()}),t.DNE(1,Kt,3,5,"div",1)(2,Pt,2,3,"ds-error",2)(3,Ct,2,3,"ds-loading",2),t.k0s()),2&xt&&(t.Y8G("paginationOptions",_t.config)("collectionSize",null==_t.objects||null==_t.objects.payload?null:_t.objects.payload.totalElements)("sortOptions",_t.sortConfig)("hideGear",_t.hideGear)("objects",_t.objects)("hidePagerWhenSinglePage",_t.hidePagerWhenSinglePage)("hidePaginationDetail",_t.hidePaginationDetail)("showPaginator",_t.showPaginator)("retainScrollPosition",!0),t.R7$(),t.Y8G("ngIf",null==_t.objects?null:_t.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",null==_t.objects?null:_t.objects.hasFailed),t.R7$(),t.Y8G("ngIf",null==_t.objects?null:_t.objects.isLoading))},dependencies:[u.e,i.bT,M.v,O.A,v.h,v.D9,Ht],data:{animation:[D.qG]}})}}return Ue})();var Et=n(74430);function Lt(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"ds-object-list",3),t.bIt("paginationChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPaginationChange(_t))})("pageChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageChange(_t))})("pageSizeChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageSizeChange(_t))})("sortDirectionChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortDirectionChange(_t))})("deselectObject",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.deselectObject.emit(_t))})("selectObject",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.selectObject.emit(_t))})("sortFieldChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortFieldChange(_t))})("importObject",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.importObject.emit(_t))})("contentChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.contentChange.emit(_t))})("prev",function(){t.eBV(Qe);const _t=t.XpG();return t.Njj(_t.goPrev())})("next",function(){t.eBV(Qe);const _t=t.XpG();return t.Njj(_t.goNext())}),t.k0s()}if(2&Ue){const Qe=t.XpG();t.Y8G("ngClass",Qe.placeholderFontClass)("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hasBorder",Qe.hasBorder)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)("selectable",Qe.selectable)("selectionConfig",Qe.selectionConfig)("importable",Qe.importable)("importConfig",Qe.importConfig)}}function it(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"ds-object-grid",4),t.bIt("paginationChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPaginationChange(_t))})("pageChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageChange(_t))})("pageSizeChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageSizeChange(_t))})("sortDirectionChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortDirectionChange(_t))})("sortFieldChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortFieldChange(_t))}),t.k0s()}if(2&Ue){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function Ne(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"ds-object-detail",5),t.bIt("contentChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.contentChange.emit(_t))}),t.k0s()}if(2&Ue){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function ke(Ue,St){if(1&Ue){const Qe=t.RV6();t.j41(0,"ds-object-table",4),t.bIt("paginationChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPaginationChange(_t))})("pageChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageChange(_t))})("pageSizeChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onPageSizeChange(_t))})("sortDirectionChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortDirectionChange(_t))})("sortFieldChange",function(_t){t.eBV(Qe);const Zt=t.XpG();return t.Njj(Zt.onSortFieldChange(_t))}),t.k0s()}if(2&Ue){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}let ze=(()=>{class Ue{constructor(Qe,xt,_t,Zt,fn){this.cdRef=Qe,this.route=xt,this.router=_t,this.elementRef=Zt,this.platformId=fn,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=_.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,l.T)(Qe=>(0,y.Im)(Qe?.view)?_.n.ListElement:Qe.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Et.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(xt){return new(xt||Ue)(t.rXU(t.gRc),t.rXU(be.nX),t.rXU(be.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:Ue,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:8,vars:12,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(xt,_t){1&xt&&(t.DNE(0,Lt,1,15,"ds-object-list",0),t.nI1(1,"async"),t.DNE(2,it,1,9,"ds-object-grid",1),t.nI1(3,"async"),t.DNE(4,Ne,1,9,"ds-object-detail",2),t.nI1(5,"async"),t.DNE(6,ke,1,9,"ds-object-table",1),t.nI1(7,"async")),2&xt&&(t.Y8G("ngIf",t.bMT(1,4,_t.currentMode$)===_t.viewModeEnum.ListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(3,6,_t.currentMode$)===_t.viewModeEnum.GridElement),t.R7$(2),t.Y8G("ngIf",t.bMT(5,8,_t.currentMode$)===_t.viewModeEnum.DetailedListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(7,10,_t.currentMode$)===_t.viewModeEnum.Table))},dependencies:[i.bT,se,i.YU,Q,L,i.Jj,Qt],styles:["[_nghost-%COMP%]{display:block}"]})}}return Ue})()},67604:(N,b,n)=>{"use strict";n.r(b),n.d(b,{AccessStatusBadgeComponent:()=>T});var i=n(60177),t=n(41780),l=n(7673),e=n(96354),f=n(99437),m=n(45022),h=n(88280),y=(n(76829),n(13868)),v=n(82777),D=n(54438);function O(R,u){if(1&R&&(D.j41(0,"span")(1,"span"),D.EFF(2),D.nI1(3,"translate"),D.k0s()()),2&R){const w=u.ngIf,C=D.XpG(2);D.R7$(),D.HbH("badge badge-secondary access-status-list-element-badge "+C.accessStatusClass),D.R7$(),D.JRh(D.bMT(3,3,w))}}function M(R,u){if(1&R&&(D.qex(0),D.DNE(1,O,4,5,"span",0),D.nI1(2,"async"),D.bVm()),2&R){const w=D.XpG();D.R7$(),D.Y8G("ngIf",D.bMT(2,1,w.accessStatus$))}}let T=(()=>{class R{constructor(w){this.accessStatusDataService=w,this.subs=[]}ngOnInit(){if(this.showAccessStatus=h.c.item.showAccessStatuses,this.object.type.toString()!==y.U.value||!this.showAccessStatus||null==this.object)return;const w=this.object;null==w.accessStatus&&(w.accessStatus=this.accessStatusDataService.findAccessStatusFor(w)),this.accessStatus$=w.accessStatus.pipe((0,e.T)(C=>401!==C.statusCode&&(0,v.a4)(C.payload)?C.payload:[]),(0,e.T)(C=>(0,v.a4)(C.status)?C.status:"unknown"),(0,e.T)(C=>`access-status.${C.toLowerCase()}.listelement.badge`),(0,f.W)(()=>(0,l.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(C=>C.replace(/\./g,"-"))).subscribe(C=>{this.accessStatusClass=C}))}ngOnDestroy(){this.subs.filter(w=>(0,v.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(C){return new(C||R)(D.rXU(m.AccessStatusDataService))}}static{this.\u0275cmp=D.VBU({type:R,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[D.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(C,S){1&C&&D.DNE(0,M,3,3,"ng-container",0),2&C&&D.Y8G("ngIf",S.showAccessStatus)},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return R})()},87922:(N,b,n)=>{"use strict";n.d(b,{E:()=>t});const t=new(n(42547).v)("accessStatus")},34272:(N,b,n)=>{"use strict";n.d(b,{I:()=>h}),n(76829);var t=n(8886),e=(n(67604),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(v){return n(50822)(`./${v}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67604))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},22285:(N,b,n)=>{"use strict";n.r(b),n.d(b,{BadgesComponent:()=>O});var i=n(60177),t=n(26292),e=(n(76829),n(34272)),f=n(38968),m=n(13760),h=n(74448),_=n(54438);function y(M,T){if(1&M&&(_.qex(0),_.nrm(1,"ds-my-dspace-status-badge",3),_.bVm()),2&M){const R=_.XpG();_.R7$(),_.Y8G("context",R.context)}}function v(M,T){if(1&M&&(_.qex(0),_.nrm(1,"ds-access-status-badge",0),_.bVm()),2&M){const R=_.XpG();_.R7$(),_.Y8G("object",R.object)}}const D=[t.o.MyDSpaceArchived,t.o.MyDSpaceWorkspace,t.o.MyDSpaceWorkflow,t.o.MyDSpaceDeclined,t.o.MyDSpaceApproved,t.o.MyDSpaceWaitingController,t.o.MyDSpaceValidation];let O=(()=>{class M{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return D.includes(this.context)}static{this.\u0275fac=function(u){return new(u||M)}}static{this.\u0275cmp=_.VBU({type:M,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[_.aNF],decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pr-1",3,"object"],[3,"context"]],template:function(u,w){1&u&&(_.nrm(0,"ds-status-badge",0),_.DNE(1,y,2,1,"ng-container",1),_.j41(2,"div"),_.nrm(3,"ds-type-badge",2),_.DNE(4,v,2,1,"ng-container",1),_.k0s()),2&u&&(_.Y8G("object",w.object),_.R7$(),_.Y8G("ngIf",w.isMyDSpaceStatus),_.R7$(2),_.Y8G("object",w.object),_.R7$(),_.Y8G("ngIf",w.showAccessStatus))},dependencies:[m.o,i.bT,f.Q,h.C,e.I]})}}return M})()},14430:(N,b,n)=>{"use strict";n.r(b),n.d(b,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(41780),t=n(26292),l=n(54438);let e=(()=>{class f{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=l.VBU({type:f,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[l.aNF],decls:4,vars:4,consts:[[3,"className"]],template:function(_,y){1&_&&(l.j41(0,"div")(1,"span",0),l.EFF(2),l.nI1(3,"translate"),l.k0s()()),2&_&&(l.R7$(),l.Y8G("className",y.badgeClass),l.R7$(),l.SpI(" ",l.bMT(3,2,"mydspace.status."+y.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return f})()},38968:(N,b,n)=>{"use strict";n.d(b,{Q:()=>h}),n(26292);var t=n(8886),e=(n(14430),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(v){return n(87596)(`./${v}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14430))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},16482:(N,b,n)=>{"use strict";n.r(b),n.d(b,{StatusBadgeComponent:()=>_});var i=n(60177),t=n(41780),e=(n(76829),n(82777)),f=n(54438);function m(y,v){1&y&&(f.j41(0,"div",2)(1,"span",3),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&y&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.private")))}function h(y,v){1&y&&(f.j41(0,"div",4)(1,"span",5),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&y&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.withdrawn")))}let _=(()=>{class y{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let D=this.object;(0,e.a4)(D.indexableObject)&&(D=D.indexableObject);const O=(0,e.a4)(D);this.privateBadge=O&&(0,e.a4)(D.isDiscoverable)&&!D.isDiscoverable,this.withdrawnBadge=O&&(0,e.a4)(D.isWithdrawn)&&D.isWithdrawn}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[f.aNF],decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","badge-danger"],[1,"withdrawn-badge"],[1,"badge","badge-warning"]],template:function(O,M){1&O&&f.DNE(0,m,4,3,"div",0)(1,h,4,3,"div",1),2&O&&(f.Y8G("ngIf",M.privateBadge),f.R7$(),f.Y8G("ngIf",M.withdrawnBadge))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return y})()},13760:(N,b,n)=>{"use strict";n.d(b,{o:()=>h}),n(76829);var t=n(8886),e=(n(16482),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(v){return n(52504)(`./${v}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,16482))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},55309:(N,b,n)=>{"use strict";n.d(b,{F:()=>_}),n(26292),n(76829);var l=n(8886),f=(n(22285),n(54438));const m=["*"];function h(y,v){}let _=(()=>{class y extends l.J{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(D){return n(70295)(`./${D}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22285))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=f.xGo(y)))(M||y)}})()}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(f.NAR(),f.DNE(0,h,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return y})()},74448:(N,b,n)=>{"use strict";n.d(b,{C:()=>h}),n(76829);var t=n(8886),e=(n(3310),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(v){return n(45796)(`./${v}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3310))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},3310:(N,b,n)=>{"use strict";n.r(b),n.d(b,{TypeBadgeComponent:()=>_});var i=n(60177),t=n(41780),l=n(87891),f=(n(76829),n(82777)),m=n(54438);function h(y,v){if(1&y&&(m.j41(0,"span")(1,"span",1),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&y){const D=m.XpG();m.R7$(2),m.JRh(m.bMT(3,1,D.typeMessage))}}let _=(()=>{class y{set object(D){this._object=D;const O=this._object.getRenderTypes();if(!(0,f.Im)(O.length)){const M=O[0];if(M instanceof Function){const T=(0,l.zA)(D.type);this._typeMessage=(0,f.a4)(T)?`${T.toLowerCase()}.listelement.badge`:`${M.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${M.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275cmp=m.VBU({type:y,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","badge-info"]],template:function(O,M){1&O&&m.DNE(0,h,4,3,"span",0),2&O&&m.Y8G("ngIf",M.typeMessage)},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return y})()},48622:(N,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(78541);class t extends i.q{}},83233:(N,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(78541);class t extends i.q{}},66211:(N,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(78541);class t extends i.q{}},34532:(N,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(78541);class t extends i.q{}},77537:(N,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(78541);class t extends i.q{}},17132:(N,b,n)=>{"use strict";n.d(b,{L:()=>t});var i=n(78541);class t extends i.q{}},88261:(N,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(54438),t=n(41780);n(22878);let e=(()=>{class f{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"mr-2"],[1,"btn","btn-outline-primary","btn-sm","float-left",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(_,y){1&_&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return y.importObject.emit(y.object)}),i.nrm(3,"i",2),i.k0s()()),2&_&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==y.importConfig?null:y.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return f})()},27442:(N,b,n)=>{"use strict";n.d(b,{H:()=>e});var i=n(31635),t=n(98688),l=n(78541);let e=class extends l.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(l.q)],e)},22878:(N,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(98688);class t extends i._U{}},17191:(N,b,n)=>{"use strict";n.d(b,{v:()=>D});var i=n(54438),t=n(96697),f=(n(26292),n(78448),n(22924)),m=n(82522),y=(n(7581),n(22878),n(81569));function v(O,M){}let D=(()=>{class O extends f.e{constructor(T,R){super(T),this.themeService=T,this.cdr=R,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(T=>{T&&(this.destroyComponentInstance(),this.object=T,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(T))})}getComponent(){return(0,y.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(R){return new(R||O)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:O,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(R,u){1&R&&i.DNE(0,v,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return O})()},81569:(N,b,n)=>{"use strict";n.d(b,{A2:()=>h,SS:()=>_,VK:()=>O,Zx:()=>M,e8:()=>m,eW:()=>u,mo:()=>T,zD:()=>v});var i=n(54438),t=n(88280),l=n(26292),e=n(78448),f=n(82777);const m=e.n.ListElement,h=l.o.Any,_="*";class y{constructor(C,S,I){this.match=C,this.level=S,this.relevancy=I}isMoreRelevantThan(C){return!!(0,f.Tn)(C)||!(C.level>this.level||C.level===this.level&&C.relevancy>this.relevancy)}isLessRelevantThan(C){return!this.isMoreRelevantThan(C)}}const v=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>R}),D=new Map;function O(w,C,S=h,I=_){return function(B){(0,f.Tn)(w)||((0,f.Tn)(D.get(w))&&D.set(w,new Map),(0,f.Tn)(D.get(w).get(C))&&D.get(w).set(C,new Map),(0,f.Tn)(D.get(w).get(C).get(S))&&D.get(w).get(C).set(S,new Map),D.get(w).get(C).get(S).set(I,B))}}function M(w,C,S=h,I=_){let L=null;for(const B of w){const U=D.get(B);if((0,f.a4)(U)){const W=T(U,[C,S,I],[m,h,_]);((0,f.Tn)(L)||L.isLessRelevantThan(W))&&(L=W)}}return(0,f.a4)(L)?L.match:null}function T(w,C,S){let I=w,L=-1,B=0;for(let U=0;U<C.length;U++){let W=S[U]===_?u(I,C[U]):I.get(C[U]);if((0,f.Tn)(W)?(W=I.get(S[U]),-1===L&&(L=U)):B++,!(0,f.a4)(W))return null;if(!(W instanceof Map))return new y(W,L>-1?L:U+1,B);I=W}return null}const R=w=>t.c.themes.find(C=>C.name===w),u=(w,C,S=[])=>{const I=w.get(C);if((0,f.a4)(I))return I;{const L=R(C);if((0,f.a4)(L)&&(0,f.hj)(L.extends)){const B=L.extends,U=[...S,C];if(S.includes(B))throw new Error("Theme extension cycle detected: "+[...U,B].join(" -> "));return u(w,B,U)}}}},47598:(N,b,n)=>{"use strict";n.d(b,{b:()=>R});var i=n(60177),t=n(7901),l=n(41780),e=n(983),f=n(73028),m=n(96354),h=n(96526),_=n(1321),y=n(80183),v=n(82777),D=n(67600),O=n(54438);const M=u=>["/collections",u];function T(u,w){if(1&u&&(O.j41(0,"div",1)(1,"span",2),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"a",3),O.nI1(5,"async"),O.EFF(6),O.nI1(7,"async"),O.k0s()()()),2&u){let C;const S=O.XpG();O.R7$(2),O.SpI("",O.bMT(3,3,"collection.listelement.badge"),": "),O.R7$(2),O.Y8G("routerLink",O.eq3(9,M,null==(C=O.bMT(5,5,S.collection$))?null:C.id)),O.R7$(2),O.SpI(" ",S.dsoNameService.getName(O.bMT(7,7,S.collection$))," ")}}let R=(()=>{class u{constructor(C,S){this.linkService=C,this.dsoNameService=S}ngOnInit(){this.linkService.resolveLinks(this.object,(0,D.s)("workflowitem",{isOptional:!0},(0,D.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,y.qD)(),(0,f.Z)(C=>C.hasSucceeded&&(0,v.hj)(C.payload)?C.payload.collection.pipe((0,y.qD)(),(0,m.T)(S=>S.hasSucceeded&&(0,v.hj)(S.payload)?S.payload:null)):e.w))}static{this.\u0275fac=function(S){return new(S||u)(O.rXU(_._),O.rXU(h.f))}}static{this.\u0275cmp=O.VBU({type:u,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[O.aNF],decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"text-muted"],[3,"routerLink"]],template:function(S,I){1&S&&(O.DNE(0,T,8,11,"div",0),O.nI1(1,"async")),2&S&&O.Y8G("ngIf",O.bMT(1,1,I.collection$))},dependencies:[i.bT,t.Wk,i.Jj,l.h,l.D9]})}}return u})()},21546:(N,b,n)=>{"use strict";n.d(b,{s:()=>T});var i=n(60177),t=n(41780),l=n(983),e=n(73028),f=n(96354),m=n(96526),h=n(1321),_=n(80183),y=n(82777),v=n(67600),D=n(54438);function O(R,u){if(1&R&&(D.qex(0),D.EFF(1),D.bVm()),2&R){const w=u.ngIf,C=D.XpG();D.R7$(),D.SpI(" ",C.dsoNameService.getName(w)," ")}}function M(R,u){1&R&&(D.EFF(0),D.nI1(1,"translate")),2&R&&D.SpI(" ",D.bMT(1,1,"submitter.empty")," ")}let T=(()=>{class R{constructor(w,C){this.dsoNameService=w,this.linkService=C}ngOnInit(){this.linkService.resolveLinks(this.object,(0,v.s)("workflowitem",{},(0,v.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,_.qD)(),(0,e.Z)(w=>w.hasSucceeded&&(0,y.hj)(w.payload)?w.payload.submitter.pipe((0,_.qD)(),(0,f.T)(C=>C.hasSucceeded&&(0,y.hj)(C.payload)?C.payload:null)):l.w))}static{this.\u0275fac=function(C){return new(C||R)(D.rXU(m.f),D.rXU(h._))}}static{this.\u0275cmp=D.VBU({type:R,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[D.aNF],decls:9,vars:7,consts:[["noSubmitter",""],[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","badge-info"],[4,"ngIf","ngIfElse"]],template:function(C,S){if(1&C&&(D.j41(0,"div",1)(1,"span",2),D.EFF(2),D.nI1(3,"translate"),D.j41(4,"span",3),D.DNE(5,O,2,1,"ng-container",4),D.nI1(6,"async"),D.DNE(7,M,2,3,"ng-template",null,0,D.C5r),D.k0s()()()),2&C){const I=D.sdS(8);D.R7$(2),D.SpI(" ",D.bMT(3,3,"submission.workflow.tasks.generic.submitter"),": "),D.R7$(3),D.Y8G("ngIf",D.bMT(6,5,S.submitter$))("ngIfElse",I)}},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return R})()},73584:(N,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(54438),t=n(96526),l=n(26292),e=n(78448),f=n(7581);let m=(()=>{class h{constructor(y){this.dsoNameService=y,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=f.n,this.viewModes=e.n,this.contexts=l.o}static{this.\u0275fac=function(v){return new(v||h)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(v,D){},encapsulation:2})}}return h})()},24205:(N,b,n)=>{"use strict";n.d(b,{d:()=>t});var i=n(78541);class t extends i.q{}},35323:(N,b,n)=>{"use strict";n.d(b,{Y:()=>T});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(65245),m=n(96697),h=n(96354),_=n(13329),y=n(18226);function D(R,u){if(1&R){const w=t.RV6();t.j41(0,"input",4,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(S){t.eBV(w);const I=t.XpG(2);return t.Njj(I.selectCheckbox(S))}),t.k0s()}if(2&R){const w=t.sdS(1),C=t.XpG(2);t.Y8G("name","checkbox"+C.index)("id","object"+C.index)("ngModel",t.bMT(2,4,C.selected$)),t.BMQ("aria-label",t.bMT(3,6,w.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function O(R,u){if(1&R){const w=t.RV6();t.j41(0,"input",5),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(w);const S=t.XpG().ngVar,I=t.XpG();return t.Njj(I.selectRadio(!S))}),t.k0s()}if(2&R){const w=t.XpG(2);t.Y8G("name","radio"+w.index)("id","object"+w.index)("checked",t.bMT(1,4,w.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function M(R,u){if(1&R&&(t.qex(0),t.DNE(1,D,4,8,"input",2)(2,O,3,8,"input",3),t.bVm()),2&R){const w=t.XpG();t.R7$(),t.Y8G("ngIf",w.selectionConfig.repeatable),t.R7$(),t.Y8G("ngIf",!w.selectionConfig.repeatable)}}n(22878);let T=(()=>{class R{constructor(w){this.selectionService=w,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,f.i)(1)).subscribe(w=>{w?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(w){w?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(w){w&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,h.T)(S=>S?S.selection:[])).subscribe(S=>{S.forEach(I=>{this.selectionService.deselectSingle(this.selectionConfig.listId,I),this.deselectObject.emit(I)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(C){return new(C||R)(t.rXU(_.K))}}static{this.\u0275cmp=t.VBU({type:R,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(C,S){1&C&&(t.DNE(0,M,3,2,"ng-container",1),t.nI1(1,"async")),2&C&&t.Y8G("ngVar",t.bMT(1,1,null==S.selectionService?null:S.selectionService.isObjectSelected(null==S.selectionConfig?null:S.selectionConfig.listId,S.object)))},dependencies:[y.r,i.bT,l.YN,l.Zm,l.BC,l.vS,i.Jj,e.h,e.D9],encapsulation:2})}}return R})()},38786:(N,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(78541);class t extends i.q{}},95010:(N,b,n)=>{"use strict";n.d(b,{I:()=>t});var i=n(78541);class t extends i.q{}},3736:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ItemDetailPreviewFieldComponent:()=>O});var i=n(60177),t=n(41780),e=(n(88318),n(39552)),f=n(79222),h=(n(78541),n(54438));function _(M,T){if(1&M&&h.nrm(0,"span",4),2&M){const R=h.XpG(3);h.Y8G("innerHTML",R.separator,h.npT)}}function y(M,T){if(1&M&&(h.j41(0,"span"),h.EFF(1),h.DNE(2,_,1,1,"span",3),h.k0s()),2&M){const R=T.$implicit,u=T.last;h.R7$(),h.SpI(" ",R,""),h.R7$(),h.Y8G("ngIf",!u)}}function v(M,T){if(1&M&&(h.qex(0),h.DNE(1,y,3,2,"span",2),h.bVm()),2&M){const R=h.XpG();h.R7$(),h.Y8G("ngForOf",R.allMetadataValues(R.metadata))}}function D(M,T){if(1&M&&(h.qex(0),h.j41(1,"span",5),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.bVm()),2&M){const R=h.XpG();h.R7$(2),h.JRh(h.bMT(3,1,R.placeholder))}}let O=(()=>{class M{allMetadataValues(R){return e.O.allValues([this.object.hitHighlights,this.item.metadata],R)}static{this.\u0275fac=function(u){return new(u||M)}}static{this.\u0275cmp=h.VBU({type:M,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[h.aNF],decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(u,w){1&u&&(h.j41(0,"ds-metadata-field-wrapper",0),h.nI1(1,"translate"),h.DNE(2,v,2,1,"ng-container",1)(3,D,4,3,"ng-container",1),h.k0s()),2&u&&(h.Y8G("label",h.bMT(1,3,w.label)),h.R7$(2),h.Y8G("ngIf",w.item.hasMetadata(w.metadata)),h.R7$(),h.Y8G("ngIf",!w.item.hasMetadata(w.metadata)))},dependencies:[f.Q,i.pM,i.bT,t.h,t.D9],encapsulation:2})}}return M})()},89177:(N,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(42547).v)("identifiers")},51805:(N,b,n)=>{"use strict";n.d(b,{t:()=>m});var i=n(31635),t=n(21921),l=n(3050),e=n(22878),f=n(83851);let m=class extends e.u{static{this.type=f.t}constructor(_=l._.Error,y="listable-notification-object.default-message",...v){super(),this.notificationType=_,this.message=y,this.type=f.t,this.renderTypes=v}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},83851:(N,b,n)=>{"use strict";n.d(b,{t:()=>t});const t=new(n(42547).v)("listable-notification-object")},56577:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ItemListPreviewComponent:()=>V});var i=n(60177),t=n(41780),f=(n(26292),n(25567),n(82640)),m=n(96526),_=(n(88318),n(97402)),y=n(50332),v=n(55309),D=n(47598),O=n(21546),T=(n(78541),n(21308)),R=n(44869),u=n(54438);const w=X=>({lead:!0,"text-muted":X}),C=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],S=X=>({"text-muted":X});function I(X,J){if(1&X&&(u.j41(0,"div",4),u.nrm(1,"ds-thumbnail",5),u.nI1(2,"async"),u.k0s()),2&X){const q=u.XpG();u.R7$(),u.Y8G("thumbnail",u.bMT(2,2,null==q.item?null:q.item.thumbnail))("limitWidth",!0)}}function L(X,J){if(1&X&&u.nrm(0,"span",19),2&X){const q=u.XpG(2);u.Y8G("innerHTML",q.item.firstMetadataValue("dc.publisher")+", ",u.npT)}}function B(X,J){1&X&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&X&&(u.R7$(),u.JRh(u.bMT(2,1,"mydspace.results.no-authors")))}function U(X,J){1&X&&(u.j41(0,"span"),u.EFF(1,"; "),u.k0s())}function W(X,J){if(1&X&&(u.j41(0,"span")(1,"span",22),u.nrm(2,"span",22),u.k0s(),u.DNE(3,U,2,0,"span",3),u.k0s()),2&X){const q=J.$implicit,Q=J.last;u.R7$(),u.Y8G("innerHTML",q,u.npT),u.R7$(),u.Y8G("innerHTML",q,u.npT),u.R7$(),u.Y8G("ngIf",!Q)}}function j(X,J){if(1&X&&(u.j41(0,"span",20),u.DNE(1,B,3,3,"span",3)(2,W,4,3,"span",21),u.k0s()),2&X){const q=u.XpG(2);u.R7$(),u.Y8G("ngIf",0===q.item.allMetadataValues(u.lJ4(2,C)).length),u.R7$(),u.Y8G("ngForOf",q.item.allMetadataValues(u.lJ4(3,C)))}}function G(X,J){if(1&X&&u.nrm(0,"ds-item-submitter",18),2&X){const q=u.XpG(2);u.Y8G("object",q.object.indexableObject)}}function H(X,J){if(1&X&&(u.j41(0,"div")(1,"div",6),u.nrm(2,"ds-badges",7),u.k0s(),u.j41(3,"ds-truncatable",8),u.nrm(4,"h2",9),u.j41(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),u.EFF(8," ("),u.DNE(9,L,1,1,"span",12),u.nrm(10,"span",13),u.nI1(11,"translate"),u.EFF(12,") "),u.DNE(13,j,3,4,"span",14),u.k0s()(),u.j41(14,"ds-truncatable-part",15),u.nrm(15,"span",16),u.nI1(16,"translate"),u.k0s()()(),u.DNE(17,G,1,1,"ds-item-submitter",17),u.nrm(18,"ds-item-collection",18),u.k0s()),2&X){const q=u.XpG();u.Y8G("@fadeInOut",void 0),u.R7$(2),u.Y8G("object",q.item)("context",q.badgeContext)("showAccessStatus",!0),u.R7$(),u.Y8G("id",q.item.id),u.R7$(),u.Y8G("innerHTML",q.dsoTitle,u.npT)("ngClass",u.eq3(22,w,!q.item.firstMetadataValue("dc.title"))),u.R7$(3),u.Y8G("id",q.item.id)("minLines",1),u.R7$(2),u.Y8G("ngIf",q.item.hasMetadata("dc.publisher")),u.R7$(),u.Y8G("innerHTML",q.item.firstMetadataValue("dc.date.issued")||u.bMT(11,18,"mydspace.results.no-date"),u.npT),u.R7$(3),u.Y8G("ngIf",q.item.hasMetadata(u.lJ4(24,C))),u.R7$(),u.Y8G("id",q.item.id)("minLines",1),u.R7$(),u.Y8G("ngClass",u.eq3(25,S,!q.item.firstMetadataValue("dc.description.abstract")))("innerHTML",q.item.firstMetadataValue("dc.description.abstract")||u.bMT(16,20,"mydspace.results.no-abstract"),u.npT),u.R7$(2),u.Y8G("ngIf",q.showSubmitter),u.R7$(),u.Y8G("object",q.object.indexableObject)}}let V=(()=>{class X{constructor(q,Q){this.appConfig=q,this.dsoNameService=Q,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(Q){return new(Q||X)(u.rXU(f.vQ),u.rXU(m.f))}}static{this.\u0275cmp=u.VBU({type:X,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[u.aNF],decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Q,Y){1&Q&&(u.j41(0,"div",0),u.DNE(1,I,3,4,"div",1),u.j41(2,"div",2),u.DNE(3,H,19,27,"div",3),u.k0s()()),2&Q&&(u.R7$(),u.Y8G("ngIf",Y.showThumbnails),u.R7$(),u.Y8G("ngClass",Y.showThumbnails?"col-9":"col-md-12"),u.R7$(),u.Y8G("ngIf",Y.item))},dependencies:[i.Jj,D.b,O.s,i.YU,i.pM,i.bT,v.F,_.T,t.h,t.D9,T.d,R.W],data:{animation:[y.Ws]}})}}return X})()},52304:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ObjectListComponent:()=>I});var i=n(60177),t=n(54438),m=(n(6238),n(1716),n(26292),n(78448)),h=n(50332),y=(n(7581),n(88261)),v=n(17191),D=n(35323),O=n(5682),M=n(75465),T=n(13329);const R=L=>({"ml-4":L});function u(L,B){if(1&L){const U=t.RV6();t.j41(0,"ds-selectable-list-item-control",8),t.bIt("deselectObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.deselectObject.emit(j))})("selectObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.selectObject.emit(j))}),t.k0s()}if(2&L){const U=t.XpG(),W=U.$implicit,j=U.index,G=t.XpG(2);t.Y8G("index",j)("object",W)("selectionConfig",G.selectionConfig)}}function w(L,B){if(1&L){const U=t.RV6();t.j41(0,"ds-importable-list-item-control",9),t.bIt("importObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.importObject.emit(j))}),t.k0s()}if(2&L){const U=t.XpG().$implicit,W=t.XpG(2);t.Y8G("object",U)("importConfig",W.importConfig)}}function C(L,B){if(1&L){const U=t.RV6();t.j41(0,"li",4),t.nI1(1,"dsBrowserOnly"),t.DNE(2,u,1,3,"ds-selectable-list-item-control",5)(3,w,1,2,"ds-importable-list-item-control",6),t.j41(4,"ds-listable-object-component-loader",7),t.bIt("contentChange",function(j){t.eBV(U);const G=t.XpG(2);return t.Njj(G.contentChange.emit(j))}),t.k0s()()}if(2&L){const U=B.$implicit,W=B.index,j=B.last,G=t.XpG(2);t.AVh("border-bottom",G.hasBorder&&!j),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.Y8G("ngIf",G.selectable),t.R7$(),t.Y8G("ngIf",G.importable),t.R7$(),t.Y8G("object",U)("viewMode",G.viewMode)("index",W)("context",G.context)("linkType",G.linkType)("listID",null==G.selectionConfig?null:G.selectionConfig.listId)}}function S(L,B){if(1&L&&(t.j41(0,"ul",2),t.DNE(1,C,5,13,"li",3),t.k0s()),2&L){const U=t.XpG();t.Y8G("ngClass",t.eq3(2,R,U.selectable)),t.R7$(),t.Y8G("ngForOf",null==U.objects||null==U.objects.payload?null:U.objects.payload.page)}}let I=(()=>{class L{set objects(U){this._objects=U}get objects(){return this._objects}constructor(U){this.selectionService=U,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(U){this.pageChange.emit(U)}onPageSizeChange(U){this.pageSizeChange.emit(U)}onSortDirectionChange(U){this.sortDirectionChange.emit(U)}onSortFieldChange(U){this.sortFieldChange.emit(U)}onPaginationChange(U){this.paginationChange.emit(U)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(W){return new(W||L)(t.rXU(T.K))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:9,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","list-unstyled","data-test","objects",3,"ngClass",4,"ngIf"],["data-test","objects",1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function(W,j){1&W&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(H){return j.onPageChange(H)})("pageSizeChange",function(H){return j.onPageSizeChange(H)})("sortDirectionChange",function(H){return j.onSortDirectionChange(H)})("sortFieldChange",function(H){return j.onSortFieldChange(H)})("paginationChange",function(H){return j.onPaginationChange(H)})("prev",function(){return j.goPrev()})("next",function(){return j.goNext()}),t.DNE(1,S,2,4,"ul",1),t.k0s()),2&W&&(t.Y8G("paginationOptions",j.config)("collectionSize",null==j.objects||null==j.objects.payload?null:j.objects.payload.totalElements)("objects",j.objects)("sortOptions",j.sortConfig)("hideGear",j.hideGear)("hidePagerWhenSinglePage",j.hidePagerWhenSinglePage)("hidePaginationDetail",j.hidePaginationDetail)("showPaginator",j.showPaginator),t.R7$(),t.Y8G("ngIf",null==j.objects?null:j.objects.hasSucceeded))},dependencies:[O.e,i.bT,i.YU,i.pM,D.Y,y.$,v.v,M.L],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[h.qG]}})}}return L})()},94418:(N,b,n)=>{"use strict";n.d(b,{k:()=>q});var i=n(31635),t=n(60177),l=n(7901),e=n(78448),f=n(90887),m=n(97402),h=n(55309),_=n(27442),y=n(81569),v=n(21308),D=n(44869),O=n(79411),M=n(54438);const T=Q=>[Q],R=()=>["dc.contributor.author","dc.creator","dc.contributor.*"];function u(Q,Y){if(1&Q&&(M.j41(0,"a",9),M.nrm(1,"ds-thumbnail",10),M.nI1(2,"async"),M.k0s()),2&Q){const z=M.XpG(2);M.Y8G("target",z.linkType===z.linkTypes.ExternalLink?"_blank":"_self")("routerLink",M.eq3(7,T,z.itemPageRoute)),M.BMQ("rel",z.linkType===z.linkTypes.ExternalLink?"noopener noreferrer":null),M.R7$(),M.Y8G("thumbnail",M.bMT(2,5,null==z.dso?null:z.dso.thumbnail))("limitWidth",!0)}}function w(Q,Y){if(1&Q&&(M.j41(0,"span",11),M.nrm(1,"ds-thumbnail",10),M.nI1(2,"async"),M.k0s()),2&Q){const z=M.XpG(2);M.R7$(),M.Y8G("thumbnail",M.bMT(2,2,null==z.dso?null:z.dso.thumbnail))("limitWidth",!0)}}function C(Q,Y){if(1&Q&&(M.j41(0,"div",6),M.DNE(1,u,3,9,"a",7)(2,w,3,4,"span",8),M.k0s()),2&Q){const z=M.XpG();M.R7$(),M.Y8G("ngIf",z.linkType!==z.linkTypes.None),M.R7$(),M.Y8G("ngIf",z.linkType===z.linkTypes.None)}}function S(Q,Y){if(1&Q&&M.nrm(0,"ds-badges",12),2&Q){const z=M.XpG();M.Y8G("object",z.dso)("context",z.context)("showAccessStatus",!0)}}function I(Q,Y){if(1&Q&&M.nrm(0,"a",21),2&Q){const z=M.XpG(2);M.Y8G("target",z.linkType===z.linkTypes.ExternalLink?"_blank":"_self")("routerLink",M.eq3(4,T,z.itemPageRoute))("innerHTML",z.dsoTitle,M.npT),M.BMQ("rel",z.linkType===z.linkTypes.ExternalLink?"noopener noreferrer":null)}}function L(Q,Y){if(1&Q&&M.nrm(0,"span",22),2&Q){const z=M.XpG(2);M.Y8G("innerHTML",z.dsoTitle,M.npT)}}function B(Q,Y){if(1&Q&&M.nrm(0,"span",25),2&Q){const z=M.XpG(3);M.Y8G("innerHTML",z.firstMetadataValue("dc.publisher"),M.npT)}}function U(Q,Y){1&Q&&(M.j41(0,"span"),M.EFF(1,", "),M.k0s())}function W(Q,Y){if(1&Q&&M.nrm(0,"span",26),2&Q){const z=M.XpG(3);M.Y8G("innerHTML",z.firstMetadataValue("dc.date.issued"),M.npT)}}function j(Q,Y){if(1&Q&&(M.qex(0),M.EFF(1," ("),M.DNE(2,B,1,1,"span",23)(3,U,2,0,"span",18)(4,W,1,1,"span",24),M.EFF(5,") "),M.bVm()),2&Q){const z=M.XpG(2);M.R7$(2),M.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")),M.R7$(),M.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")&&z.dso.firstMetadataValue("dc.date.issued")),M.R7$(),M.Y8G("ngIf",z.dso.firstMetadataValue("dc.date.issued"))}}function G(Q,Y){1&Q&&(M.j41(0,"span"),M.EFF(1,"; "),M.k0s())}function H(Q,Y){if(1&Q&&(M.j41(0,"span")(1,"span",29),M.nrm(2,"span",29),M.k0s(),M.DNE(3,G,2,0,"span",18),M.k0s()),2&Q){const z=Y.$implicit,Z=Y.last;M.R7$(),M.Y8G("innerHTML",z,M.npT),M.R7$(),M.Y8G("innerHTML",z,M.npT),M.R7$(),M.Y8G("ngIf",!Z)}}function V(Q,Y){if(1&Q&&(M.j41(0,"span",27),M.DNE(1,H,4,3,"span",28),M.k0s()),2&Q){const z=M.XpG(2);M.R7$(),M.Y8G("ngForOf",z.allMetadataValues(M.lJ4(1,R)))}}function X(Q,Y){if(1&Q&&(M.j41(0,"div",30)(1,"ds-truncatable-part",17),M.nrm(2,"span",29),M.k0s()()),2&Q){const z=M.XpG(2);M.R7$(),M.Y8G("id",z.dso.id)("minLines",3),M.R7$(),M.Y8G("innerHTML",z.firstMetadataValue("dc.description.abstract"),M.npT)}}function J(Q,Y){if(1&Q&&(M.j41(0,"ds-truncatable",13),M.DNE(1,I,1,6,"a",14)(2,L,1,1,"span",15),M.j41(3,"span",16)(4,"ds-truncatable-part",17),M.DNE(5,j,6,3,"ng-container",18)(6,V,2,2,"span",19),M.k0s()(),M.DNE(7,X,3,3,"div",20),M.k0s()),2&Q){const z=M.XpG();M.Y8G("id",z.dso.id),M.R7$(),M.Y8G("ngIf",z.linkType!==z.linkTypes.None),M.R7$(),M.Y8G("ngIf",z.linkType===z.linkTypes.None),M.R7$(2),M.Y8G("id",z.dso.id)("minLines",1),M.R7$(),M.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")||z.dso.firstMetadataValue("dc.date.issued")),M.R7$(),M.Y8G("ngIf",z.dso.allMetadata(M.lJ4(8,R)).length>0),M.R7$(),M.Y8G("ngIf",z.dso.firstMetadataValue("dc.description.abstract"))}}let q=class Nb extends O.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,f._o)(this.dso)}static{this.\u0275fac=(()=>{let Y;return function(Z){return(Y||(Y=M.xGo(Nb)))(Z||Nb)}})()}static{this.\u0275cmp=M.VBU({type:Nb,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[M.Vt3,M.aNF],decls:6,vars:4,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"dont-break-out"],[3,"object","context","showAccessStatus"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],[4,"ngIf"],["class","item-list-authors",4,"ngIf"],["class","item-list-abstract",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],["class","item-list-date",3,"innerHTML",4,"ngIf"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-abstract"]],template:function(z,Z){1&z&&(M.j41(0,"div",0),M.DNE(1,C,3,2,"div",1),M.j41(2,"div",2)(3,"div",3),M.DNE(4,S,1,3,"ds-badges",4),M.k0s(),M.DNE(5,J,8,9,"ds-truncatable",5),M.k0s()()),2&z&&(M.R7$(),M.Y8G("ngIf",Z.showThumbnails),M.R7$(),M.Y8G("ngClass",Z.showThumbnails?"col-9":"col-md-12"),M.R7$(2),M.Y8G("ngIf",Z.showLabel),M.R7$(),M.Y8G("ngIf",null!=Z.object))},dependencies:[t.bT,l.Wk,m.T,t.YU,h.F,v.d,D.W,t.pM,t.Jj],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})}};q=(0,i.Cg)([(0,y.VK)("PublicationSearchResult",e.n.ListElement),(0,y.VK)(_.H,e.n.ListElement)],q)},79411:(N,b,n)=>{"use strict";n.d(b,{P:()=>_});var i=n(82640),t=n(96526),l=n(39552),e=n(82777),f=n(73584),m=n(39092),h=n(54438);let _=(()=>{class y extends f.C{constructor(D,O,M){super(O),this.truncatableService=D,this.dsoNameService=O,this.appConfig=M}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(D){const O=l.O.allValues([this.dso.metadata],D),M=l.O.allValues([this.object.hitHighlights],D),T=M.map(R=>R.replace(/<\/?em>/g,""));for(let R=0;R<T.length;R++){const u=O.indexOf(T[R]);-1!==u&&(O[u]=M[R])}return O}firstMetadataValue(D){return l.O.firstValue([this.object.hitHighlights,this.dso.metadata],D)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(O){return new(O||y)(h.rXU(m.F),h.rXU(t.f),h.rXU(i.vQ))}}static{this.\u0275cmp=h.VBU({type:y,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(O,M){},encapsulation:2})}}return y})()},61281:(N,b,n)=>{"use strict";n.d(b,{Gk:()=>h,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>y,t3:()=>f});var i=n(91e3);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class l{constructor(D,O){this.type=D,this.id=O}}class e extends l{constructor(D,O){super(t.SELECT,D),this.payload=O}}class f extends l{constructor(D,O){super(t.SELECT_SINGLE,D),this.payload={object:O}}}class m extends l{constructor(D,O){super(t.DESELECT_SINGLE,D),this.payload=O}}class h extends l{constructor(D,O){super(t.DESELECT,D),this.payload=O}}class y extends l{constructor(D){super(t.DESELECT_ALL,D)}}},13329:(N,b,n)=>{"use strict";n.d(b,{K:()=>v});var i=n(25499),t=n(96354),l=n(23294),e=n(72352),f=n(82777),m=n(61281),h=n(54438);const _=D=>D.selectableLists;let v=(()=>{class D{constructor(M){this.store=M}getSelectableList(M){return this.store.pipe((0,i.Lt)((D=>(0,e.pc)(D,_))(M)))}selectSingle(M,T){this.store.dispatch(new m.t3(M,T))}select(M,T){this.store.dispatch(new m.ZH(M,T))}deselectSingle(M,T){this.store.dispatch(new m.Yd(M,T))}deselect(M,T){this.store.dispatch(new m.Gk(M,T))}deselectAll(M){this.store.dispatch(new m.hf(M))}isObjectSelected(M,T){return this.getSelectableList(M).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)&&(0,f.a4)(R.selection.find(u=>u.equals(T)))),(0,l.F)())}findSelectedByCondition(M,T){return this.getSelectableList(M).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)?R.selection.find(u=>T(u)):void 0))}static{this.\u0275fac=function(T){return new(T||D)(h.KVO(i.il))}}static{this.\u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},65580:(N,b,n)=>{"use strict";n.d(b,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>h,YE:()=>_,bx:()=>y,u7:()=>f});var i=n(91e3);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class l{constructor(D,O){this.key=D,this.id=O}}class e extends l{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class f extends l{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends l{constructor(){super(...arguments),this.type=t.SELECT}}class h extends l{constructor(){super(...arguments),this.type=t.DESELECT}}class _ extends l{constructor(){super(...arguments),this.type=t.SWITCH}}class y extends l{constructor(){super(...arguments),this.type=t.RESET}}},80597:(N,b,n)=>{"use strict";n.d(b,{Zb:()=>y,iv:()=>v});var i=n(48125),t=n.n(i),l=n(83278),e=n.n(l),f=n(95341),m=n.n(f),h=n(82777);function y(D){if("object"==typeof D){if(0===Object.keys(D).length)return!0;{let M=!0;for(const T in D)if((0,h.hj)(D[T])){M=!1;break}return M}}}function v(D,O){const M=(T,R)=>m()(T,(u,w,C)=>{if(!t()(w,R[C])&&(0,h.hj)(w)){const S=e()(w)&&e()(R[C])?M(w,R[C]):w;y(S)||(u[C]=S)}});return M(D,O)}},46580:(N,b,n)=>{"use strict";n.d(b,{b:()=>O});var i=n(60177),t=n(89417),l=n(96354),e=n(96697),f=n(22978),h=(n(39012),n(13955)),_=n(80270),y=n(54438),v=n(7901);function D(M,T){if(1&M&&(y.j41(0,"option",3),y.nI1(1,"async"),y.EFF(2),y.k0s()),2&M){const R=T.$implicit,u=y.XpG();y.Y8G("value",R)("selected",R===+y.bMT(1,3,u.paginationOptions$).pageSize?"selected":null),y.R7$(2),y.SpI(" ",R," ")}}let O=(()=>{class M{constructor(R,u,w,C){this.route=R,this.router=u,this.paginationService=w,this.searchConfigurationService=C}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,l.T)(R=>R.pagination))}reloadRPP(R){const u=R.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(w=>{this.paginationService.updateRoute(w.id,{page:1,pageSize:+u})})}static{this.\u0275fac=function(u){return new(u||M)(y.rXU(v.nX),y.rXU(v.Ix),y.rXU(f.m),y.rXU(h.EN))}}static{this.\u0275cmp=y.VBU({type:M,selectors:[["ds-page-size-selector"]],standalone:!0,features:[y.aNF],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(u,w){1&u&&(y.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),y.bIt("changed",function(S){return w.reloadRPP(S)}),y.DNE(2,D,3,5,"option",2),y.nI1(3,"async"),y.k0s()()),2&u&&(y.R7$(),y.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),y.R7$(),y.Y8G("ngForOf",y.bMT(3,3,w.paginationOptions$).pageSizeOptions))},dependencies:[_.v,i.pM,t.YN,t.xH,t.y7,i.Jj],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return M})()},23401:(N,b,n)=>{"use strict";n.d(b,{W:()=>l});var i=n(52149),t=n(54438);let l=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(e)))(_||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},5682:(N,b,n)=>{"use strict";n.d(b,{e:()=>Ee});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(7673),m=n(96354),h=n(25558),_=n(99172),y=n(96697),v=n(6238),O=(n(1716),n(22978)),M=n(78448),T=n(60456),R=n(82777),u=n(57538),w=n(84412),C=n(88280),S=n(8917),I=n(44494),L=n(80183),B=n(39012),U=n(8865),W=n(7901);function j(be,pe){if(1&be&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",4),t.k0s()()),2&be){const re=pe.ngIf;t.R7$(),t.Y8G("href",re,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description"))}}function G(be,pe){if(1&be&&(t.qex(0),t.DNE(1,j,5,7,"div",1),t.nI1(2,"async"),t.bVm()),2&be){const re=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,1,re.route$))}}let H=(()=>{class be{constructor(re,ye,De,nt,mt,xe){this.groupDataService=re,this.linkHeadService=ye,this.configurationService=De,this.searchConfigurationService=nt,this.router=mt,this.paginationService=xe,this.route$=new w.t(""),this.isEnabled$=new w.t(null),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(re=>{re.unsubscribe()})}ngOnInit(){this.configuration$=this.searchConfigurationService.getCurrentConfiguration("default"),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,L.qD)()).subscribe(re=>{re.hasSucceeded&&this.isEnabled$.next("true"===re.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,L.qD)(),(0,m.T)(re=>re.hasSucceeded?re.payload.values[0]:null),(0,h.n)(re=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,m.T)(ye=>({openSearchUri:re,searchOptions:ye}))))).subscribe(({openSearchUri:re,searchOptions:ye})=>{if(!re)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const De=C.c.rest.baseUrl+this.formulateRoute(this.uuid,re,ye.query);this.addLinks(De),this.linkHeadService.addTag({href:C.c.rest.baseUrl+"/"+re+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(De)}))}formulateRoute(re,ye,De){let nt="?format=atom";return re&&(nt+=`&scope=${re}`),nt+=De?`&query=${De}`:"&query=*",nt="/"+ye+nt,nt}hasRoute(re){return this.router.url.includes(re)}addLinks(re){this.linkHeadService.addTag({href:re,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),re=re.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:re,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(ye){return new(ye||be)(t.rXU(I.GroupDataService),t.rXU(U.m),t.rXU(S.ConfigurationDataService),t.rXU(B.g),t.rXU(W.Ix),t.rXU(O.m))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-rss"]],exportAs:["rssComponent"],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","d-inline-block float-right margin-right",4,"ngIf"],[1,"d-inline-block","float-right","margin-right"],[1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(ye,De){1&ye&&(t.DNE(0,G,3,3,"ng-container",0),t.nI1(1,"async")),2&ye&&t.Y8G("ngIf",t.bMT(1,1,De.isEnabled$)&&(De.hasRoute("home")||De.hasRoute("collections")||De.hasRoute("communities")))},dependencies:[i.bT,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return be})(),V=(()=>{class be{transform(re){const ye=[];for(const De in re)isNaN(parseInt(De,10))?ye.push({key:De,value:re[De]}):ye.push({key:+De,value:re[De]});return ye}static{this.\u0275fac=function(ye){return new(ye||be)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:be,pure:!0,standalone:!0})}}return be})();const X=["*"],J=be=>({invisible:be});function q(be,pe){if(1&be&&(t.j41(0,"div",10)(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,re.showingDetails$)))}}function Q(be,pe){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(re).$implicit,nt=t.XpG(4);return t.Njj(nt.doPageSizeChange(De))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&be){const re=pe.$implicit,ye=t.XpG(4);t.BMQ("aria-selected",re===t.bMT(1,3,ye.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,J,re!==t.bMT(4,5,ye.pageSize$))),t.R7$(2),t.SpI(" ",re," ")}}function Y(be,pe){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(re).$implicit,nt=t.XpG(5);return t.Njj(nt.doSortDirectionChange(De.value))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&be){const re=pe.$implicit,ye=t.XpG(5);t.BMQ("aria-selected",re.value===t.bMT(1,3,ye.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,J,re.value!==t.bMT(4,5,ye.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+re.key)," ")}}function z(be,pe){if(1&be&&(t.j41(0,"li",17)(1,"span",25),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",26),t.DNE(5,Y,7,11,"li",20),t.nI1(6,"dsKeys"),t.k0s()()),2&be){const re=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.sort-direction")),t.R7$(3),t.Y8G("ngForOf",t.bMT(6,4,re.sortDirections))}}function Z(be,pe){if(1&be&&(t.j41(0,"div",13,0)(2,"button",14),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",15),t.k0s(),t.j41(6,"ul",16)(7,"li",17)(8,"span",18),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",19),t.DNE(12,Q,6,9,"li",20),t.k0s()(),t.DNE(13,z,7,6,"li",21),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,5,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,7,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,9,"pagination.results-per-page")),t.R7$(3),t.Y8G("ngForOf",re.pageSizeOptions),t.R7$(),t.Y8G("ngIf",!1===re.hideSortOptions)}}function oe(be,pe){if(1&be&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,q,8,9,"div",7),t.j41(3,"div",8),t.DNE(4,Z,14,11,"div",9),t.nrm(5,"ds-rss"),t.k0s()()()),2&be){const re=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0),t.R7$(2),t.Y8G("ngIf",!re.hideGear)}}function se(be,pe){if(1&be){const re=t.RV6();t.j41(0,"div",29)(1,"ngb-pagination",30),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(De){t.eBV(re);const nt=t.XpG(3);return t.Njj(nt.doPageChange(De))}),t.k0s()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",re.paginationOptions.boundaryLinks)("collectionSize",re.collectionSize)("disabled",re.paginationOptions.disabled)("ellipses",re.paginationOptions.ellipses)("maxSize",re.isXs?5:re.paginationOptions.maxSize)("page",t.bMT(2,10,re.currentPage$))("pageSize",t.bMT(3,12,re.pageSize$))("rotate",re.paginationOptions.rotate)("size",re.isXs?"sm":re.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+re.paginationOptions.id)}}function de(be,pe){if(1&be){const re=t.RV6();t.j41(0,"div",31)(1,"button",32),t.bIt("click",function(){t.eBV(re);const De=t.XpG(3);return t.Njj(De.goPrev())}),t.nrm(2,"i",33),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",34),t.bIt("click",function(){t.eBV(re);const De=t.XpG(3);return t.Njj(De.goNext())}),t.j41(6,"span",35),t.nI1(7,"translate"),t.nrm(8,"i",36),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)<=1&&(null==re.paginationOptions?null:re.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)||(null==re.paginationOptions?null:re.paginationOptions.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function te(be,pe){if(1&be&&(t.j41(0,"div"),t.DNE(1,se,5,16,"div",27)(2,de,11,11,"div",28),t.k0s()),2&be){const re=t.XpG(2);t.R7$(),t.Y8G("ngIf",re.showPaginator),t.R7$(),t.Y8G("ngIf",!re.showPaginator)}}function le(be,pe){if(1&be&&(t.j41(0,"div",2),t.DNE(1,oe,6,2,"div",3),t.SdG(2),t.DNE(3,te,3,2,"div",4),t.nI1(4,"async"),t.k0s()),2&be){const re=t.XpG();t.Y8G("id","p-"+re.id),t.R7$(),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0||!re.hideGear),t.R7$(2),t.Y8G("ngIf",t.bMT(4,3,re.shouldShowBottomPager))}}let Ee=(()=>{class be{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(re=>{this.isXs=re,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(re){re.collectionSize.currentValue!==re.collectionSize.previousValue&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(re=>(0,R.a4)(re)).forEach(re=>re.unsubscribe())}initializeConfig(){let re;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ye=>ye.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ye=>ye.pageSize)),re=this.sortOptions?this.sortOptions:new v.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(ye=>ye.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(ye=>ye.field))}constructor(re,ye,De){this.cdRef=re,this.paginationService=ye,this.hostWindowService=De,this.viewMode=M.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=v.U,this.defaultsortDirection=v.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(re){this.updateParams({page:re}),this.emitPaginationChange()}doPageSizeChange(re){this.updateParams({page:1,pageSize:re}),this.emitPaginationChange()}doSortDirectionChange(re){this.updateParams({page:1,sortDirection:re}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(re){this.paginationService.updateRoute(this.id,re,{},this.retainScrollPosition)}getShowingDetails(re){return(0,f.of)(re).pipe((0,R.Az)(),(0,h.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(ye=>{let De;const nt=ye.pageSize*ye.currentPage;return De=re>nt?nt:re,{range:`${ye.pageSize*(ye.currentPage-1)+1} - ${De}`,total:re}}),(0,_.Z)({range:"null - null",total:null}))}checkConfig(re){const De=["id","currentPage","pageSize","pageSizeOptions"].filter(nt=>!(nt in re));if(0<De.length)throw new Error("Paginate: Argument is missing the following required properties: "+De.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(re=>this.collectionSize>re.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(re=>re||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(re){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,y.s)(1)).subscribe(ye=>{this.updateParams({page:ye.currentPage+re})})}static{this.\u0275fac=function(ye){return new(ye||be)(t.rXU(t.gRc),t.rXU(O.m),t.rXU(u.CV))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:X,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-right",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-right"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option",4,"ngFor","ngForOf"],["role","menuitem",4,"ngIf"],["role","option"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-left",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-right",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(ye,De){1&ye&&(t.NAR(),t.DNE(0,le,5,5,"div",1),t.nI1(1,"async")),2&ye&&t.Y8G("ngIf",void 0===De.currentPageState||De.currentPageState===t.bMT(1,1,De.currentPage$))},dependencies:[i.bT,l.zH,l.tg,l.do,l.U0,i.pM,i.YU,H,l.c9,l.s5,l.n8,l.md,i.Jj,e.h,e.D9,V,T.A],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return be})()},43404:(N,b,n)=>{"use strict";n.d(b,{CX:()=>_,PM:()=>v,SP:()=>h,V7:()=>u,Wh:()=>M});var i=n(21626),t=n(7673),l=n(88280),e=n(1716),f=n(7434);const m=(new Date).getTime();function h(w,C=m){return new e.j(C,l.c.cache.msToLive.default,C,f.zE.Success,void 0,w,200)}function _(w,C){return(0,t.of)(h(w,C))}function y(w,C,S=15778368e5){return new e.j(S,l.c.cache.msToLive.default,S,f.zE.Error,w,void 0,C)}function v(w,C,S){return(0,t.of)(y(w,C,S))}function M(w){return h(void 0,w)}function u(w){return(0,t.of)(function R(w){const C=y();return w instanceof Error&&(C.errorMessage=w.message),w instanceof i.yz&&(C.statusCode=w.status),C}(w))}},4420:(N,b,n)=>{"use strict";n.d(b,{U:()=>f});var i=n(8886),t=n(54438);const l=["*"];function e(m,h){}let f=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(_){return n(79086)(`./${_}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,94280))}static{this.\u0275fac=(()=>{let _;return function(v){return(_||(_=t.xGo(m)))(v||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:l,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,v){1&y&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},41477:(N,b,n)=>{"use strict";n.d(b,{q:()=>_});var i=n(84572),t=n(5964),l=n(96354),e=n(61594),f=n(46265),m=n(82777),h=n(54438);let _=(()=>{class y{constructor(D,O,M,T){this.roleService=D,this.viewContainer=O,this.changeDetector=M,this.templateRef=T,this.subs=[]}ngOnChanges(D){this.hasRoles(this.dsShowOnlyForRole),D.dsShowOnlyForRole?this.validateOnly():D.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(D=>(0,m.a4)(D)).forEach(D=>D.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(D=>D)).subscribe(D=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(D=>!D)).subscribe(D=>{this.showTemplateBlockInView()}))}hasRoles(D){const M=(Array.isArray(D)?D:[D]).map(T=>this.roleService.checkRole(T));return(0,i.z)(M).pipe((0,l.T)(T=>T.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(O){return new(O||y)(h.rXU(f.W),h.rXU(h.c1b),h.rXU(h.gRc),h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:y,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[h.OA$]})}}return y})()},18757:(N,b,n)=>{"use strict";n.d(b,{$s:()=>t,Jc:()=>l,aE:()=>f,zX:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class l{constructor(h,_){this.type=t.ADD,this.payload={name:h,value:_}}}class e{constructor(h){this.type=t.ADD_ALL,this.payload=h}}class f{constructor(){this.type=t.CLEAR}}},1221:(N,b,n)=>{"use strict";n.d(b,{J:()=>_});var i=n(25499),t=n(72352),l=n(96820),e=n(32089),f=n(82777),m=n(18757),h=n(54438);let _=(()=>{class M{constructor(R){this.store=R,this.isSameDomain=u=>!u.href||0===u.href.indexOf(window.location.origin),this.hasCssRules=u=>{try{return u.cssRules}catch{return!1}},this.isStyleRule=u=>1===u.type}addCSSVariable(R,u){this.store.dispatch(new m.Jc(R,u))}addCSSVariables(R){this.store.dispatch(new m.zX(R))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(R){return this.store.pipe((0,i.Lt)(v(R)))}getAllVariables(){return this.store.pipe((0,i.Lt)(y))}searchVariable(R,u){return this.store.pipe((0,i.Lt)(D(R,u)))}getCSSVariablesFromStylesheets(R){return(0,f.hj)(R.styleSheets)?[...R.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((u,w)=>u.concat([...w.cssRules].filter(this.isStyleRule).reduce((C,S)=>[...C,...[...S.style].map(L=>({key:L.trim(),value:S.style.getPropertyValue(L).trim()})).filter(({key:L})=>0===L.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(u){return new(u||M)(h.KVO(i.il))}}static{this.\u0275prov=h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();const y=M=>M.cssVariables,v=M=>(0,t.pc)(M,y),D=(M,T)=>(0,i.Mz)(O(M),R=>{if((0,f.a4)(R)){const{currentPage:u,pageSize:w}=T,C=(u-1)*w,I=R.slice(C,C+w),L=Math.ceil(R.length/w),B=new e.Q({currentPage:u,elementsPerPage:w,totalElements:R.length,totalPages:L});return(0,l.g)(B,I)}}),O=M=>(0,i.Mz)(y,T=>{if((0,f.a4)(T))return Object.keys(T).filter(R=>R.includes(M)).map(R=>({key:R,value:T[R]}))})},81988:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFormComponent:()=>G});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(41780),m=n(84412),h=n(96697),_=n(96526),y=n(13989),v=n(22978),D=n(80183),O=n(78655),M=n(39012),T=n(15465),R=n(82777),u=n(75465),w=n(30506),C=n(88280),S=n(6238),I=n(13864),L=n(73183),B=n(54705),U=n(7901);let W=(()=>{class H extends B.${constructor(X,J){super(X,J),this.activeModal=X,this.route=J,this.objectType=I.W.COMMUNITY,this.selectorTypes=[I.W.COMMUNITY,I.W.COLLECTION],this.action=B.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new S.z(C.c.comcolSelectionSort.sortField,C.c.comcolSelectionSort.sortDirection)}navigate(X){this.scopeChange.emit(X)}static{this.\u0275fac=function(J){return new(J||H)(t.rXU(e.Lw),t.rXU(U.nX))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"position-relative","py-1","my-3","font-weight-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","currentDSOId","types","sort"]],template:function(J,q){1&J&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return q.selectObject(void 0)}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"button",4),t.bIt("click",function(){return q.selectObject(void 0)}),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",5),t.nrm(12,"hr"),t.j41(13,"div",6)(14,"span",7),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"h2",8),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.j41(20,"ds-dso-selector",9),t.bIt("onSelect",function(Y){return q.selectObject(Y)}),t.k0s()()()),2&J&&(t.R7$(2),t.SpI("",t.bMT(3,7,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".head")," "),t.R7$(7),t.JRh(t.bMT(10,9,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(16,11,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(19,13,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("currentDSOId",null==q.dsoRD?null:q.dsoRD.payload.uuid)("types",q.selectorTypes)("sort",q.defaultSort))},dependencies:[L.x,f.h,f.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return H})();function j(H,V){if(1&H){const X=t.RV6();t.j41(0,"div",8)(1,"button",9),t.nI1(2,"async"),t.bIt("click",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.openScopeModal())}),t.EFF(3),t.nI1(4,"async"),t.nI1(5,"translate"),t.k0s()()}if(2&H){const X=t.XpG();t.R7$(),t.Y8G("ngbTooltip",X.dsoNameService.getName(t.bMT(2,2,X.selectedScope))),t.R7$(2),t.SpI(" ",X.dsoNameService.getName(t.bMT(4,4,X.selectedScope))||t.bMT(5,6,"search.form.scope.all")," ")}}let G=(()=>{class H{constructor(X,J,q,Q,Y,z,Z,oe){this.router=X,this.searchService=J,this.searchFilterService=q,this.paginationService=Q,this.searchConfig=Y,this.modalService=z,this.dsoService=Z,this.dsoNameService=oe,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,R.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,D.ak)()).subscribe(X=>this.selectedScope.next(X))}onSubmit(X){(0,R.hj)(this.scope)&&(X=Object.assign(X,{scope:this.scope})),this.updateSearch(X),this.submitSearch.emit(X)}onScopeChange(X){this.updateSearch({scope:X?X.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(X){const q=Object.assign({"spc.page":1},X);(0,R.a4)(X.scope)&&this.hideScopeInUrl&&delete q.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:q,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,w.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(W).componentInstance.scopeChange.pipe((0,h.s)(1)).subscribe(J=>{this.selectedScope.next(J),this.onScopeChange(J)})}static{this.\u0275fac=function(J){return new(J||H)(t.rXU(U.Ix),t.rXU(O.S),t.rXU(T.U),t.rXU(v.m),t.rXU(M.g),t.rXU(e.Bq),t.rXU(y.DSpaceObjectDataService),t.rXU(_.f))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:13,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"form-group","input-group"],["class","input-group-prepend",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"input-group-append"],["type","submit"],[1,"fas","fa-search"],[1,"input-group-prepend"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(J,q){if(1&J){const Q=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(Q);const z=t.sdS(1);return t.Njj(q.onSubmit(z.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,j,6,8,"div",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(z){return t.eBV(Q),t.DH7(q.query,z)||(q.query=z),t.Njj(z)}),t.k0s(),t.j41(7,"span",5)(8,"button",6),t.nI1(9,"dsBrowserOnly"),t.nrm(10,"i",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()()()}2&J&&(t.R7$(4),t.Y8G("ngIf",q.showScopeSelector),t.R7$(),t.R50("ngModel",q.query),t.Y8G("placeholder",q.searchPlaceholder),t.BMQ("aria-label",q.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(3),t.ZvI("search-button btn btn-",q.brandColor,""),t.BMQ("data-test",t.bMT(9,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(12,14,"search.form.search"),""))},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,i.bT,e.n8,e.md,i.Jj,f.h,f.D9,u.L],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return H})()},18016:(N,b,n)=>{"use strict";n.d(b,{d:()=>m});var i=n(54438),t=n(8886);n(81988);const e=["*"];function f(h,_){}let m=(()=>{class h extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(y){return n(76142)(`./${y}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81988))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=i.xGo(h)))(D||h)}})()}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return h})()},77909:(N,b,n)=>{"use strict";n.d(b,{Q:()=>C});var i=n(60177),t=n(89417),l=n(41780),e=n(7673),f=n(96697),m=n(82640),h=n(78655),_=n(39012),y=n(15465),v=n(60456),D=n(82777),O=n(81648),M=n(59780),T=n(54438),R=n(7901);function u(S,I){if(1&S&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&S){const L=I.$implicit;T.Y8G("value",L.value.filter),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.filter."+L.value.filter+".head")," ")}}function w(S,I){if(1&S&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&S){const L=I.$implicit;T.Y8G("value",L.operator),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.operator."+L.operator+".text")," ")}}let C=(()=>{class S{constructor(L,B,U,W,j){this.router=L,this.searchService=B,this.searchConfigurationService=U,this.searchFilterService=W,this.appConfig=j,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(L=>{const B=new Map;if(L.length>0){this.currentFilter=L[0].filter,this.currentOperator=L[0].operators[0].operator;for(const U of L)U.type!==M.R.range&&B.set(U.filter,U)}this.advancedFilterMap=B}))}ngOnDestroy(){this.subs.forEach(L=>L.unsubscribe())}findSuggestions(L){if((0,D.a4)(this.filtersConfig))for(const B of this.filtersConfig)B.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(B,this.searchConfigurationService.searchOptions.value,L))}applyFilter(){(0,D.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,f.s)(1)).subscribe(L=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:L}),this.currentValue=""})))}static{this.\u0275fac=function(B){return new(B||S)(T.rXU(R.Ix),T.rXU(h.S),T.rXU(_.g),T.rXU(y.U),T.rXU(m.vQ))}}static{this.\u0275cmp=T.VBU({type:S,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[T.aNF],decls:26,vars:36,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"],[3,"value"]],template:function(B,U){if(1&B&&(T.j41(0,"h3"),T.EFF(1),T.nI1(2,"translate"),T.k0s(),T.j41(3,"div",0)(4,"h4"),T.EFF(5),T.nI1(6,"translate"),T.k0s(),T.j41(7,"label",1),T.EFF(8),T.nI1(9,"translate"),T.k0s(),T.j41(10,"select",2),T.mxI("ngModelChange",function(j){return T.DH7(U.currentFilter,j)||(U.currentFilter=j),j}),T.bIt("keyup.enter",function(){return U.applyFilter()})("ngModelChange",function(){return U.currentOperator=U.advancedFilterMap.get(U.currentFilter).operators[0].operator}),T.DNE(11,u,3,4,"option",3),T.nI1(12,"async"),T.nI1(13,"keyvalue"),T.k0s(),T.j41(14,"label",4),T.EFF(15),T.nI1(16,"translate"),T.k0s(),T.j41(17,"select",5),T.mxI("ngModelChange",function(j){return T.DH7(U.currentOperator,j)||(U.currentOperator=j),j}),T.bIt("keyup.enter",function(){return U.applyFilter()}),T.DNE(18,w,3,4,"option",3),T.k0s(),T.j41(19,"ds-filter-input-suggestions",6),T.nI1(20,"async"),T.nI1(21,"translate"),T.nI1(22,"translate"),T.mxI("ngModelChange",function(j){return T.DH7(U.currentValue,j)||(U.currentValue=j),j}),T.bIt("submitSuggestion",function(){return U.applyFilter()})("findSuggestions",function(j){return U.findSuggestions(j)}),T.k0s(),T.j41(23,"button",7),T.bIt("click",function(){return U.applyFilter()}),T.EFF(24),T.nI1(25,"translate"),T.k0s()()),2&B){let W;T.R7$(),T.JRh(T.bMT(2,16,"search.sidebar.advanced-search.title")),T.R7$(4),T.JRh(T.bMT(6,18,"search.sidebar.advanced-search.filter-by")),T.R7$(3),T.SpI(" ",T.bMT(9,20,"search.sidebar.advanced-search.filters")," "),T.R7$(2),T.R50("ngModel",U.currentFilter),T.R7$(),T.Y8G("ngForOf",T.bMT(13,24,T.bMT(12,22,U.advancedFilters$))),T.R7$(4),T.SpI(" ",T.bMT(16,26,"search.sidebar.advanced-search.operators")," "),T.R7$(2),T.R50("ngModel",U.currentOperator),T.R7$(),T.Y8G("ngForOf",null==(W=U.advancedFilterMap.get(U.currentFilter))?null:W.operators),T.R7$(),T.Y8G("suggestions",T.bMT(20,28,U.filterSearchResults$))("placeholder",T.bMT(21,30,"search.filters.filter."+U.currentFilter+".placeholder"))("label",T.bMT(22,32,"search.filters.filter."+U.currentFilter+".label"))("action",U.router.url)("name","f."+U.currentFilter),T.R50("ngModel",U.currentValue),T.R7$(4),T.Y8G("dsBtnDisabled",""===U.currentValue),T.R7$(),T.SpI(" ",T.bMT(25,34,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,O.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,i.lG,i.Sq,l.h,l.D9,v.A],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return S})()},15641:(N,b,n)=>{"use strict";n.d(b,{S:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"label",void 0)},54994:(N,b,n)=>{"use strict";n.d(b,{L:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],l.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],l.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],l.prototype,"_links",void 0)},59780:(N,b,n)=>{"use strict";n.d(b,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},33550:(N,b,n)=>{"use strict";n.d(b,{C:()=>l});var i=n(82777),t=n(31192);class l extends t.n{constructor(f){super(f),this.pagination=f.pagination,this.sort=f.sort,this.view=f.view}toRestUrl(f,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(f,m)}}},6842:(N,b,n)=>{"use strict";n.d(b,{F:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688);n(59780);const h=new(n(42547).v)("discovery-filter");let _=class{constructor(){this.type=h,this.pageSize=5}static{this.type=h}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],_.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],_.prototype,"pageSize",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV],_)},1102:(N,b,n)=>{"use strict";n.d(b,{n:()=>v});var i=n(31635),t=n(74850),l=n(21921),e=n(96820),f=n(98688),m=n(24385),h=n(78541);const y=new(n(42547).v)("discovery-objects");let v=class extends m.a{constructor(){super(...arguments),this.type=y}static{this.type=y}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(h.q,"objects"),(0,i.Sn)("design:type",Array)],v.prototype,"page",void 0),v=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],v)},31192:(N,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(78448),t=n(45663),l=n(82777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,h=[]){return(0,l.hj)(this.configuration)&&h.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,l.hj)(this.fixedFilter)&&h.push(this.encodedFixedFilter),(0,l.hj)(this.query)&&h.push(`query=${encodeURIComponent(this.query)}`),(0,l.hj)(this.scope)&&h.push(`scope=${encodeURIComponent(this.scope)}`),(0,l.hj)(this.dsoTypes)&&this.dsoTypes.forEach(_=>{h.push(`dsoType=${encodeURIComponent(_)}`)}),(0,l.hj)(this.filters)&&this.filters.forEach(_=>{_.values.forEach(y=>{const v=y.includes(",")?`${y}`:y+(_.operator?","+_.operator:"");h.push(`${_.key}=${this.encodeFilterQueryValue(v)}`)})}),(0,l.hj)(h)&&(m=new t.t(m,`?${h.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,l.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const h=m.match(/^(.*)(,\w+)$/);return(0,l.a4)(h)?encodeURIComponent(h[1])+h[2]:encodeURIComponent(m)}}},24385:(N,b,n)=>{"use strict";n.d(b,{a:()=>h});var i=n(31635),t=n(74850),l=n(96820),e=n(32089),f=n(15641);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class h extends l.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.S),(0,i.Sn)("design:type",Array)],h.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],h.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],h.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],h.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],h.prototype,"facets",void 0)},78541:(N,b,n)=>{"use strict";n.d(b,{q:()=>y});var i=n(31635),t=n(74850),l=n(21921),e=n(14391),f=n(98688),m=n(22878);const _=new(n(42547).v)("searchresult");let y=class extends m.u{constructor(){super(...arguments),this.type=_}static{this.type=_}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],y.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,f.gM)("uuid"),(0,i.Sn)("design:type",Object)],y.prototype,"indexableObject",void 0),y=(0,i.Cg)([l.gV],y)},53009:(N,b,n)=>{"use strict";n.d(b,{w:()=>S});var i=n(60177),t=n(52149),l=n(41780),e=n(5964),f=n(25558),m=n(96354),h=n(99172),_=n(65007),y=n(3970),v=n(32736),D=n(80183),O=n(1504),M=n(82777),T=n(39806),u=(n(33550),n(54438)),w=n(7901);function C(I,L){if(1&I){const B=u.RV6();u.j41(0,"button",1),u.nI1(1,"translate"),u.nI1(2,"translate"),u.nI1(3,"translate"),u.bIt("click",function(){u.eBV(B);const W=u.XpG();return u.Njj(W.export())}),u.nrm(4,"i",2),u.k0s()}if(2&I){const B=u.XpG();u.Y8G("ngbTooltip",u.bMT(1,3,B.tooltipMsg))("title",u.bMT(2,5,B.tooltipMsg)),u.BMQ("aria-label",u.bMT(3,7,B.tooltipMsg))}}let S=(()=>{class I{constructor(B,U,W,j,G){this.scriptDataService=B,this.authorizationDataService=U,this.notificationsService=W,this.translateService=j,this.router=G,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(y._.AdministratorOf).pipe((0,e.p)(B=>B),(0,f.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(B=>B),(0,h.Z)(!1))}export(){const B=[];if((0,M.a4)(this.searchConfig)&&((0,M.hj)(this.searchConfig.query)&&B.push({name:"-q",value:this.searchConfig.query}),(0,M.hj)(this.searchConfig.scope)&&B.push({name:"-s",value:this.searchConfig.scope}),(0,M.hj)(this.searchConfig.configuration)&&B.push({name:"-c",value:this.searchConfig.configuration}),(0,M.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(U=>{(0,M.a4)(U.values)&&U.values.forEach(W=>{let j,G;(0,M.a4)(U.operator)?(j=U.operator,G=W):(j=W.substring(W.lastIndexOf(",")+1),G=W.substring(0,W.lastIndexOf(",")));const H=`${U.key.substring(2)},${j}=${G}`;B.push({name:"-f",value:H})})}),(0,M.hj)(this.searchConfig.fixedFilter))){const W=this.searchConfig.fixedFilter.substring(2).split("=");if(W.length>1){const j=W[0],G=W[1].split(",");G.length>1&&B.push({name:"-f",value:`${j},${G[1]}=${G[0]}`})}}this.scriptDataService.invoke("metadata-export-search",B,[]).pipe((0,D.qD)()).subscribe(U=>{U.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,O.yJ)(U.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(U){return new(U||I)(u.rXU(v.ScriptDataService),u.rXU(_.AuthorizationDataService),u.rXU(T.I),u.rXU(l.c$),u.rXU(w.Ix))}}static{this.\u0275cmp=u.VBU({type:I,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},standalone:!0,features:[u.aNF],decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(U,W){1&U&&(u.DNE(0,C,5,9,"button",0),u.nI1(1,"async")),2&U&&u.Y8G("ngIf",u.bMT(1,1,W.shouldShowButton$))},dependencies:[i.bT,t.n8,t.md,i.Jj,l.h,l.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return I})()},22180:(N,b,n)=>{"use strict";n.d(b,{Bf:()=>v,Fi:()=>m,L2:()=>h,Po:()=>D,R0:()=>_,ge:()=>e,nj:()=>f,tq:()=>y,y$:()=>t});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class l{constructor(M){this.filterName=M}}class e extends l{constructor(){super(...arguments),this.type=t.COLLAPSE}}class f extends l{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends l{constructor(){super(...arguments),this.type=t.TOGGLE}}class h extends l{constructor(M){super(M.name),this.type=t.INITIALIZE,this.initiallyExpanded=M.isOpenByDefault}}class _ extends l{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class y extends l{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class v extends l{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class D extends l{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86868:(N,b,n)=>{"use strict";n.d(b,{a:()=>Ea});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(99172),m=n(84572),h=n(25558),_=n(7673),y=n(5964),v=n(96354),D=n(96697),O=n(78655),M=n(39012),T=n(15465),R=n(13955),u=n(621),w=n(82777),C=n(75465),I=(n(6842),n(49969)),L=n(23294),B=n(88141),U=n(72734),W=n(80183),j=n(30506),G=n(31192),H=n(7901);const V=["equals","authority","range"];let X=(()=>{class et{constructor(rt,Nt,Bt,Tn,Qn){this.searchService=rt,this.filterService=Nt,this.rdbs=Bt,this.router=Tn,this.searchConfigService=Qn,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,_.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,L.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,v.T)(rt=>(0,w.Tn)(this.scope)?rt:Object.assign(new G.n(rt),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,v.T)(rt=>rt.filter(Nt=>V.includes(Nt.operator))),(0,L.F)((rt,Nt)=>JSON.stringify(rt)===JSON.stringify(Nt)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(rt){this.applyFilterValue(rt)}onClick(rt){this.applyFilterValue(rt.query)}hasValue(rt){return(0,w.a4)(rt)}ngOnDestroy(){this.subs.filter(rt=>(0,w.a4)(rt)).forEach(rt=>rt.unsubscribe())}findSuggestions(rt){this.subs.push(this.searchOptions$.pipe((0,D.s)(1)).subscribe(Nt=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,Nt,rt)}))}applyFilterValue(rt){if(rt.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const Nt=rt.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Nt.slice(0,Nt.length-1).join(),Nt[Nt.length-1]).pipe((0,D.s)(1)).subscribe(Bt=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Bt}),this.filter="",this.filterSearchResults$=(0,_.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,h.n)(([rt,Nt])=>this.searchService.getFacetValuesFor(this.filterConfig,Nt,rt).pipe((0,W.ak)(),(0,B.M)(Bt=>{this.isLastPage$.next((0,w.Tn)(Bt?.next)),this.isAvailableForShowSearchText.next(Bt?.page?.length<Bt?.facetLimit&&(0,w.Tn)(Bt?.next))}))),(0,v.T)(rt=>{let Nt=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),Nt=[],this.collapseNextUpdate=!1),1===rt.pageInfo.currentPage&&(Nt=[]),Nt=[...Nt,rt],Nt}),(0,B.M)(rt=>{this.animationState="ready",this.facetValues$.next(rt)}))}trackUpdate(rt,Nt){return Nt?Nt._links.search.href:void 0}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(O.S),t.rXU(T.U),t.rXU(U.o),t.rXU(H.Ix),t.rXU(R.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Nt,Bt){},encapsulation:2})}}return et})();const J=(0,I.hZ)("facetLoad",[(0,I.wk)("ready",(0,I.iF)({opacity:1})),(0,I.wk)("loading",(0,I.iF)({opacity:0})),(0,I.kY)("loading <=> ready",(0,I.i0)(100))]);var q=n(22924),Q=n(92827),Y=n(59780),z=n(89417),Z=n(81648),oe=n(22978),se=n(25488);let de=(()=>{class et{transform(rt,Nt){if(isNaN(rt)||(0,w.Im)(rt)||0===rt)return rt;let Bt=Math.abs(rt);const Tn=Math.pow(10,1),Qn=rt<0;let Es="";const Gs=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let Cs=0;Cs<Gs.length;Cs++){let di=Bt/Gs[Cs].value;if(di=Math.round(di*Tn)/Tn,di>=1){Bt=di,Es=Gs[Cs].key;break}}return(Qn?"-":"")+Bt+Es}static{this.\u0275fac=function(Nt){return new(Nt||et)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:et,pure:!0,standalone:!0})}}return et})();n(54994);var le=n(54196);const Ee=et=>[et],be=et=>({default:et});function pe(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return Bt.announceFilter(),t.Njj(Bt.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&et){const rt=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(13,Ee,rt.searchLink))("queryParams",t.bMT(1,6,rt.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,rt.filterValue.count)),t.R7$(2),t.SpI(" ",t.i5U(9,10,"search.filters."+rt.filterConfig.name+"."+rt.filterValue.value,t.eq3(15,be,rt.filterValue.value))," ")}}let re=(()=>{class et{constructor(rt,Nt,Bt,Tn,Qn,Es,Gs){this.searchService=rt,this.filterService=Nt,this.searchConfigService=Bt,this.router=Tn,this.paginationService=Qn,this.liveRegionService=Es,this.translateService=Gs}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,v.T)(rt=>!rt)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,le.SB)(this.filterValue,this.filterConfig)}announceFilter(){const rt=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(rt)}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(O.S),t.rXU(T.U),t.rXU(M.g),t.rXU(H.Ix),t.rXU(oe.m),t.rXU(se.A),t.rXU(l.c$))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row",3,"tabIndex","routerLink","queryParams","click",4,"ngIf"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","pl-1","break-facet"],[1,"float-right","badge","badge-secondary","badge-pill","mt-1","ml-1"]],template:function(Nt,Bt){1&Nt&&(t.DNE(0,pe,10,17,"a",0),t.nI1(1,"async")),2&Nt&&t.Y8G("ngIf",t.bMT(1,1,Bt.isVisible))},dependencies:[i.bT,H.Wk,i.Jj,l.h,l.D9,de],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();n(15641);const De=et=>[et],nt=et=>({default:et});let mt=(()=>{class et{constructor(rt,Nt,Bt,Tn,Qn){this.paginationService=rt,this.router=Nt,this.searchFilterService=Bt,this.searchService=Tn,this.searchConfigService=Qn}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(oe.m),t.rXU(H.Ix),t.rXU(T.U),t.rXU(O.S),t.rXU(M.g))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","pl-1","break-facet"]],template:function(Nt,Bt){1&Nt&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Bt.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()()()),2&Nt&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(10,De,Bt.searchLink))("queryParams",t.bMT(1,5,Bt.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",t.i5U(6,7,"search.filters."+Bt.filterConfig.name+"."+Bt.selectedValue.value,t.eq3(12,nt,Bt.selectedValue.label))," "))},dependencies:[i.Jj,H.Wk,l.h,l.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();function xe(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const rt=qe.$implicit,Nt=t.XpG();t.Y8G("selectedValue",rt)("filterConfig",Nt.filterConfig)("inPlaceSearch",Nt.inPlaceSearch)}}function ot(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const rt=qe.$implicit,Nt=t.XpG(2);t.Y8G("filterConfig",Nt.filterConfig)("filterValue",rt)("inPlaceSearch",Nt.inPlaceSearch)}}function $e(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,ot,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const rt=qe.$implicit,Nt=t.XpG();t.R7$(),t.Y8G("@facetLoad",Nt.animationState),t.R7$(),t.Y8G("ngForOf",rt.page)("ngForTrackBy",Nt.trackUpdate)}}function Fe(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function st(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Ie(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.DH7(Tn.filter,Bt)||(Tn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.findSuggestions(Bt))}),t.k0s()}if(2&et){const rt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,rt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+rt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+rt.filterConfig.name+".label"))("action",rt.currentUrl)("name",rt.filterConfig.paramName),t.R50("ngModel",rt.filter)}}let We=(()=>{class et extends X{static{this.\u0275fac=(()=>{let rt;return function(Bt){return(rt||(rt=t.xGo(et)))(Bt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Nt,Bt){1&Nt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,xe,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,$e,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Fe,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,st,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Ie,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Nt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Bt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Bt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Bt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Bt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Bt.isAvailableForShowSearchText)))},dependencies:[i.pM,mt,re,i.bT,Z.H,z.YN,z.me,z.BC,z.vS,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return et})();function Dt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",6),2&et){const rt=qe.$implicit,Nt=t.XpG();t.Y8G("selectedValue",rt)("filterConfig",Nt.filterConfig)("inPlaceSearch",Nt.inPlaceSearch)}}function kt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",8),2&et){const rt=qe.$implicit,Nt=t.XpG(2);t.Y8G("filterConfig",Nt.filterConfig)("filterValue",rt)("inPlaceSearch",Nt.inPlaceSearch)}}function ct(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,kt,1,3,"ds-search-facet-option",7),t.k0s(),t.bVm()),2&et){const rt=qe.$implicit,Nt=t.XpG();t.R7$(),t.Y8G("@facetLoad",Nt.animationState),t.R7$(),t.Y8G("ngForOf",rt.page)("ngForTrackBy",Nt.trackUpdate)}}function Ot(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function ve(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let Be=(()=>{class et extends X{static{this.\u0275fac=(()=>{let rt;return function(Bt){return(rt||(rt=t.xGo(et)))(Bt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(Nt,Bt){1&Nt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Dt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,ct,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Ot,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,ve,3,3,"a",5),t.nI1(10,"async"),t.k0s()()()),2&Nt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,4,Bt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,Bt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,8,Bt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,10,Bt.currentPage)>1))},dependencies:[i.pM,mt,re,i.bT,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return et})();var pt=n(22806),dn=n(82640),an=n(32089),In=n(19506),Tt=n(38443),Wt=n(52149);const It=et=>({name:et});function qt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",8),2&et){const rt=qe.$implicit,Nt=t.XpG();t.Y8G("selectedValue",rt)("filterConfig",Nt.filterConfig)("inPlaceSearch",Nt.inPlaceSearch)}}function ln(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",10),2&et){const rt=qe.$implicit,Nt=t.XpG(2);t.Y8G("filterConfig",Nt.filterConfig)("filterValue",rt)("inPlaceSearch",Nt.inPlaceSearch)}}function Mt(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,ln,1,3,"ds-search-facet-option",9),t.k0s(),t.bVm()),2&et){const rt=qe.$implicit,Nt=t.XpG();t.R7$(),t.Y8G("@facetLoad",Nt.animationState),t.R7$(),t.Y8G("ngForOf",rt.page)("ngForTrackBy",Nt.trackUpdate)}}function Ht(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Kt(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",12),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Pt(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"ds-filter-input-suggestions",13),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.DH7(Tn.filter,Bt)||(Tn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.findSuggestions(Bt))}),t.k0s()}if(2&et){const rt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,rt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+rt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+rt.filterConfig.name+".label"))("action",rt.currentUrl)("name",rt.filterConfig.paramName),t.R50("ngModel",rt.filter)}}function Ct(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&et){const rt=t.XpG();t.Mz_("id","show-",rt.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,It,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+rt.filterConfig.name+".head")))),"\n")}}let Qt=(()=>{class et extends X{constructor(rt,Nt,Bt,Tn,Qn,Es,Gs,Cs){super(rt,Nt,Bt,Tn,Cs),this.searchService=rt,this.filterService=Nt,this.rdbs=Bt,this.router=Tn,this.modalService=Qn,this.vocabularyService=Es,this.appConfig=Gs,this.searchConfigService=Cs}onSubmit(rt){super.onSubmit((0,le.mq)(rt,"query"))}ngOnInit(){super.ngOnInit();const rt=this.getVocabularyEntry();(0,w.a4)(rt)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(rt,new an.Q,!0,!1).pipe((0,y.p)(Nt=>Nt.hasCompleted),(0,D.s)(1),(0,v.T)(Nt=>Nt.hasSucceeded)))}showVocabularyTree(){const rt=this.modalService.open(Tt._,{size:"lg",windowClass:"treeview"});rt.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},rt.componentInstance.showAdd=!1,this.subs.push((0,pt.H)(rt.result).pipe((0,h.n)(Nt=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Nt.value,"equals")),(0,D.s)(1)).subscribe(Nt=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:Nt})}))}getVocabularyEntry(){const rt=this.appConfig.vocabularies.filter(Nt=>Nt.filter===this.filterConfig.name);if(rt.length>0&&!0===rt[0].enabled)return rt[0].vocabulary}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(O.S),t.rXU(T.U),t.rXU(U.o),t.rXU(H.Ix),t.rXU(Wt.Bq),t.rXU(In.g),t.rXU(dn.vQ),t.rXU(R.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);",3,"click","id"]],template:function(Nt,Bt){1&Nt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,qt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,Mt,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Ht,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Kt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Pt,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s(),t.DNE(13,Ct,5,12,"a",7),t.nI1(14,"async")),2&Nt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,6,Bt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,8,Bt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,10,Bt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,12,Bt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,14,Bt.isAvailableForShowSearchText)),t.R7$(2),t.Y8G("ngIf",t.bMT(14,16,Bt.vocabularyExists$)))},dependencies:[i.pM,mt,re,i.bT,Z.H,z.YN,z.me,z.BC,z.vS,i.Jj,i.GH,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return et})();var Et=function(et){return et.Range="range",et.Steps="steps",et.Positions="positions",et.Count="count",et.Values="values",et}(Et||{}),Lt=function(et){return et[et.None=-1]="None",et[et.NoValue=0]="NoValue",et[et.LargeValue=1]="LargeValue",et[et.SmallValue=2]="SmallValue",et}(Lt||{});function Ne(et){return"object"==typeof et&&"function"==typeof et.to}function ke(et){et.parentElement.removeChild(et)}function ze(et){return null!=et}function Ue(et){et.preventDefault()}function _t(et){return"number"==typeof et&&!isNaN(et)&&isFinite(et)}function Zt(et,qe,rt){rt>0&&(us(et,qe),setTimeout(function(){Vs(et,qe)},rt))}function fn(et){return Math.max(Math.min(et,100),0)}function Cn(et){return Array.isArray(et)?et:[et]}function ss(et){var qe=(et=String(et)).split(".");return qe.length>1?qe[1].length:0}function us(et,qe){et.classList&&!/\s/.test(qe)?et.classList.add(qe):et.className+=" "+qe}function Vs(et,qe){et.classList&&!/\s/.test(qe)?et.classList.remove(qe):et.className=et.className.replace(new RegExp("(^|\\b)"+qe.split(" ").join("|")+"(\\b|$)","gi")," ")}function lt(et){var qe=void 0!==window.pageXOffset,rt="CSS1Compat"===(et.compatMode||"");return{x:qe?window.pageXOffset:rt?et.documentElement.scrollLeft:et.body.scrollLeft,y:qe?window.pageYOffset:rt?et.documentElement.scrollTop:et.body.scrollTop}}function is(et,qe){return 100/(qe-et)}function as(et,qe,rt){return 100*qe/(et[rt+1]-et[rt])}function Ss(et,qe){for(var rt=1;et>=qe[rt];)rt+=1;return rt}var Zn=function(){function et(qe,rt,Nt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Nt||!1],this.xNumSteps=[!1],this.snap=rt;var Bt,Tn=[];for(Object.keys(qe).forEach(function(Qn){Tn.push([Cn(qe[Qn]),Qn])}),Tn.sort(function(Qn,Es){return Qn[0][0]-Es[0][0]}),Bt=0;Bt<Tn.length;Bt++)this.handleEntryPoint(Tn[Bt][1],Tn[Bt][0]);for(this.xNumSteps=this.xSteps.slice(0),Bt=0;Bt<this.xNumSteps.length;Bt++)this.handleStepPoint(Bt,this.xNumSteps[Bt])}return et.prototype.getDistance=function(qe){for(var rt=[],Nt=0;Nt<this.xNumSteps.length-1;Nt++)rt[Nt]=as(this.xVal,qe,Nt);return rt},et.prototype.getAbsoluteDistance=function(qe,rt,Nt){var Bt=0;if(qe<this.xPct[this.xPct.length-1])for(;qe>this.xPct[Bt+1];)Bt++;else qe===this.xPct[this.xPct.length-1]&&(Bt=this.xPct.length-2);!Nt&&qe===this.xPct[Bt+1]&&Bt++,null===rt&&(rt=[]);var Tn,Qn=1,Es=rt[Bt],Gs=0,Cs=0,di=0,Hi=0;for(Tn=Nt?(qe-this.xPct[Bt])/(this.xPct[Bt+1]-this.xPct[Bt]):(this.xPct[Bt+1]-qe)/(this.xPct[Bt+1]-this.xPct[Bt]);Es>0;)Gs=this.xPct[Bt+1+Hi]-this.xPct[Bt+Hi],rt[Bt+Hi]*Qn+100-100*Tn>100?(Cs=Gs*Tn,Qn=(Es-100*Tn)/rt[Bt+Hi],Tn=1):(Cs=rt[Bt+Hi]*Gs/100*Qn,Qn=0),Nt?(di-=Cs,this.xPct.length+Hi>=1&&Hi--):(di+=Cs,this.xPct.length-Hi>=1&&Hi++),Es=rt[Bt+Hi]*Qn;return qe+di},et.prototype.toStepping=function(qe){return function os(et,qe,rt){if(rt>=et.slice(-1)[0])return 100;var Nt=Ss(rt,et),Qn=qe[Nt-1],Es=qe[Nt];return Qn+function Ys(et,qe){return as(et,et[0]<0?qe+Math.abs(et[0]):qe-et[0],0)}([et[Nt-1],et[Nt]],rt)/is(Qn,Es)}(this.xVal,this.xPct,qe)},et.prototype.fromStepping=function(qe){return function sn(et,qe,rt){if(rt>=100)return et.slice(-1)[0];var Nt=Ss(rt,qe),Qn=qe[Nt-1];return function gs(et,qe){return qe*(et[1]-et[0])/100+et[0]}([et[Nt-1],et[Nt]],(rt-Qn)*is(Qn,qe[Nt]))}(this.xVal,this.xPct,qe)},et.prototype.getStep=function(qe){return function pn(et,qe,rt,Nt){if(100===Nt)return Nt;var Bt=Ss(Nt,et),Tn=et[Bt-1],Qn=et[Bt];return rt?Nt-Tn>(Qn-Tn)/2?Qn:Tn:qe[Bt-1]?et[Bt-1]+function Qe(et,qe){return Math.round(et/qe)*qe}(Nt-et[Bt-1],qe[Bt-1]):Nt}(this.xPct,this.xSteps,this.snap,qe)},et.prototype.getDefaultStep=function(qe,rt,Nt){var Bt=Ss(qe,this.xPct);return(100===qe||rt&&qe===this.xPct[Bt-1])&&(Bt=Math.max(Bt-1,1)),(this.xVal[Bt]-this.xVal[Bt-1])/Nt},et.prototype.getNearbySteps=function(qe){var rt=Ss(qe,this.xPct);return{stepBefore:{startValue:this.xVal[rt-2],step:this.xNumSteps[rt-2],highestStep:this.xHighestCompleteStep[rt-2]},thisStep:{startValue:this.xVal[rt-1],step:this.xNumSteps[rt-1],highestStep:this.xHighestCompleteStep[rt-1]},stepAfter:{startValue:this.xVal[rt],step:this.xNumSteps[rt],highestStep:this.xHighestCompleteStep[rt]}}},et.prototype.countStepDecimals=function(){var qe=this.xNumSteps.map(ss);return Math.max.apply(null,qe)},et.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},et.prototype.convert=function(qe){return this.getStep(this.toStepping(qe))},et.prototype.handleEntryPoint=function(qe,rt){var Nt;if(!_t(Nt="min"===qe?0:"max"===qe?100:parseFloat(qe))||!_t(rt[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Nt),this.xVal.push(rt[0]);var Bt=Number(rt[1]);Nt?this.xSteps.push(!isNaN(Bt)&&Bt):isNaN(Bt)||(this.xSteps[0]=Bt),this.xHighestCompleteStep.push(0)},et.prototype.handleStepPoint=function(qe,rt){if(rt){if(this.xVal[qe]===this.xVal[qe+1])return void(this.xSteps[qe]=this.xHighestCompleteStep[qe]=this.xVal[qe]);this.xSteps[qe]=as([this.xVal[qe],this.xVal[qe+1]],rt,0)/is(this.xPct[qe],this.xPct[qe+1]);var Bt=Math.ceil(Number(((this.xVal[qe+1]-this.xVal[qe])/this.xNumSteps[qe]).toFixed(3))-1);this.xHighestCompleteStep[qe]=this.xVal[qe]+this.xNumSteps[qe]*Bt}},et}(),Rs={to:function(et){return void 0===et?"":et.toFixed(2)},from:Number},ri={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},ft={tooltips:".__tooltips",aria:".__aria"};function Gt(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'step' is not numeric.");et.singleStep=qe}function Ke(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");et.keyboardPageMultiplier=qe}function en(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");et.keyboardMultiplier=qe}function at(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");et.keyboardDefaultStep=qe}function dt(et,qe){if("object"!=typeof qe||Array.isArray(qe))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===qe.min||void 0===qe.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");et.spectrum=new Zn(qe,et.snap||!1,et.singleStep)}function vt(et,qe){if(qe=Cn(qe),!Array.isArray(qe)||!qe.length)throw new Error("noUiSlider: 'start' option is incorrect.");et.handles=qe.length,et.start=qe}function jt(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'snap' option must be a boolean.");et.snap=qe}function nn(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'animate' option must be a boolean.");et.animate=qe}function Dn(et,qe){if("number"!=typeof qe)throw new Error("noUiSlider: 'animationDuration' option must be a number.");et.animationDuration=qe}function Vn(et,qe){var Nt,rt=[!1];if("lower"===qe?qe=[!0,!1]:"upper"===qe&&(qe=[!1,!0]),!0===qe||!1===qe){for(Nt=1;Nt<et.handles;Nt++)rt.push(qe);rt.push(!1)}else{if(!Array.isArray(qe)||!qe.length||qe.length!==et.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");rt=qe}et.connect=rt}function xn(et,qe){switch(qe){case"horizontal":et.ort=0;break;case"vertical":et.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function fs(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==qe&&(et.margin=et.spectrum.getDistance(qe))}function Ms(et,qe){if(!_t(qe))throw new Error("noUiSlider: 'limit' option must be numeric.");if(et.limit=et.spectrum.getDistance(qe),!et.limit||et.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function ys(et,qe){var rt;if(!_t(qe)&&!Array.isArray(qe))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(qe)&&2!==qe.length&&!_t(qe[0])&&!_t(qe[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==qe){for(Array.isArray(qe)||(qe=[qe,qe]),et.padding=[et.spectrum.getDistance(qe[0]),et.spectrum.getDistance(qe[1])],rt=0;rt<et.spectrum.xNumSteps.length-1;rt++)if(et.padding[0][rt]<0||et.padding[1][rt]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((qe[0]+qe[1])/(et.spectrum.xVal[et.spectrum.xVal.length-1]-et.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ls(et,qe){switch(qe){case"ltr":et.dir=0;break;case"rtl":et.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ts(et,qe){if("string"!=typeof qe)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var rt=qe.indexOf("tap")>=0,Nt=qe.indexOf("drag")>=0,Bt=qe.indexOf("fixed")>=0,Tn=qe.indexOf("snap")>=0,Qn=qe.indexOf("hover")>=0,Es=qe.indexOf("unconstrained")>=0,Gs=qe.indexOf("invert-connects")>=0,Cs=qe.indexOf("drag-all")>=0,di=qe.indexOf("smooth-steps")>=0;if(Bt){if(2!==et.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");fs(et,et.start[1]-et.start[0])}if(Gs&&2!==et.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(Es&&(et.margin||et.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");et.events={tap:rt||Tn,drag:Nt,dragAll:Cs,smoothSteps:di,fixed:Bt,snap:Tn,hover:Qn,unconstrained:Es,invertConnects:Gs}}function Mi(et,qe){if(!1!==qe)if(!0===qe||Ne(qe)){et.tooltips=[];for(var rt=0;rt<et.handles;rt++)et.tooltips.push(qe)}else{if((qe=Cn(qe)).length!==et.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");qe.forEach(function(Nt){if("boolean"!=typeof Nt&&!Ne(Nt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),et.tooltips=qe}}function ji(et,qe){if(qe.length!==et.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");et.handleAttributes=qe}function Ai(et,qe){if(!Ne(qe))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");et.ariaFormat=qe}function Fi(et,qe){if(!function it(et){return Ne(et)&&"function"==typeof et.from}(qe))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");et.format=qe}function wr(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");et.keyboardSupport=qe}function Qi(et,qe){et.documentElement=qe}function Is(et,qe){if("string"!=typeof qe&&!1!==qe)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");et.cssPrefix=qe}function Hs(et,qe){if("object"!=typeof qe)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof et.cssPrefix?(et.cssClasses={},Object.keys(qe).forEach(function(rt){et.cssClasses[rt]=et.cssPrefix+qe[rt]})):et.cssClasses=qe}function $i(et){var qe={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Rs,format:Rs},rt={step:{r:!1,t:Gt},keyboardPageMultiplier:{r:!1,t:Ke},keyboardMultiplier:{r:!1,t:en},keyboardDefaultStep:{r:!1,t:at},start:{r:!0,t:vt},connect:{r:!0,t:Vn},direction:{r:!0,t:ls},snap:{r:!1,t:jt},animate:{r:!1,t:nn},animationDuration:{r:!1,t:Dn},range:{r:!0,t:dt},orientation:{r:!1,t:xn},margin:{r:!1,t:fs},limit:{r:!1,t:Ms},padding:{r:!1,t:ys},behaviour:{r:!0,t:Ts},ariaFormat:{r:!1,t:Ai},format:{r:!1,t:Fi},tooltips:{r:!1,t:Mi},keyboardSupport:{r:!0,t:wr},documentElement:{r:!1,t:Qi},cssPrefix:{r:!0,t:Is},cssClasses:{r:!0,t:Hs},handleAttributes:{r:!1,t:ji}},Nt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ri,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};et.format&&!et.ariaFormat&&(et.ariaFormat=et.format),Object.keys(rt).forEach(function(Gs){if(ze(et[Gs])||void 0!==Nt[Gs])rt[Gs].t(qe,ze(et[Gs])?et[Gs]:Nt[Gs]);else if(rt[Gs].r)throw new Error("noUiSlider: '"+Gs+"' is required.")}),qe.pips=et.pips;var Bt=document.createElement("div");return qe.transformRule=void 0!==Bt.style.transform?"transform":void 0!==Bt.style.msTransform?"msTransform":"webkitTransform",qe.style=[["left","top"],["right","bottom"]][qe.dir][qe.ort],qe}function ao(et,qe,rt){var Es,Gs,Cs,di,Hi,ui,Nt=function Yt(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),Tn=function kn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Pn(){var et=!1;try{var qe=Object.defineProperty({},"passive",{get:function(){et=!0}});window.addEventListener("test",null,qe)}catch{}return et}(),Qn=et,Zs=qe.spectrum,zi=[],ki=[],Er=[],Zi=0,$s={},qi=!1,Vr=et.ownerDocument,cr=qe.documentElement||Vr.documentElement,gr=Vr.body,Xo="rtl"===Vr.dir||1===qe.ort?0:100;function hr(Vt,on){var Rt=Vr.createElement("div");return on&&us(Rt,on),Vt.appendChild(Rt),Rt}function Gr(Vt,on){var Rt=hr(Vt,qe.cssClasses.origin),Mn=hr(Rt,qe.cssClasses.handle);if(hr(Mn,qe.cssClasses.touchArea),Mn.setAttribute("data-handle",String(on)),qe.keyboardSupport&&(Mn.setAttribute("tabindex","0"),Mn.addEventListener("keydown",function(ts){return function Ca(Vt,on){if(Ge()||me(on))return!1;var Rt=["Left","Right"],Mn=["Down","Up"],Fn=["PageDown","PageUp"],ts=["Home","End"];qe.dir&&!qe.ort?Rt.reverse():qe.ort&&!qe.dir&&(Mn.reverse(),Fn.reverse());var nr,Ns=Vt.key.replace("Arrow",""),zn=Ns===Fn[0],yi=Ns===Fn[1],Li=Ns===Mn[0]||Ns===Rt[0]||zn,tr=Ns===Mn[1]||Ns===Rt[1]||yi,Ln=Ns===ts[1];if(!(Li||tr||Ns===ts[0]||Ln))return!0;if(Vt.preventDefault(),tr||Li){var Or=Li?0:1,Je=bo(on)[Or];if(null===Je)return!1;!1===Je&&(Je=Zs.getDefaultStep(ki[on],Li,qe.keyboardDefaultStep)),Je*=yi||zn?qe.keyboardPageMultiplier:qe.keyboardMultiplier,Je=Math.max(Je,1e-7),nr=zi[on]+(Je*=Li?-1:1)}else nr=Ln?qe.spectrum.xVal[qe.spectrum.xVal.length-1]:qe.spectrum.xVal[0];return Os(on,Zs.toStepping(nr),!0,!0),ps("slide",on),ps("update",on),ps("change",on),ps("set",on),!1}(ts,on)})),void 0!==qe.handleAttributes){var Fn=qe.handleAttributes[on];Object.keys(Fn).forEach(function(ts){Mn.setAttribute(ts,Fn[ts])})}return Mn.setAttribute("role","slider"),Mn.setAttribute("aria-orientation",qe.ort?"vertical":"horizontal"),0===on?us(Mn,qe.cssClasses.handleLower):on===qe.handles-1&&us(Mn,qe.cssClasses.handleUpper),Rt.handle=Mn,Rt}function la(Vt,on){return!!on&&hr(Vt,qe.cssClasses.connect)}function ie(Vt,on){return!(!qe.tooltips||!qe.tooltips[on])&&hr(Vt.firstChild,qe.cssClasses.tooltip)}function Ge(){return Qn.hasAttribute("disabled")}function me(Vt){return Cs[Vt].hasAttribute("disabled")}function En(){ui&&(po("update"+ft.tooltips),ui.forEach(function(Vt){Vt&&ke(Vt)}),ui=null)}function Yn(){En(),ui=Cs.map(ie),er("update"+ft.tooltips,function(Vt,on,Rt){if(ui&&qe.tooltips&&!1!==ui[on]){var Mn=Vt[on];!0!==qe.tooltips[on]&&(Mn=qe.tooltips[on].to(Rt[on])),ui[on].innerHTML=Mn}})}function Yi(Vt,on){return Vt.map(function(Rt){return Zs.fromStepping(on?Zs.getStep(Rt):Rt)})}function bi(){Hi&&(ke(Hi),Hi=null)}function Jo(Vt){bi();var on=function Vi(Vt){function on(Li,tr){return Number((Li+tr).toFixed(7))}var Rt=function ws(Vt){if(Vt.mode===Et.Range||Vt.mode===Et.Steps)return Zs.xVal;if(Vt.mode===Et.Count){if(Vt.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var on=Vt.values-1,Rt=100/on,Mn=[];on--;)Mn[on]=on*Rt;return Mn.push(100),Yi(Mn,Vt.stepped)}return Vt.mode===Et.Positions?Yi(Vt.values,Vt.stepped):Vt.mode===Et.Values?Vt.stepped?Vt.values.map(function(Fn){return Zs.fromStepping(Zs.getStep(Zs.toStepping(Fn)))}):Vt.values:[]}(Vt),Mn={},Fn=Zs.xVal[0],ts=Zs.xVal[Zs.xVal.length-1],Ns=!1,zn=!1,yi=0;return Rt=function St(et){return et.filter(function(qe){return!this[qe]&&(this[qe]=!0)},{})}(Rt.slice().sort(function(Li,tr){return Li-tr})),Rt[0]!==Fn&&(Rt.unshift(Fn),Ns=!0),Rt[Rt.length-1]!==ts&&(Rt.push(ts),zn=!0),Rt.forEach(function(Li,tr){var Ui,Ln,nr,Je,Re,Xe,wt,wn,ns,Or=Li,fe=Rt[tr+1],Us=Vt.mode===Et.Steps;for(Us&&(Ui=Zs.xNumSteps[tr]),Ui||(Ui=fe-Or),void 0===fe&&(fe=Or),Ui=Math.max(Ui,1e-7),Ln=Or;Ln<=fe;Ln=on(Ln,Ui)){for(ns=(Re=(Je=Zs.toStepping(Ln))-yi)/(wn=Math.round(Re/(Vt.density||1))),nr=1;nr<=wn;nr+=1)Mn[(Xe=yi+nr*ns).toFixed(5)]=[Zs.fromStepping(Xe),0];wt=Rt.indexOf(Ln)>-1?Lt.LargeValue:Us?Lt.SmallValue:Lt.NoValue,!tr&&Ns&&Ln!==fe&&(wt=0),Ln===fe&&zn||(Mn[Je.toFixed(5)]=[Ln,wt]),yi=Je}}),Mn}(Vt);return Hi=Qn.appendChild(function xr(Vt,on,Rt){var Mn,Fn,ts=Vr.createElement("div"),Ns=((Mn={})[Lt.None]="",Mn[Lt.NoValue]=qe.cssClasses.valueNormal,Mn[Lt.LargeValue]=qe.cssClasses.valueLarge,Mn[Lt.SmallValue]=qe.cssClasses.valueSub,Mn),zn=((Fn={})[Lt.None]="",Fn[Lt.NoValue]=qe.cssClasses.markerNormal,Fn[Lt.LargeValue]=qe.cssClasses.markerLarge,Fn[Lt.SmallValue]=qe.cssClasses.markerSub,Fn),yi=[qe.cssClasses.valueHorizontal,qe.cssClasses.valueVertical],Li=[qe.cssClasses.markerHorizontal,qe.cssClasses.markerVertical];function tr(Ln,nr){var Or=nr===qe.cssClasses.value;return nr+" "+(Or?yi:Li)[qe.ort]+" "+(Or?Ns:zn)[Ln]}return us(ts,qe.cssClasses.pips),us(ts,0===qe.ort?qe.cssClasses.pipsHorizontal:qe.cssClasses.pipsVertical),Object.keys(Vt).forEach(function(Ln){!function Ui(Ln,nr,Or){if((Or=on?on(nr,Or):Or)!==Lt.None){var fe=hr(ts,!1);fe.className=tr(Or,qe.cssClasses.marker),fe.style[qe.style]=Ln+"%",Or>Lt.NoValue&&((fe=hr(ts,!1)).className=tr(Or,qe.cssClasses.value),fe.setAttribute("data-value",String(nr)),fe.style[qe.style]=Ln+"%",fe.innerHTML=String(Rt.to(nr)))}}(Ln,Vt[Ln][0],Vt[Ln][1])}),ts}(on,Vt.filter,Vt.format||{to:function(Fn){return String(Math.round(Fn))}}))}function So(){var Vt=Es.getBoundingClientRect(),on="offset"+["Width","Height"][qe.ort];return 0===qe.ort?Vt.width||Es[on]:Vt.height||Es[on]}function Eo(Vt,on,Rt,Mn){var Fn=function(Ns){var zn=function Co(Vt,on,Rt){var Mn=0===Vt.type.indexOf("touch"),Fn=0===Vt.type.indexOf("mouse"),ts=0===Vt.type.indexOf("pointer"),Ns=0,zn=0;if(0===Vt.type.indexOf("MSPointer")&&(ts=!0),"mousedown"===Vt.type&&!Vt.buttons&&!Vt.touches)return!1;if(Mn){var yi=function(Ui){var Ln=Ui.target;return Ln===Rt||Rt.contains(Ln)||Vt.composed&&Vt.composedPath().shift()===Rt};if("touchstart"===Vt.type){var Li=Array.prototype.filter.call(Vt.touches,yi);if(Li.length>1)return!1;Ns=Li[0].pageX,zn=Li[0].pageY}else{var tr=Array.prototype.find.call(Vt.changedTouches,yi);if(!tr)return!1;Ns=tr.pageX,zn=tr.pageY}}return on=on||lt(Vr),(Fn||ts)&&(Ns=Vt.clientX+on.x,zn=Vt.clientY+on.y),Vt.pageOffset=on,Vt.points=[Ns,zn],Vt.cursor=Fn||ts,Vt}(Ns,Mn.pageOffset,Mn.target||on);if(!zn||Ge()&&!Mn.doNotReject||function gt(et,qe){return et.classList?et.classList.contains(qe):new RegExp("\\b"+qe+"\\b").test(et.className)}(Qn,qe.cssClasses.tap)&&!Mn.doNotReject||Vt===Nt.start&&void 0!==zn.buttons&&zn.buttons>1||Mn.hover&&zn.buttons)return!1;Tn||zn.preventDefault(),zn.calcPoint=zn.points[qe.ort],Rt(zn,Mn)},ts=[];return Vt.split(" ").forEach(function(Ns){on.addEventListener(Ns,Fn,!!Tn&&{passive:!0}),ts.push([Ns,Fn])}),ts}function ul(Vt){var on=Vt-function xt(et,qe){var rt=et.getBoundingClientRect(),Nt=et.ownerDocument,Bt=Nt.documentElement,Tn=lt(Nt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Tn.x=0),qe?rt.top+Tn.y-Bt.clientTop:rt.left+Tn.x-Bt.clientLeft}(Es,qe.ort),Rt=100*on/So();return Rt=fn(Rt),qe.dir?100-Rt:Rt}function No(Vt,on){"mouseout"===Vt.type&&"HTML"===Vt.target.nodeName&&null===Vt.relatedTarget&&Qo(Vt,on)}function Fa(Vt,on){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Vt.buttons&&0!==on.buttonsProperty)return Qo(Vt,on);var Rt=(qe.dir?-1:1)*(Vt.calcPoint-on.startCalcPoint);ha(Rt>0,100*Rt/on.baseSize,on.locations,on.handleNumbers,on.connect)}function Qo(Vt,on){on.handle&&(Vs(on.handle,qe.cssClasses.active),Zi-=1),on.listeners.forEach(function(Rt){cr.removeEventListener(Rt[0],Rt[1])}),0===Zi&&(Vs(Qn,qe.cssClasses.drag),Bo(),Vt.cursor&&(gr.style.cursor="",gr.removeEventListener("selectstart",Ue))),qe.events.smoothSteps&&(on.handleNumbers.forEach(function(Rt){Os(Rt,ki[Rt],!0,!0,!1,!1)}),on.handleNumbers.forEach(function(Rt){ps("update",Rt)})),on.handleNumbers.forEach(function(Rt){ps("change",Rt),ps("set",Rt),ps("end",Rt)})}function Fo(Vt,on){if(!on.handleNumbers.some(me)){var Rt;1===on.handleNumbers.length&&(Zi+=1,us(Rt=Cs[on.handleNumbers[0]].children[0],qe.cssClasses.active)),Vt.stopPropagation();var Fn=[],ts=Eo(Nt.move,cr,Fa,{target:Vt.target,handle:Rt,connect:on.connect,listeners:Fn,startCalcPoint:Vt.calcPoint,baseSize:So(),pageOffset:Vt.pageOffset,handleNumbers:on.handleNumbers,buttonsProperty:Vt.buttons,locations:ki.slice()}),Ns=Eo(Nt.end,cr,Qo,{target:Vt.target,handle:Rt,listeners:Fn,doNotReject:!0,handleNumbers:on.handleNumbers}),zn=Eo("mouseout",cr,No,{target:Vt.target,handle:Rt,listeners:Fn,doNotReject:!0,handleNumbers:on.handleNumbers});Fn.push.apply(Fn,ts.concat(Ns,zn)),Vt.cursor&&(gr.style.cursor=getComputedStyle(Vt.target).cursor,Cs.length>1&&us(Qn,qe.cssClasses.drag),gr.addEventListener("selectstart",Ue,!1)),on.handleNumbers.forEach(function(yi){ps("start",yi)})}}function ca(Vt){Vt.stopPropagation();var on=ul(Vt.calcPoint),Rt=function nc(Vt){var on=100,Rt=!1;return Cs.forEach(function(Mn,Fn){if(!me(Fn)){var ts=ki[Fn],Ns=Math.abs(ts-Vt);(Ns<on||Ns<=on&&Vt>ts||100===Ns&&100===on)&&(Rt=Fn,on=Ns)}}),Rt}(on);!1!==Rt&&(qe.events.snap||Zt(Qn,qe.cssClasses.tap,qe.animationDuration),Os(Rt,on,!0,!0),Bo(),ps("slide",Rt,!0),ps("update",Rt,!0),qe.events.snap?Fo(Vt,{handleNumbers:[Rt]}):(ps("change",Rt,!0),ps("set",Rt,!0)))}function Ba(Vt){var on=ul(Vt.calcPoint),Rt=Zs.getStep(on),Mn=Zs.fromStepping(Rt);Object.keys($s).forEach(function(Fn){"hover"===Fn.split(".")[0]&&$s[Fn].forEach(function(ts){ts.call(ta,Mn)})})}function ni(Vt){Vt.fixed||Cs.forEach(function(on,Rt){Eo(Nt.start,on.children[0],Fo,{handleNumbers:[Rt]})}),Vt.tap&&Eo(Nt.start,Es,ca,{}),Vt.hover&&Eo(Nt.move,Es,Ba,{hover:!0}),Vt.drag&&di.forEach(function(on,Rt){if(!1!==on&&0!==Rt&&Rt!==di.length-1){var Mn=Cs[Rt-1],Fn=Cs[Rt],ts=[on],Ns=[Mn,Fn],zn=[Rt-1,Rt];us(on,qe.cssClasses.draggable),Vt.fixed&&(ts.push(Mn.children[0]),ts.push(Fn.children[0])),Vt.dragAll&&(Ns=Cs,zn=Er),ts.forEach(function(yi){Eo(Nt.start,yi,Fo,{handles:Ns,handleNumbers:zn,connect:on})})}})}function er(Vt,on){$s[Vt]=$s[Vt]||[],$s[Vt].push(on),"update"===Vt.split(".")[0]&&Cs.forEach(function(Rt,Mn){ps("update",Mn)})}function po(Vt){var on=Vt&&Vt.split(".")[0],Rt=on?Vt.substring(on.length):Vt;Object.keys($s).forEach(function(Mn){var Fn=Mn.split(".")[0],ts=Mn.substring(Fn.length);on&&on!==Fn||Rt&&Rt!==ts||function pr(Vt){return Vt===ft.aria||Vt===ft.tooltips}(ts)&&Rt!==ts||delete $s[Mn]})}function ps(Vt,on,Rt){Object.keys($s).forEach(function(Mn){var Fn=Mn.split(".")[0];Vt===Fn&&$s[Mn].forEach(function(ts){ts.call(ta,zi.map(qe.format.to),on,zi.slice(),Rt||!1,ki.slice(),ta)})})}function da(Vt,on,Rt,Mn,Fn,ts,Ns){var zn;return Cs.length>1&&!qe.events.unconstrained&&(Mn&&on>0&&(zn=Zs.getAbsoluteDistance(Vt[on-1],qe.margin,!1),Rt=Math.max(Rt,zn)),Fn&&on<Cs.length-1&&(zn=Zs.getAbsoluteDistance(Vt[on+1],qe.margin,!0),Rt=Math.min(Rt,zn))),Cs.length>1&&qe.limit&&(Mn&&on>0&&(zn=Zs.getAbsoluteDistance(Vt[on-1],qe.limit,!1),Rt=Math.min(Rt,zn)),Fn&&on<Cs.length-1&&(zn=Zs.getAbsoluteDistance(Vt[on+1],qe.limit,!0),Rt=Math.max(Rt,zn))),qe.padding&&(0===on&&(zn=Zs.getAbsoluteDistance(0,qe.padding[0],!1),Rt=Math.max(Rt,zn)),on===Cs.length-1&&(zn=Zs.getAbsoluteDistance(100,qe.padding[1],!0),Rt=Math.min(Rt,zn))),Ns||(Rt=Zs.getStep(Rt)),!((Rt=fn(Rt))===Vt[on]&&!ts)&&Rt}function ua(Vt,on){var Rt=qe.ort;return(Rt?on:Vt)+", "+(Rt?Vt:on)}function ha(Vt,on,Rt,Mn,Fn){var ts=Rt.slice(),Ns=Mn[0],zn=qe.events.smoothSteps,yi=[!Vt,Vt],Li=[Vt,!Vt];Mn=Mn.slice(),Vt&&Mn.reverse(),Mn.length>1?Mn.forEach(function(Ui,Ln){var nr=da(ts,Ui,ts[Ui]+on,yi[Ln],Li[Ln],!1,zn);!1===nr?on=0:(on=nr-ts[Ui],ts[Ui]=nr)}):yi=Li=[!0];var tr=!1;Mn.forEach(function(Ui,Ln){tr=Os(Ui,Rt[Ui]+on,yi[Ln],Li[Ln],!1,zn)||tr}),tr&&(Mn.forEach(function(Ui){ps("update",Ui),ps("slide",Ui)}),null!=Fn&&ps("drag",Ns))}function Pl(Vt,on){return qe.dir?100-Vt-on:Vt}function Bo(){Er.forEach(function(Vt){Cs[Vt].style.zIndex=String(3+(Cs.length+(ki[Vt]>50?-1:1)*Vt))})}function Os(Vt,on,Rt,Mn,Fn,ts){return Fn||(on=da(ki,Vt,on,Rt,Mn,!1,ts)),!1!==on&&(function hl(Vt,on){ki[Vt]=on,zi[Vt]=Zs.fromStepping(on);var Mn="translate("+ua(Pl(on,0)-Xo+"%","0")+")";if(Cs[Vt].style[qe.transformRule]=Mn,qe.events.invertConnects&&ki.length>1){var Fn=ki.every(function(ts,Ns,zn){return 0===Ns||ts>=zn[Ns-1]});if(qi!==!Fn)return void function Yr(){qi=!qi,Vn(qe,qe.connect.map(function(Vt){return!Vt})),fl()}()}Uo(Vt),Uo(Vt+1),qi&&(Uo(Vt-1),Uo(Vt+2))}(Vt,on),!0)}function Uo(Vt){if(di[Vt]){var on=ki.slice();qi&&on.sort(function(zn,yi){return zn-yi});var Rt=0,Mn=100;0!==Vt&&(Rt=on[Vt-1]),Vt!==di.length-1&&(Mn=on[Vt]);var Fn=Mn-Rt,ts="translate("+ua(Pl(Rt,Fn)+"%","0")+")",Ns="scale("+ua(Fn/100,"1")+")";di[Vt].style[qe.transformRule]=ts+" "+Ns}}function pa(Vt,on){return null===Vt||!1===Vt||void 0===Vt||("number"==typeof Vt&&(Vt=String(Vt)),!1!==(Vt=qe.format.from(Vt))&&(Vt=Zs.toStepping(Vt)),!1===Vt||isNaN(Vt))?ki[on]:Vt}function fa(Vt,on,Rt){var Mn=Cn(Vt),Fn=void 0===ki[0];on=void 0===on||on,qe.animate&&!Fn&&Zt(Qn,qe.cssClasses.tap,qe.animationDuration),Er.forEach(function(zn){Os(zn,pa(Mn[zn],zn),!0,!1,Rt)});var ts=1===Er.length?0:1;if(Fn&&Zs.hasNoSize()&&(Rt=!0,ki[0]=0,Er.length>1)){var Ns=100/(Er.length-1);Er.forEach(function(zn){ki[zn]=zn*Ns})}for(;ts<Er.length;++ts)Er.forEach(function(zn){Os(zn,ki[zn],!0,!0,Rt)});Bo(),Er.forEach(function(zn){ps("update",zn),null!==Mn[zn]&&on&&ps("set",zn)})}function Zo(Vt){if(void 0===Vt&&(Vt=!1),Vt)return 1===zi.length?zi[0]:zi.slice(0);var on=zi.map(qe.format.to);return 1===on.length?on[0]:on}function bo(Vt){var on=ki[Vt],Rt=Zs.getNearbySteps(on),Mn=zi[Vt],Fn=Rt.thisStep.step,ts=null;if(qe.snap)return[Mn-Rt.stepBefore.startValue||null,Rt.stepAfter.startValue-Mn||null];!1!==Fn&&Mn+Fn>Rt.stepAfter.startValue&&(Fn=Rt.stepAfter.startValue-Mn),ts=Mn>Rt.thisStep.startValue?Rt.thisStep.step:!1!==Rt.stepBefore.step&&Mn-Rt.stepBefore.highestStep,100===on?Fn=null:0===on&&(ts=null);var Ns=Zs.countStepDecimals();return null!==Fn&&!1!==Fn&&(Fn=Number(Fn.toFixed(Ns))),null!==ts&&!1!==ts&&(ts=Number(ts.toFixed(Ns))),[ts,Fn]}function fl(){for(;Gs.firstChild;)Gs.removeChild(Gs.firstChild);for(var Vt=0;Vt<=qe.handles;Vt++)di[Vt]=la(Gs,qe.connect[Vt]),Uo(Vt);ni({drag:qe.events.drag,fixed:!0})}!function ea(){Es=function Ye(Vt){return us(Vt,qe.cssClasses.target),us(Vt,0===qe.dir?qe.cssClasses.ltr:qe.cssClasses.rtl),us(Vt,0===qe.ort?qe.cssClasses.horizontal:qe.cssClasses.vertical),us(Vt,"rtl"===getComputedStyle(Vt).direction?qe.cssClasses.textDirectionRtl:qe.cssClasses.textDirectionLtr),hr(Vt,qe.cssClasses.base)}(Qn),function Ve(Vt,on){Gs=hr(on,qe.cssClasses.connects),Cs=[],(di=[]).push(la(Gs,Vt[0]));for(var Rt=0;Rt<qe.handles;Rt++)Cs.push(Gr(on,Rt)),Er[Rt]=Rt,di.push(la(Gs,Vt[Rt+1]))}(qe.connect,Es),ni(qe.events),fa(qe.start),qe.pips&&Jo(qe.pips),qe.tooltips&&Yn(),function cs(){po("update"+ft.aria),er("update"+ft.aria,function(Vt,on,Rt,Mn,Fn){Er.forEach(function(ts){var Ns=Cs[ts],zn=da(ki,ts,0,!0,!0,!0),yi=da(ki,ts,100,!0,!0,!0),Li=Fn[ts],tr=String(qe.ariaFormat.to(Rt[ts]));zn=Zs.fromStepping(zn).toFixed(1),yi=Zs.fromStepping(yi).toFixed(1),Li=Zs.fromStepping(Li).toFixed(1),Ns.children[0].setAttribute("aria-valuemin",zn),Ns.children[0].setAttribute("aria-valuemax",yi),Ns.children[0].setAttribute("aria-valuenow",Li),Ns.children[0].setAttribute("aria-valuetext",tr)})})}()}();var ta={destroy:function pl(){for(po(ft.aria),po(ft.tooltips),Object.keys(qe.cssClasses).forEach(function(Vt){Vs(Qn,qe.cssClasses[Vt])});Qn.firstChild;)Qn.removeChild(Qn.firstChild);delete Qn.noUiSlider},steps:function qo(){return Er.map(bo)},on:er,off:po,get:Zo,set:fa,setHandle:function Nr(Vt,on,Rt,Mn){if(!((Vt=Number(Vt))>=0&&Vt<Er.length))throw new Error("noUiSlider: invalid handle number, got: "+Vt);Os(Vt,pa(on,Vt),!0,!0,Mn),ps("update",Vt),Rt&&ps("set",Vt)},reset:function Rl(Vt){fa(qe.start,Vt)},disable:function yt(Vt){null!=Vt?(Cs[Vt].setAttribute("disabled",""),Cs[Vt].handle.removeAttribute("tabindex")):(Qn.setAttribute("disabled",""),Cs.forEach(function(on){on.handle.removeAttribute("tabindex")}))},enable:function zt(Vt){null!=Vt?(Cs[Vt].removeAttribute("disabled"),Cs[Vt].handle.setAttribute("tabindex","0")):(Qn.removeAttribute("disabled"),Cs.forEach(function(on){on.removeAttribute("disabled"),on.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Vt,on,Rt){ha(Vt,on,ki,Rt)},options:rt,updateOptions:function jo(Vt,on){var Rt=Zo(),Mn=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Mn.forEach(function(ts){void 0!==Vt[ts]&&(rt[ts]=Vt[ts])});var Fn=$i(rt);Mn.forEach(function(ts){void 0!==Vt[ts]&&(qe[ts]=Fn[ts])}),Zs=Fn.spectrum,qe.margin=Fn.margin,qe.limit=Fn.limit,qe.padding=Fn.padding,qe.pips?Jo(qe.pips):bi(),qe.tooltips?Yn():En(),ki=[],fa(ze(Vt.start)?Vt.start:Rt,on),Vt.connect&&fl()},target:Qn,removePips:bi,removeTooltips:En,getPositions:function(){return ki.slice()},getTooltips:function(){return ui},getOrigins:function(){return Cs},pips:Jo};return ta}class gn{to(qe){return String(parseFloat(parseFloat(String(qe)).toFixed(2)))}from(qe){return parseFloat(qe)}}let tn=(()=>{class et{constructor(rt,Nt,Bt){this.ngZone=rt,this.el=Nt,this.renderer=Bt,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(Tn,Qn,Es,Gs)=>{let Cs=this.toValues(Qn),di=!1;void 0!==this.value?(Array.isArray(Cs)&&this.value[Es]!=Cs[Es]&&(di=!0),!Array.isArray(Cs)&&this.value!=Cs&&(di=!0),di&&this.ngZone.run(()=>{Tn.observers.length>0&&Tn.emit(Cs),this.onChange(Cs)}),Array.isArray(Cs)?this.value[Es]=Cs[Es]:this.value=Cs):this.value=Cs},this.defaultKeyHandler=Tn=>{let ui,Qn=this.slider.steps(),Es=parseInt(Tn.target.getAttribute("data-handle")),Gs=1,Cs=1,di=0,Hi=0;switch(Tn.which){case 34:case 33:Cs=this.config.pageSteps;break;case 40:case 37:Gs=-1,di=Qn[Es][0],Tn.preventDefault();break;case 38:case 39:di=Qn[Es][1],Tn.preventDefault()}Hi=Gs*Cs*di,Array.isArray(this.value)?(ui=[...this.value],ui[Es]=ui[Es]+Hi):ui=this.value+Hi,this.slider.set(ui)}}ngOnChanges(rt){this.slider&&(rt.min||rt.max||rt.step||rt.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(rt){let Nt=rt.map(this.config.format.from);return 1==Nt.length?Nt[0]:Nt}writeValue(rt){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(rt)})}):null!==rt&&(this.value=rt,this.createSlider(rt))}registerOnChange(rt){this.onChange=rt}registerOnTouched(rt){}setDisabledState(rt){rt?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(rt){let Nt=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:rt,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(Nt.tooltips=this.tooltips||this.config.tooltips,Nt.format=this.format||this.config.format||new gn,this.ngZone.runOutsideAngular(()=>{this.slider=function Di(et,qe){if(!et||!et.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+et);if(et.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Nt=ao(et,$i(qe),qe);return et.noUiSlider=Nt,Nt}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,Nt))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Bt of this.handles){Bt.setAttribute("tabindex",0);const Tn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Bt,"keydown",Tn),this.renderer.listen(Bt,"click",()=>{Bt.focus()}))})}}this.slider.on("set",(Bt,Tn,Qn)=>{this.eventHandler(this.set,Bt,Tn,Qn)}),this.slider.on("update",(Bt,Tn,Qn)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Bt))})}),this.slider.on("change",(Bt,Tn,Qn)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Bt))})}),this.slider.on("slide",(Bt,Tn,Qn)=>{this.eventHandler(this.slide,Bt,Tn,Qn)}),this.slider.on("start",(Bt,Tn,Qn)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Bt))})}),this.slider.on("end",(Bt,Tn,Qn)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Bt))})})}}return et.\u0275fac=function(rt){return new(rt||et)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},et.\u0275cmp=t.VBU({type:et,selectors:[["nouislider"]],hostVars:2,hostBindings:function(rt,Nt){2&rt&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:z.kq,useExisting:(0,t.Rfq)(()=>et),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(rt,Nt){1&rt&&t.nrm(0,"div"),2&rt&&t.BMQ("disabled",!!Nt.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),et})();var bn=n(12866),Wn=n(56760),_s=n(56386);const oi=".min",Ci=".max",ar=et=>[et];function pi(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&et){const rt=t.XpG();t.Y8G("routerLink",t.eq3(6,ar,rt.searchLink))("queryParams",rt.changeQueryParams),t.R7$(2),t.JRh(rt.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,rt.filterValue.count))}}let lo=(()=>{class et{constructor(rt,Nt,Bt,Tn,Qn){this.searchService=rt,this.filterService=Nt,this.searchConfigService=Bt,this.router=Tn,this.paginationService=Qn}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,v.T)(rt=>!rt)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const rt=this.filterValue.value.split("-"),Nt=rt.length>1?Number(rt[0].trim()):this.filterValue.value,Bt=rt.length>1?Number(rt[1].trim()):this.filterValue.value,Tn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+oi]:[Nt],[this.filterConfig.paramName+Ci]:Bt===(new Date).getUTCFullYear()?null:[Bt],[Tn]:1}}ngOnDestroy(){(0,w.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(O.S),t.rXU(T.U),t.rXU(M.g),t.rXU(H.Ix),t.rXU(oe.m))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-right","filter-value-count","ml-auto"],[1,"badge","badge-secondary","badge-pill"]],template:function(Nt,Bt){1&Nt&&(t.DNE(0,pi,7,8,"a",0),t.nI1(1,"async")),2&Nt&&t.Y8G("ngIf",t.bMT(1,1,Bt.isVisible))},dependencies:[i.bT,H.Wk,i.Jj,de],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return et})();function eo(et,qe){if(1&et){const rt=t.RV6();t.qex(0),t.j41(1,"nouislider",11),t.bIt("change",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onSliderChange(Bt))})("keydown",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.startKeyboardControl())})("keyup",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.stopKeyboardControl())}),t.mxI("ngModelChange",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.DH7(Tn.range,Bt)||(Tn.range=Bt),t.Njj(Bt)}),t.k0s(),t.bVm()}if(2&et){const rt=t.XpG();t.R7$(),t.Y8G("connect",!0)("config",rt.config)("min",rt.min)("max",rt.max)("step",1)("dsDebounce",250),t.R50("ngModel",rt.range)}}function Lr(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-range-option",13),2&et){const rt=qe.$implicit,Nt=t.XpG(2);t.Y8G("filterConfig",Nt.filterConfig)("filterValue",rt)("inPlaceSearch",Nt.inPlaceSearch)}}function Io(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Lr,1,3,"ds-search-facet-range-option",12),t.k0s(),t.bVm()),2&et){const rt=qe.$implicit,Nt=t.XpG();t.R7$(),t.Y8G("@facetLoad",Nt.animationState),t.R7$(),t.Y8G("ngForOf",rt.page)("ngForTrackBy",Nt.trackUpdate)}}let co=(()=>{class et extends X{constructor(rt,Nt,Bt,Tn,Qn,Es,Gs,Cs){super(rt,Nt,Qn,Bt,Gs),this.searchService=rt,this.filterService=Nt,this.router=Bt,this.route=Tn,this.rdbs=Qn,this.translateService=Es,this.searchConfigService=Gs,this.platformId=Cs,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,bn.zX)(this.filterConfig.minValue)||this.min,this.max=(0,bn.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const rt=this.route.getQueryParameterValue(this.filterConfig.paramName+oi).pipe((0,f.Z)(void 0)),Nt=this.route.getQueryParameterValue(this.filterConfig.paramName+Ci).pipe((0,f.Z)(void 0));this.subs.push((0,m.z)([rt,Nt]).pipe((0,v.T)(([Bt,Tn])=>[(0,w.a4)(Bt)?Number(Bt):this.min,(0,w.a4)(Tn)?Number(Tn):this.max])).subscribe(Bt=>this.range=Bt)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(rt){this.sliderRange=rt}onSubmit(){if(this.keyboardControl)return;const rt=this.range[0]!==this.min?[this.range[0]]:null,Nt=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+oi]:rt,[this.filterConfig.paramName+Ci]:Nt},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(O.S),t.rXU(T.U),t.rXU(H.Ix),t.rXU(Wn.v$),t.rXU(U.o),t.rXU(l.c$),t.rXU(R.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:25,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","form-group","mb-0"],[1,"font-weight-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit",1,"sr-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(Nt,Bt){if(1&Nt){const Tn=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(Tn),t.Njj(Bt.onSubmit())}),t.j41(4,"div",3)(5,"label")(6,"span",4),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",5),t.mxI("ngModelChange",function(Es){return t.eBV(Tn),t.DH7(Bt.range[0],Es)||(Bt.range[0]=Es),t.Njj(Es)}),t.k0s()()(),t.j41(10,"div",6)(11,"label")(12,"span",4),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",5),t.mxI("ngModelChange",function(Es){return t.eBV(Tn),t.DH7(Bt.range[1],Es)||(Bt.range[1]=Es),t.Njj(Es)}),t.k0s()()(),t.j41(16,"button",7),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,eo,2,7,"ng-container",8)(20,Io,3,3,"ng-container",9),t.nI1(21,"async"),t.j41(22,"button",10),t.bIt("click",function(){return t.eBV(Tn),t.Njj(Bt.onSubmit())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()}2&Nt&&(t.R7$(2),t.Y8G("action",Bt.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,15,"search.filters.filter."+Bt.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Bt.range[0]),t.Y8G("name",Bt.filterConfig.paramName+".min")("placeholder",Bt.minLabel),t.BMQ("aria-label",Bt.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,17,"search.filters.filter."+Bt.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Bt.range[1]),t.Y8G("name",Bt.filterConfig.paramName+".max")("placeholder",Bt.maxLabel),t.BMQ("aria-label",Bt.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,19,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngIf",Bt.shouldShowSlider()),t.R7$(),t.Y8G("ngForOf",t.bMT(21,21,Bt.facetValues$)),t.R7$(3),t.SpI(" ",t.bMT(24,23,"search.filters.search.submit")," "))},dependencies:[z.YN,z.qT,z.me,z.BC,z.cb,z.vS,z.cV,i.bT,tn,_s.R,i.pM,lo,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[J]}})}}return et})();function kr(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const rt=qe.$implicit,Nt=t.XpG();t.Y8G("selectedValue",rt)("filterConfig",Nt.filterConfig)("inPlaceSearch",Nt.inPlaceSearch)}}function uo(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const rt=qe.$implicit,Nt=t.XpG(2);t.Y8G("filterConfig",Nt.filterConfig)("filterValue",rt)("inPlaceSearch",Nt.inPlaceSearch)}}function wi(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,uo,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const rt=qe.$implicit,Nt=t.XpG();t.R7$(),t.Y8G("@facetLoad",Nt.animationState),t.R7$(),t.Y8G("ngForOf",rt.page)("ngForTrackBy",Nt.trackUpdate)}}function Lo(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function lr(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Hr(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.DH7(Tn.filter,Bt)||(Tn.filter=Bt),t.Njj(Bt)}),t.bIt("submitSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onSubmit(Bt))})("clickSuggestion",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.onClick(Bt))})("findSuggestions",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.findSuggestions(Bt))}),t.k0s()}if(2&et){const rt=t.XpG();t.Y8G("suggestions",t.bMT(1,6,rt.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+rt.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+rt.filterConfig.name+".label"))("action",rt.currentUrl)("name",rt.filterConfig.paramName),t.R50("ngModel",rt.filter)}}let xs=(()=>{class et extends X{onSubmit(rt){super.onSubmit((0,le.mq)(rt,"query"))}static{this.\u0275fac=(()=>{let rt;return function(Bt){return(rt||(rt=t.xGo(et)))(Bt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Nt,Bt){1&Nt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,kr,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,wi,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Lo,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,lr,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Hr,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Nt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Bt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Bt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Bt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Bt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Bt.isAvailableForShowSearchText)))},dependencies:[i.pM,mt,re,i.bT,Z.H,z.YN,z.me,z.BC,z.vS,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return et})();const to=new Map;function ho(et,qe){}to.set(Y.R.text,xs),to.set(Y.R.authority,We),to.set(Y.R.boolean,Be),to.set(Y.R.hierarchy,Qt),to.set(Y.R.range,co);let zo=(()=>{class et extends q.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function Tr(et){return to.get(et)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let rt;return function(Bt){return(rt||(rt=t.xGo(et)))(Bt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Nt,Bt){1&Nt&&t.DNE(0,ho,0,0,"ng-template",1,0,t.C5r)},dependencies:[Q.z],encapsulation:2})}}return et})(),vo=(()=>{class et{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(Nt){return new(Nt||et)}}static{this.\u0275prov=t.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}}return et})();const zr=et=>({focus:et}),yo=(et,qe)=>({closed:et,notab:qe});function Yo(et,qe){if(1&et){const rt=t.RV6();t.j41(0,"div",1)(1,"button",2),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.toggle())})("focusin",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.focusBox=!0)})("focusout",function(){t.eBV(rt);const Bt=t.XpG();return t.Njj(Bt.focusBox=!1)}),t.j41(8,"span",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",4),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",5),t.nI1(16,"async"),t.bIt("@slide.start",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.startSlide(Bt))})("@slide.done",function(Bt){t.eBV(rt);const Tn=t.XpG();return t.Njj(Tn.finishSlide(Bt))}),t.nrm(17,"ds-search-facet-filter-wrapper",6),t.k0s()()}if(2&et){const rt=t.XpG();t.Y8G("id",rt.regionId)("ngClass",t.eq3(39,zr,rt.focusBox)),t.BMQ("aria-labelledby",rt.toggleId),t.R7$(),t.Y8G("id",rt.toggleId),t.BMQ("aria-controls",rt.regionId)("aria-expanded",!0!==t.bMT(2,17,rt.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,rt.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+rt.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+rt.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,rt.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,rt.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,rt.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,yo,rt.closed,rt.notab)),t.R7$(2),t.Y8G("scope",rt.scope)("filterConfig",rt.filter)("inPlaceSearch",rt.inPlaceSearch)("refreshFilters",rt.refreshFilters)}}let Ea=(()=>{class et{constructor(rt,Nt,Bt,Tn){this.filterService=rt,this.searchService=Nt,this.searchConfigService=Bt,this.sequenceService=Tn,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(rt=>{(0,w.hj)(rt)&&this.filterService.expand(this.filter.name)}),this.getIsActive().pipe((0,D.s)(1)).subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(rt=>rt.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(rt){"collapsed"===rt.fromState&&(this.closed=!1),"collapsed"===rt.toState&&(this.notab=!0)}startSlide(rt){"collapsed"===rt.toState&&(this.closed=!0),"collapsed"===rt.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,f.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,h.n)(([rt,Nt,Bt])=>(0,w.hj)(rt.filter(Tn=>V.includes(Tn.operator)))?(0,_.of)(!0):((0,w.a4)(Bt)&&(Nt.scope=Bt),this.searchService.getFacetValuesFor(this.filter,1,Nt).pipe((0,y.p)(Tn=>!Tn.isLoading),(0,v.T)(Tn=>Tn.payload?.totalElements>0)))))}static{this.\u0275fac=function(Nt){return new(Nt||et)(t.rXU(T.U),t.rXU(O.S),t.rXU(R.EN),t.rXU(vo))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-left","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(Nt,Bt){1&Nt&&(t.DNE(0,Yo,18,44,"div",0),t.nI1(1,"async")),2&Nt&&t.Y8G("ngIf",t.bMT(1,1,Bt.active$))},dependencies:[i.bT,i.YU,zo,i.Jj,i.GH,l.h,l.D9,C.L],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[u.M6]}})}}return et})()},1903:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFiltersComponent:()=>B});var i=n(60177),t=n(7901),l=n(41780),e=n(72234),f=n(96354),m=n(82640),h=n(78655),y=(n(39012),n(15465)),v=n(13955),D=n(30506),O=n(86868),M=n(54438);const T=(U,W)=>W.name,R=U=>[U];function u(U,W){if(1&U&&(M.j41(0,"h3"),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&U){const j=M.XpG();M.R7$(),M.JRh(M.bMT(2,1,j.filterLabel+".filters.head"))}}function w(U,W){if(1&U&&(M.j41(0,"h2"),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&U){const j=M.XpG();M.R7$(),M.JRh(M.bMT(2,1,j.filterLabel+".filters.head"))}}function C(U,W){if(1&U){const j=M.RV6();M.j41(0,"ds-search-filter",4),M.bIt("isVisibilityComputed",function(H){M.eBV(j);const V=M.XpG(2);return M.Njj(V.countFiltersWithComputedVisibility(H))}),M.k0s()}if(2&U){const j=W.$implicit,G=M.XpG(2);M.Y8G("scope",G.currentScope)("filter",j)("inPlaceSearch",G.inPlaceSearch)("refreshFilters",G.refreshFilters)}}function S(U,W){if(1&U&&(M.j41(0,"div"),M.nI1(1,"async"),M.Z7z(2,C,1,4,"ds-search-filter",3,T),M.nI1(4,"async"),M.k0s()),2&U){let j,G;const H=M.XpG();M.AVh("visually-hidden",H.filtersWithComputedVisibility!==(null==(j=M.bMT(1,2,H.filters))||null==j.payload?null:j.payload.length)),M.R7$(2),M.Dyx(null==(G=M.bMT(4,4,H.filters))?null:G.payload)}}function I(U,W){if(1&U&&M.nrm(0,"ngx-skeleton-loader",1),2&U){const j=M.XpG();M.Y8G("count",j.defaultFilterCount)}}function L(U,W){if(1&U){const j=M.RV6();M.j41(0,"button",5),M.nI1(1,"async"),M.bIt("click",function(){M.eBV(j);const H=M.XpG();return M.Njj(H.minimizeFilters())}),M.nrm(2,"i",6),M.EFF(3),M.nI1(4,"translate"),M.k0s()}if(2&U){const j=M.XpG();M.Y8G("routerLink",M.eq3(7,R,j.searchLink))("queryParams",M.bMT(1,3,j.clearParams)),M.R7$(3),M.SpI(" ",M.bMT(4,5,"search.filters.reset")," ")}}let B=(()=>{class U{constructor(j,G,H,V,X){this.searchService=j,this.searchFilterService=G,this.router=H,this.searchConfigService=V,this.appConfig=X,this.appliedFilters=new Map,this.filtersWithComputedVisibility=0,this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,f.T)(j=>(Object.keys(j).forEach(G=>j[G]=null),j))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,D.N)(this.router):this.searchService.getSearchLink()}trackUpdate(j,G){return G?G.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(j){j&&(this.filtersWithComputedVisibility+=1)}static{this.\u0275fac=function(G){return new(G||U)(M.rXU(h.S),M.rXU(y.U),M.rXU(t.Ix),M.rXU(v.EN),M.rXU(m.vQ))}}static{this.\u0275cmp=M.VBU({type:U,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[M.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(G,H){if(1&G&&(M.DNE(0,u,3,3,"h3")(1,w,3,3)(2,S,5,6,"div",0),M.nI1(3,"async"),M.DNE(4,I,1,1,"ngx-skeleton-loader",1),M.nI1(5,"async"),M.DNE(6,L,5,9,"button",2)),2&G){let V,X;M.vxM(0,H.inPlaceSearch?0:1),M.R7$(2),M.vxM(2,null!=(V=M.bMT(3,4,H.filters))&&V.hasSucceeded?2:-1),M.R7$(2),M.vxM(4,H.filtersWithComputedVisibility!==(null==(X=M.bMT(5,6,H.filters))||null==X.payload?null:X.payload.length)?4:-1),M.R7$(2),M.vxM(6,H.inPlaceSearch?6:-1)}},dependencies:[O.a,t.Wk,i.Jj,l.h,l.D9,e.Yq,e.Zm],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return U})()},75575:(N,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(8886),l=(n(1903),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(y){return n(64565)(`./${y}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1903))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},55366:(N,b,n)=>{"use strict";n.d(b,{L:()=>V});var i=n(60177),t=n(78655),l=n(22924),e=n(92827),m=(n(15641),n(82777)),h=n(81569),_=n(7901),y=n(41780),v=n(22978),D=n(39012),O=n(15465),M=n(30506),T=n(54438);const R=(X,J)=>({type:X,value:J}),u=X=>({default:X});let w=(()=>{class X{constructor(q,Q,Y,z,Z){this.paginationService=q,this.router=Q,this.searchConfigurationService=Y,this.searchService=z,this.searchFilterService=Z}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,M.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Q){return new(Q||X)(T.rXU(v.m),T.rXU(_.Ix),T.rXU(D.g),T.rXU(t.S),T.rXU(O.U))}}static{this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:12,vars:25,consts:[[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Q,Y){1&Q&&(T.j41(0,"a",0),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){return Y.searchFilterService.minimizeAll()}),T.j41(4,"span",1)(5,"span",2),T.EFF(6),T.nI1(7,"translate"),T.nI1(8,"translate"),T.nI1(9,"translate"),T.k0s(),T.j41(10,"span",3),T.EFF(11,"\xd7"),T.k0s()()()),2&Q&&(T.Y8G("routerLink",Y.searchLink)("queryParams",T.bMT(1,6,Y.removeParameters$)),T.BMQ("aria-label",T.i5U(3,10,"search.filters.remove",T.l_i(20,R,T.bMT(2,8,"search.filters.applied.f."+Y.appliedFilter.filter),Y.appliedFilter.label))),T.R7$(6),T.E5c("",T.bMT(7,13,"search.filters.applied.f."+Y.appliedFilter.filter),"",T.bMT(8,15,"search.filters.applied.operator."+Y.appliedFilter.operator),": ",T.i5U(9,17,"search.filters."+Y.appliedFilter.filter+"."+Y.appliedFilter.label,T.eq3(23,u,Y.appliedFilter.label)),""))},dependencies:[_.Wk,i.Jj,y.h,y.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return X})();const C=(X,J)=>({type:X,value:J});function S(X,J){if(1&X){const q=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(q);const Y=T.XpG();return T.Njj(Y.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&X){const q=T.XpG();T.Y8G("routerLink",q.searchLink)("queryParams",T.bMT(1,5,q.removeParametersMin$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,C,T.bMT(2,7,"search.filters.applied.f."+q.appliedFilter.filter+".min"),q.min))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+q.appliedFilter.filter+".min"),": ",q.min,"")}}function I(X,J){if(1&X){const q=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(q);const Y=T.XpG();return T.Njj(Y.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&X){const q=T.XpG();T.Y8G("routerLink",q.searchLink)("queryParams",T.bMT(1,5,q.removeParametersMax$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,C,T.bMT(2,7,"search.filters.applied.f."+q.appliedFilter.filter+".max"),q.max))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+q.appliedFilter.filter+".max"),": ",q.max,"")}}let L=(()=>{class X{constructor(q,Q,Y,z,Z){this.paginationService=q,this.router=Q,this.searchConfigurationService=Y,this.searchService=z,this.searchFilterService=Z}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(q,Q,Y){return this.searchConfigurationService.unselectAppliedFilterParams(q,Q,Y)}getSearchLink(){return this.inPlaceSearch?(0,M.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Q){return new(Q||X)(T.rXU(v.m),T.rXU(_.Ix),T.rXU(D.g),T.rXU(t.S),T.rXU(O.U))}}static{this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:2,vars:2,consts:[["class","badge badge-primary",3,"routerLink","queryParams","click",4,"ngIf"],[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Q,Y){1&Q&&T.DNE(0,S,10,17,"a",0)(1,I,10,17,"a",0),2&Q&&(T.Y8G("ngIf","*"!==Y.min),T.R7$(),T.Y8G("ngIf","*"!==Y.max))},dependencies:[i.Jj,i.bT,_.Wk,y.h,y.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return X})();const B=void 0,U=new Map([[B,new Map([[h.SS,w]])],["range",new Map([[h.SS,L]])]]);function j(X,J){}let G=(()=>{class X extends l.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function W(X,J){let q=U.get(X);(0,m.Tn)(q)&&(q=U.get(B));const Q=q.get(J);return(0,m.Tn)(Q)?q.get(h.SS):Q}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let q;return function(Y){return(q||(q=T.xGo(X)))(Y||X)}})()}static{this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.Vt3,T.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Q,Y){1&Q&&T.DNE(0,j,0,0,"ng-template",1,0,T.C5r)},dependencies:[e.z],encapsulation:2})}}return X})();function H(X,J){if(1&X&&T.nrm(0,"ds-search-label-loader",2),2&X){const q=J.$implicit,Q=T.XpG();T.Y8G("appliedFilter",q)("inPlaceSearch",Q.inPlaceSearch)}}let V=(()=>{class X{constructor(q){this.searchService=q}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(Q){return new(Q||X)(T.rXU(t.S))}}static{this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[T.aNF],decls:3,vars:3,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch",4,"ngFor","ngForOf"],[3,"appliedFilter","inPlaceSearch"]],template:function(Q,Y){1&Q&&(T.j41(0,"div",0),T.DNE(1,H,1,2,"ds-search-label-loader",1),T.nI1(2,"async"),T.k0s()),2&Q&&(T.R7$(),T.Y8G("ngForOf",T.bMT(2,1,Y.appliedFilters$)))},dependencies:[i.pM,i.Jj,G],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return X})()},43280:(N,b,n)=>{"use strict";n.d(b,{L:()=>C});var i=n(3e3),t=n(40887),l=n(6041),e=n(10046),f=n(88318),m=n(25567),h=n(91581),_=n(78416),y=n(27605),v=n(34532),D=n(77537),O=n(17132),M=n(27442),T=n(24205),R=n(38786),u=n(95010);const w=new Map([[i.a,t.o],[_.T,v.y],[y.k,T.d],[l.p,D.A],[e.E,O.L],[f.q,M.H],[m.t,R.q],[h.F,u.I]]);function C(S){return w.get(S)}},84081:(N,b,n)=>{"use strict";n.d(b,{b:()=>O});var i=n(60177),t=n(72234),l=n(78655),e=n(78448),f=n(82777),m=n(54438);function h(M,T){1&M&&(m.j41(0,"div",4)(1,"div",8),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function _(M,T){if(1&M&&(m.j41(0,"div",3),m.DNE(1,h,3,0,"div",4),m.j41(2,"div")(3,"div",5),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",6),m.nrm(6,"ngx-skeleton-loader",7),m.k0s()()()),2&M){const R=T.$index,u=m.XpG(2);m.AVh("my-4",0!==R),m.R7$(),m.vxM(1,u.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",u.showThumbnails)("col-md-10",u.showThumbnails)("col-md-12",!u.showThumbnails),m.R7$(4),m.Y8G("count",u.textLineCount)}}function y(M,T){if(1&M&&m.Z7z(0,_,7,10,"div",2,m.fX1),2&M){const R=m.XpG();m.Dyx(R.loadingResults)}}function v(M,T){1&M&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function D(M,T){if(1&M&&(m.j41(0,"div",9),m.Z7z(1,v,3,0,"div",10,m.fX1),m.k0s()),2&M){const R=m.XpG();m.R7$(),m.Dyx(R.loadingResults)}}let O=(()=>{class M{constructor(R){this.searchService=R,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(R,u)=>u+1),(0,f.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(u){return new(u||M)(m.rXU(l.S))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-columns","row"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(u,w){1&u&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,y,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,D,3,0)),2&u&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,w.viewMode$)===w.ViewMode.ListElement),m.R7$(3),m.vxM(4,m.bMT(5,5,w.viewMode$)===w.ViewMode.ListElement?4:m.bMT(6,7,w.viewMode$)===w.ViewMode.GridElement?7:-1))},dependencies:[t.Yq,t.Zm,i.Jj],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return M})()},42837:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchResultsComponent:()=>X});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(72234),y=(n(6238),n(1716),n(26292),n(78655)),v=n(39012),O=(n(78448),n(50332)),M=n(82777),T=n(79632),u=(n(7581),n(67560)),C=(n(33550),n(53009)),S=n(84081);const I=()=>["/search"],L=J=>({query:J});function B(J,q){if(1&J&&(t.j41(0,"div",0)(1,"div",6)(2,"div",7)(3,"div",8),t.nrm(4,"ngx-skeleton-loader",9),t.nI1(5,"async"),t.k0s()()()()),2&J){const Q=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,Q.activeFilters$).length)}}function U(J,q){if(1&J&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&J){const Q=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,Q.configuration?Q.configuration+".search.results.head":"search.results.head"))}}function W(J,q){if(1&J&&t.nrm(0,"ds-search-export-csv",10),2&J){const Q=t.XpG();t.Y8G("searchConfig",Q.searchConfig)}}function j(J,q){if(1&J){const Q=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",11),t.bIt("contentChange",function(z){t.eBV(Q);const Z=t.XpG();return t.Njj(Z.contentChange.emit(z))})("deselectObject",function(z){t.eBV(Q);const Z=t.XpG();return t.Njj(Z.deselectObject.emit(z))})("selectObject",function(z){t.eBV(Q);const Z=t.XpG();return t.Njj(Z.selectObject.emit(z))}),t.k0s()()}if(2&J){const Q=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",Q.searchConfig.pagination)("sortConfig",Q.searchConfig.sort)("objects",Q.searchResults)("hideGear",!0)("selectable",Q.selectable)("selectionConfig",Q.selectionConfig)("linkType",Q.linkType)("context",Q.context)("hidePaginationDetail",Q.hidePaginationDetail)("showThumbnails",Q.showThumbnails)}}function G(J,q){if(1&J&&t.nrm(0,"ds-search-results-skeleton",12),2&J){const Q=t.XpG();t.Y8G("showThumbnails",Q.showThumbnails)("numberOfResults",Q.searchConfig.pagination.pageSize)}}function H(J,q){if(1&J&&(t.nrm(0,"ds-error",13),t.nI1(1,"translate")),2&J){const Q=t.XpG();t.FS9("message",t.bMT(1,1,Q.errorMessageLabel()))}}function V(J,q){if(1&J&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",14),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&J){const Q=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,I))("queryParams",t.eq3(9,L,Q.surroundStringWithQuotes(null==Q.searchConfig?null:Q.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let X=(()=>{class J{constructor(Q,Y){this.searchConfigService=Q,this.searchService=Y,this.hasNoValue=M.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,M.Tn)(this.searchResults)||(0,M.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(Q){let Y=Q;return(0,M.hj)(Y)&&!(Y.startsWith('"')&&Y.endsWith('"'))&&(Y=`"${Y}"`),Y}static{this.\u0275fac=function(Y){return new(Y||J)(t.rXU(v.g),t.rXU(y.S))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"showThumbnails","numberOfResults",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"searchConfig"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],[3,"showThumbnails","numberOfResults"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(Y,z){1&Y&&(t.DNE(0,B,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,U,3,3,"h1",2)(5,W,1,1,"ds-search-export-csv",3),t.k0s(),t.DNE(6,j,2,11,"div",2)(7,G,1,2,"ds-search-results-skeleton",4)(8,H,2,3,"ds-error",5)(9,V,6,11,"div",2)),2&Y&&(t.vxM(0,t.bMT(1,7,z.activeFilters$).length>0&&0===t.bMT(2,9,z.appliedFilters$).length?0:-1),t.R7$(4),t.Y8G("ngIf",!z.disableHeader),t.R7$(),t.Y8G("ngIf",z.showCsvExport),t.R7$(),t.Y8G("ngIf",z.searchResults&&(null==z.searchResults?null:z.searchResults.hasSucceeded)&&!(null!=z.searchResults&&z.searchResults.isLoading)&&(null==z.searchResults||null==z.searchResults.payload?null:z.searchResults.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",z.isLoading()),t.R7$(),t.Y8G("ngIf",z.showError()),t.R7$(),t.Y8G("ngIf",0===(null==z.searchResults||null==z.searchResults.payload?null:z.searchResults.payload.page.length)||400===(null==z.searchResults?null:z.searchResults.statusCode)))},dependencies:[i.Jj,T.A,i.bT,f.Yq,f.Zm,u.h,l.Wk,C.w,S.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[O.qG,O.Ws]}})}}return J})()},14131:(N,b,n)=>{"use strict";n.d(b,{N:()=>O});var i=n(54438),h=(n(6238),n(1716),n(26292),n(78448),n(7581),n(8886));n(33550),n(42837);const v=["*"];function D(M,T){}let O=(()=>{class M extends h.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(R){return n(18527)(`./${R}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42837))}static{this.\u0275fac=(()=>{let R;return function(w){return(R||(R=i.xGo(M)))(w||M)}})()}static{this.\u0275cmp=i.VBU({type:M,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:v,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(i.NAR(),i.DNE(0,D,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return M})()},93125:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSettingsComponent:()=>M});var i=n(60177),t=n(89417),l=n(41780),f=(n(6238),n(22978)),h=(n(39012),n(13955)),_=n(46580),y=n(80270),v=n(54438);function D(T,R){if(1&T&&(v.j41(0,"option",4),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const u=R.$implicit,w=v.XpG(2);v.Y8G("value",u.field+","+u.direction.toString())("selected",u.field===(null==w.currentSortOption?null:w.currentSortOption.field)&&u.direction===(null==w.currentSortOption?null:w.currentSortOption.direction)?"selected":null),v.R7$(),v.SpI(" ",v.bMT(2,3,"sorting."+u.field+"."+u.direction)," ")}}function O(T,R){if(1&T){const u=v.RV6();v.j41(0,"ds-sidebar-dropdown",2),v.bIt("changed",function(C){v.eBV(u);const S=v.XpG();return v.Njj(S.reloadOrder(C))}),v.DNE(1,D,3,5,"option",3),v.k0s()}if(2&T){const u=v.XpG();v.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),v.R7$(),v.Y8G("ngForOf",u.sortOptionsList)}}let M=(()=>{class T{constructor(u,w){this.paginationService=u,this.searchConfigurationService=w}reloadOrder(u){const w=u.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:w[0],sortDirection:w[1],page:1})}static{this.\u0275fac=function(w){return new(w||T)(v.rXU(f.m),v.rXU(h.EN))}}static{this.\u0275cmp=v.VBU({type:T,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[v.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","changed",4,"ngIf"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(w,C){1&w&&(v.qex(0),v.j41(1,"h3"),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"div",0),v.DNE(5,O,2,3,"ds-sidebar-dropdown",1),v.k0s(),v.nrm(6,"ds-page-size-selector"),v.bVm()),2&w&&(v.R7$(2),v.JRh(v.bMT(3,2,"search.sidebar.settings.title")),v.R7$(3),v.Y8G("ngIf",C.sortOptionsList))},dependencies:[i.bT,y.v,i.pM,t.YN,t.xH,t.y7,_.b,l.h,l.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return T})()},1669:(N,b,n)=>{"use strict";n.d(b,{_:()=>h}),n(6238);var t=n(8886),e=(n(93125),n(54438));const f=["*"];function m(_,y){}let h=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(v){return n(60911)(`./${v}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,93125))}static{this.\u0275fac=(()=>{let v;return function(O){return(v||(v=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(D,O){1&D&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},9897:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSidebarComponent:()=>C});var i=n(60177),t=n(54438),l=n(41780),e=n(96354),f=n(82640),h=(n(6238),n(39012)),_=n(35538),y=n(77909),D=(n(33550),n(75575)),O=n(1669),M=n(32541);function T(S,I){if(1&S){const L=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(U){t.eBV(L);const W=t.XpG();return t.Njj(W.changeViewMode.emit(U))}),t.k0s()}if(2&S){const L=t.XpG();t.Y8G("viewModeList",L.viewModeList)}}function R(S,I){if(1&S){const L=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(U){t.eBV(L);const W=t.XpG();return t.Njj(W.changeConfiguration.emit(U))}),t.k0s()}if(2&S){const L=t.XpG();t.Y8G("configurationList",L.configurationList)("defaultConfiguration",L.configuration)("inPlaceSearch",L.inPlaceSearch)}}function u(S,I){if(1&S&&(t.nrm(0,"ds-advanced-search",13),t.nI1(1,"async")),2&S){let L;const B=t.XpG();t.Y8G("configuration",B.configuration)("filtersConfig",null==(L=t.bMT(1,3,B.filters))?null:L.payload)("scope",B.currentScope)}}function w(S,I){if(1&S&&t.nrm(0,"ds-search-settings",14),2&S){const L=t.XpG();t.Y8G("currentSortOption",L.currentSortOption)("sortOptionsList",L.sortOptionsList)}}let C=(()=>{class S{constructor(L,B){this.appConfig=L,this.searchConfigurationService=B,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(L=>this.appConfig.search.advancedFilters.enabled&&L.length>0))}static{this.\u0275fac=function(B){return new(B||S)(t.rXU(f.vQ),t.rXU(h.g))}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-right","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope",4,"ngIf"],[3,"currentSortOption","sortOptionsList",4,"ngIf"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"]],template:function(B,U){1&B&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return U.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,T,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,R,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,u,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,w,1,2,"ds-search-settings",10),t.k0s()()()),2&B&&(t.R7$(3),t.Lme("",U.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.Y8G("ngIf",U.showViewModes),t.R7$(2),t.Y8G("ngIf",U.configurationList),t.R7$(),t.Y8G("currentScope",U.currentScope)("currentConfiguration",U.configuration)("filters",U.filters)("refreshFilters",U.refreshFilters)("inPlaceSearch",U.inPlaceSearch),t.R7$(),t.Y8G("ngIf",U.inPlaceSearch&&!0===t.bMT(16,19,U.showAdvancedSearch$)),t.R7$(2),t.Y8G("ngIf",U.inPlaceSearch))},dependencies:[i.bT,_.g,M.o,D.k,O._,l.h,l.D9,y.Q,i.Jj],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return S})()},79443:(N,b,n)=>{"use strict";n.d(b,{p:()=>_});var i=n(54438),l=(n(6238),n(8886));n(33550),n(9897);const m=["*"];function h(y,v){}let _=(()=>{class y extends l.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(D){return n(98587)(`./${D}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9897))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=i.xGo(y)))(M||y)}})()}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return y})()},32541:(N,b,n)=>{"use strict";n.d(b,{o:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(48376),m=n.n(f),h=n(78655),y=(n(39012),n(13955)),v=n(82777),D=n(30506),O=n(7901);function M(u,w){if(1&u&&(t.j41(0,"option",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&u){const C=w.$implicit;t.Y8G("ngValue",C),t.R7$(),t.SpI(" ",t.bMT(2,2,C.label)," ")}}function T(u,w){if(1&u){const C=t.RV6();t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"select",3),t.mxI("ngModelChange",function(I){t.eBV(C);const L=t.XpG();return t.DH7(L.selectedOption,I)||(L.selectedOption=I),t.Njj(I)}),t.bIt("change",function(){t.eBV(C);const I=t.XpG();return t.Njj(I.onSelect())}),t.DNE(5,M,3,4,"option",4),t.k0s()()}if(2&u){const C=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"search.switch-configuration.title")),t.R7$(2),t.Y8G("compareWith",C.compare),t.R50("ngModel",C.selectedOption),t.R7$(),t.Y8G("ngForOf",C.configurationList)}}let R=(()=>{class u{constructor(C,S,I){this.router=C,this.searchService=S,this.searchConfigService=I,this.configurationList=[],this.changeConfiguration=new t.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(C=>{const S=m()(this.configurationList,{value:C});this.selectedOption=this.configurationList[S]})}onSelect(){const C={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),C)}compare(C,S){return C===S}ngOnDestroy(){(0,v.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,D.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(S){return new(S||u)(t.rXU(O.Ix),t.rXU(h.S),t.rXU(y.EN))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-control",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(S,I){1&S&&t.DNE(0,T,6,6,"div",0),2&S&&t.Y8G("ngIf",(null==I.configurationList?null:I.configurationList.length)>1)},dependencies:[i.bT,l.YN,l.xH,l.y7,l.wz,l.BC,l.vS,i.pM,e.h,e.D9]})}}return u})()},77766:(N,b,n)=>{"use strict";n.r(b),n.d(b,{SearchComponent:()=>Be});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(59519),m=n.n(f),h=n(84412),_=n(84572),y=n(23294),v=n(96354),D=n(25558),O=n(5964),M=n(70152),T=n(82640),R=n(88280),u=n(64611),w=n(54671),C=n(56760),S=n(26292),I=n(80183),L=n(78655),U=(n(39012),n(90887)),W=n(13955),j=n(10214),G=n(82777),H=n(57538),X=(n(7581),n(18016)),J=n(50919),q=n(52600),Q=n(67600),Y=n(30506),z=n(35538),Z=n(33550),oe=n(55366),se=n(14131),de=n(79443);const te=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],le=["[searchContentTop]","[additionalSearchOptions]"];function Ee(pt,dn){}function be(pt,dn){1&pt&&t.DNE(0,Ee,0,0,"ng-template")}function pe(pt,dn){if(1&pt&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,be,1,0,null,9),t.k0s()()()),2&pt){t.XpG();const an=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",an)}}function re(pt,dn){}function ye(pt,dn){1&pt&&t.DNE(0,re,0,0,"ng-template")}function De(pt,dn){if(1&pt&&(t.j41(0,"div"),t.DNE(1,ye,1,0,null,9),t.k0s()),2&pt){t.XpG();const an=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",an)}}function nt(pt,dn){}function mt(pt,dn){1&pt&&t.DNE(0,nt,0,0,"ng-template")}function xe(pt,dn){if(1&pt&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,mt,1,0,null,9),t.k0s()),2&pt){const an=t.XpG(),In=t.sdS(7),Tt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",an.sideBarWidth)("sidebarContent",Tt),t.R7$(),t.Y8G("ngTemplateOutlet",In)}}function ot(pt,dn){}function $e(pt,dn){1&pt&&t.DNE(0,ot,0,0,"ng-template")}function Fe(pt,dn){if(1&pt&&(t.qex(0),t.DNE(1,$e,1,0,null,9),t.bVm()),2&pt){t.XpG(3);const an=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",an)}}function st(pt,dn){if(1&pt&&(t.j41(0,"div",8),t.DNE(1,Fe,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&pt){const an=t.XpG(2);t.R7$(),t.Y8G("ngIf",an.searchEnabled)}}function Ie(pt,dn){if(1&pt&&t.nrm(0,"ds-view-mode-switch",18),2&pt){const an=t.XpG(2);t.Y8G("viewModeList",an.viewModeList)("inPlaceSearch",an.inPlaceSearch)}}function We(pt,dn){if(1&pt){const an=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(Tt){t.eBV(an);const Wt=t.XpG(2);return t.Njj(Wt.onContentChange(Tt))})("deselectObject",function(Tt){t.eBV(an);const Wt=t.XpG(2);return t.Njj(Wt.deselectObject.emit(Tt))})("selectObject",function(Tt){t.eBV(an);const Wt=t.XpG(2);return t.Njj(Wt.selectObject.emit(Tt))}),t.k0s()}if(2&pt){const an=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,an.resultsRD$))("searchConfig",t.bMT(2,12,an.searchOptions$))("configuration",t.bMT(3,14,an.currentConfiguration$))("disableHeader",!an.searchEnabled)("linkType",an.linkType)("context",t.bMT(4,16,an.currentContext$))("selectable",an.selectable)("selectionConfig",an.selectionConfig)("showCsvExport",an.showCsvExport)("showThumbnails",an.showThumbnails)}}function Dt(pt,dn){if(1&pt){const an=t.RV6();t.j41(0,"div",7),t.DNE(1,st,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Ie,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(an);const Tt=t.XpG();return t.Njj(Tt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,We,5,18,"ds-search-results",17),t.k0s()()}if(2&pt){const an=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,an.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",an.inPlaceSearch&&an.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",an.inPlaceSearch)}}function kt(pt,dn){if(1&pt){const an=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(Tt){t.eBV(an);const Wt=t.XpG(2);return t.Njj(Wt.changeContext(Tt.context))})("changeViewMode",function(){t.eBV(an);const Tt=t.XpG(2);return t.Njj(Tt.changeViewMode())}),t.k0s()}if(2&pt){let an;const In=t.XpG(2);t.Y8G("configurationList",In.configurationList)("configuration",t.bMT(1,12,In.currentConfiguration$))("currentScope",t.bMT(2,14,In.currentScope$))("filters",In.filtersRD$.asObservable())("refreshFilters",In.refreshFilters)("resultCount",null==(an=t.bMT(3,16,In.resultsRD$))||null==an.payload?null:an.payload.totalElements)("searchOptions",t.bMT(4,18,In.searchOptions$))("sortOptionsList",t.bMT(5,20,In.sortOptionsList$))("currentSortOption",t.bMT(6,22,In.currentSortOptions$))("inPlaceSearch",In.inPlaceSearch)("viewModeList",In.viewModeList)("showViewModes",In.showViewModes)}}function ct(pt,dn){if(1&pt){const an=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(an);const Tt=t.XpG(2);return t.Njj(Tt.closeSidebar())})("changeConfiguration",function(Tt){t.eBV(an);const Wt=t.XpG(2);return t.Njj(Wt.changeContext(Tt.context))})("changeViewMode",function(){t.eBV(an);const Tt=t.XpG(2);return t.Njj(Tt.changeViewMode())}),t.k0s()}if(2&pt){let an;const In=t.XpG(2);t.Y8G("configurationList",In.configurationList)("configuration",t.bMT(1,12,In.currentConfiguration$))("currentScope",t.bMT(2,14,In.currentScope$))("filters",In.filtersRD$.asObservable())("refreshFilters",In.refreshFilters)("resultCount",null==(an=t.bMT(3,16,In.resultsRD$))||null==an.payload?null:an.payload.totalElements)("searchOptions",t.bMT(4,18,In.searchOptions$))("sortOptionsList",t.bMT(5,20,In.sortOptionsList$))("currentSortOption",t.bMT(6,22,In.currentSortOptions$))("inPlaceSearch",In.inPlaceSearch)("viewModeList",In.viewModeList)("showViewModes",In.showViewModes)}}function Ot(pt,dn){if(1&pt&&(t.DNE(0,kt,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,ct,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&pt){const an=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,an.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,an.isXsOrSm$))}}function ve(pt,dn){if(1&pt&&(t.nrm(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()),2&pt){let an,In;const Tt=t.XpG();t.Y8G("query",null==(an=t.bMT(1,8,Tt.searchOptions$))?null:an.query)("scope",null==(In=t.bMT(2,10,Tt.searchOptions$))?null:In.scope)("hideScopeInUrl",Tt.hideScopeInUrl)("currentUrl",Tt.searchLink)("showScopeSelector",Tt.showScopeSelector)("inPlaceSearch",Tt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,Tt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",Tt.inPlaceSearch)}}let Be=(()=>{class pt{constructor(an,In,Tt,Wt,It,qt,ln,Mt){this.service=an,this.sidebarService=In,this.windowService=Tt,this.searchConfigService=Wt,this.routeService=It,this.router=qt,this.appConfig=ln,this.platformId=Mt,this.configurationList=[],this.context=S.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new h.t(""),this.currentContext$=new h.t(null),this.currentSortOptions$=new h.t(null),this.filtersRD$=new h.t(null),this.resultsRD$=new h.t(null),this.searchOptions$=new h.t(null),this.sortOptionsList$=new h.t([]),this.initialized$=new h.t(!1),this.refreshFilters=new h.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",U.xb,u.CC,w.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,y.F)()).subscribe(It=>{this.searchOptions$.next(It)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,G.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,G.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,v.T)(It=>(0,G.a4)(It)?It:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const an=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,y.F)()),In=(0,_.z)([an,this.currentScope$]).pipe((0,D.n)(([It,qt])=>this.searchConfigService.getConfigurationSearchConfig(It,qt)),(0,v.T)(It=>this.searchConfigService.getConfigurationSortOptions(It)),(0,y.F)()),Tt=In.pipe((0,D.n)(It=>this.searchConfigService.getCurrentSort(this.paginationId,It[0])),(0,y.F)()),Wt=this.getSearchOptions().pipe((0,y.F)());this.subs.push((0,_.z)([an,In,Wt,Tt,this.currentScope$]).pipe((0,O.p)(([It,qt,ln,Mt,Ht])=>ln.pagination.id===this.paginationId),(0,M.B)(100)).subscribe(([It,qt,ln,Mt,Ht])=>{const Kt=Object.assign({},ln,{configuration:ln.configuration||It,sort:Mt||ln.sort});""===Kt.query&&(Kt.query=this.query),(0,G.Im)(Kt.scope)&&(Kt.scope=Ht);const Pt=new Z.C(Kt);JSON.stringify(Pt)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(It),this.currentSortOptions$.next(Pt.sort),this.sortOptionsList$.next(qt),this.searchOptions$.next(Pt),this.initialized$.next(!0),this.retrieveSearchResults(Pt),this.retrieveFilters(Pt))})),this.subscribeToRoutingEvents()}changeContext(an){this.currentContext$.next(an)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(an){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(an=>(0,G.a4)(an)).forEach(an=>an.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(an){this.searchConfigService.getConfig(an.scope,an.configuration).pipe((0,I.qD)()).subscribe(In=>{this.filtersRD$.next(In)})}retrieveSearchResults(an){this.resultsRD$.next(null),this.lastSearchOptions=an;const In=[(0,Q.s)("thumbnail",{isOptional:!0}),(0,Q.s)("item",{isOptional:!0},(0,Q.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&In.push((0,Q.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&In.push((0,Q.s)("supervisionOrders",{isOptional:!0}));const Tt=Object.assign(new Z.C({}),an);(0,G.hj)(this.hiddenQuery)&&(Tt.query=(0,G.hj)(Tt.query)?Tt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(Tt,void 0,this.useCachedVersionIfAvailable,!0,...In).pipe((0,I.qD)()).subscribe(Wt=>{Wt.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(Tt,Wt.payload),Wt.payload?.page?.length>0&&this.resultFound.emit(Wt.payload)),this.resultsRD$.next(Wt)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,O.p)(an=>an instanceof l.Z),(0,v.T)(an=>this.getDsoUUIDFromUrl(an.url)),(0,G.Az)()).subscribe(an=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,an)}))}getDsoUUIDFromUrl(an){if((0,G.hj)(an)&&this.allowedObjectPaths.some(In=>an.startsWith(`/${In}`))){const In=an.substring(an.lastIndexOf("/")+1);if(In.match(this.uuidRegex))return In}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,Y.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(In){return new(In||pt)(t.rXU(L.S),t.rXU(q.o),t.rXU(H.CV),t.rXU(W.EN),t.rXU(C.v$),t.rXU(l.Ix),t.rXU(T.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:pt,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:le,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(In,Tt){1&In&&(t.NAR(te),t.DNE(0,pe,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,De,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,xe,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,Dt,12,8,"ng-template",null,0,t.C5r)(8,Ot,4,6,"ng-template",null,1,t.C5r)(10,ve,7,14,"ng-template",null,2,t.C5r)),2&In&&(t.Y8G("ngIf",Tt.searchEnabled&&t.bMT(1,3,Tt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!Tt.showSidebar&&t.bMT(3,5,Tt.initialized$)),t.R7$(2),t.Y8G("ngIf",Tt.showSidebar&&t.bMT(5,7,Tt.initialized$)))},dependencies:[i.Jj,i.bT,i.T3,J.f,X.d,se.N,de.p,e.h,e.D9,oe.L,z.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[j.W]},changeDetection:0})}}return pt})()},54196:(N,b,n)=>{"use strict";n.d(b,{SB:()=>t,gp:()=>e,mq:()=>f});var i=n(82777);function t(m,h){const _=new RegExp(`[?|&]${l(encodeURIComponent(h.paramName))}=(${l(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const y=_.exec(m._links.search.href);if((0,i.hj)(y))return decodeURIComponent(y[1])}return m.authorityKey?f(m.authorityKey,"authority"):f(m.value,"equals")}function l(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function f(m,h){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${h}`}},54992:(N,b,n)=>{"use strict";n.d(b,{N:()=>_});var i=n(54438),e=(n(26292),n(7581),n(8886));n(77766);const m=["*"];function h(y,v){}let _=(()=>{class y extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(D){return n(13390)(`./${D}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,77766))}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=i.xGo(y)))(M||y)}})()}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,M){1&O&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return y})()},50919:(N,b,n)=>{"use strict";n.d(b,{f:()=>v});var i=n(60177),t=n(96354),l=n(10214),e=n(57538),f=n(52600),m=n(54438);const h=["*"];function _(D,O){1&D&&m.eu8(0)}function y(D,O){if(1&D&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,_,1,0,"ng-container",5),m.k0s()),2&D){const M=m.XpG();m.STu("col-12 col-md-",M.sideBarWidth," sidebar-content ",m.bMT(1,9,M.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,M.isSidebarCollapsed$)&&!0===m.bMT(3,13,M.isXsOrSm$)),m.Mz_("id","",M.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",M.sidebarContent)}}let v=(()=>{class D{constructor(M,T){this.sidebarService=M,this.windowService=T,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(M=>M?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(f.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:D,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:h,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left"],[3,"id","invisible","class",4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(T,R){1&T&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,y,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&T&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,R.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.Y8G("ngIf",R.sideBarWidth>0),m.R7$(),m.ZvI("col-12 col-md-",12-R.sideBarWidth,""),m.AVh("px-0",0===R.sideBarWidth)("invisible",!0!==m.bMT(6,11,R.isSidebarCollapsed$)&&!0===m.bMT(7,13,R.isXsOrSm$)))},dependencies:[i.Jj,i.T3,i.bT],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[l.W]}})}}return D})()},80270:(N,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(54438),t=n(41780);const l=["*"];let e=(()=>{class f{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:l,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[3,"for"],[1,"form-control",3,"change","id"]],template:function(_,y){1&_&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(D){return y.changed.emit(D)}),i.SdG(6),i.k0s()()),2&_&&(i.R7$(2),i.FS9("for",y.id),i.R7$(),i.JRh(i.bMT(4,3,y.label)),i.R7$(2),i.FS9("id",y.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return f})()},52680:(N,b,n)=>{"use strict";n.d(b,{EI:()=>l,Kd:()=>t,pm:()=>e});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class l{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},52600:(N,b,n)=>{"use strict";n.d(b,{o:()=>y});var i=n(25499),t=n(84572),l=n(96354),e=n(57538),f=n(52680),m=n(54438);const _=(0,i.Mz)(v=>v.sidebar,v=>v.sidebarCollapsed);let y=(()=>{class v{constructor(O,M){this.store=O,this.windowService=M,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(_))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,l.T)(([O,M])=>!O||M))}collapse(){this.store.dispatch(new f.EI)}expand(){this.store.dispatch(new f.pm)}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},9274:(N,b,n)=>{"use strict";n.d(b,{P5:()=>u});var i=n(60177),t=n(89417),l=n(41780),e=n(82777),f=n(22978),m=n(19798),h=n(54438),_=n(7901);let y=(()=>{class w{constructor(S,I,L){this.paginationService=S,this.route=I,this.router=L,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(S=>{(0,e.a4)(S.startsWith)&&this.setStartsWith(S.startsWith)})),this.formData=new t.J3({startsWith:new t.hs})}getStartsWith(){return this.startsWith}setStartsWith(S){this.startsWith=S}setStartsWithParam(S=!0){"-1"===this.startsWith&&(this.startsWith=void 0),S?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(S){this.startsWith=S.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(S=>(0,e.a4)(S)).forEach(S=>S.unsubscribe())}static{this.\u0275fac=function(I){return new(I||w)(h.rXU(f.m),h.rXU(_.nX),h.rXU(_.Ix))}}static{this.\u0275cmp=h.VBU({type:w,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},decls:0,vars:0,template:function(I,L){},encapsulation:2})}}return w})();function v(w,C){if(1&w&&(h.j41(0,"option",5),h.EFF(1),h.k0s()),2&w){const S=C.$implicit,I=h.XpG();h.Y8G("value",S)("selected",S===I.startsWithYear?"selected":null),h.R7$(),h.SpI(" ",S," ")}}function D(w,C){if(1&w&&(h.j41(0,"option",5),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&w){const S=C.$implicit,I=h.XpG();h.Y8G("value",S)("selected",S===I.startsWithMonth?"selected":null),h.R7$(),h.SpI(" ",h.bMT(2,3,"browse.startsWith.months."+S)," ")}}let O=(()=>{class w extends y{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(S){this.startsWithYear=+S.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(S){this.startsWithMonth=S.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const S=this.getStartsWithMonth();if(S>0&&(0,e.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let I=""+S;return S<10&&(I=`0${S}`),`${this.startsWithYear}-${I}`}return(0,e.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(S){if(this.startsWith=S,(0,e.a4)(S)&&S.indexOf("-")>-1){const I=S.split("-");this.startsWithYear=+I[0];const L=+I[1];this.startsWithMonth=L<this.monthOptions.length?this.monthOptions[L]:this.monthOptions[0]}else this.startsWithYear=+S}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let S;return function(L){return(S||(S=h.xGo(w)))(L||w)}})()}static{this.\u0275cmp=h.VBU({type:w,selectors:[["ds-starts-with-date"]],standalone:!0,features:[h.Vt3,h.aNF],decls:25,vars:27,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","font-weight-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-control",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-control",3,"change"],[1,"form-group","input-group","col-12","col-md-6","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(I,L){1&I&&(h.j41(0,"form",0),h.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),h.j41(1,"div",1)(2,"span",2),h.EFF(3),h.nI1(4,"translate"),h.k0s(),h.j41(5,"div",3)(6,"select",4),h.nI1(7,"translate"),h.bIt("change",function(U){return L.setStartsWithYearEvent(U)}),h.j41(8,"option",5),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.DNE(11,v,2,3,"option",6),h.k0s()(),h.j41(12,"div",3)(13,"select",7),h.nI1(14,"translate"),h.bIt("change",function(U){return L.setStartsWithMonthEvent(U)}),h.DNE(15,D,3,5,"option",6),h.k0s()(),h.j41(16,"div",8),h.nrm(17,"input",9),h.nI1(18,"translate"),h.nI1(19,"translate"),h.j41(20,"span",10)(21,"button",11),h.nrm(22,"i",12),h.EFF(23),h.nI1(24,"translate"),h.k0s()()()()()),2&I&&(h.Y8G("formGroup",L.formData),h.R7$(3),h.SpI(" ",h.bMT(4,13,"browse.startsWith.jump")," "),h.R7$(3),h.BMQ("aria-label",h.bMT(7,15,"browse.startsWith.choose_year.label")),h.R7$(2),h.Y8G("value",-1)("selected",!L.startsWithYear),h.R7$(),h.SpI(" ",h.bMT(10,17,"browse.startsWith.choose_year")," "),h.R7$(2),h.Y8G("ngForOf",L.startsWithOptions),h.R7$(2),h.BMQ("aria-label",h.bMT(14,19,"browse.startsWith.months.none.label")),h.R7$(2),h.Y8G("ngForOf",L.monthOptions),h.R7$(2),h.FS9("placeholder",h.bMT(18,21,"browse.startsWith.type_date")),h.Y8G("value",L.getStartsWith()?L.getStartsWith():""),h.BMQ("aria-label",h.bMT(19,23,"browse.startsWith.type_date.label")),h.R7$(6),h.SpI(" ",h.bMT(24,25,"browse.startsWith.submit"),""))},dependencies:[t.YN,t.qT,t.xH,t.y7,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.pM,l.h,l.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return w})();const T=new Map([[m.c.text,(()=>{class w extends y{getStartsWith(){return(0,e.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(S=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(S)}static{this.\u0275fac=(()=>{let S;return function(L){return(S||(S=h.xGo(w)))(L||w)}})()}static{this.\u0275cmp=h.VBU({type:w,selectors:[["ds-starts-with-text"]],standalone:!0,features:[h.Vt3,h.aNF],decls:15,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"form-group","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(I,L){1&I&&(h.j41(0,"form",0),h.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),h.j41(1,"div",1)(2,"div",2)(3,"div",3),h.nrm(4,"input",4),h.nI1(5,"translate"),h.nI1(6,"translate"),h.j41(7,"span",5)(8,"button",6),h.nrm(9,"i",7),h.EFF(10),h.nI1(11,"translate"),h.k0s()()()(),h.j41(12,"small",8),h.EFF(13),h.nI1(14,"translate"),h.k0s()()()),2&I&&(h.Y8G("formGroup",L.formData),h.R7$(4),h.FS9("placeholder",h.bMT(5,6,"browse.search-form.placeholder")),h.Y8G("value",L.getStartsWith()),h.BMQ("aria-label",h.bMT(6,8,"browse.startsWith.input")),h.R7$(6),h.SpI(" ",h.bMT(11,10,"browse.startsWith.submit"),""),h.R7$(3),h.JRh(h.bMT(14,12,"browse.startsWith.type_text")))},dependencies:[t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,l.h,l.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return w})()],[m.c.date,O]]);function u(w){return T.get(w)}},31956:(N,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(22924),t=n(9274),e=(n(19798),n(54438));function f(h,_){}let m=(()=>{class h extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=e.xGo(h)))(D||h)}})()}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(v,D){1&v&&e.DNE(0,f,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return h})()},19798:(N,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},67478:(N,b,n)=>{"use strict";n.d(b,{y:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(76829),h=n(39147),_=n(17860);let y=class extends m.M{static{this.type=_.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],y.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N),(0,i.Sn)("design:type",l.c)],y.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(h.X),(0,i.Sn)("design:type",l.c)],y.prototype,"resource",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],y)},17860:(N,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(42547).v)("subscription")},15314:(N,b,n)=>{"use strict";n.d(b,{K:()=>l,t:()=>t});const t={SET:(0,n(91e3).N)("dspace/theme/SET")};class l{constructor(f){this.type=t.SET,this.payload={name:f}}}},10092:(N,b,n)=>{"use strict";n.d(b,{Q:()=>i});const i="base"},82522:(N,b,n)=>{"use strict";n.d(b,{Fs:()=>Ee});var i=n(60177),t=n(7901),l=n(25499),e=n(84412),f=n(7673),m=n(22806),h=n(70274),_=n(983),y=n(96697),v=n(5964),D=n(25558),O=n(96354),M=n(39974),T=n(85412),u=n(56594),w=n(39901),C=n(45113),S=n(88280),I=n(1321),L=n(13989),B=n(52998),U=n(80183),W=n(82777),j=n(43323),G=n(81569),H=n(67600),V=n(15314),X=n(10092),J=n(84572),q=n(69799),Q=n(73335);class Y{constructor(pe){this.config=pe}matches(pe,re){return(0,f.of)(!0)}}class z extends Y{constructor(pe){super(pe),this.config=pe,this.regex=new RegExp(this.config.regex)}matches(pe,re){let ye;const De=(0,q.wN)(re);return(0,W.hj)(De)&&(ye=De.match(this.regex)),(0,W.Tn)(ye)&&(ye=pe.match(this.regex)),(0,f.of)((0,W.a4)(ye))}}class Z extends Y{constructor(pe,re){super(pe),this.config=pe,this.handleService=re}matches(pe,re){return(0,W.a4)(re?.handle)?(0,J.z)([this.handleService.normalizeHandle(re?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,O.T)(([ye,De])=>(0,W.a4)(re)&&(0,W.a4)(re.handle)&&ye===De),(0,y.s)(1)):(0,f.of)(!1)}}class oe extends Y{constructor(pe){super(pe),this.config=pe}matches(pe,re){return(0,f.of)((0,W.a4)(re)&&re.uuid===this.config.uuid)}}var de=n(54438);const te=(0,l.UX)("theme"),le=(0,l.Mz)(te,be=>(0,W.a4)(be)?be.currentTheme:X.Q);let Ee=(()=>{class be{constructor(re,ye,De,nt,mt,xe,ot){this.store=re,this.linkService=ye,this.dSpaceObjectDataService=De,this.injector=nt,this.gtcf=mt,this.router=xe,this.document=ot,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=S.c.themes.map($e=>((be,pe)=>(0,W.a4)(be.regex)?new z(be):(0,W.a4)(be.handle)?new Z(be,pe.get(Q.e)):(0,W.a4)(be.uuid)?new oe(be):new Y(be))($e,nt)),this.hasDynamicTheme=S.c.themes.some($e=>(0,W.a4)($e.regex)||(0,W.a4)($e.handle)||(0,W.a4)($e.uuid))}setTheme(re){this.store.dispatch(new V.K(re))}getThemeName(){let re;return this.store.pipe((0,l.Lt)(le),(0,y.s)(1)).subscribe(ye=>re=ye),re}getThemeName$(){return this.store.pipe((0,l.Lt)(le))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(re){this.getThemeName$().subscribe(ye=>{if(re&&(0,B.S)(this._isThemeCSSLoading$,!0),(0,W.a4)(ye))this.loadGlobalThemeConfig(ye);else{const De=(0,C.Nv)();(0,W.a4)(De)?this.loadGlobalThemeConfig(De.name):this.loadGlobalThemeConfig(X.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,v.p)(re=>re instanceof t.gx),(0,D.n)(re=>this.updateThemeOnRouteChange$(re.urlAfterRedirects,re.state.root)),(0,D.n)(re=>re?this._isThemeCSSLoading$:[!1])).subscribe(re=>{(0,B.S)(this._isThemeLoading$,re)})}loadGlobalThemeConfig(re){this.setThemeCss(re),this.setHeadTags(re)}setThemeCss(re){const ye=this.document.getElementsByTagName("head")[0];if((0,W.Tn)(ye))return;const De=Array.from(ye.getElementsByClassName("theme-css")),nt=this.document.createElement("link");nt.setAttribute("rel","stylesheet"),nt.setAttribute("type","text/css"),nt.setAttribute("class","theme-css"),nt.setAttribute("href",`${encodeURIComponent(re)}-theme.css`),nt.onload=()=>{(0,W.hj)(De)&&De.forEach(mt=>{(0,W.a4)(mt)&&mt.remove()}),(0,B.S)(this._isThemeCSSLoading$,!1)},ye.appendChild(nt)}setHeadTags(re){const ye=this.document.getElementsByTagName("head")[0];if((0,W.Tn)(ye))return;const De=Array.from(ye.getElementsByClassName("theme-head-tag"));(0,W.a4)(De)&&De.forEach(mt=>mt.remove());const nt=this.document.createDocumentFragment();this.createHeadTags(re).forEach(mt=>nt.appendChild(mt)),ye.appendChild(nt)}createHeadTags(re){const ye=this.getThemeConfigFor(re),De=ye?.headTags;if((0,W.Tn)(De)){const nt=ye?.extends;return(0,W.a4)(nt)?this.createHeadTags(nt):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return De.map(this.createHeadTag.bind(this))}createHeadTag(re){const ye=this.document.createElement(re.tagName);return(0,W.a4)(re.attributes)&&Object.entries(re.attributes).forEach(([De,nt])=>ye.setAttribute(De,nt)),ye.setAttribute("class","theme-head-tag"),ye}updateThemeOnRouteChange$(re,ye){const nt=this.store.pipe((0,l.Lt)(le)).pipe((0,D.n)(mt=>{const xe=this.findRouteData(ye);if(!0===this.hasDynamicTheme&&(0,W.hj)(this.themes)){if((0,W.a4)(xe)&&(0,W.a4)(xe.data)&&(0,W.a4)(xe.data.dso)){const ot=xe.data.dso;if(ot.hasSucceeded)return(0,f.of)(ot.payload).pipe(this.getAncestorDSOs(),(0,D.n)($e=>this.matchThemeToDSOs($e,re)),(0,O.T)($e=>this.getActionForMatch($e,mt)))}return(0,W.a4)(ye.queryParams)&&(0,W.a4)(ye.queryParams.scope)?this.dSpaceObjectDataService.findById(ye.queryParams.scope).pipe((0,U.yd)(),(0,U.Bo)(),this.getAncestorDSOs(),(0,D.n)($e=>this.matchThemeToDSOs($e,re)),(0,O.T)($e=>this.getActionForMatch($e,mt))):(0,m.H)(this.themes).pipe((0,h.H)(ot=>ot.matches(re,void 0).pipe((0,v.p)($e=>!0===$e),(0,O.T)(()=>ot),(0,y.s)(1))),(0,y.s)(1),(0,O.T)(ot=>this.getActionForMatch(ot,mt)))}return(0,f.of)(new j.L)}),(0,y.s)(1));return nt.pipe((0,v.p)(mt=>mt.type!==j.o)).subscribe(mt=>{this.store.dispatch(mt)}),nt.pipe((0,O.T)(mt=>mt.type===V.t.SET))}findRouteData(...re){const ye=re.find(De=>(0,W.a4)(De.data)&&(0,W.a4)(De.data.dso));if((0,W.a4)(ye))return ye;{const De=re.map(nt=>nt.children).reduce((nt,mt)=>[...nt,...mt]);return(0,W.hj)(De)?this.findRouteData(...De):void 0}}getAncestorDSOs(){return re=>re.pipe(function R(be,pe=1/0,re){return pe=(pe||0)<1?1/0:pe,(0,M.N)((ye,De)=>(0,T.h)(ye,De,be,pe,void 0,!0,re))}(ye=>{if((0,W.a4)(ye)&&"function"==typeof ye.getParentLinkKey){const De=ye.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(ye,(0,H.s)(De)).pipe((0,U.qD)(),(0,O.T)(nt=>(0,W.a4)(nt.payload)?nt.payload:null))}return _.w}),(0,v.p)(ye=>(0,W.a4)(ye)),(0,u.$)())}getActionForMatch(re,ye){const De=re?.config.name??X.Q;return De!==ye?new V.K(De):new j.L}matchThemeToDSOs(re,ye){return(0,m.H)(this.themes).pipe((0,h.H)(De=>(0,m.H)(re).pipe((0,h.H)(nt=>De.matches(ye,nt)),(0,v.p)(nt=>!0===nt),(0,O.T)(()=>De),(0,y.s)(1))),(0,y.s)(1),(0,w.U)(void 0))}getThemeConfigFor(re){return this.gtcf(re)}static{this.\u0275fac=function(ye){return new(ye||be)(de.KVO(l.il),de.KVO(I._),de.KVO(L.DSpaceObjectDataService),de.KVO(de.zZn),de.KVO(G.zD),de.KVO(t.Ix),de.KVO(i.qQ))}}static{this.\u0275prov=de.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},8886:(N,b,n)=>{"use strict";n.d(b,{J:()=>w});var i=n(54438),t=n(84412),l=n(84572),e=n(7673),f=n(22806),m=n(25558),h=n(88141),_=n(96354),y=n(99437),v=n(82777),D=n(10092),O=n(82522);const M=["vcr"],T=["content"],R=["*"];function u(C,S){}let w=(()=>{class C{constructor(I,L){this.cdr=I,this.themeService=L,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(I){(0,v.Tn)(this.compRef)?this.initComponentInstance(I):this.inAndOutputNames.some(L=>(0,v.a4)(I[L]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(I))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(I=>(0,v.a4)(I)).forEach(I=>I.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(I){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(I)})}renderComponentInstance(I){(0,v.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,v.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,l.z)([(0,e.of)(I),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(L=>(0,v.a4)(L)&&(0,v.a4)(L[this.getComponentName()])?[L[this.getComponentName()]]:(0,f.H)(this.importUnthemedComponent()).pipe((0,h.M)(()=>this.usedTheme=D.Q),(0,_.T)(B=>B[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([L,B])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(B,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,v.a4)(L)?this.ngOnChanges(L):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,v.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,v.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,v.hj)(this.inAndOutputNames)&&(0,v.a4)(this.compRef)&&(0,v.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(I=>void 0!==this[I]).forEach(I=>{this.compRef.instance[I]=this[I]})}resolveThemedComponent(I,L=[]){return(0,v.hj)(I)?(0,f.H)(this.importThemedComponent(I)).pipe((0,h.M)(()=>this.usedTheme=I),(0,y.W)(()=>{const B=this.themeService.getThemeConfigFor(I)?.extends,U=[...L,I];if(L.includes(B))throw new Error("Theme extension cycle detected: "+[...U,B].join(" -> "));return this.resolveThemedComponent(B,U)})):(0,e.of)(null)}static{this.\u0275fac=function(L){return new(L||C)(i.rXU(i.gRc),i.rXU(O.Fs))}}static{this.\u0275cmp=i.VBU({type:C,selectors:[["ds-themed"]],viewQuery:function(L,B){if(1&L&&(i.GBs(M,5,i.c1b),i.GBs(T,5)),2&L){let U;i.mGM(U=i.lsd())&&(B.vcr=U.first),i.mGM(U=i.lsd())&&(B.themedElementContent=U.first)}},hostVars:1,hostBindings:function(L,B){2&L&&i.BMQ("data-used-theme",B.usedTheme)},features:[i.OA$],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(L,B){1&L&&(i.NAR(),i.DNE(0,u,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return C})()},25543:(N,b,n)=>{"use strict";n.d(b,{M:()=>i});class i{handle(l){return l.interpolateParams&&l.interpolateParams.default||l.key}}},44869:(N,b,n)=>{"use strict";n.d(b,{W:()=>_});var i=n(41780),t=n(82777),l=n(54438);let e=(()=>{class y{constructor(){this.actualClick=new l.bkB}mousedownEvent(D){this.start=new Date}mouseupEvent(D){new Date-this.start<250&&this.actualClick.emit(D)}static{this.\u0275fac=function(O){return new(O||y)}}static{this.\u0275dir=l.FsC({type:y,selectors:[["","dsDragClick",""]],hostBindings:function(O,M){1&O&&l.bIt("mousedown",function(R){return M.mousedownEvent(R)})("mouseup",function(R){return M.mouseupEvent(R)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return y})();var f=n(39092);const m=["content"],h=["*"];let _=(()=>{class y{constructor(D){this.service=D,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(D=>{D?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const D=this.content.nativeElement;D.scrollHeight>D.offsetHeight?D.children.length>0?D.children[D.children.length-1].offsetHeight>D.offsetHeight?(D.classList.add("truncated"),D.classList.remove("removeFaded")):(D.classList.remove("truncated"),D.classList.add("removeFaded")):D.innerText.length>0?(D.classList.add("truncated"),D.classList.remove("removeFaded")):(D.classList.remove("truncated"),D.classList.add("removeFaded")):(D.classList.remove("truncated"),D.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(O){return new(O||y)(l.rXU(f.F))}}static{this.\u0275cmp=l.VBU({type:y,selectors:[["ds-truncatable-part"]],viewQuery:function(O,M){if(1&O&&l.GBs(m,7),2&O){let T;l.mGM(T=l.lsd())&&(M.content=T.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[l.aNF],ngContentSelectors:h,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ml-1"]],template:function(O,M){if(1&O){const T=l.RV6();l.NAR(),l.j41(0,"div")(1,"div",1,0),l.SdG(3),l.k0s(),l.j41(4,"button",2),l.bIt("actualClick",function(){return l.eBV(T),l.Njj(M.toggle())})("keyup.Enter",function(){return l.eBV(T),l.Njj(M.toggle())})("keyup.Space",function(){return l.eBV(T),l.Njj(M.toggle())}),l.nrm(5,"i"),l.j41(6,"span",3),l.EFF(7),l.nI1(8,"translate"),l.k0s()()()}2&O&&(l.ZBM("clamp-",M.background,"-",M.lines," min-",M.minLines," ",M.type," ",M.fixedHeight?"fixedHeight":"",""),l.R7$(4),l.ZvI("btn btn-link p-0 ",M.isExpanded?"collapseButton":"expandButton",""),l.BMQ("aria-expanded",M.isExpanded),l.R7$(),l.ZvI("fas ",M.isExpanded?"fa-angle-up":"fa-angle-down",""),l.R7$(2),l.JRh(l.bMT(8,15,"item.truncatable-part.show-"+(M.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return y})()},26500:(N,b,n)=>{"use strict";n.d(b,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>f});var i=n(91e3);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class l{constructor(_){this.id=_}}class e extends l{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends l{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends l{constructor(){super(...arguments),this.type=t.EXPAND}}},21308:(N,b,n)=>{"use strict";n.d(b,{d:()=>e});var i=n(39092),t=n(54438);const l=["*"];let e=(()=>{class f{constructor(h,_){this.service=h,this.el=_,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const _=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let y=0;y<_.length-1;y++)_[y].classList.remove("truncated"),_[y].classList.add("notruncatable");_[_.length-1].classList.add("truncated")}}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:l,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(_,y){1&_&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return y.hoverExpand()})("mouseleave",function(){return y.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return f})()},39092:(N,b,n)=>{"use strict";n.d(b,{F:()=>h});var i=n(25499),t=n(96354),l=n(82777),e=n(26500),f=n(54438);const m=v=>v.truncatable;let h=(()=>{class v{constructor(O){this.store=O}isCollapsed(O){return this.store.pipe((0,i.Lt)(function _(v){return function y(v){return(0,i.Mz)(m,D=>{if((0,l.a4)(D))return D[v]})}(v)}(O)),(0,t.T)(M=>!!M&&M.collapsed))}toggle(O){this.store.dispatch(new e.GV(O))}collapse(O){this.store.dispatch(new e.f7(O))}expand(O){this.store.dispatch(new e.Qs(O))}static{this.\u0275fac=function(M){return new(M||v)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},32979:(N,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(43377);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},43095:(N,b,n)=>{"use strict";n.d(b,{y:()=>j});var i=n(60177),t=n(54438),l=n(41780),e=n(59519),f=n.n(e),m=n(27200),h=n(7673),_=n(93130),y=n(19460),v=n(60456),D=n(82777);n(32979);let M=(()=>{class G{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(X){return new(X||G)}}static{this.\u0275prov=t.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})();var T=n(21626);const R=G=>({"ds-base-drop-zone-file-over":G}),u=G=>({width:G}),w=G=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":G});function C(G,H){if(1&G){const V=t.RV6();t.j41(0,"div",8),t.nI1(1,"async"),t.bIt("fileOver",function(J){t.eBV(V);const q=t.XpG();return t.Njj(q.fileOverDocument(J))}),t.k0s()}if(2&G){const V=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,V.isOverDocumentDropZone)),t.Y8G("uploader",V.uploader)}}function S(G,H){if(1&G&&(t.j41(0,"div",9)(1,"div",10)(2,"p",11),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&G){const V=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,V.dropOverDocumentMsg))}}function I(G,H){if(1&G){const V=t.RV6();t.j41(0,"div",12)(1,"span",13),t.nrm(2,"i",14),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",15),t.bIt("keyup.enter",function(J){t.eBV(V);const q=t.sdS(12);return J.stopImmediatePropagation(),t.Njj(q.click())}),t.j41(7,"span",16),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",17,0),t.k0s()()}if(2&G){const V=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,V.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",V.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,V.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",V.uploaderId,""),t.Y8G("uploader",V.uploader)}}function L(G,H){if(1&G&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G){const V=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==V.uploader||null==V.uploader.queue?null:V.uploader.queue.length," | ")}}function B(G,H){if(1&G&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&G){const V=t.XpG(2);t.R7$(),t.SpI("",V.uploader.progress,"%")}}function U(G,H){1&G&&(t.j41(0,"span",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function W(G,H){if(1&G){const V=t.RV6();t.j41(0,"div")(1,"div",18)(2,"div",19)(3,"span",20),t.DNE(4,L,3,4,"span",7),t.EFF(5),t.k0s(),t.j41(6,"div",21)(7,"button",22),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(V);const J=t.XpG();return t.Njj(J.uploader.clearQueue())}),t.nrm(9,"i",23),t.k0s()(),t.DNE(10,B,2,1,"span",24)(11,U,3,3,"span",24),t.k0s(),t.j41(12,"div",25),t.nrm(13,"div",26),t.k0s()()()}if(2&G){const V=t.XpG();t.R7$(4),t.Y8G("ngIf",!V.uploader.options.disableMultipart),t.R7$(),t.SpI("",null==V.uploader||null==V.uploader.queue[0]?null:V.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!V.uploader.queue.length),t.R7$(3),t.Y8G("ngIf",V.uploader.progress<100&&!(0===V.uploader.progress&&!V.uploader.options.autoUpload)),t.R7$(),t.Y8G("ngIf",100===V.uploader.progress),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,u,V.uploader.progress+"%"))("ngClass",t.eq3(12,w,100===V.uploader.progress))}}let j=(()=>{class G{onDragOver(V){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(V.preventDefault(),"HTML"!==V.target.tagName&&(this.isOverDocumentDropZone=(0,h.of)(!0)))}constructor(V,X,J,q){this.cdr=V,this.dragService=X,this.tokenExtractor=J,this.cookieService=q,this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,h.of)(!1),this.isOverDocumentDropZone=(0,h.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+f()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,D.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,D.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,D.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=V=>{this.onFileSelected.emit(V)},(0,D.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=V=>{V.url!==this.uploader.options.url&&(V.url=this.uploader.options.url),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,h.of)(!1)},(0,D.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(V,X)=>{X.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(V,X,J,q)=>{const Q=q[y.oo.toLowerCase()];if((0,D.hj)(Q)&&(this.saveXsrfToken(Q),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}]),(0,D.hj)(X)){const Y=JSON.parse(X);this.onCompleteItem.emit(Y)}},this.uploader.onErrorItem=(V,X,J,q)=>{const Q=q[y.oo.toLowerCase()];(0,D.hj)(Q)&&(this.saveXsrfToken(Q),this.uploader.options.headers=[{name:y.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:V,response:X,status:J,headers:q}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(V){this.isOverBaseDropZone=(0,h.of)(V)}fileOverDocument(V){V||(this.isOverDocumentDropZone=(0,h.of)(V))}onProgress(){this.cdr.detectChanges()}checkConfig(V){const J=["url","authToken","disableMultipart","itemAlias"].filter(q=>!(q in V&&""!==V[q]));if(0<J.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+J.join(", "))}saveXsrfToken(V){this.cookieService.remove(y.dX),this.cookieService.set(y.dX,V)}static{this.\u0275fac=function(X){return new(X||G)(t.rXU(t.gRc),t.rXU(M),t.rXU(T.B3),t.rXU(_.O))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-uploader"]],hostBindings:function(X,J){1&X&&t.bIt("dragover",function(Q){return J.onDragOver(Q)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pr-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ml-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-right mr-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-right","mr-3"]],template:function(X,J){1&X&&(t.DNE(0,C,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,S,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(Q){return J.fileOverBase(Q)}),t.DNE(8,I,13,17,"div",6)(9,W,14,14,"div",7),t.nI1(10,"async"),t.k0s()()()),2&X&&(t.Y8G("ngIf",t.bMT(1,7,J.isOverDocumentDropZone)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,9,J.isOverDocumentDropZone)),t.R7$(2),t.BMQ("id",J.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,R,t.bMT(7,11,J.isOverBaseDropZone)))("uploader",J.uploader),t.R7$(2),t.Y8G("ngIf",0===(null==J.uploader||null==J.uploader.queue?null:J.uploader.queue.length)),t.R7$(),t.Y8G("ngIf",t.bMT(10,13,J.isOverBaseDropZone)||0!==(null==J.uploader||null==J.uploader.queue?null:J.uploader.queue.length)))},dependencies:[l.h,l.D9,m.eB,m.Ff,m.UJ,i.MD,i.YU,i.bT,i.B3,i.Jj,v.A],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return G})()},75465:(N,b,n)=>{"use strict";n.d(b,{L:()=>l});var i=n(60177),t=n(54438);let l=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(h){return new(h||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},46301:(N,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this._elementRef=f,this.dsClickOutside=new i.bkB}onClick(){const f=this._elementRef.nativeElement;f.contains(f.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsClickOutside",""]],hostBindings:function(m,h){1&m&&i.bIt("click",function(){return h.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return l})()},56386:(N,b,n)=>{"use strict";n.d(b,{R:()=>h});var i=n(54438),t=n(21413),l=n(70152),e=n(23294),f=n(56977),m=n(89417);let h=(()=>{class _{constructor(v){this.model=v,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,l.B)(this.dsDebounce),(0,e.F)(),(0,f.Q)(this.subject)).subscribe(v=>{this.model.dirty&&this.onDebounce.emit(v)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(D){return new(D||_)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:_,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return _})()},43525:(N,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(806),l=n(54438);let e=(()=>{class f{transform(h=0,_=2){return i(h,{standard:"jedec",round:_})}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275pipe=l.EJ8({name:"dsFileSize",type:f,pure:!0,standalone:!0})}}return f})()},67600:(N,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(41023),t=n(82777);const e=(f,{findListOptions:m,shouldEmbed:h,useCachedVersionIfAvailable:_,reRequestOnStale:y,isOptional:v}={},...D)=>({name:f,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(h)||h,useCachedVersionIfAvailable:!(0,t.a4)(_)||_,reRequestOnStale:!(0,t.a4)(y)||y,isOptional:!!(0,t.a4)(v)&&v,linksToFollow:D})},79803:(N,b,n)=>{"use strict";n.d(b,{l:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.elementRef=f,this.dsHoverOutside=new i.bkB}onMouseOver(f){const m=f.target,h=document.querySelector(this.dsHoverOutsideOfParentSelector);(h?new i.aKT(h):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,h){1&m&&i.bIt("mouseover",function(y){return h.onMouseOver(y)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return l})()},74430:(N,b,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(b,{F:()=>i})},99390:(N,b,n)=>{"use strict";n.d(b,{U:()=>t});var i=n(54438);let t=(()=>{class l{transform(f,m=null){return Object.keys(f).map(h=>Object.assign({key:h},{value:f[h]}))}static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:l,pure:!0,standalone:!0})}}return l})()},49656:(N,b,n)=>{"use strict";n.d(b,{as:()=>l,nW:()=>e});var i=n(67600);function l(f,m){return`f.${f}=${m},equals`}function e(f,m){const h=[];return f&&h.push((0,i.s)("thumbnail")),m&&h.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...h),(0,i.s)("rightItem",void 0,...h)]}},30506:(N,b,n)=>{"use strict";n.d(b,{F:()=>e,N:()=>l});var i=n(45663),t=n(82777);function l(f){return"/"+f.parseUrl(f.url).root.children.primary.segments.map(h=>h.path).join("/")}function e(f){if((0,t.a4)(f.parent)){const m=e(f.parent);return new i.t(m,f.routeConfig.path).toString()}return f.routeConfig?f.routeConfig.path:""}},43764:(N,b,n)=>{"use strict";n.d(b,{d:()=>l});var i=n(54438),t=n(345);let l=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(h){return new(h||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},18226:(N,b,n)=>{"use strict";n.d(b,{r:()=>t});var i=n(54438);let t=(()=>{class l{set ngVar(f){this.context.$implicit=this.context.ngVar=f,this.updateView()}constructor(f,m){this.vcRef=f,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return l})()},35538:(N,b,n)=>{"use strict";n.d(b,{g:()=>w});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(5964),m=n(78655),h=n(78448),_=n(82777),y=n(75465),v=n(30506);const D=()=>({view:"list"}),O=()=>({view:"grid"}),M=()=>({view:"detailed"});function T(C,S){if(1&C){const I=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.ListElement))}),t.nrm(3,"i",3),t.k0s()}if(2&C){const I=t.XpG();t.AVh("active",I.currentMode===I.viewModeEnum.ListElement),t.Y8G("queryParams",t.lJ4(10,D)),t.BMQ("aria-current",I.currentMode===I.viewModeEnum.ListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-list"))("data-test",t.bMT(2,8,"list-view"))}}function R(C,S){if(1&C){const I=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.GridElement))}),t.nrm(3,"i",4),t.k0s()}if(2&C){const I=t.XpG();t.AVh("active",I.currentMode===I.viewModeEnum.GridElement),t.Y8G("queryParams",t.lJ4(10,O)),t.BMQ("aria-current",I.currentMode===I.viewModeEnum.GridElement)("aria-label",t.bMT(1,6,"search.view-switch.show-grid"))("data-test",t.bMT(2,8,"grid-view"))}}function u(C,S){if(1&C){const I=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(I);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.DetailedListElement))}),t.nrm(3,"i",5),t.k0s()}if(2&C){const I=t.XpG();t.AVh("active",I.currentMode===I.viewModeEnum.DetailedListElement),t.Y8G("queryParams",t.lJ4(10,M)),t.BMQ("aria-current",I.currentMode===I.viewModeEnum.DetailedListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-detail"))("data-test",t.bMT(2,8,"detail-view"))}}let w=(()=>{class C{constructor(I,L){this.searchService=I,this.router=L,this.currentMode=h.n.ListElement,this.viewModeEnum=h.n,this.changeViewMode=new t.bkB}ngOnInit(){(0,_.Im)(this.viewModeList)&&(this.viewModeList=[h.n.ListElement,h.n.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,f.p)(I=>(0,_.hj)(I))).subscribe(I=>{this.currentMode=I})}switchViewTo(I){I!==this.currentMode&&this.changeViewMode.emit(I),this.searchService.setViewMode(I,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(I){return this.viewModeList&&this.viewModeList.includes(I)}getSearchLink(){return this.inPlaceSearch?(0,v.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(L){return new(L||C)(t.rXU(m.S),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(L,B){1&L&&(t.j41(0,"div",0),t.DNE(1,T,4,11,"button",1)(2,R,4,11,"button",1)(3,u,4,11,"button",1),t.k0s()),2&L&&(t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.ListElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.GridElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.DetailedListElement)))},dependencies:[i.bT,l.Wk,e.h,e.D9,y.L]})}}return C})()},98794:(N,b,n)=>{"use strict";n.d(b,{m:()=>y});var i=n(60177),t=n(54438),l=n(41780),e=n(90934),f=n(82394),m=n(52149);const h=v=>({"d-none":v});function _(v,D){1&v&&t.nrm(0,"ds-loading")}let y=(()=>{class v{constructor(O){this.activeModal=O,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(O){this.loading=!0,this.selectedEvent.emit(O)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(O){this.selectedEvent.emit(O)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(M){return new(M||v)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(M,T){1&M&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return T.closeCollectionModal()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3),t.DNE(8,_,1,0,"ds-loading",4),t.j41(9,"ds-collection-dropdown",5),t.bIt("selectionChange",function(u){return T.selectObject(u)})("searchComplete",function(){return T.searchComplete()}),t.k0s()()()),2&M&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(6),t.Y8G("ngIf",T.isLoading()),t.R7$(),t.Y8G("ngClass",t.eq3(6,h,T.isLoading()))("entityType",T.entityType))},dependencies:[f.v,e.m,l.h,l.D9,i.YU,i.bT],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return v})()},66731:(N,b,n)=>{"use strict";n.d(b,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},93158:(N,b,n)=>{"use strict";n.d(b,{Bo:()=>oe,CG:()=>y,Dy:()=>j,IE:()=>te,Ob:()=>Q,SE:()=>z,Sm:()=>v,Vn:()=>l,Z5:()=>Y,Zi:()=>D,Zl:()=>U,_D:()=>Z,dm:()=>_,f0:()=>R,h3:()=>L,hJ:()=>m,i6:()=>h,jc:()=>T,kq:()=>X,ky:()=>B,l5:()=>V,lE:()=>t,nt:()=>de,nu:()=>H,oW:()=>u,pL:()=>G,sf:()=>W,sj:()=>C,t2:()=>O,tR:()=>S,ug:()=>M,v0:()=>q,w7:()=>se,wM:()=>I,wT:()=>f,x9:()=>J});var i=n(91e3);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class l{constructor(Ee,be,pe){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:Ee,sectionId:be,error:pe}}}class f{constructor(Ee,be,pe,re,ye,De,nt,mt,xe,ot,$e){this.type=t.INIT_SECTION,this.payload={submissionId:Ee,sectionId:be,header:pe,config:re,mandatory:ye,scope:De,sectionType:nt,visibility:mt,enabled:xe,data:ot,errors:$e}}}class m{constructor(Ee,be){this.type=t.ENABLE_SECTION,this.payload={submissionId:Ee,sectionId:be}}}class h{constructor(Ee,be){this.type=t.DISABLE_SECTION,this.payload={submissionId:Ee,sectionId:be}}}class _{constructor(Ee,be,pe,re,ye,De){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:Ee,sectionId:be,data:pe,errorsToShow:re,serverValidationErrors:ye,metadata:De}}}class y{constructor(Ee){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:Ee}}}class v{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class D{constructor(Ee,be){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:Ee,sectionId:be}}}class O{constructor(Ee,be,pe){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:Ee,sectionId:be,formId:pe}}}class M{constructor(Ee){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:Ee}}}class T{constructor(Ee,be,pe,re,ye,De,nt){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:Ee,submissionId:be,selfUrl:pe,submissionDefinition:re,sections:ye,item:De,errors:nt}}}class R{constructor(Ee){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:Ee}}}class u{constructor(Ee,be){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Ee,submissionObject:be}}}class C{constructor(Ee,be=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:Ee,isManual:be}}}class S{constructor(Ee,be,pe,re){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Ee,submissionObject:be,showNotifications:pe,showErrors:re}}}class I{constructor(Ee){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:Ee}}}class L{constructor(Ee,be){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:Ee,sectionId:be}}}class B{constructor(Ee,be,pe){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:Ee,submissionObject:be,notify:pe}}}class U{constructor(Ee){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:Ee}}}class W{constructor(Ee,be,pe,re,ye,De){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:Ee,submissionId:be,selfUrl:pe,sections:re,submissionDefinition:ye,item:De}}}class j{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class G{constructor(Ee,be){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:Ee,collectionId:be}}}class H{constructor(Ee){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:Ee}}}class V{constructor(Ee){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:Ee}}}class X{constructor(Ee){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:Ee}}}class J{constructor(Ee){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:Ee}}}class q{constructor(Ee){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:Ee}}}class Q{constructor(Ee){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:Ee}}}class Y{constructor(Ee){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:Ee}}}class z{constructor(Ee,be,pe){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:Ee,sectionId:be,status:pe}}}class Z{constructor(Ee,be){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:Ee,sectionId:be}}}class oe{constructor(Ee,be,pe,re){this.type=t.NEW_FILE,this.payload={submissionId:Ee,sectionId:be,fileId:pe,data:re}}}class se{constructor(Ee,be,pe){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:Ee,sectionId:be,fileId:pe}}}class de{constructor(Ee,be,pe,re){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:Ee,sectionId:be,fileId:pe,data:re}}}class te{constructor(Ee,be,pe){this.type=t.DELETE_FILE,this.payload={submissionId:Ee,sectionId:be,fileId:pe}}}},88643:(N,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},72147:(N,b,n)=>{"use strict";n.d(b,{c:()=>q});var i=n(1473),t=n(48376),l=n.n(t),e=n(5771),f=n.n(e),m=n(48125),h=n.n(m),_=n(84572),y=n(96354),v=n(23294),D=n(73028),O=n(5964),M=n(96697),T=n(92409),R=n(68552),u=n(83085),w=n(82777),C=n(32710),S=n(54002),I=n(39806),L=n(66731),B=n(93158),U=n(645),W=n(61010),j=n(90049),G=n(88643),H=n(54438),V=n(53588),X=n(25499),J=n(41780);let q=(()=>{class Q{constructor(z,Z,oe,se,de,te){this.formService=z,this.notificationsService=Z,this.scrollToService=oe,this.submissionService=se,this.store=de,this.translate=te}checkSectionErrors(z,Z,oe,se,de=[]){if((0,w.Im)(se))this.store.dispatch(new B.Zi(z,Z)),this.store.dispatch(new C.Dp(oe));else if(!h()(se,de)){const te=[];se.forEach(le=>{(0,j.A)(le.path).forEach(be=>{be.fieldId&&(this.formService.addError(oe,be.fieldId,be.fieldIndex,le.message),te.push(be.fieldId))})}),de.forEach(le=>{(0,j.A)(le.path).forEach(be=>{be.fieldId&&(te.includes(be.fieldId)||this.formService.removeError(oe,be.fieldId,be.fieldIndex))})})}}dispatchRemoveSectionErrors(z,Z){this.store.dispatch(new B.Zi(z,Z))}dispatchSetSectionFormId(z,Z,oe){this.store.dispatch(new B.t2(z,Z,oe))}getSectionData(z,Z,oe){return this.store.select((0,U.on)(z,Z)).pipe((0,y.T)(se=>oe===G.l.SubmissionForm?(0,R.Z5)(se):se),(0,v.F)())}getShownSectionErrors(z,Z,oe){let se;return se=oe!==G.l.SubmissionForm?this.getSectionErrors(z,Z):this.getSectionState(z,Z,oe).pipe((0,D.Z)(de=>this.formService.getFormErrors(de.formId).pipe((0,y.T)(te=>{const le=new T.S("sections",Z),Ee=te.map(be=>({path:le.getPath(be.fieldId.replace(/\_/g,".")).path,message:be.message})).filter(be=>-1===l()(de.errorsToShow,{path:be.path}));return[...de.errorsToShow,...Ee]})))),se}getSectionErrors(z,Z){return this.store.select((0,U.D6)(z,Z)).pipe((0,v.F)())}getSectionServerErrors(z,Z){return this.store.select((0,U.aU)(z,Z)).pipe((0,v.F)())}getSectionState(z,Z,oe){return this.store.select((0,U.sR)(z,Z)).pipe((0,O.p)(se=>(0,w.a4)(se)),(0,y.T)(se=>se),(0,y.T)(se=>(0,w.a4)(se.data)&&oe===G.l.SubmissionForm?Object.assign({},se,{data:(0,R.Z5)(se.data)}):se),(0,v.F)())}isSectionValid(z,Z){return this.store.select((0,U.sR)(z,Z)).pipe((0,O.p)(oe=>(0,w.a4)(oe)),(0,y.T)(oe=>oe.isValid),(0,v.F)())}isSectionActive(z,Z){return this.submissionService.getActiveSectionId(z).pipe((0,y.T)(oe=>Z===oe),(0,v.F)())}isSectionEnabled(z,Z){return this.store.select((0,U.sR)(z,Z)).pipe((0,O.p)(oe=>(0,w.a4)(oe)),(0,y.T)(oe=>oe.enabled),(0,v.F)())}isSectionReadOnly(z,Z,oe){return this.store.select((0,U.sR)(z,Z)).pipe((0,O.p)(se=>(0,w.a4)(se)),(0,y.T)(se=>!((0,w.Im)(oe)||(0,w.Im)(se.visibility)||(0,w.Im)(se.scope))&&"READONLY"===((oe.valueOf()===u.L.WorkspaceItem.valueOf()?L.S.Submission:L.S.Workflow).valueOf()===se.scope.valueOf()?se.visibility.main:se.visibility.other)),(0,v.F)())}isSectionAvailable(z,Z){return this.store.select((0,U.sO)(z)).pipe((0,O.p)(oe=>(0,w.EA)(oe)),(0,y.T)(oe=>(0,w.EA)(oe.sections)&&(0,w.EA)(oe.sections[Z])),(0,v.F)())}isSectionTypeAvailable(z,Z){return this.store.select((0,U.sO)(z)).pipe((0,O.p)(oe=>(0,w.EA)(oe)),(0,y.T)(oe=>(0,w.EA)(oe.sections)&&(0,w.EA)(f()(oe.sections,{sectionType:Z}))),(0,v.F)())}isSectionType(z,Z,oe){return this.store.select((0,U.sO)(z)).pipe((0,O.p)(se=>(0,w.EA)(se)),(0,y.T)(se=>(0,w.EA)(se.sections)&&(0,w.EA)(se.sections[Z])&&se.sections[Z].sectionType===oe),(0,v.F)())}addSection(z,Z){this.store.dispatch(new B.hJ(z,Z)),this.scrollToService.scrollTo({target:Z,offset:-70})}removeSection(z,Z){this.store.dispatch(new B.i6(z,Z))}updateSectionData(z,Z,oe,se=[],de=[],te){if((0,w.hj)(oe)){const le=this.isSectionAvailable(z,Z),Ee=this.isSectionEnabled(z,Z);(0,_.z)(le,Ee).pipe((0,M.s)(1),(0,O.p)(([be,pe])=>be)).subscribe(([be,pe])=>{this.store.dispatch(new B.dm(z,Z,oe,se,de,te))})}}setSectionError(z,Z,oe){this.store.dispatch(new B.Vn(z,Z,oe))}setSectionStatus(z,Z,oe){this.store.dispatch(new B.SE(z,Z,oe))}computeSectionConfiguredMetadata(z){const Z=[],oe="string"==typeof z?JSON.parse(z,i.zno):z;return oe.rows&&!(0,w.Im)(oe.rows)&&oe.rows.forEach(se=>{se.fields&&!(0,w.Im)(se.fields)&&se.fields.forEach(de=>{de.selectableMetadata&&!(0,w.Im)(de.selectableMetadata)&&de.selectableMetadata.forEach(te=>{Z.includes(te.metadata)||Z.push(te.metadata)})})}),Z}getIsInformational(z){return z===G.l.SherpaPolicies}static{this.\u0275fac=function(Z){return new(Z||Q)(H.KVO(S.u),H.KVO(I.I),H.KVO(V.WY),H.KVO(W.E),H.KVO(X.il),H.KVO(J.c$))}}static{this.\u0275prov=H.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},14723:(N,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},645:(N,b,n)=>{"use strict";n.d(b,{D6:()=>O,Uh:()=>_,aU:()=>M,hZ:()=>f,hi:()=>y,on:()=>D,pc:()=>e,sO:()=>m,sR:()=>v});var i=n(25499),t=n(82777),l=n(83678);function e(T,R,u){return(0,i.Mz)(T,w=>{if((0,t.a4)(w)&&(0,t.a4)(w[R]))return w[R][u]})}function f(T,R){return(0,i.Mz)(T,u=>{if((0,t.a4)(u)&&(0,t.a4)(u[R]))return u[R]})}function m(T){return e(l.O,"objects",T)}function _(T,R){return f(D(T,R),"files")}function y(T,R,u){return e(D(T,R),"files",u)}function v(T,R){return e(m(T),"sections",R)}function D(T,R){return f(v(T,R),"data")}function O(T,R){return f(v(T,R),"errorsToShow")}function M(T,R){return f(v(T,R),"serverValidationErrors")}},83678:(N,b,n)=>{"use strict";n.d(b,{u:()=>se,O:()=>de});var i=n(25499),t=n(25622),l=n.n(t),e=n(5771),f=n.n(e),m=n(48125),h=n.n(m),_=n(63448),y=n.n(_),v=n(82777),D=n(93158);const O=Object.create({});function X(te,le){return te||(le?[...le]:void 0)}function J(te,le,Ee){return(0,v.a4)(te[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{enabled:Ee})})})}):te}const se={objects:function M(te=O,le){switch(le.type){case D.lE.COMPLETE_INIT_SUBMISSION_FORM:return function S(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{isLoading:!1})}):te}(te,le);case D.lE.INIT_SUBMISSION_FORM:return function w(te,le){const Ee=Object.assign({},te);return Ee[le.payload.submissionId]={collection:le.payload.collectionId,definition:le.payload.submissionDefinition.name,selfUrl:le.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},Ee}(te,le);case D.lE.RESET_SUBMISSION_FORM:return function C(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):te}(te,le);case D.lE.CANCEL_SUBMISSION_FORM:return O;case D.lE.SAVE_SUBMISSION_FORM:case D.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case D.lE.SAVE_AND_DEPOSIT_SUBMISSION:case D.lE.SAVE_SUBMISSION_SECTION_FORM:return function I(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{activeSection:te[le.payload.submissionId].activeSection,sections:te[le.payload.submissionId].sections,isLoading:te[le.payload.submissionId].isLoading,savePending:!0})}):te}(te,le);case D.lE.SAVE_SUBMISSION_FORM_SUCCESS:case D.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case D.lE.SAVE_SUBMISSION_FORM_ERROR:case D.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case D.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function L(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{savePending:!1})}):te}(te,le);case D.lE.CHANGE_SUBMISSION_COLLECTION:return function W(te,le){return Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{collection:le.payload.collectionId})})}(te,le);case D.lE.DEPOSIT_SUBMISSION:return function B(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{savePending:!1,depositPending:!0})}):te}(te,le);case D.lE.DEPOSIT_SUBMISSION_SUCCESS:return O;case D.lE.DEPOSIT_SUBMISSION_ERROR:return function U(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{depositPending:!1})}):te}(te,le);case D.lE.DISCARD_SUBMISSION:return te;case D.lE.DISCARD_SUBMISSION_SUCCESS:return O;case D.lE.DISCARD_SUBMISSION_ERROR:return te;case D.lE.SET_ACTIVE_SECTION:return function j(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{activeSection:le.payload.sectionId,sections:te[le.payload.submissionId].sections,isLoading:te[le.payload.submissionId].isLoading,savePending:te[le.payload.submissionId].savePending})}):te}(te,le);case D.lE.INIT_SECTION:return function G(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:{header:le.payload.header,config:le.payload.config,mandatory:le.payload.mandatory,scope:le.payload.scope,sectionType:le.payload.sectionType,visibility:le.payload.visibility,collapsed:!1,enabled:le.payload.enabled,data:le.payload.data,errorsToShow:[],serverValidationErrors:le.payload.errors||[],isLoading:!1,isValid:(0,v.Im)(le.payload.errors)}})})}):te}(te,le);case D.lE.SET_SECTION_FORM_ID:return function H(te,le){return(0,v.a4)(te[le.payload.submissionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:{...te[le.payload.submissionId].sections[le.payload.sectionId],formId:le.payload.formId}})})}):te}(te,le);case D.lE.ENABLE_SECTION:return J(te,le,!0);case D.lE.UPDATE_SECTION_DATA:return function V(te,le){return(0,v.hj)(te[le.payload.submissionId])&&(0,v.hj)(te[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{enabled:!0,data:le.payload.data,errorsToShow:le.payload.errorsToShow,serverValidationErrors:le.payload.serverValidationErrors,metadata:X(le.payload.metadata,te[le.payload.submissionId].sections[le.payload.sectionId].metadata)})})})}):te}(te,le);case D.lE.DISABLE_SECTION:return J(te,le,!1);case D.lE.SECTION_STATUS_CHANGE:return function q(te,le){return(0,v.hj)(te[le.payload.submissionId])&&(0,v.a4)(te[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{isValid:le.payload.status})}))})}):te}(te,le);case D.lE.NEW_FILE:return function Q(te,le){const Ee=te[le.payload.submissionId].sections[le.payload.sectionId].data;let be;return(0,v.b0)(Ee.files)?be={files:[le.payload.data]}:(be=Ee,be.files.push(le.payload.data)),Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{enabled:!0,data:be})})})})}(te,le);case D.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function Y(te,le){const Ee=te[le.payload.submissionId].sections[le.payload.sectionId].data,{submissionId:be,sectionId:pe,fileId:re}=le.payload,ye=f()(Ee.files,{uuid:re});if((0,v.kZ)(ye))return te;const De=te[be];return{...te,[be]:{...De,sections:{...De.sections,[pe]:{...De.sections[pe],data:{...De.sections[pe].data,primary:re}}},isLoading:De.isLoading,savePending:De.savePending}}}(te,le);case D.lE.EDIT_FILE_DATA:return function z(te,le){const Ee=te[le.payload.submissionId].sections[le.payload.sectionId].data;if((0,v.a4)(Ee.files)){const be=f()(Ee.files,{uuid:le.payload.fileId});if((0,v.Pe)(be)){const pe=Array.from(Ee.files);return pe[be]=le.payload.data,Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{activeSection:te[le.payload.submissionId].activeSection,sections:Object.assign({},te[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{data:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId].data,{files:pe})})})),isLoading:te[le.payload.submissionId].isLoading,savePending:te[le.payload.submissionId].savePending})})}}return te}(te,le);case D.lE.DELETE_FILE:return function Z(te,le){const Ee=te[le.payload.submissionId].sections[le.payload.sectionId].data;if((0,v.a4)(Ee.files)){const be=f()(Ee.files,{uuid:le.payload.fileId});if((0,v.Pe)(be)){const pe=Array.from(Ee.files);return pe.splice(be,1),Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{data:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId].data,{files:pe})})}))})})}}return te}(te,le);case D.lE.ADD_SECTION_ERROR:return((te,le)=>{const{submissionId:Ee,sectionId:be,error:pe}=le.payload;if((0,v.a4)(te[Ee].sections[be])){const re=y()(te[Ee].sections[be].errorsToShow.concat(pe),h());return Object.assign({},te,{[Ee]:Object.assign({},te[Ee],{activeSection:te[le.payload.submissionId].activeSection,sections:Object.assign({},te[Ee].sections,{[be]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{errorsToShow:re})})})})}return te})(te,le);case D.lE.DELETE_SECTION_ERROR:return((te,le)=>{const{submissionId:Ee,sectionId:be,errors:pe}=le.payload;if((0,v.a4)(te[Ee].sections[be])){let re;return re=Array.isArray(pe)?l()(pe,pe,h()):te[Ee].sections[be].errorsToShow.filter(ye=>ye.path!==pe.path||!h()(ye,pe)),Object.assign({},te,{[Ee]:Object.assign({},te[Ee],{sections:Object.assign({},te[Ee].sections,{[be]:Object.assign({},te[Ee].sections[be],{errorsToShow:re})})})})}return te})(te,le);case D.lE.REMOVE_SECTION_ERRORS:return function u(te,le){return(0,v.hj)(te[le.payload.submissionId])&&(0,v.hj)(te[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},te[le.payload.submissionId].sections[le.payload.sectionId],{errorsToShow:[]})})})}):te}(te,le);case D.lE.CLEAN_DUPLICATE_DETECTION:return function oe(te,le){return(0,v.hj)(te[le.payload.submissionId])&&te[le.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},te,{[le.payload.submissionId]:Object.assign({},te[le.payload.submissionId],{sections:Object.assign({},te[le.payload.submissionId].sections,{duplicates:Object.assign({},te[le.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):te}(te,le);default:return te}}},de=(0,i.UX)("submission")},61010:(N,b,n)=>{"use strict";n.d(b,{E:()=>z});var i=n(21626),t=n(25499),l=n(7673),e=n(41584),f=n(96354),m=n(99437),h=n(47677),_=n(5964),y=n(99172),v=n(23294),D=n(96697),O=n(88141),M=n(70274),T=n(88280),R=n(13808),u=n(32473),w=n(56760),C=n(78655),S=n(83203),I=n(67625),L=n(83085),B=n(82777),U=n(39806),W=n(43404),j=n(66731),G=n(93158),H=n(645),V=n(83678),X=n(54438),J=n(7901),q=n(41780);let z=(()=>{class Z{constructor(se,de,te,le,Ee,be,pe,re,ye){this.notificationsService=se,this.restService=de,this.router=te,this.routeService=le,this.store=Ee,this.translate=be,this.searchService=pe,this.requestService=re,this.jsonPatchOperationService=ye,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(se,de){this.store.dispatch(new G.pL(se,de))}getSubmissionCollectionId(se){return this.store.pipe((0,t.Lt)(function Y(Z){return(0,t.Mz)(function Q(Z){return(0,t.Mz)(V.O,oe=>oe.objects[Z])}(Z),oe=>oe?.collection)}(se)))}createSubmission(se){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,se).pipe((0,f.T)(de=>de[0]),(0,m.W)(()=>(0,l.of)({})))}createSubmissionFromExternalSource(se,de){const te=Object.create({});let le=new i.Lr;return le=le.append("Content-Type","text/uri-list"),te.headers=le,this.restService.postToEndpoint(this.workspaceLinkPath,se,null,te,de)}depositSubmission(se){const de=Object.create({});let te=new i.Lr;return te=te.append("Content-Type","text/uri-list"),de.headers=te,this.restService.postToEndpoint(this.workflowLinkPath,se,null,de)}discardSubmission(se){return this.restService.deleteById(se)}dispatchInit(se,de,te,le,Ee,be,pe){this.store.dispatch(new G.jc(se,de,te,le,Ee,be,pe))}dispatchDeposit(se){this.store.dispatch(new G.nu(se))}dispatchDiscard(se){this.store.dispatch(new G.v0(se))}dispatchSave(se,de){this.getSubmissionSaveProcessingStatus(se).pipe((0,h.I)(te=>!te)).subscribe(()=>{this.store.dispatch(new G.sj(se,de))})}dispatchSaveForLater(se){this.store.dispatch(new G.f0(se))}dispatchSaveSection(se,de){this.store.dispatch(new G.h3(se,de))}getActiveSectionId(se){return this.getSubmissionObject(se).pipe((0,f.T)(de=>de.activeSection))}getSubmissionObject(se){return this.store.select((0,H.sO)(se)).pipe((0,_.p)(de=>(0,B.EA)(de)))}getSubmissionSections(se){return this.getSubmissionObject(se).pipe((0,h.I)(de=>(0,B.EA)(de.sections)&&!de.isLoading),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const te=[];return Object.keys(de).filter(le=>!this.isSectionHidden(de[le])).forEach(le=>{const Ee=Object.create({});Ee.config=de[le].config,Ee.mandatory=de[le].mandatory,Ee.data=de[le].data,Ee.errorsToShow=de[le].errorsToShow,Ee.serverValidationErrors=de[le].serverValidationErrors,Ee.header=de[le].header,Ee.id=le,Ee.sectionType=de[le].sectionType,te.push(Ee)}),te}),(0,y.Z)([]),(0,v.F)())}getDisabledSectionsList(se){return this.getSubmissionObject(se).pipe((0,_.p)(de=>(0,B.EA)(de.sections)&&!de.isLoading),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const te=[];return Object.keys(de).filter(le=>!this.isSectionHidden(de[le])).filter(le=>!de[le].enabled).forEach(le=>{const Ee=Object.create({});Ee.header=de[le].header,Ee.id=le,te.push(Ee)}),te}),(0,y.Z)([]),(0,v.F)())}getSubmissionObjectLinkName(){const se=this.router.routerState.snapshot.url;return se.startsWith("/workspaceitems")||se.startsWith("/submit")?this.workspaceLinkPath:se.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let se;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:se=L.L.WorkspaceItem;break;case this.workflowLinkPath:se=L.L.WorkflowItem}return se}getSubmissionStatus(se){return this.store.select(V.O).pipe((0,f.T)(de=>de.objects[se]),(0,_.p)(de=>(0,B.EA)(de)&&(0,B.EA)(de.sections)),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const te=[];return(0,B.EA)(de)&&Object.keys(de).filter(le=>de.hasOwnProperty(le)).filter(le=>!this.isSectionHidden(de[le])).filter(le=>de[le].enabled).filter(le=>!1===de[le].isValid).forEach(le=>{te.push(de[le].isValid)}),!(0,B.Im)(de)&&(0,B.Im)(te)}),(0,v.F)(),(0,y.Z)(!1))}getSubmissionSaveProcessingStatus(se){return this.getSubmissionObject(se).pipe((0,f.T)(de=>de.savePending),(0,v.F)(),(0,y.Z)(!1))}getSubmissionDepositProcessingStatus(se){return this.getSubmissionObject(se).pipe((0,f.T)(de=>de.depositPending),(0,v.F)(),(0,y.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(se){const de=this.getSubmissionScope();return!((0,B.Im)(de)||(0,B.Im)(se.visibility)||(0,B.Im)(se.scope))&&"HIDDEN"===((de.valueOf()===L.L.WorkspaceItem.valueOf()?j.S.Submission:j.S.Workflow).valueOf()===se.scope.valueOf()?se.visibility.main:se.visibility.other)}isSubmissionLoading(se){return this.getSubmissionObject(se).pipe((0,f.T)(de=>de.isLoading),(0,v.F)())}notifyNewSection(se,de,te){const le=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:de});this.notificationsService.info(null,le,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,D.s)(1),(0,O.M)(se=>this.requestService.removeByHrefSubstring(se)),(0,M.H)(()=>this.routeService.getPreviousUrl().pipe((0,D.s)(1),(0,O.M)(se=>{(0,B.Im)(se)||!se.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(se)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new G.Dy)}resetSubmissionObject(se,de,te,le,Ee,be){this.store.dispatch(new G.sf(se,de,te,Ee,le,be))}retrieveSubmission(se){return this.restService.getDataById(this.getSubmissionObjectLinkName(),se).pipe((0,h.I)(de=>(0,B.EA)(de)),(0,f.T)(de=>(0,W.SP)(de[0])),(0,m.W)(de=>{if(de instanceof R._p)return(0,W.PM)(de.errorMessage,de.statusCode)}))}setActiveSection(se,de){this.store.dispatch(new G._D(se,de))}startAutoSave(se){if(this.stopAutoSave(),0===T.c.submission.autosave.timer)return;const de=T.c.submission.autosave.timer;this.timer$=(0,e.O)(de,de),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new G.sj(se)))}stopAutoSave(){(0,B.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(de){return new(de||Z)(X.KVO(U.I),X.KVO(I.O),X.KVO(J.Ix),X.KVO(w.v$),X.KVO(t.il),X.KVO(q.c$),X.KVO(C.S),X.KVO(u.B),X.KVO(S.U))}}static{this.\u0275prov=X.jDH({token:Z,factory:Z.\u0275fac})}}return Z})()},90049:(N,b,n)=>{"use strict";n.d(b,{A:()=>f});var i=n(82777);const t=/([^\/]+)/g,l=/\/sections\/(.*)/,f=m=>("string"==typeof m?[m]:m).map(_=>_.match(t)&&_.match(t).length>2?{sectionId:_.match(t)[1],fieldId:_.match(t)[2],fieldIndex:(0,i.a4)(_.match(t)[3])?+_.match(t)[3]:0,originalPath:_}:{sectionId:_.match(l)[1],originalPath:_})},7020:(N,b,n)=>{"use strict";n.d(b,{A:()=>l});var i=n(90049);const l=(e=[])=>{const f=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(_=>{const y={path:_.originalPath,message:m.message};f[_.sectionId]||(f[_.sectionId]=[]),f[_.sectionId].push(y)})}),f}},24215:(N,b,n)=>{"use strict";n.d(b,{C2:()=>t,jV:()=>e});var i=n(45663);const t="suggestions";function e(f){return new i.t(function l(){return`/${t}`}(),f).toString()}},58429:(N,b,n)=>{"use strict";n.d(b,{E:()=>W});var i=n(60177),t=n(54438),l=n(41780),e=n(56106),m=n(84412),h=n(40605),_=n(983),y=n(96354),v=n(5964),D=n(25558),O=n(27795),M=n(80183),T=n(82777),R=n(39806);const u=j=>({days:j}),w=j=>({hours:j}),C=j=>({minutes:j});function S(j,G){1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&j&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function I(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const H=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,u,t.bMT(2,1,H.countDownDays)))," ")}}function L(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const H=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,w,t.bMT(2,1,H.countDownHours)))," ")}}function B(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const H=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,C,t.bMT(2,1,H.countDownMinutes)))," ")}}function U(j,G){if(1&j&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),t.DNE(4,S,3,3,"span",0),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,I,4,8,"span",0),t.nI1(9,"async"),t.DNE(10,L,4,8,"span",0),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,B,4,8,"span",0),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",4),t.nI1(18,"async"),t.k0s()()()),2&j){let H;const V=t.XpG();t.R7$(4),t.Y8G("ngIf",t.bMT(5,5,V.countDownDays)>0||t.bMT(6,7,V.countDownHours)>0||t.bMT(7,9,V.countDownMinutes)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(9,11,V.countDownDays)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(11,13,V.countDownDays)>0||t.bMT(12,15,V.countDownHours)>0),t.R7$(3),t.Y8G("ngIf",t.bMT(14,17,V.countDownDays)>0||t.bMT(15,19,V.countDownHours)>0||t.bMT(16,21,V.countDownMinutes)>0),t.R7$(4),t.Y8G("innerHTML",null==(H=t.bMT(18,23,V.systemWideAlert$))?null:H.message,t.npT)}}let W=(()=>{class j{constructor(H,V,X){this.platformId=H,this.systemWideAlertDataService=V,this.notificationsService=X,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,M.Hz)(),(0,y.T)(H=>H.page),(0,v.p)(H=>(0,T.hj)(H)),(0,y.T)(H=>H[0])).subscribe(H=>{this.systemWideAlert$.next(H)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,D.n)(H=>{if((0,T.a4)(H)&&(0,T.a4)(H.countdownTo)){const X=(0,e.zonedTimeToUtc)(H.countdownTo,"UTC").getTime()-(new Date).getTime();if(X>0)return this.allocateTimeUnits(X),(0,i.UE)(this.platformId)?(0,h.Y)(1e3):_.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),_.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(H){const X=(0,e.zonedTimeToUtc)(H,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(X)}allocateTimeUnits(H){const V=Math.floor(H/6e4%60),X=Math.floor(H/36e5%24),J=Math.floor(H/864e5);this.countDownMinutes.next(V),this.countDownHours.next(X),this.countDownDays.next(J)}ngOnDestroy(){this.subscriptions.forEach(H=>{(0,T.a4)(H)&&H.unsubscribe()})}static{this.\u0275fac=function(V){return new(V||j)(t.rXU(t.Agw),t.rXU(O.SystemWideAlertDataService),t.rXU(R.I))}}static{this.\u0275cmp=t.VBU({type:j,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"font-weight-bold"],[3,"innerHTML"]],template:function(V,X){if(1&V&&(t.DNE(0,U,19,25,"div",0),t.nI1(1,"async")),2&V){let J;t.Y8G("ngIf",null==(J=t.bMT(1,1,X.systemWideAlert$))?null:J.active)}},dependencies:[i.bT,i.Jj,l.h,l.D9]})}}return j})()},30398:(N,b,n)=>{"use strict";n.d(b,{$:()=>h});var i=n(31635),t=n(74850),l=n(21921),e=n(42547),f=n(98688),m=n(61196);let h=class{static{this.type=m.B}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],h.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],h.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0),h=(0,i.Cg)([l.gV],h)},61196:(N,b,n)=>{"use strict";n.d(b,{B:()=>t});const t=new(n(42547).v)("systemwidealert")},97402:(N,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(8886),l=(n(73900),n(54438));const e=["*"];function f(h,_){}let m=(()=>{class h extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(y){return n(572)(`./${y}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73900))}static{this.\u0275fac=(()=>{let y;return function(D){return(y||(y=l.xGo(h)))(D||h)}})()}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,D){1&v&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return h})()},73900:(N,b,n)=>{"use strict";n.r(b),n.d(b,{ThumbnailComponent:()=>S});var i=n(60177),t=n(54438),l=n(41780),e=n(7673),f=n(25558),m=n(67116),h=n(65007),_=n(3970),y=n(1716),v=n(33376),D=n(89269),O=n(82777),M=n(82394),T=n(43764);const R=I=>({"d-none":I});function u(I,L){1&I&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.nrm(3,"ds-loading",6),t.k0s()()()),2&I&&(t.R7$(3),t.Y8G("spinner",!0))}function w(I,L){if(1&I){const B=t.RV6();t.j41(0,"img",7),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(B);const W=t.XpG();return t.Njj(W.errorHandler())})("load",function(){t.eBV(B);const W=t.XpG();return t.Njj(W.successHandler())}),t.k0s()}if(2&I){const B=t.XpG();t.Y8G("ngClass",t.eq3(7,R,B.isLoading))("src",t.bMT(1,3,B.src),t.B4B)("alt",t.bMT(2,5,B.alt))}}function C(I,L){if(1&I&&(t.j41(0,"div",3)(1,"div",4)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&I){const B=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,B.placeholder)," ")}}let S=(()=>{class I{constructor(B,U,W,j){this.platformID=B,this.auth=U,this.authorizationService=W,this.fileService=j,this.defaultImage=null,this.src=void 0,this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=!0}ngOnChanges(B){if((0,i.UE)(this.platformID)){if((0,O.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const U=this.contentHref;(0,O.a4)(U)?this.setSrc(U):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof v._?this.thumbnail:this.thumbnail instanceof y.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof v._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof y.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const B=this.src,U=this.bitstream,W=U?._links?.content?.href;!this.retriedWithToken&&(0,O.a4)(W)&&B===W?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,f.n)(j=>j?this.authorizationService.isAuthorized(_._.CanDownload,U.self):(0,e.of)(!1)),(0,f.n)(j=>j?this.fileService.retrieveFileDownloadLink(W):(0,e.of)(null))).subscribe(j=>{(0,O.a4)(j)?this.setSrc(j):this.setSrc(this.defaultImage)})):this.setSrc(B!==this.defaultImage?this.defaultImage:null)}setSrc(B){this.src=B,null===B&&(this.isLoading=!1)}successHandler(){this.isLoading=!1}static{this.\u0275fac=function(U){return new(U||I)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(h.AuthorizationDataService),t.rXU(D.E))}}static{this.\u0275cmp=t.VBU({type:I,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","ngClass","src","alt"],[1,"thumbnail-placeholder","centered","lead"]],template:function(U,W){1&U&&(t.j41(0,"div",0),t.DNE(1,u,4,1,"div",1)(2,w,3,9,"img",2)(3,C,5,3,"div",1),t.k0s()),2&U&&(t.AVh("limit-width",W.limitWidth),t.R7$(),t.Y8G("ngIf",W.isLoading),t.R7$(),t.Y8G("ngIf",null!==W.src),t.R7$(),t.Y8G("ngIf",null===W.src&&!W.isLoading))},dependencies:[i.MD,i.YU,i.bT,M.v,l.h,l.D9,T.d],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return I})()},43782:(N,b,n)=>{"use strict";n.d(b,{$:()=>R});var i=n(84572),t=n(96354),l=n(25558),e=n(96697),f=n(32473),m=n(56760),h=n(80183),_=n(52837),y=n(82777),v=n(39806),D=n(54438),O=n(7901),M=n(41780),T=n(60177);let R=(()=>{class u{constructor(C,S,I,L,B,U,W,j){this.route=C,this.workflowItemService=S,this.router=I,this.routeService=L,this.notificationsService=B,this.translationService=U,this.requestService=W,this.location=j}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(C=>C.wfi),(0,h.Bo)()),this.item$=this.wfi$.pipe((0,l.n)(C=>C.item.pipe((0,h.v7)(),(0,h.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,l.n)(([C])=>this.sendRequest(C.id))).subscribe(C=>{if(C){const S=this.translationService.get("workflow-item."+this.type+".notification.success.title"),I=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(S,I)}else{const S=this.translationService.get("workflow-item."+this.type+".notification.error.title"),I=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(S,I)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(C=>{let S={};if((0,y.Im)(C)&&(C="/mydspace",S=this.previousQueryParameters),C.split("?").length>1)for(const I of C.split("?")[1].split("&"))S[I.split("=")[0]]=decodeURIComponent(I.split("=")[1]);this.router.navigate([C.split("?")[0]],{queryParams:S})})}static{this.\u0275fac=function(S){return new(S||u)(D.rXU(O.nX),D.rXU(_.WorkflowItemDataService),D.rXU(O.Ix),D.rXU(m.v$),D.rXU(v.I),D.rXU(M.c$),D.rXU(f.B),D.rXU(T.aZ))}}static{this.\u0275dir=D.FsC({type:u,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return u})()},79951:(N,b,n)=>{"use strict";n.d(b,{BD:()=>m,BY:()=>y,HJ:()=>_,RS:()=>R,Rd:()=>D,Rk:()=>h,UM:()=>O,Uf:()=>v,XH:()=>f,YN:()=>M,b1:()=>T});var i=n(69799),t=n(45663);function f(C){return new t.t((0,i.Q)(),C,M).toString()}function m(C){return new t.t((0,i.Q)(),C,O).toString()}function h(C){return new t.t((0,i.Q)(),C,T).toString()}function _(C){return new t.t((0,i.Q)(),C,R).toString()}function y(C){return new t.t((0,i.cp)(),C,u).toString()}function v(C){return new t.t((0,i.cp)(),C,w).toString()}const D="edit",O="delete",M="view",T="sendback",R="advanced",u="delete",w="edit"},82640:(N,b,n)=>{"use strict";n.d(b,{Dr:()=>l,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),l=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},45113:(N,b,n)=>{"use strict";n.d(b,{$k:()=>m,Nv:()=>_});var i=n(58813),l=n(82777),e=n(10092),f=n(88280);const m=(y,v)=>{h(y,v),console.log("Environment extended with app config")},h=(y,v)=>{Object.assign(y,(0,i.all)([y,v],{arrayMerge:(O,M,T)=>M}))},_=()=>f.c.themes.find(y=>(0,l.Tn)(y.regex)&&(0,l.Tn)(y.handle)&&(0,l.Tn)(y.uuid))??{name:e.Q}},88280:(N,b,n)=>{"use strict";n.d(b,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,paths:["/home","/items/","/entities/","/collections/","/communities/","/bitstream/","/bitstreams/","/handle/","/reload/"],enableSearchComponent:!1,enableBrowseComponent:!1}}},59540:(N,b,n)=>{"use strict";n.d(b,{C:()=>l,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),l=new i.nKC("RESPONSE")},47859:(N,b,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),f=n(345),m=n(74523),h=n(60177),_=n(7901),y=n(25499),v=n(84412),D=n(23294),O=n(35335),M=n(53993),T=n(96697),R=n(88280),u=n(67116),w=n(38169),C=n(1676),S=n(52998),I=n(8886),L=n(87114);const B=["*"];function U(p,E){}let W=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(o){return n(94634)(`./${o}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87114))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:B,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,U,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var j=n(65354),G=n(41780),H=n(59836),V=n(82777),X=n(52149);const J=p=>({timeToExpire:p});let q=(()=>{class p{constructor(o,d,x){this.activeModal=o,this.authService=d,this.store=x,this.response=new e.bkB,this.timeToExpire=(R.c.auth.ui.timeUntilIdle+R.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},R.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new H.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(X.Lw),e.rXU(u.uR),e.rXU(y.il))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:20,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.closePressed()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",4)(12,"button",5),e.bIt("click",function(){return x.logOutPressed()}),e.nrm(13,"i",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",7),e.bIt("click",function(){return x.extendSessionPressed()}),e.nrm(17,"i",8),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(7),e.JRh(e.i5U(10,6,"idle-modal.info",e.eq3(13,J,x.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(15,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(19,11,"idle-modal.extend-session")," "))},dependencies:[G.h,G.D9],encapsulation:2})}}return p})();var Q=n(1221),Y=n(82522);let z=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n,cn,rs){this._window=o,this.document=d,this.platformId=x,this.themeService=ee,this.translate=Pe,this.store=Ae,this.authService=ht,this.router=Ut,this.cssService=_n,this.modalService=cn,this.modalConfig=rs,this.isRouteLoading$=new v.t(!1),this.notificationOptions=R.c.notifications,(0,h.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,y.Lt)(w.Gv),(0,D.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,O.c)(0)).subscribe(o=>{o instanceof _.Z?(0,S.S)(this.isRouteLoading$,!0):(o instanceof _.wF||o instanceof _.j5)&&(0,S.S)(this.isRouteLoading$,!1)})}onResize(o){this.dispatchWindowSize(o.target.innerWidth,o.target.innerHeight)}dispatchWindowSize(o,d){this.store.dispatch(new j.l(o,d))}trackIdleModal(){const o=this.authService.isUserIdle(),d=this.authService.isAuthenticated();o.pipe((0,M.E)(d)).subscribe(([x,ee])=>{if(x&&ee&&!this.idleModalOpen){const Pe=this.modalService.open(q,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,Pe.componentInstance.response.pipe((0,T.s)(1)).subscribe(Ae=>{Ae&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(C.lc),e.rXU(h.qQ),e.rXU(e.Agw),e.rXU(Y.Fs),e.rXU(G.c$),e.rXU(y.il),e.rXU(u.uR),e.rXU(_.Ix),e.rXU(Q.J),e.rXU(X.Bq),e.rXU(X.LY))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-app"]],hostBindings:function(d,x){1&d&&e.bIt("resize",function(Pe){return x.onResize(Pe)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(d,x){1&d&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&d&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,x.isAuthBlocking$)||e.bMT(2,4,x.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,x.isRouteLoading$))},dependencies:[W,h.Jj],changeDetection:0})}}return p})();var Z=n(45113),oe=n(21626),se=n(49969);function te(p){return new e.wOt(3e3,!1)}function Qt(p){switch(p.length){case 0:return new se.sf;case 1:return p[0];default:return new se.ui(p)}}function Et(p,E,o=new Map,d=new Map){const x=[],ee=[];let Pe=-1,Ae=null;if(E.forEach(ht=>{const Ut=ht.get("offset"),_n=Ut==Pe,cn=_n&&Ae||new Map;ht.forEach((rs,ms)=>{let Bn=ms,es=rs;if("offset"!==ms)switch(Bn=p.normalizePropertyName(Bn,x),es){case se.FX:es=o.get(ms);break;case se.kp:es=d.get(ms);break;default:es=p.normalizeStyleValue(ms,Bn,es,x)}cn.set(Bn,es)}),_n||ee.push(cn),Ae=cn,Pe=Ut}),x.length)throw function dn(p){return new e.wOt(3502,!1)}();return ee}function Lt(p,E,o,d){switch(E){case"start":p.onStart(()=>d(o&&it(o,"start",p)));break;case"done":p.onDone(()=>d(o&&it(o,"done",p)));break;case"destroy":p.onDestroy(()=>d(o&&it(o,"destroy",p)))}}function it(p,E,o){const ee=Ne(p.element,p.triggerName,p.fromState,p.toState,E||p.phaseName,o.totalTime??p.totalTime,!!o.disabled),Pe=p._data;return null!=Pe&&(ee._data=Pe),ee}function Ne(p,E,o,d,x="",ee=0,Pe){return{element:p,triggerName:E,fromState:o,toState:d,phaseName:x,totalTime:ee,disabled:!!Pe}}function ke(p,E,o){let d=p.get(E);return d||p.set(E,d=o),d}function ze(p){const E=p.indexOf(":");return[p.substring(1,E),p.slice(E+1)]}const Ue=typeof document>"u"?null:document.documentElement;function St(p){const E=p.parentNode||p.host||null;return E===Ue?null:E}let xt=null,_t=!1;function ss(p,E){for(;E;){if(E===p)return!0;E=St(E)}return!1}function us(p,E,o){if(o)return Array.from(p.querySelectorAll(E));const d=p.querySelector(E);return d?[d]:[]}let gt=(()=>{class p{validateStyleProperty(o){return function Zt(p){xt||(xt=function Cn(){return typeof document<"u"?document.body:null}()||{},_t=!!xt.style&&"WebkitAppearance"in xt.style);let E=!0;return xt.style&&!function Qe(p){return"ebkit"==p.substring(1,6)}(p)&&(E=p in xt.style,!E&&_t&&(E="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in xt.style)),E}(o)}matchesElement(o,d){return!1}containsElement(o,d){return ss(o,d)}getParentElement(o){return St(o)}query(o,d,x){return us(o,d,x)}computeStyle(o,d,x){return x||""}animate(o,d,x,ee,Pe,Ae=[],ht){return new se.sf(x,ee)}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();class lt{static{this.NOOP=new gt}}class Yt{}const kn=1e3,Ys="ng-enter",gs="ng-leave",Ss="ng-trigger",os=".ng-trigger",sn="ng-animating",pn=".ng-animating";function Zn(p){if("number"==typeof p)return p;const E=p.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Rs(parseFloat(E[1]),E[2])}function Rs(p,E){return"s"===E?p*kn:p}function ri(p,E,o){return p.hasOwnProperty("duration")?p:function ft(p,E,o){let x,ee=0,Pe="";if("string"==typeof p){const Ae=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ae)return E.push(te()),{duration:0,delay:0,easing:""};x=Rs(parseFloat(Ae[1]),Ae[2]);const ht=Ae[3];null!=ht&&(ee=Rs(parseFloat(ht),Ae[4]));const Ut=Ae[5];Ut&&(Pe=Ut)}else x=p;if(!o){let Ae=!1,ht=E.length;x<0&&(E.push(function le(){return new e.wOt(3100,!1)}()),Ae=!0),ee<0&&(E.push(function Ee(){return new e.wOt(3101,!1)}()),Ae=!0),Ae&&E.splice(ht,0,te())}return{duration:x,delay:ee,easing:Pe}}(p,E,o)}function en(p,E,o){E.forEach((d,x)=>{const ee=xn(x);o&&!o.has(x)&&o.set(x,p.style[ee]),p.style[ee]=d})}function at(p,E){E.forEach((o,d)=>{const x=xn(d);p.style[x]=""})}function dt(p){return Array.isArray(p)?1==p.length?p[0]:(0,se.K2)(p):p}const jt=new RegExp("{{\\s*(.+?)\\s*}}","g");function nn(p){let E=[];if("string"==typeof p){let o;for(;o=jt.exec(p);)E.push(o[1]);jt.lastIndex=0}return E}function Dn(p,E,o){const d=`${p}`,x=d.replace(jt,(ee,Pe)=>{let Ae=E[Pe];return null==Ae&&(o.push(function pe(p){return new e.wOt(3003,!1)}()),Ae=""),Ae.toString()});return x==d?p:x}const Vn=/-+([a-z0-9])/g;function xn(p){return p.replace(Vn,(...E)=>E[1].toUpperCase())}function ls(p,E,o){switch(E.type){case se.If.Trigger:return p.visitTrigger(E,o);case se.If.State:return p.visitState(E,o);case se.If.Transition:return p.visitTransition(E,o);case se.If.Sequence:return p.visitSequence(E,o);case se.If.Group:return p.visitGroup(E,o);case se.If.Animate:return p.visitAnimate(E,o);case se.If.Keyframes:return p.visitKeyframes(E,o);case se.If.Style:return p.visitStyle(E,o);case se.If.Reference:return p.visitReference(E,o);case se.If.AnimateChild:return p.visitAnimateChild(E,o);case se.If.AnimateRef:return p.visitAnimateRef(E,o);case se.If.Query:return p.visitQuery(E,o);case se.If.Stagger:return p.visitStagger(E,o);default:throw function re(p){return new e.wOt(3004,!1)}()}}function Ts(p,E){return window.getComputedStyle(p)[E]}const Mi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ji extends Yt{normalizePropertyName(E,o){return xn(E)}normalizeStyleValue(E,o,d,x){let ee="";const Pe=d.toString().trim();if(Mi.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)ee="px";else{const Ae=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Ae&&0==Ae[1].length&&x.push(function ye(p,E){return new e.wOt(3005,!1)}())}return Pe+ee}}const $i="*";const gn=new Set(["true","1"]),tn=new Set(["false","0"]);function $t(p,E){const o=gn.has(p)||tn.has(p),d=gn.has(E)||tn.has(E);return(x,ee)=>{let Pe=p==$i||p==x,Ae=E==$i||E==ee;return!Pe&&o&&"boolean"==typeof x&&(Pe=x?gn.has(p):tn.has(p)),!Ae&&d&&"boolean"==typeof ee&&(Ae=ee?gn.has(E):tn.has(E)),Pe&&Ae}}const Wn=new RegExp("s*:selfs*,?","g");function _s(p,E,o,d){return new Ci(p).build(E,o,d)}class Ci{constructor(E){this._driver=E}build(E,o,d){const x=new Bi(o);return this._resetContextStyleTimingState(x),ls(this,dt(E),x)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,o){let d=o.queryCount=0,x=o.depCount=0;const ee=[],Pe=[];return"@"==E.name.charAt(0)&&o.errors.push(function De(){return new e.wOt(3006,!1)}()),E.definitions.forEach(Ae=>{if(this._resetContextStyleTimingState(o),Ae.type==se.If.State){const ht=Ae,Ut=ht.name;Ut.toString().split(/\s*,\s*/).forEach(_n=>{ht.name=_n,ee.push(this.visitState(ht,o))}),ht.name=Ut}else if(Ae.type==se.If.Transition){const ht=this.visitTransition(Ae,o);d+=ht.queryCount,x+=ht.depCount,Pe.push(ht)}else o.errors.push(function nt(){return new e.wOt(3007,!1)}())}),{type:se.If.Trigger,name:E.name,states:ee,transitions:Pe,queryCount:d,depCount:x,options:null}}visitState(E,o){const d=this.visitStyle(E.styles,o),x=E.options&&E.options.params||null;if(d.containsDynamicStyles){const ee=new Set,Pe=x||{};d.styles.forEach(Ae=>{Ae instanceof Map&&Ae.forEach(ht=>{nn(ht).forEach(Ut=>{Pe.hasOwnProperty(Ut)||ee.add(Ut)})})}),ee.size&&o.errors.push(function mt(p,E){return new e.wOt(3008,!1)}(0,ee.values()))}return{type:se.If.State,name:E.name,style:d,options:x?{params:x}:null}}visitTransition(E,o){o.queryCount=0,o.depCount=0;const d=ls(this,dt(E.animation),o),x=function ao(p,E){const o=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(d=>function Di(p,E,o){if(":"==p[0]){const ht=function Ft(p,E){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return E.push(function Ot(p){return new e.wOt(3016,!1)}()),"* => *"}}(p,o);if("function"==typeof ht)return void E.push(ht);p=ht}const d=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function ct(p){return new e.wOt(3015,!1)}()),E;const x=d[1],ee=d[2],Pe=d[3];E.push($t(x,Pe)),"<"==ee[0]&&(x!=$i||Pe!=$i)&&E.push($t(Pe,x))}(d,o,E)):o.push(p),o}(E.expr,o.errors);return{type:se.If.Transition,matchers:x,animation:d,queryCount:o.queryCount,depCount:o.depCount,options:Lr(E.options)}}visitSequence(E,o){return{type:se.If.Sequence,steps:E.steps.map(d=>ls(this,d,o)),options:Lr(E.options)}}visitGroup(E,o){const d=o.currentTime;let x=0;const ee=E.steps.map(Pe=>{o.currentTime=d;const Ae=ls(this,Pe,o);return x=Math.max(x,o.currentTime),Ae});return o.currentTime=x,{type:se.If.Group,steps:ee,options:Lr(E.options)}}visitAnimate(E,o){const d=function eo(p,E){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Io(ri(p,E).duration,0,"");const o=p;if(o.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=Io(0,0,"");return ee.dynamic=!0,ee.strValue=o,ee}const x=ri(o,E);return Io(x.duration,x.delay,x.easing)}(E.timings,o.errors);o.currentAnimateTimings=d;let x,ee=E.styles?E.styles:(0,se.iF)({});if(ee.type==se.If.Keyframes)x=this.visitKeyframes(ee,o);else{let Pe=E.styles,Ae=!1;if(!Pe){Ae=!0;const Ut={};d.easing&&(Ut.easing=d.easing),Pe=(0,se.iF)(Ut)}o.currentTime+=d.duration+d.delay;const ht=this.visitStyle(Pe,o);ht.isEmptyStep=Ae,x=ht}return o.currentAnimateTimings=null,{type:se.If.Animate,timings:d,style:x,options:null}}visitStyle(E,o){const d=this._makeStyleAst(E,o);return this._validateStyleAst(d,o),d}_makeStyleAst(E,o){const d=[],x=Array.isArray(E.styles)?E.styles:[E.styles];for(let Ae of x)"string"==typeof Ae?Ae===se.kp?d.push(Ae):o.errors.push(new e.wOt(3002,!1)):d.push(new Map(Object.entries(Ae)));let ee=!1,Pe=null;return d.forEach(Ae=>{if(Ae instanceof Map&&(Ae.has("easing")&&(Pe=Ae.get("easing"),Ae.delete("easing")),!ee))for(let ht of Ae.values())if(ht.toString().indexOf("{{")>=0){ee=!0;break}}),{type:se.If.Style,styles:d,easing:Pe,offset:E.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(E,o){const d=o.currentAnimateTimings;let x=o.currentTime,ee=o.currentTime;d&&ee>0&&(ee-=d.duration+d.delay),E.styles.forEach(Pe=>{"string"!=typeof Pe&&Pe.forEach((Ae,ht)=>{const Ut=o.collectedStyles.get(o.currentQuerySelector),_n=Ut.get(ht);let cn=!0;_n&&(ee!=x&&ee>=_n.startTime&&x<=_n.endTime&&(o.errors.push(function $e(p,E,o,d,x){return new e.wOt(3010,!1)}()),cn=!1),ee=_n.startTime),cn&&Ut.set(ht,{startTime:ee,endTime:x}),o.options&&function vt(p,E,o){const d=E.params||{},x=nn(p);x.length&&x.forEach(ee=>{d.hasOwnProperty(ee)||o.push(function be(p){return new e.wOt(3001,!1)}())})}(Ae,o.options,o.errors)})})}visitKeyframes(E,o){const d={type:se.If.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Fe(){return new e.wOt(3011,!1)}()),d;let ee=0;const Pe=[];let Ae=!1,ht=!1,Ut=0;const _n=E.steps.map(Ni=>{const ci=this._makeStyleAst(Ni,o);let fr=null!=ci.offset?ci.offset:function lo(p){if("string"==typeof p)return null;let E=null;if(Array.isArray(p))p.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;E=parseFloat(d.get("offset")),d.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const o=p;E=parseFloat(o.get("offset")),o.delete("offset")}return E}(ci.styles),mr=0;return null!=fr&&(ee++,mr=ci.offset=fr),ht=ht||mr<0||mr>1,Ae=Ae||mr<Ut,Ut=mr,Pe.push(mr),ci});ht&&o.errors.push(function st(){return new e.wOt(3012,!1)}()),Ae&&o.errors.push(function Ie(){return new e.wOt(3200,!1)}());const cn=E.steps.length;let rs=0;ee>0&&ee<cn?o.errors.push(function We(){return new e.wOt(3202,!1)}()):0==ee&&(rs=1/(cn-1));const ms=cn-1,Bn=o.currentTime,es=o.currentAnimateTimings,zs=es.duration;return _n.forEach((Ni,ci)=>{const fr=rs>0?ci==ms?1:rs*ci:Pe[ci],mr=fr*zs;o.currentTime=Bn+es.delay+mr,es.duration=mr,this._validateStyleAst(Ni,o),Ni.offset=fr,d.styles.push(Ni)}),d}visitReference(E,o){return{type:se.If.Reference,animation:ls(this,dt(E.animation),o),options:Lr(E.options)}}visitAnimateChild(E,o){return o.depCount++,{type:se.If.AnimateChild,options:Lr(E.options)}}visitAnimateRef(E,o){return{type:se.If.AnimateRef,animation:this.visitReference(E.animation,o),options:Lr(E.options)}}visitQuery(E,o){const d=o.currentQuerySelector,x=E.options||{};o.queryCount++,o.currentQuery=E;const[ee,Pe]=function ar(p){const E=!!p.split(/\s*,\s*/).find(o=>":self"==o);return E&&(p=p.replace(Wn,"")),p=p.replace(/@\*/g,os).replace(/@\w+/g,o=>os+"-"+o.slice(1)).replace(/:animating/g,pn),[p,E]}(E.selector);o.currentQuerySelector=d.length?d+" "+ee:ee,ke(o.collectedStyles,o.currentQuerySelector,new Map);const Ae=ls(this,dt(E.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:se.If.Query,selector:ee,limit:x.limit||0,optional:!!x.optional,includeSelf:Pe,animation:Ae,originalSelector:E.selector,options:Lr(E.options)}}visitStagger(E,o){o.currentQuery||o.errors.push(function Dt(){return new e.wOt(3013,!1)}());const d="full"===E.timings?{duration:0,delay:0,easing:"full"}:ri(E.timings,o.errors,!0);return{type:se.If.Stagger,animation:ls(this,dt(E.animation),o),timings:d,options:null}}}class Bi{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(p){return p?(p={...p}).params&&(p.params=function pi(p){return p?{...p}:null}(p.params)):p={},p}function Io(p,E,o){return{duration:p,delay:E,easing:o}}function co(p,E,o,d,x,ee,Pe=null,Ae=!1){return{type:1,element:p,keyframes:E,preStyleProps:o,postStyleProps:d,duration:x,delay:ee,totalTime:x+ee,easing:Pe,subTimeline:Ae}}class kr{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,o){let d=this._map.get(E);d||this._map.set(E,d=[]),d.push(...o)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const Lo=new RegExp(":enter","g"),Hr=new RegExp(":leave","g");function xs(p,E,o,d,x,ee=new Map,Pe=new Map,Ae,ht,Ut=[]){return(new to).buildKeyframes(p,E,o,d,x,ee,Pe,Ae,ht,Ut)}class to{buildKeyframes(E,o,d,x,ee,Pe,Ae,ht,Ut,_n=[]){Ut=Ut||new kr;const cn=new Tr(E,o,Ut,x,ee,_n,[]);cn.options=ht;const rs=ht.delay?Zn(ht.delay):0;cn.currentTimeline.delayNextStep(rs),cn.currentTimeline.setStyles([Pe],null,cn.errors,ht),ls(this,d,cn);const ms=cn.timelines.filter(Bn=>Bn.containsAnimation());if(ms.length&&Ae.size){let Bn;for(let es=ms.length-1;es>=0;es--){const zs=ms[es];if(zs.element===o){Bn=zs;break}}Bn&&!Bn.allowOnlyTimelineStyles()&&Bn.setStyles([Ae],null,cn.errors,ht)}return ms.length?ms.map(Bn=>Bn.buildKeyframes()):[co(o,[],[],[],0,rs,"",!1)]}visitTrigger(E,o){}visitState(E,o){}visitTransition(E,o){}visitAnimateChild(E,o){const d=o.subInstructions.get(o.element);if(d){const x=o.createSubContext(E.options),ee=o.currentTimeline.currentTime,Pe=this._visitSubInstructions(d,x,x.options);ee!=Pe&&o.transformIntoNewTimeline(Pe)}o.previousNode=E}visitAnimateRef(E,o){const d=o.createSubContext(E.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],o,d),this.visitReference(E.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=E}_applyAnimationRefDelays(E,o,d){for(const x of E){const ee=x?.delay;if(ee){const Pe="number"==typeof ee?ee:Zn(Dn(ee,x?.params??{},o.errors));d.delayNextStep(Pe)}}}_visitSubInstructions(E,o,d){let ee=o.currentTimeline.currentTime;const Pe=null!=d.duration?Zn(d.duration):null,Ae=null!=d.delay?Zn(d.delay):null;return 0!==Pe&&E.forEach(ht=>{const Ut=o.appendInstructionToTimeline(ht,Pe,Ae);ee=Math.max(ee,Ut.duration+Ut.delay)}),ee}visitReference(E,o){o.updateOptions(E.options,!0),ls(this,E.animation,o),o.previousNode=E}visitSequence(E,o){const d=o.subContextCount;let x=o;const ee=E.options;if(ee&&(ee.params||ee.delay)&&(x=o.createSubContext(ee),x.transformIntoNewTimeline(),null!=ee.delay)){x.previousNode.type==se.If.Style&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=xo);const Pe=Zn(ee.delay);x.delayNextStep(Pe)}E.steps.length&&(E.steps.forEach(Pe=>ls(this,Pe,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>d&&x.transformIntoNewTimeline()),o.previousNode=E}visitGroup(E,o){const d=[];let x=o.currentTimeline.currentTime;const ee=E.options&&E.options.delay?Zn(E.options.delay):0;E.steps.forEach(Pe=>{const Ae=o.createSubContext(E.options);ee&&Ae.delayNextStep(ee),ls(this,Pe,Ae),x=Math.max(x,Ae.currentTimeline.currentTime),d.push(Ae.currentTimeline)}),d.forEach(Pe=>o.currentTimeline.mergeTimelineCollectedStyles(Pe)),o.transformIntoNewTimeline(x),o.previousNode=E}_visitTiming(E,o){if(E.dynamic){const d=E.strValue;return ri(o.params?Dn(d,o.params,o.errors):d,o.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,o){const d=o.currentAnimateTimings=this._visitTiming(E.timings,o),x=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),x.snapshotCurrentStyles());const ee=E.style;ee.type==se.If.Keyframes?this.visitKeyframes(ee,o):(o.incrementTime(d.duration),this.visitStyle(ee,o),x.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=E}visitStyle(E,o){const d=o.currentTimeline,x=o.currentAnimateTimings;!x&&d.hasCurrentStyleProperties()&&d.forwardFrame();const ee=x&&x.easing||E.easing;E.isEmptyStep?d.applyEmptyStep(ee):d.setStyles(E.styles,ee,o.errors,o.options),o.previousNode=E}visitKeyframes(E,o){const d=o.currentAnimateTimings,x=o.currentTimeline.duration,ee=d.duration,Ae=o.createSubContext().currentTimeline;Ae.easing=d.easing,E.styles.forEach(ht=>{Ae.forwardTime((ht.offset||0)*ee),Ae.setStyles(ht.styles,ht.easing,o.errors,o.options),Ae.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Ae),o.transformIntoNewTimeline(x+ee),o.previousNode=E}visitQuery(E,o){const d=o.currentTimeline.currentTime,x=E.options||{},ee=x.delay?Zn(x.delay):0;ee&&(o.previousNode.type===se.If.Style||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=xo);let Pe=d;const Ae=o.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!x.optional,o.errors);o.currentQueryTotal=Ae.length;let ht=null;Ae.forEach((Ut,_n)=>{o.currentQueryIndex=_n;const cn=o.createSubContext(E.options,Ut);ee&&cn.delayNextStep(ee),Ut===o.element&&(ht=cn.currentTimeline),ls(this,E.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),Pe=Math.max(Pe,cn.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(Pe),ht&&(o.currentTimeline.mergeTimelineCollectedStyles(ht),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=E}visitStagger(E,o){const d=o.parentContext,x=o.currentTimeline,ee=E.timings,Pe=Math.abs(ee.duration),Ae=Pe*(o.currentQueryTotal-1);let ht=Pe*o.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":ht=Ae-ht;break;case"full":ht=d.currentStaggerTime}const _n=o.currentTimeline;ht&&_n.delayNextStep(ht);const cn=_n.currentTime;ls(this,E.animation,o),o.previousNode=E,d.currentStaggerTime=x.currentTime-cn+(x.startTime-d.currentTimeline.startTime)}}const xo={};class Tr{constructor(E,o,d,x,ee,Pe,Ae,ht){this._driver=E,this.element=o,this.subInstructions=d,this._enterClassName=x,this._leaveClassName=ee,this.errors=Pe,this.timelines=Ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ht||new ho(this._driver,o,0),Ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,o){if(!E)return;const d=E;let x=this.options;null!=d.duration&&(x.duration=Zn(d.duration)),null!=d.delay&&(x.delay=Zn(d.delay));const ee=d.params;if(ee){let Pe=x.params;Pe||(Pe=this.options.params={}),Object.keys(ee).forEach(Ae=>{(!o||!Pe.hasOwnProperty(Ae))&&(Pe[Ae]=Dn(ee[Ae],Pe,this.errors))})}}_copyOptions(){const E={};if(this.options){const o=this.options.params;if(o){const d=E.params={};Object.keys(o).forEach(x=>{d[x]=o[x]})}}return E}createSubContext(E=null,o,d){const x=o||this.element,ee=new Tr(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,d||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(E),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(E){return this.previousNode=xo,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,o,d){const x={duration:o??E.duration,delay:this.currentTimeline.currentTime+(d??0)+E.delay,easing:""},ee=new zo(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,x,E.stretchStartingKeyframe);return this.timelines.push(ee),x}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,o,d,x,ee,Pe){let Ae=[];if(x&&Ae.push(this.element),E.length>0){E=(E=E.replace(Lo,"."+this._enterClassName)).replace(Hr,"."+this._leaveClassName);let Ut=this._driver.query(this.element,E,1!=d);0!==d&&(Ut=d<0?Ut.slice(Ut.length+d,Ut.length):Ut.slice(0,d)),Ae.push(...Ut)}return!ee&&0==Ae.length&&Pe.push(function kt(p){return new e.wOt(3014,!1)}()),Ae}}class ho{constructor(E,o,d,x){this._driver=E,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=x,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+E),o&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,o){return this.applyStylesToKeyframe(),new ho(this._driver,E,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,o){this._localTimelineStyles.set(E,o),this._globalTimelineStyles.set(E,o),this._styleSummary.set(E,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||se.kp),this._currentKeyframe.set(o,se.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,o,d,x){o&&this._previousKeyframe.set("easing",o);const ee=x&&x.params||{},Pe=function zr(p,E){const o=new Map;let d;return p.forEach(x=>{if("*"===x){d??=E.keys();for(let ee of d)o.set(ee,se.kp)}else for(let[ee,Pe]of x)o.set(ee,Pe)}),o}(E,this._globalTimelineStyles);for(let[Ae,ht]of Pe){const Ut=Dn(ht,ee,d);this._pendingStyles.set(Ae,Ut),this._localTimelineStyles.has(Ae)||this._backFill.set(Ae,this._globalTimelineStyles.get(Ae)??se.kp),this._updateStyle(Ae,Ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,o)=>{this._currentKeyframe.set(o,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,E)}))}snapshotCurrentStyles(){for(let[E,o]of this._localTimelineStyles)this._pendingStyles.set(E,o),this._updateStyle(E,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let o in this._currentKeyframe)E.push(o);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((o,d)=>{const x=this._styleSummary.get(d);(!x||o.time>x.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((Ae,ht)=>{const Ut=new Map([...this._backFill,...Ae]);Ut.forEach((_n,cn)=>{_n===se.FX?E.add(cn):_n===se.kp&&o.add(cn)}),d||Ut.set("offset",ht/this.duration),x.push(Ut)});const ee=[...E.values()],Pe=[...o.values()];if(d){const Ae=x[0],ht=new Map(Ae);Ae.set("offset",0),ht.set("offset",1),x=[Ae,ht]}return co(this.element,x,ee,Pe,this.duration,this.startTime,this.easing,!1)}}class zo extends ho{constructor(E,o,d,x,ee,Pe,Ae=!1){super(E,o,Pe.delay),this.keyframes=d,this.preStyleProps=x,this.postStyleProps=ee,this._stretchStartingKeyframe=Ae,this.timings={duration:Pe.duration,delay:Pe.delay,easing:Pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:o,duration:d,easing:x}=this.timings;if(this._stretchStartingKeyframe&&o){const ee=[],Pe=d+o,Ae=o/Pe,ht=new Map(E[0]);ht.set("offset",0),ee.push(ht);const Ut=new Map(E[0]);Ut.set("offset",vo(Ae)),ee.push(Ut);const _n=E.length-1;for(let cn=1;cn<=_n;cn++){let rs=new Map(E[cn]);const ms=rs.get("offset");rs.set("offset",vo((o+ms*d)/Pe)),ee.push(rs)}d=Pe,o=0,x="",E=ee}return co(this.element,E,this.preStyleProps,this.postStyleProps,d,o,x,!0)}}function vo(p,E=3){const o=Math.pow(10,E-1);return Math.round(p*o)/o}function yo(p,E,o,d,x,ee,Pe,Ae,ht,Ut,_n,cn,rs){return{type:0,element:p,triggerName:E,isRemovalTransition:x,fromState:o,fromStyles:ee,toState:d,toStyles:Pe,timelines:Ae,queriedElements:ht,preStyleProps:Ut,postStyleProps:_n,totalTime:cn,errors:rs}}const Yo={};class Ea{constructor(E,o,d){this._triggerName=E,this.ast=o,this._stateStyles=d}match(E,o,d,x){return function qe(p,E,o,d,x){return p.some(ee=>ee(E,o,d,x))}(this.ast.matchers,E,o,d,x)}buildStyles(E,o,d){let x=this._stateStyles.get("*");return void 0!==E&&(x=this._stateStyles.get(E?.toString())||x),x?x.buildStyles(o,d):new Map}build(E,o,d,x,ee,Pe,Ae,ht,Ut,_n){const cn=[],rs=this.ast.options&&this.ast.options.params||Yo,Bn=this.buildStyles(d,Ae&&Ae.params||Yo,cn),es=ht&&ht.params||Yo,zs=this.buildStyles(x,es,cn),Ni=new Set,ci=new Map,fr=new Map,mr="void"===x,Zl={params:rt(es,rs),delay:this.ast.options?.delay},ql=_n?[]:xs(E,o,this.ast.animation,ee,Pe,Bn,zs,Zl,Ut,cn);let Na=0;return ql.forEach(ya=>{Na=Math.max(ya.duration+ya.delay,Na)}),cn.length?yo(o,this._triggerName,d,x,mr,Bn,zs,[],[],ci,fr,Na,cn):(ql.forEach(ya=>{const kd=ya.element,td=ke(ci,kd,new Set);ya.preStyleProps.forEach(Vd=>td.add(Vd));const EP=ke(fr,kd,new Set);ya.postStyleProps.forEach(Vd=>EP.add(Vd)),kd!==o&&Ni.add(kd)}),yo(o,this._triggerName,d,x,mr,Bn,zs,ql,[...Ni.values()],ci,fr,Na))}}function rt(p,E){const o={...E};return Object.entries(p).forEach(([d,x])=>{null!=x&&(o[d]=x)}),o}class Nt{constructor(E,o,d){this.styles=E,this.defaultParams=o,this.normalizer=d}buildStyles(E,o){const d=new Map,x=rt(E,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Pe,Ae)=>{Pe&&(Pe=Dn(Pe,x,o));const ht=this.normalizer.normalizePropertyName(Ae,o);Pe=this.normalizer.normalizeStyleValue(Ae,ht,Pe,o),d.set(Ae,Pe)})}),d}}class Tn{constructor(E,o,d){this.name=E,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(x=>{this.states.set(x.name,new Nt(x.style,x.options&&x.options.params||{},d))}),Es(this.states,"true","1"),Es(this.states,"false","0"),o.transitions.forEach(x=>{this.transitionFactories.push(new Ea(E,x,this.states))}),this.fallbackTransition=function Qn(p,E,o){return new Ea(p,{type:se.If.Transition,animation:{type:se.If.Sequence,steps:[],options:null},matchers:[(Pe,Ae)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,o,d,x){return this.transitionFactories.find(Pe=>Pe.match(E,o,d,x))||null}matchStyles(E,o,d){return this.fallbackTransition.buildStyles(E,o,d)}}function Es(p,E,o){p.has(E)?p.has(o)||p.set(o,p.get(E)):p.has(o)&&p.set(E,p.get(o))}const Gs=new kr;class Cs{constructor(E,o,d){this.bodyNode=E,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,o){const d=[],ee=_s(this._driver,o,d,[]);if(d.length)throw function an(p){return new e.wOt(3503,!1)}();this._animations.set(E,ee)}_buildPlayer(E,o,d){const x=E.element,ee=Et(this._normalizer,E.keyframes,o,d);return this._driver.animate(x,ee,E.duration,E.delay,E.easing,[],!0)}create(E,o,d={}){const x=[],ee=this._animations.get(E);let Pe;const Ae=new Map;if(ee?(Pe=xs(this._driver,o,ee,Ys,gs,new Map,new Map,d,Gs,x),Pe.forEach(_n=>{const cn=ke(Ae,_n.element,new Map);_n.postStyleProps.forEach(rs=>cn.set(rs,null))})):(x.push(function In(){return new e.wOt(3300,!1)}()),Pe=[]),x.length)throw function Tt(p){return new e.wOt(3504,!1)}();Ae.forEach((_n,cn)=>{_n.forEach((rs,ms)=>{_n.set(ms,this._driver.computeStyle(cn,ms,se.kp))})});const Ut=Qt(Pe.map(_n=>{const cn=Ae.get(_n.element);return this._buildPlayer(_n,new Map,cn)}));return this._playersById.set(E,Ut),Ut.onDestroy(()=>this.destroy(E)),this.players.push(Ut),Ut}destroy(E){const o=this._getPlayer(E);o.destroy(),this._playersById.delete(E);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(E){const o=this._playersById.get(E);if(!o)throw function Wt(p){return new e.wOt(3301,!1)}();return o}listen(E,o,d,x){const ee=Ne(o,"","","");return Lt(this._getPlayer(E),d,ee,x),()=>{}}command(E,o,d,x){if("register"==d)return void this.register(E,x[0]);if("create"==d)return void this.create(E,o,x[0]||{});const ee=this._getPlayer(E);switch(d){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(E)}}}const di="ng-animate-queued",ui="ng-animate-disabled",Er=[],Zi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$s={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qi="__ng_removed";class Vr{get params(){return this.options.params}constructor(E,o=""){this.namespaceId=o;const d=E&&E.hasOwnProperty("value");if(this.value=function Ve(p){return p??null}(d?E.value:E),d){const{value:ee,...Pe}=E;this.options=Pe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const o=E.params;if(o){const d=this.options.params;Object.keys(o).forEach(x=>{null==d[x]&&(d[x]=o[x])})}}}const cr="void",gr=new Vr(cr);class Xo{constructor(E,o,d){this.id=E,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,zt(o,this._hostClassName)}listen(E,o,d,x){if(!this._triggers.has(o))throw function It(p,E){return new e.wOt(3302,!1)}();if(null==d||0==d.length)throw function qt(p){return new e.wOt(3303,!1)}();if(!function ie(p){return"start"==p||"done"==p}(d))throw function ln(p,E){return new e.wOt(3400,!1)}();const ee=ke(this._elementListeners,E,[]),Pe={name:o,phase:d,callback:x};ee.push(Pe);const Ae=ke(this._engine.statesByElement,E,new Map);return Ae.has(o)||(zt(E,Ss),zt(E,Ss+"-"+o),Ae.set(o,gr)),()=>{this._engine.afterFlush(()=>{const ht=ee.indexOf(Pe);ht>=0&&ee.splice(ht,1),this._triggers.has(o)||Ae.delete(o)})}}register(E,o){return!this._triggers.has(E)&&(this._triggers.set(E,o),!0)}_getTrigger(E){const o=this._triggers.get(E);if(!o)throw function Mt(p){return new e.wOt(3401,!1)}();return o}trigger(E,o,d,x=!0){const ee=this._getTrigger(o),Pe=new Gr(this.id,o,E);let Ae=this._engine.statesByElement.get(E);Ae||(zt(E,Ss),zt(E,Ss+"-"+o),this._engine.statesByElement.set(E,Ae=new Map));let ht=Ae.get(o);const Ut=new Vr(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ht&&Ut.absorbOptions(ht.options),Ae.set(o,Ut),ht||(ht=gr),Ut.value!==cr&&ht.value===Ut.value){if(!function Yi(p,E){const o=Object.keys(p),d=Object.keys(E);if(o.length!=d.length)return!1;for(let x=0;x<o.length;x++){const ee=o[x];if(!E.hasOwnProperty(ee)||p[ee]!==E[ee])return!1}return!0}(ht.params,Ut.params)){const es=[],zs=ee.matchStyles(ht.value,ht.params,es),Ni=ee.matchStyles(Ut.value,Ut.params,es);es.length?this._engine.reportError(es):this._engine.afterFlush(()=>{at(E,zs),en(E,Ni)})}return}const rs=ke(this._engine.playersByElement,E,[]);rs.forEach(es=>{es.namespaceId==this.id&&es.triggerName==o&&es.queued&&es.destroy()});let ms=ee.matchTransition(ht.value,Ut.value,E,Ut.params),Bn=!1;if(!ms){if(!x)return;ms=ee.fallbackTransition,Bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:o,transition:ms,fromState:ht,toState:Ut,player:Pe,isFallbackTransition:Bn}),Bn||(zt(E,di),Pe.onStart(()=>{En(E,di)})),Pe.onDone(()=>{let es=this.players.indexOf(Pe);es>=0&&this.players.splice(es,1);const zs=this._engine.playersByElement.get(E);if(zs){let Ni=zs.indexOf(Pe);Ni>=0&&zs.splice(Ni,1)}}),this.players.push(Pe),rs.push(Pe),Pe}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(o=>o.delete(E)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(x=>x.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const o=this._engine.playersByElement.get(E);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,o){const d=this._engine.driver.query(E,os,!0);d.forEach(x=>{if(x[qi])return;const ee=this._engine.fetchNamespacesByElement(x);ee.size?ee.forEach(Pe=>Pe.triggerLeaveAnimation(x,o,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(E,o,d,x){const ee=this._engine.statesByElement.get(E),Pe=new Map;if(ee){const Ae=[];if(ee.forEach((ht,Ut)=>{if(Pe.set(Ut,ht.value),this._triggers.has(Ut)){const _n=this.trigger(E,Ut,cr,x);_n&&Ae.push(_n)}}),Ae.length)return this._engine.markElementAsRemoved(this.id,E,!0,o,Pe),d&&Qt(Ae).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const o=this._elementListeners.get(E),d=this._engine.statesByElement.get(E);if(o&&d){const x=new Set;o.forEach(ee=>{const Pe=ee.name;if(x.has(Pe))return;x.add(Pe);const ht=this._triggers.get(Pe).fallbackTransition,Ut=d.get(Pe)||gr,_n=new Vr(cr),cn=new Gr(this.id,Pe,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Pe,transition:ht,fromState:Ut,toState:_n,player:cn,isFallbackTransition:!0})})}}removeNode(E,o){const d=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,o),this.triggerLeaveAnimation(E,o,!0))return;let x=!1;if(d.totalAnimations){const ee=d.players.length?d.playersByQueriedElement.get(E):[];if(ee&&ee.length)x=!0;else{let Pe=E;for(;Pe=Pe.parentNode;)if(d.statesByElement.get(Pe)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(E),x)d.markElementAsRemoved(this.id,E,!1,o);else{const ee=E[qi];(!ee||ee===Zi)&&(d.afterFlush(()=>this.clearElementCache(E)),d.destroyInnerAnimations(E),d._onRemovalComplete(E,o))}}insertNode(E,o){zt(E,this._hostClassName)}drainQueuedTransitions(E){const o=[];return this._queue.forEach(d=>{const x=d.player;if(x.destroyed)return;const ee=d.element,Pe=this._elementListeners.get(ee);Pe&&Pe.forEach(Ae=>{if(Ae.name==d.triggerName){const ht=Ne(ee,d.triggerName,d.fromState.value,d.toState.value);ht._data=E,Lt(d.player,Ae.phase,ht,Ae.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):o.push(d)}),this._queue=[],o.sort((d,x)=>{const ee=d.transition.ast.depCount,Pe=x.transition.ast.depCount;return 0==ee||0==Pe?ee-Pe:this._engine.driver.containsElement(d.element,x.element)?1:-1})}destroy(E){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class hr{_onRemovalComplete(E,o){this.onRemovalComplete(E,o)}constructor(E,o,d,x){this.bodyNode=E,this.driver=o,this._normalizer=d,this.scheduler=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,Pe)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&E.push(d)})}),E}createNamespace(E,o){const d=new Xo(E,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[E]=d}_balanceNamespaceList(E,o){const d=this._namespaceList,x=this.namespacesByHostElement;if(d.length-1>=0){let Pe=!1,Ae=this.driver.getParentElement(o);for(;Ae;){const ht=x.get(Ae);if(ht){const Ut=d.indexOf(ht);d.splice(Ut+1,0,E),Pe=!0;break}Ae=this.driver.getParentElement(Ae)}Pe||d.unshift(E)}else d.push(E);return x.set(o,E),E}register(E,o){let d=this._namespaceLookup[E];return d||(d=this.createNamespace(E,o)),d}registerTrigger(E,o,d){let x=this._namespaceLookup[E];x&&x.register(o,d)&&this.totalAnimations++}destroy(E,o){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(E);this.namespacesByHostElement.delete(d.hostElement);const x=this._namespaceList.indexOf(d);x>=0&&this._namespaceList.splice(x,1),d.destroy(o),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const o=new Set,d=this.statesByElement.get(E);if(d)for(let x of d.values())if(x.namespaceId){const ee=this._fetchNamespace(x.namespaceId);ee&&o.add(ee)}return o}trigger(E,o,d,x){if(Ye(o)){const ee=this._fetchNamespace(E);if(ee)return ee.trigger(o,d,x),!0}return!1}insertNode(E,o,d,x){if(!Ye(o))return;const ee=o[qi];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Pe=this.collectedLeaveElements.indexOf(o);Pe>=0&&this.collectedLeaveElements.splice(Pe,1)}if(E){const Pe=this._fetchNamespace(E);Pe&&Pe.insertNode(o,d)}x&&this.collectEnterElement(o)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,o){o?this.disabledNodes.has(E)||(this.disabledNodes.add(E),zt(E,ui)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),En(E,ui))}removeNode(E,o,d){if(Ye(o)){this.scheduler?.notify();const x=E?this._fetchNamespace(E):null;x?x.removeNode(o,d):this.markElementAsRemoved(E,o,!1,d);const ee=this.namespacesByHostElement.get(o);ee&&ee.id!==E&&ee.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(E,o,d,x,ee){this.collectedLeaveElements.push(o),o[qi]={namespaceId:E,setForRemoval:x,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(E,o,d,x,ee){return Ye(o)?this._fetchNamespace(E).listen(o,d,x,ee):()=>{}}_buildInstruction(E,o,d,x,ee){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,d,x,E.fromState.options,E.toState.options,o,ee)}destroyInnerAnimations(E){let o=this.driver.query(E,os,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(E,pn,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(E){const o=this.playersByElement.get(E);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(E){const o=this.playersByQueriedElement.get(E);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Qt(this.players).onDone(()=>E());E()})}processLeaveNode(E){const o=E[qi];if(o&&o.setForRemoval){if(E[qi]=Zi,o.namespaceId){this.destroyInnerAnimations(E);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(E)}this._onRemovalComplete(E,o.setForRemoval)}E.classList?.contains(ui)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(E=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,x)=>this._balanceNamespaceList(d,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)zt(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,E)}finally{for(let x=0;x<d.length;x++)d[x]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Qt(o).onDone(()=>{d.forEach(x=>x())}):d.forEach(x=>x())}}reportError(E){throw function Ht(p){return new e.wOt(3402,!1)}()}_flushAnimations(E,o){const d=new kr,x=[],ee=new Map,Pe=[],Ae=new Map,ht=new Map,Ut=new Map,_n=new Set;this.disabledNodes.forEach(ks=>{_n.add(ks);const Qs=this.driver.query(ks,".ng-animate-queued",!0);for(let ti=0;ti<Qs.length;ti++)_n.add(Qs[ti])});const cn=this.bodyNode,rs=Array.from(this.statesByElement.keys()),ms=yt(rs,this.collectedEnterElements),Bn=new Map;let es=0;ms.forEach((ks,Qs)=>{const ti=Ys+es++;Bn.set(Qs,ti),ks.forEach(Ki=>zt(Ki,ti))});const zs=[],Ni=new Set,ci=new Set;for(let ks=0;ks<this.collectedLeaveElements.length;ks++){const Qs=this.collectedLeaveElements[ks],ti=Qs[qi];ti&&ti.setForRemoval&&(zs.push(Qs),Ni.add(Qs),ti.hasAnimation?this.driver.query(Qs,".ng-star-inserted",!0).forEach(Ki=>Ni.add(Ki)):ci.add(Qs))}const fr=new Map,mr=yt(rs,Array.from(Ni));mr.forEach((ks,Qs)=>{const ti=gs+es++;fr.set(Qs,ti),ks.forEach(Ki=>zt(Ki,ti))}),E.push(()=>{ms.forEach((ks,Qs)=>{const ti=Bn.get(Qs);ks.forEach(Ki=>En(Ki,ti))}),mr.forEach((ks,Qs)=>{const ti=fr.get(Qs);ks.forEach(Ki=>En(Ki,ti))}),zs.forEach(ks=>{this.processLeaveNode(ks)})});const Zl=[],ql=[];for(let ks=this._namespaceList.length-1;ks>=0;ks--)this._namespaceList[ks].drainQueuedTransitions(o).forEach(ti=>{const Ki=ti.player,wo=ti.element;if(Zl.push(Ki),this.collectedEnterElements.length){const Wo=wo[qi];if(Wo&&Wo.setForMove){if(Wo.previousTriggersValues&&Wo.previousTriggersValues.has(ti.triggerName)){const tc=Wo.previousTriggersValues.get(ti.triggerName),cl=this.statesByElement.get(ti.element);if(cl&&cl.has(ti.triggerName)){const Km=cl.get(ti.triggerName);Km.value=tc,cl.set(ti.triggerName,Km)}}return void Ki.destroy()}}const ec=!cn||!this.driver.containsElement(cn,wo),ll=fr.get(wo),Gd=Bn.get(wo),qr=this._buildInstruction(ti,d,Gd,ll,ec);if(qr.errors&&qr.errors.length)return void ql.push(qr);if(ec)return Ki.onStart(()=>at(wo,qr.fromStyles)),Ki.onDestroy(()=>en(wo,qr.toStyles)),void x.push(Ki);if(ti.isFallbackTransition)return Ki.onStart(()=>at(wo,qr.fromStyles)),Ki.onDestroy(()=>en(wo,qr.toStyles)),void x.push(Ki);const CP=[];qr.timelines.forEach(Wo=>{Wo.stretchStartingKeyframe=!0,this.disabledNodes.has(Wo.element)||CP.push(Wo)}),qr.timelines=CP,d.append(wo,qr.timelines),Pe.push({instruction:qr,player:Ki,element:wo}),qr.queriedElements.forEach(Wo=>ke(Ae,Wo,[]).push(Ki)),qr.preStyleProps.forEach((Wo,tc)=>{if(Wo.size){let cl=ht.get(tc);cl||ht.set(tc,cl=new Set),Wo.forEach((Km,Hm)=>cl.add(Hm))}}),qr.postStyleProps.forEach((Wo,tc)=>{let cl=Ut.get(tc);cl||Ut.set(tc,cl=new Set),Wo.forEach((Km,Hm)=>cl.add(Hm))})});if(ql.length){const ks=[];ql.forEach(Qs=>{ks.push(function Pt(p,E){return new e.wOt(3505,!1)}())}),Zl.forEach(Qs=>Qs.destroy()),this.reportError(ks)}const Na=new Map,ya=new Map;Pe.forEach(ks=>{const Qs=ks.element;d.has(Qs)&&(ya.set(Qs,Qs),this._beforeAnimationBuild(ks.player.namespaceId,ks.instruction,Na))}),x.forEach(ks=>{const Qs=ks.element;this._getPreviousPlayers(Qs,!1,ks.namespaceId,ks.triggerName,null).forEach(Ki=>{ke(Na,Qs,[]).push(Ki),Ki.destroy()})});const kd=zs.filter(ks=>Vi(ks,ht,Ut)),td=new Map;me(td,this.driver,ci,Ut,se.kp).forEach(ks=>{Vi(ks,ht,Ut)&&kd.push(ks)});const Vd=new Map;ms.forEach((ks,Qs)=>{me(Vd,this.driver,new Set(ks),ht,se.FX)}),kd.forEach(ks=>{const Qs=td.get(ks),ti=Vd.get(ks);td.set(ks,new Map([...Qs?.entries()??[],...ti?.entries()??[]]))});const Wm=[],Ib=[],Sb={};Pe.forEach(ks=>{const{element:Qs,player:ti,instruction:Ki}=ks;if(d.has(Qs)){if(_n.has(Qs))return ti.onDestroy(()=>en(Qs,Ki.toStyles)),ti.disabled=!0,ti.overrideTotalTime(Ki.totalTime),void x.push(ti);let wo=Sb;if(ya.size>1){let ll=Qs;const Gd=[];for(;ll=ll.parentNode;){const qr=ya.get(ll);if(qr){wo=qr;break}Gd.push(ll)}Gd.forEach(qr=>ya.set(qr,wo))}const ec=this._buildAnimation(ti.namespaceId,Ki,Na,ee,Vd,td);if(ti.setRealPlayer(ec),wo===Sb)Wm.push(ti);else{const ll=this.playersByElement.get(wo);ll&&ll.length&&(ti.parentPlayer=Qt(ll)),x.push(ti)}}else at(Qs,Ki.fromStyles),ti.onDestroy(()=>en(Qs,Ki.toStyles)),Ib.push(ti),_n.has(Qs)&&x.push(ti)}),Ib.forEach(ks=>{const Qs=ee.get(ks.element);if(Qs&&Qs.length){const ti=Qt(Qs);ks.setRealPlayer(ti)}}),x.forEach(ks=>{ks.parentPlayer?ks.syncPlayerEvents(ks.parentPlayer):ks.destroy()});for(let ks=0;ks<zs.length;ks++){const Qs=zs[ks],ti=Qs[qi];if(En(Qs,gs),ti&&ti.hasAnimation)continue;let Ki=[];if(Ae.size){let ec=Ae.get(Qs);ec&&ec.length&&Ki.push(...ec);let ll=this.driver.query(Qs,pn,!0);for(let Gd=0;Gd<ll.length;Gd++){let qr=Ae.get(ll[Gd]);qr&&qr.length&&Ki.push(...qr)}}const wo=Ki.filter(ec=>!ec.destroyed);wo.length?Yn(this,Qs,wo):this.processLeaveNode(Qs)}return zs.length=0,Wm.forEach(ks=>{this.players.push(ks),ks.onDone(()=>{ks.destroy();const Qs=this.players.indexOf(ks);this.players.splice(Qs,1)}),ks.play()}),Wm}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,o,d,x,ee){let Pe=[];if(o){const Ae=this.playersByQueriedElement.get(E);Ae&&(Pe=Ae)}else{const Ae=this.playersByElement.get(E);if(Ae){const ht=!ee||ee==cr;Ae.forEach(Ut=>{Ut.queued||!ht&&Ut.triggerName!=x||Pe.push(Ut)})}}return(d||x)&&(Pe=Pe.filter(Ae=>!(d&&d!=Ae.namespaceId||x&&x!=Ae.triggerName))),Pe}_beforeAnimationBuild(E,o,d){const ee=o.element,Pe=o.isRemovalTransition?void 0:E,Ae=o.isRemovalTransition?void 0:o.triggerName;for(const ht of o.timelines){const Ut=ht.element,_n=Ut!==ee,cn=ke(d,Ut,[]);this._getPreviousPlayers(Ut,_n,Pe,Ae,o.toState).forEach(ms=>{const Bn=ms.getRealPlayer();Bn.beforeDestroy&&Bn.beforeDestroy(),ms.destroy(),cn.push(ms)})}at(ee,o.fromStyles)}_buildAnimation(E,o,d,x,ee,Pe){const Ae=o.triggerName,ht=o.element,Ut=[],_n=new Set,cn=new Set,rs=o.timelines.map(Bn=>{const es=Bn.element;_n.add(es);const zs=es[qi];if(zs&&zs.removedBeforeQueried)return new se.sf(Bn.duration,Bn.delay);const Ni=es!==ht,ci=function cs(p){const E=[];return ws(p,E),E}((d.get(es)||Er).map(Na=>Na.getRealPlayer())).filter(Na=>!!Na.element&&Na.element===es),fr=ee.get(es),mr=Pe.get(es),Zl=Et(this._normalizer,Bn.keyframes,fr,mr),ql=this._buildPlayer(Bn,Zl,ci);if(Bn.subTimeline&&x&&cn.add(es),Ni){const Na=new Gr(E,Ae,es);Na.setRealPlayer(ql),Ut.push(Na)}return ql});Ut.forEach(Bn=>{ke(this.playersByQueriedElement,Bn.element,[]).push(Bn),Bn.onDone(()=>function la(p,E,o){let d=p.get(E);if(d){if(d.length){const x=d.indexOf(o);d.splice(x,1)}0==d.length&&p.delete(E)}return d}(this.playersByQueriedElement,Bn.element,Bn))}),_n.forEach(Bn=>zt(Bn,sn));const ms=Qt(rs);return ms.onDestroy(()=>{_n.forEach(Bn=>En(Bn,sn)),en(ht,o.toStyles)}),cn.forEach(Bn=>{ke(x,Bn,[]).push(ms)}),ms}_buildPlayer(E,o,d){return o.length>0?this.driver.animate(E.element,o,E.duration,E.delay,E.easing,d):new se.sf(E.duration,E.delay)}}class Gr{constructor(E,o,d){this.namespaceId=E,this.triggerName=o,this.element=d,this._player=new se.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((o,d)=>{o.forEach(x=>Lt(E,d,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const o=this._player;o.triggerCallback&&E.onStart(()=>o.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,o){ke(this._queuedCallbacks,E,[]).push(o)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const o=this._player;o.triggerCallback&&o.triggerCallback(E)}}function Ye(p){return p&&1===p.nodeType}function Ge(p,E){const o=p.style.display;return p.style.display=E??"none",o}function me(p,E,o,d,x){const ee=[];o.forEach(ht=>ee.push(Ge(ht)));const Pe=[];d.forEach((ht,Ut)=>{const _n=new Map;ht.forEach(cn=>{const rs=E.computeStyle(Ut,cn,x);_n.set(cn,rs),(!rs||0==rs.length)&&(Ut[qi]=$s,Pe.push(Ut))}),p.set(Ut,_n)});let Ae=0;return o.forEach(ht=>Ge(ht,ee[Ae++])),Pe}function yt(p,E){const o=new Map;if(p.forEach(Ae=>o.set(Ae,[])),0==E.length)return o;const x=new Set(E),ee=new Map;function Pe(Ae){if(!Ae)return 1;let ht=ee.get(Ae);if(ht)return ht;const Ut=Ae.parentNode;return ht=o.has(Ut)?Ut:x.has(Ut)?1:Pe(Ut),ee.set(Ae,ht),ht}return E.forEach(Ae=>{const ht=Pe(Ae);1!==ht&&o.get(ht).push(Ae)}),o}function zt(p,E){p.classList?.add(E)}function En(p,E){p.classList?.remove(E)}function Yn(p,E,o){Qt(o).onDone(()=>p.processLeaveNode(E))}function ws(p,E){for(let o=0;o<p.length;o++){const d=p[o];d instanceof se.ui?ws(d.players,E):E.push(d)}}function Vi(p,E,o){const d=o.get(p);if(!d)return!1;let x=E.get(p);return x?d.forEach(ee=>x.add(ee)):E.set(p,d),o.delete(p),!0}class xr{constructor(E,o,d,x){this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(ee,Pe)=>{},this._transitionEngine=new hr(E.body,o,d,x),this._timelineEngine=new Cs(E.body,o,d),this._transitionEngine.onRemovalComplete=(ee,Pe)=>this.onRemovalComplete(ee,Pe)}registerTrigger(E,o,d,x,ee){const Pe=E+"-"+x;let Ae=this._triggerCache[Pe];if(!Ae){const ht=[],_n=_s(this._driver,ee,ht,[]);if(ht.length)throw function pt(p,E){return new e.wOt(3404,!1)}();Ae=function Bt(p,E,o){return new Tn(p,E,o)}(x,_n,this._normalizer),this._triggerCache[Pe]=Ae}this._transitionEngine.registerTrigger(o,x,Ae)}register(E,o){this._transitionEngine.register(E,o)}destroy(E,o){this._transitionEngine.destroy(E,o)}onInsert(E,o,d,x){this._transitionEngine.insertNode(E,o,d,x)}onRemove(E,o,d){this._transitionEngine.removeNode(E,o,d)}disableAnimations(E,o){this._transitionEngine.markElementAsDisabled(E,o)}process(E,o,d,x){if("@"==d.charAt(0)){const[ee,Pe]=ze(d);this._timelineEngine.command(ee,o,Pe,x)}else this._transitionEngine.trigger(E,o,d,x)}listen(E,o,d,x,ee){if("@"==d.charAt(0)){const[Pe,Ae]=ze(d);return this._timelineEngine.listen(Pe,o,Ae,ee)}return this._transitionEngine.listen(E,o,d,x,ee)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}class Jo{static{this.initialStylesByElement=new WeakMap}constructor(E,o,d){this._element=E,this._startStyles=o,this._endStyles=d,this._state=0;let x=Jo.initialStylesByElement.get(E);x||Jo.initialStylesByElement.set(E,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&en(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(en(this._element,this._initialStyles),this._endStyles&&(en(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Jo.initialStylesByElement.delete(this._element),this._startStyles&&(at(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(at(this._element,this._endStyles),this._endStyles=null),en(this._element,this._initialStyles),this._state=3)}}function So(p){let E=null;return p.forEach((o,d)=>{(function Eo(p){return"display"===p||"position"===p})(d)&&(E=E||new Map,E.set(d,o))}),E}class Co{constructor(E,o,d,x){this.element=E,this.keyframes=o,this.options=d,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const o=[];return E.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(E,o,d){return E.animate(this._convertKeyframesToObject(o),d)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,x)=>{"offset"!==x&&E.set(x,this._finished?d:Ts(this.element,x))}),this.currentSnapshot=E}triggerCallback(E){const o="start"===E?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class ul{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,o){return!1}containsElement(E,o){return ss(E,o)}getParentElement(E){return St(E)}query(E,o,d){return us(E,o,d)}computeStyle(E,o,d){return Ts(E,o)}animate(E,o,d,x,ee,Pe=[]){const ht={duration:d,delay:x,fill:0==x?"both":"forwards"};ee&&(ht.easing=ee);const Ut=new Map,_n=Pe.filter(ms=>ms instanceof Co);(function Ms(p,E){return 0===p||0===E})(d,x)&&_n.forEach(ms=>{ms.currentSnapshot.forEach((Bn,es)=>Ut.set(es,Bn))});let cn=function Gt(p){return p.length?p[0]instanceof Map?p:p.map(E=>new Map(Object.entries(E))):[]}(o).map(ms=>new Map(ms));cn=function ys(p,E,o){if(o.size&&E.length){let d=E[0],x=[];if(o.forEach((ee,Pe)=>{d.has(Pe)||x.push(Pe),d.set(Pe,ee)}),x.length)for(let ee=1;ee<E.length;ee++){let Pe=E[ee];x.forEach(Ae=>Pe.set(Ae,Ts(p,Ae)))}}return E}(E,cn,Ut);const rs=function bi(p,E){let o=null,d=null;return Array.isArray(E)&&E.length?(o=So(E[0]),E.length>1&&(d=So(E[E.length-1]))):E instanceof Map&&(o=So(E)),o||d?new Jo(p,o,d):null}(E,cn);return new Co(E,cn,ht,rs)}}const Qo="@.disabled";class Fo{constructor(E,o,d,x){this.namespaceId=E,this.delegate=o,this.engine=d,this._onDestroy=x,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,o){return this.delegate.createElement(E,o)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,o){this.delegate.appendChild(E,o),this.engine.onInsert(this.namespaceId,o,E,!1)}insertBefore(E,o,d,x=!0){this.delegate.insertBefore(E,o,d),this.engine.onInsert(this.namespaceId,o,E,x)}removeChild(E,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(E,o){return this.delegate.selectRootElement(E,o)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,o,d,x){this.delegate.setAttribute(E,o,d,x)}removeAttribute(E,o,d){this.delegate.removeAttribute(E,o,d)}addClass(E,o){this.delegate.addClass(E,o)}removeClass(E,o){this.delegate.removeClass(E,o)}setStyle(E,o,d,x){this.delegate.setStyle(E,o,d,x)}removeStyle(E,o,d){this.delegate.removeStyle(E,o,d)}setProperty(E,o,d){"@"==o.charAt(0)&&o==Qo?this.disableAnimations(E,!!d):this.delegate.setProperty(E,o,d)}setValue(E,o){this.delegate.setValue(E,o)}listen(E,o,d){return this.delegate.listen(E,o,d)}disableAnimations(E,o){this.engine.disableAnimations(E,o)}}class ca extends Fo{constructor(E,o,d,x,ee){super(o,d,x,ee),this.factory=E,this.namespaceId=o}setProperty(E,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Qo?this.disableAnimations(E,d=void 0===d||!!d):this.engine.process(this.namespaceId,E,o.slice(1),d):this.delegate.setProperty(E,o,d)}listen(E,o,d){if("@"==o.charAt(0)){const x=function Ba(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(E);let ee=o.slice(1),Pe="";return"@"!=ee.charAt(0)&&([ee,Pe]=function Ca(p){const E=p.indexOf(".");return[p.substring(0,E),p.slice(E+1)]}(ee)),this.engine.listen(this.namespaceId,x,ee,Pe,Ae=>{this.factory.scheduleListenerCallback(Ae._data||-1,d,Ae)})}return this.delegate.listen(E,o,d)}}class ni{constructor(E,o,d){this.delegate=E,this.engine=o,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(x,ee)=>{const Pe=ee?.parentNode(x);Pe&&ee.removeChild(Pe,x)}}createRenderer(E,o){const x=this.delegate.createRenderer(E,o);if(!E||!o?.data?.animation){const Ut=this._rendererCache;let _n=Ut.get(x);return _n||(_n=new Fo("",x,this.engine,()=>Ut.delete(x)),Ut.set(x,_n)),_n}const ee=o.id,Pe=o.id+"-"+this._currentId;this._currentId++,this.engine.register(Pe,E);const Ae=Ut=>{Array.isArray(Ut)?Ut.forEach(Ae):this.engine.registerTrigger(ee,Pe,E,Ut.name,Ut)};return o.data.animation.forEach(Ae),new ca(this,Pe,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,o,d){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>o(d));const x=this._animationCallbacksBuffer;0==x.length&&queueMicrotask(()=>{this._zone.run(()=>{x.forEach(ee=>{const[Pe,Ae]=ee;Pe(Ae)}),this._animationCallbacksBuffer=[]})}),x.push([o,d])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let er=(()=>{class p extends xr{constructor(o,d,x){super(o,d,x,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(h.qQ),e.KVO(lt),e.KVO(Yt))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();const ps=[{provide:Yt,useFactory:function pr(){return new ji}},{provide:xr,useClass:er},{provide:e._9s,useFactory:function po(p,E,o){return new ni(p,E,o)},deps:[f.B7,xr,e.SKi]}],da=[{provide:lt,useFactory:()=>new ul},{provide:e.bc$,useValue:"BrowserAnimations"},...ps];var Os=n(7673),Uo=n(70274),Rl=n(57786),Nr=n(71985),Zo=n(21413),pl=n(73557),bo=n(983),qo=n(18810),jo=n(98071);class Yr{constructor(E,o,d){this.kind=E,this.value=o,this.error=d,this.hasValue="N"===E}observe(E){return ea(this,E)}do(E,o,d){const{kind:x,value:ee,error:Pe}=this;return"N"===x?E?.(ee):"E"===x?o?.(Pe):d?.()}accept(E,o,d){var x;return(0,jo.T)(null===(x=E)||void 0===x?void 0:x.next)?this.observe(E):this.do(E,o,d)}toObservable(){const{kind:E,value:o,error:d}=this,x="N"===E?(0,Os.of)(o):"E"===E?(0,qo.$)(()=>d):"C"===E?bo.w:0;if(!x)throw new TypeError(`Unexpected notification kind ${E}`);return x}static createNext(E){return new Yr("N",E)}static createError(E){return new Yr("E",void 0,E)}static createComplete(){return Yr.completeNotification}}function ea(p,E){var o,d,x;const{kind:ee,value:Pe,error:Ae}=p;if("string"!=typeof ee)throw new TypeError('Invalid notification, missing "kind"');"N"===ee?null===(o=E.next)||void 0===o||o.call(E,Pe):"E"===ee?null===(d=E.error)||void 0===d||d.call(E,Ae):null===(x=E.complete)||void 0===x||x.call(E)}Yr.completeNotification=new Yr("C");var ta=n(39974),Vt=n(54360),Rt=n(96354),Mn=n(99437),Fn=n(5964),ts=n(58750);function Ns(p,E,o,d){return(0,ta.N)((x,ee)=>{let Pe;E&&"function"!=typeof E?({duration:o,element:Pe,connector:d}=E):Pe=E;const Ae=new Map,ht=Bn=>{Ae.forEach(Bn),Bn(ee)},Ut=Bn=>ht(es=>es.error(Bn));let _n=0,cn=!1;const rs=new Vt.H(ee,Bn=>{try{const es=p(Bn);let zs=Ae.get(es);if(!zs){Ae.set(es,zs=d?d():new Zo.B);const Ni=function ms(Bn,es){const zs=new Nr.c(Ni=>{_n++;const ci=es.subscribe(Ni);return()=>{ci.unsubscribe(),0==--_n&&cn&&rs.unsubscribe()}});return zs.key=Bn,zs}(es,zs);if(ee.next(Ni),o){const ci=(0,Vt._)(zs,()=>{zs.complete(),ci?.unsubscribe()},void 0,void 0,()=>Ae.delete(es));rs.add((0,ts.Tg)(o(Ni)).subscribe(ci))}}zs.next(Pe?Pe(Bn):Bn)}catch(es){Ut(es)}},()=>ht(Bn=>Bn.complete()),Ut,()=>Ae.clear(),()=>(cn=!0,0===_n));x.subscribe(rs)})}var zn=n(73028);function yi(p,E){return E?o=>o.pipe(yi((d,x)=>(0,ts.Tg)(p(d,x)).pipe((0,Rt.T)((ee,Pe)=>E(d,ee,x,Pe))))):(0,ta.N)((o,d)=>{let x=0,ee=null,Pe=!1;o.subscribe((0,Vt._)(d,Ae=>{ee||(ee=(0,Vt._)(d,void 0,()=>{ee=null,Pe&&d.complete()}),(0,ts.Tg)(p(Ae,x++)).subscribe(ee))},()=>{Pe=!0,!ee&&d.complete()}))})}const tr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ui="__@ngrx/effects_create__";function Ln(p,E={}){const o=E.functional?p:p(),d={...tr,...E};return Object.defineProperty(o,Ui,{value:d}),o}function Je(p){return Object.getPrototypeOf(p)}function Xe(p){return"function"==typeof p}function wt(p){return p.filter(Xe)}function wn(p,E,o){const d=Je(p),ee=d&&"Object"!==d.constructor.name?d.constructor.name:null,Pe=function fe(p){return function nr(p){return Object.getOwnPropertyNames(p).filter(d=>!(!p[d]||!p[d].hasOwnProperty(Ui))&&p[d][Ui].hasOwnProperty("dispatch")).map(d=>({propertyName:d,...p[d][Ui]}))}(p)}(p).map(({propertyName:Ae,dispatch:ht,useEffectsErrorHandler:Ut})=>{const _n="function"==typeof p[Ae]?p[Ae]():p[Ae],cn=Ut?o(_n,E):_n;return!1===ht?cn.pipe((0,pl.w)()):cn.pipe(function on(){return(0,ta.N)((p,E)=>{p.subscribe((0,Vt._)(E,o=>{E.next(Yr.createNext(o))},()=>{E.next(Yr.createComplete()),E.complete()},o=>{E.next(Yr.createError(o)),E.complete()}))})}()).pipe((0,Rt.T)(ms=>({effect:p[Ae],notification:ms,propertyName:Ae,sourceName:ee,sourceInstance:p})))});return(0,Rl.h)(...Pe)}function Us(p,E,o=10){return p.pipe((0,Mn.W)(d=>(E&&E.handleError(d),o<=1?p:Us(p,E,o-1))))}let As=(()=>{class p extends Nr.c{constructor(o){super(),o&&(this.source=o)}lift(o){const d=new p;return d.source=this,d.operator=o,d}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(y.sA))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function $n(...p){return(0,Fn.p)(E=>p.some(o=>"string"==typeof o?o===E.type:o.type===E.type))}const qs=new e.nKC("@ngrx/effects Internal Root Guard"),xi=new e.nKC("@ngrx/effects User Provided Effects"),Ii=new e.nKC("@ngrx/effects Internal Root Effects"),dr=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Xr=new e.nKC("@ngrx/effects Internal Feature Effects"),mi=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),Kn=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Us}),bs="@ngrx/effects/init";(0,y.VP)(bs);function Da(p){return no(p,"ngrxOnInitEffects")}function no(p,E){return p&&E in p&&"function"==typeof p[E]}let ur=(()=>{class p extends Zo.B{constructor(o,d){super(),this.errorHandler=o,this.effectsErrorHandler=d}addEffects(o){this.next(o)}toActions(){return this.pipe(Ns(o=>function Re(p){return!!p.constructor&&"Object"!==p.constructor.name&&"Function"!==p.constructor.name}(o)?Je(o):o),(0,zn.Z)(o=>o.pipe(Ns(ml))),(0,zn.Z)(o=>{const d=o.pipe(yi(ee=>function gl(p,E){return o=>{const d=wn(o,p,E);return function Ws(p){return no(p,"ngrxOnRunEffects")}(o)?o.ngrxOnRunEffects(d):d}}(this.errorHandler,this.effectsErrorHandler)(ee)),(0,Rt.T)(ee=>(function Cr(p,E){if("N"===p.notification.kind){const o=p.notification.value;!function _r(p){return"function"!=typeof p&&p&&p.type&&"string"==typeof p.type}(o)&&E.handleError(new Error(`Effect ${function Fr({propertyName:p,sourceInstance:E,sourceName:o}){const d="function"==typeof E[p];return o?`"${o}.${String(p)}${d?"()":""}"`:`"${String(p)}()"`}(p)} dispatched an invalid action: ${function Ir(p){try{return JSON.stringify(p)}catch{return p}}(o)}`))}}(ee,this.errorHandler),ee.notification)),(0,Fn.p)(ee=>"N"===ee.kind&&null!=ee.value),function Li(){return(0,ta.N)((p,E)=>{p.subscribe((0,Vt._)(E,o=>ea(o,E)))})}()),x=o.pipe((0,T.s)(1),(0,Fn.p)(Da),(0,Rt.T)(ee=>ee.ngrxOnInitEffects()));return(0,Rl.h)(d,x)}))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(e.zcH),e.KVO(Kn))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function ml(p){return function Xi(p){return no(p,"ngrxOnIdentifyEffects")}(p)?p.ngrxOnIdentifyEffects():""}let br=(()=>{class p{get isStarted(){return!!this.effectsSubscription}constructor(o,d){this.effectSources=o,this.store=d,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(ur),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),Sr=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht){this.sources=o,d.start();for(const Ut of ee)o.addEffects(Ut);x.dispatch({type:bs})}addEffects(o){this.sources.addEffects(o)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(ur),e.KVO(br),e.KVO(y.il),e.KVO(dr),e.KVO(y.wc,8),e.KVO(y.ae,8),e.KVO(qs,8))}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({})}}return p})(),nd=(()=>{class p{constructor(o,d,x,ee){const Pe=d.flat();for(const Ae of Pe)o.addEffects(Ae)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(Sr),e.KVO(mi),e.KVO(y.wc,8),e.KVO(y.ae,8))}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({})}}return p})(),na=(()=>{class p{static forFeature(...o){const d=o.flat(),x=wt(d);return{ngModule:nd,providers:[x,{provide:Xr,multi:!0,useValue:d},{provide:xi,multi:!0,useValue:[]},{provide:mi,multi:!0,useFactory:Al,deps:[Xr,xi]}]}}static forRoot(...o){const d=o.flat(),x=wt(d);return{ngModule:Sr,providers:[x,{provide:Ii,useValue:[d]},{provide:qs,useFactory:Xa},{provide:xi,multi:!0,useValue:[]},{provide:dr,useFactory:Al,deps:[Ii,xi]}]}}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({})}}return p})();function Al(p,E){const o=[];for(const d of p)o.push(...d);for(const d of E)o.push(...d);return o.map(d=>function vn(p){return p instanceof e.nKC||Xe(p)}(d)?(0,e.WQX)(d):d)}function Xa(){const p=(0,e.WQX)(br,{optional:!0,skipSelf:!0}),E=(0,e.WQX)(Ii,{self:!0});if((1!==E.length||0!==E[0].length)&&p)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var mo=n(97324),Ps=n(1473),sa=n(20766),Ji=n(53588),ic=n(85188),si=n(82640),Ta=n(43832),Po=n(9901),Ja=n(99452),Jr=n(61242),Ll=n(87832),xl=n(46754),Ua=n(73308),_l=n(74920),ce=n(1748);const Te=["*"];function he(p,E){}let Oe=(()=>{class p extends I.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(o){return n(30130)(`./${o}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1748))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Te,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,he,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var He=n(20968),ut=n(34912),Me=n(95960),_e=n(78221),ae=n(77529),Se=n(2670);const tt=["*"];function At(p,E){}let un=(()=>{class p extends I.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(o){return n(18400)(`./${o}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,2670))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:tt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,At,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var On=n(82290);const Xn=["*"];function ds(p,E){}let vi=(()=>{class p extends I.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(o){return n(46544)(`./${o}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82290))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Xn,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,ds,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var Wi=n(53830);const ma=["*"];function Qa(p,E){}let Oa=(()=>{class p extends I.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(o){return n(94826)(`./${o}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,53830))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ma,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,Qa,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();n(55709),n(25871);const Lc=[h.MD,X.UN],xc=[];let Wd=(()=>{class p{static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({providers:[...xc],imports:[Lc,L.RootComponent,W,ut.HeaderComponent,Me.q,_e.HeaderNavbarWrapperComponent,ae.h,Ta.AdminSidebarComponent,Jr.u,Po.g,Ja.W,Ua.FooterComponent,_l.C,Wi.PageNotFoundComponent,Oa,Ll.BreadcrumbsComponent,xl.B,ce.ForbiddenComponent,Oe,q,vi,On.PageInternalServerErrorComponent,un,Se.PageErrorComponent,He.Y]})}}return p})();var Kd=n(3018),Qu=n(47435),Zu=(n(31264),n(89768));const Za=[];let $p=(()=>{class p{static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({providers:[...Za.map(o=>({provide:o}))],imports:[h.MD,Wd,Kd.HeaderComponent,Qu.HeaderNavbarWrapperComponent,Zu.NavbarComponent]})}}return p})(),Wp=(()=>{class p{static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[$p]})}}return p})();var js=n(25558),Xm=n(61594),Gi=n(54476),Nc=n(39548),$r=n(19340),To=n(43323);let a0=(()=>{class p{constructor(o,d){this.actions$=o,this.menuService=d,this.menuID=$r.D.PUBLIC,this.resize$=Ln(()=>this.actions$.pipe($n(j.O.RESIZE),(0,Rt.T)(()=>new Gi.F$(this.menuID)))),this.routeChange$=Ln(()=>this.actions$.pipe($n(sa.hr),(0,Rt.T)(()=>new Gi.F$(this.menuID)))),this.openAdminSidebar$=Ln(()=>this.actions$.pipe($n(Gi.jZ.EXPAND_MENU_PREVIEW),(0,js.n)(x=>this.menuService.getMenu(x.menuID).pipe((0,Xm.$)(),(0,Rt.T)(ee=>ee.id===$r.D.ADMIN&&!ee.previewCollapsed&&ee.collapsed?new Gi.F$($r.D.PUBLIC):new To.L)))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(Nc.$))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var ai=n(88141),ia=n(41684),Qr=n(78394),id=n(48833),Kp=n(38096),Ma=n(32473),vr=n(98107),Ls=n(80183),zd=n(49903),gi=n(93158),Zr=n(39806),oc=n(13329),Bs=n(67600),Nl=n(59496),Ia=function(p){return p[p.Add=0]="Add",p[p.Remove=1]="Remove",p}(Ia||{});let ei=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n,cn,rs){this.actions$=o,this.relationshipService=d,this.relationshipTypeService=x,this.submissionObjectService=ee,this.store=Pe,this.objectCache=Ae,this.requestService=ht,this.notificationsService=Ut,this.translateService=_n,this.selectableListService=cn,this.debounceTime=rs,this.requestQueue=new Zo.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=Ln(()=>this.actions$.pipe($n(Nl.oE.ADD_RELATIONSHIP,Nl.oE.REMOVE_RELATIONSHIP),(0,Rt.T)(ms=>{const{item1:Bn,item2:es,submissionId:zs,relationshipType:Ni}=ms.payload,ci=this.createIdentifier(Bn,es,Ni);(0,V.Tn)(this.debounceMap[ci])?(this.initialActionMap[ci]=ms.type,this.debounceMap[ci]=new v.t(ms.type),this.debounceMap[ci].pipe(this.debounceTime(500),(0,T.s)(1)).subscribe(fr=>{if(this.initialActionMap[ci]===fr)if(fr===Nl.oE.ADD_RELATIONSHIP){let mr=ms.payload.nameVariant;(0,V.a4)(this.nameVariantUpdates[ci])&&(mr=this.nameVariantUpdates[ci],delete this.nameVariantUpdates[ci]),this.requestQueue.next({type:Ia.Add,item1:Bn,item2:es,relationshipType:Ni,submissionId:zs,nameVariant:mr})}else this.requestQueue.next({type:Ia.Remove,item1:Bn,item2:es,relationshipType:Ni,submissionId:zs});delete this.debounceMap[ci],delete this.initialActionMap[ci]})):this.debounceMap[ci].next(ms.type)})),{dispatch:!1}),this.updateNameVariantsActions$=Ln(()=>this.actions$.pipe($n(Nl.oE.UPDATE_NAME_VARIANT),(0,Rt.T)(ms=>{const{item1:Bn,item2:es,relationshipType:zs,submissionId:Ni,nameVariant:ci}=ms.payload,fr=this.createIdentifier(Bn,es,zs);(0,V.a4)(this.debounceMap[fr])?this.nameVariantUpdates[fr]=ci:this.relationshipService.updateNameVariant(Bn,es,zs,ci).pipe((0,Fn.p)(Zl=>(0,V.a4)(Zl.payload)),(0,T.s)(1)).subscribe(Zl=>{this.updateAfterPatchSubmissionId=Ni,this.relationshipService.refreshRelationshipItemsInCache(Bn),this.relationshipService.refreshRelationshipItemsInCache(es)})})),{dispatch:!1}),this.updateRelationshipActions$=Ln(()=>this.actions$.pipe($n(Nl.oE.UPDATE_RELATIONSHIP),(0,Rt.T)(ms=>{this.updateAfterPatchSubmissionId=ms.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=Ln(()=>this.actions$.pipe($n(Qr.G9.EMPTY,vr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Fn.p)(()=>(0,V.a4)(this.updateAfterPatchSubmissionId)),(0,js.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,Rt.T)(ms=>new gi.ky(this.updateAfterPatchSubmissionId,[ms],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,Uo.H)(o=>{switch(o.type){case Ia.Add:return this.addRelationship(o.item1,o.item2,o.relationshipType,o.submissionId,o.nameVariant).pipe((0,Rt.T)(()=>o));case Ia.Remove:return this.removeRelationship(o.item1,o.item2,o.relationshipType).pipe((0,Rt.T)(()=>o));default:return[o]}}),(0,js.n)(o=>this.refreshWorkspaceItemInCache(o.submissionId))).subscribe(o=>{this.store.dispatch(new gi.ky(o.id,[o],!1))})}createIdentifier(o,d,x){return`${o.uuid}-${d.uuid}-${x}`}addRelationship(o,d,x,ee,Pe){const Ae=o.firstMetadataValue("dspace.entity.type"),ht=d.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(x,Ae,ht).pipe((0,zn.Z)(Ut=>null===Ut?[null]:Ut.rightwardType===x?this.relationshipService.addRelationship(Ut.id,d,o,Pe,void 0):this.relationshipService.addRelationship(Ut.id,o,d,void 0,Pe)),(0,T.s)(1),(0,ai.M)(Ut=>{if((0,V.Tn)(Ut)||Ut.hasFailed){const _n=`list-${ee}-${x}`;let cn;this.selectableListService.findSelectedByCondition(_n,rs=>(0,V.a4)(rs.indexableObject)&&rs.indexableObject.uuid===d.uuid).pipe((0,T.s)(1),(0,V.Az)()).subscribe(rs=>{this.selectableListService.deselectSingle(_n,rs)}),cn=(0,V.Tn)(Ut)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:x}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),cn)}}))}removeRelationship(o,d,x){return this.relationshipService.getRelationshipByItemsAndLabel(o,d,x).pipe((0,zn.Z)(ee=>this.relationshipService.deleteRelationship(ee.id,"none")),(0,T.s)(1))}refreshWorkspaceItemInCache(o){return this.submissionObjectService.findById(o,!1,!1,(0,Bs.s)("item")).pipe((0,Ls.yd)(),(0,Ls.Bo)())}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(id.RelationshipDataService),e.KVO(Kp.RelationshipTypeDataService),e.KVO(zd.$),e.KVO(y.il),e.KVO(ia.$),e.KVO(Ma.B),e.KVO(Zr.I),e.KVO(G.c$),e.KVO(oc.K),e.KVO(Ls.f6))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),Hp=(()=>{class p{constructor(o,d){this.actions$=o,this.store=d}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();class l0{constructor(E){this.original=E}toString(){if((0,V.Im)(this.original))return"";{const E=this.original.indexOf("?");return E<0?this.original:this.original.substring(0,E)}}}var th=n(52680);let c0=(()=>{class p{constructor(o){this.actions$=o,this.routeChange$=Ln(()=>this.actions$.pipe($n(sa.hr),(0,Fn.p)(d=>this.previousPath!==this.getBaseUrl(d)),(0,ai.M)(d=>{this.previousPath=this.getBaseUrl(d)}),(0,Rt.T)(()=>new th.EI)))}getBaseUrl(o){return new l0(o.payload.routerState.url).toString()}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Jm=n(15314),Qm=n(10092);let rd=(()=>{class p{constructor(o){this.actions$=o,this.initTheme$=Ln(()=>this.actions$.pipe($n(bs),(0,Rt.T)(()=>{const d=(0,Z.Nv)();return(0,V.a4)(d)?new Jm.K(d.name):new Jm.K(Qm.Q)})))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Yd=n(91e3);const _a={REHYDRATE:(0,Yd.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,Yd.N)("dspace/ngrx/REPLAY")};class Zm{constructor(E,o){this.type=E,this.payload=o}}const qm=[(()=>{class p{constructor(o,d){this.actions=o,this.store=d,this.replay=Ln(()=>this.actions.pipe($n(_a.REPLAY),(0,Rt.T)(x=>(0,Os.of)({}))),{dispatch:!1}),this.resize=Ln(()=>this.actions.pipe($n(_a.REPLAY,_a.REHYDRATE),(0,Rt.T)(()=>new j.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),a0,Hp,c0,rd,ei];let Sn=0;const Yp=[function Ti(p){return(E,o)=>(Sn++,console.log("@ngrx action",Sn,o.type),console.log("state",JSON.stringify(E)),console.log("action",JSON.stringify(o)),console.log("------------------------------------"),p(E,o))}],sr=[function zp(p){return(E,o)=>(o.type===_a.REHYDRATE&&(E=Object.assign({},E,o.payload)),p(E,o))}];var Fc=n(72352),od=n(47483),ir=n(69799),ad=n(64611),ld=n(54671),ac=n(49347),Xp=n(36673),ko=n(36329),k=n(3970),ue=n(89673);const A=(0,ue.L)(()=>(0,Os.of)(k._.EPersonRegistration));var $=n(17366),Ce=n(3636);const Le=(0,$.e)(()=>{const p=(0,e.WQX)(Ce.GH);return R.c.info.enableEndUserAgreement?p.hasCurrentUserAcceptedAgreement(!0):(0,Os.of)(!0)}),yn=(0,ue.L)(()=>(0,Os.of)(k._.EPersonForgotPassword));var Rn=n(29443),qn=n(90887),Ds=n(84572),vs=n(47677),Js=n(13275),rr=n(37864),Pi=n(8917),Pr=n(65007),Kr=n(32736);n(10270);const cd=["*"];function Jp(p,E){}let so=(()=>{class p extends I.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(o){return n(12706)(`./${o}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10270))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:cd,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,Jp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();n(76538);const yr=["*"];function Fl(p,E){}let BD=(()=>{class p extends I.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(o){return n(27122)(`./${o}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,76538))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:yr,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,Fl,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var UD=n(52798);n(73234);const u0=["*"];function h0(p,E){}let nh=(()=>{class p extends I.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(o){return n(61130)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73234))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:u0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,h0,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();n(64990);const jD=["*"];function Qp(p,E){}let Zp=(()=>{class p extends I.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(o){return n(11452)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64990))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:jD,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,Qp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();n(29380);const ng=["*"];function p0(p,E){}let f0=(()=>{class p extends I.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(o){return n(6122)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,29380))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ng,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,p0,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var Fs=n(96526),Bl=n(6041),dc=n(13864),sg=n(1504),Xd=n(73666),ig=n(9284),m0=n(43404),g0=n(73183),rg=n(54705);function iR(p,E){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let og=(()=>{class p extends rg.${constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n){super(o,d),this.activeModal=o,this.route=d,this.router=x,this.notificationsService=ee,this.translationService=Pe,this.scriptDataService=Ae,this.authorizationDataService=ht,this.dsoNameService=Ut,this.modalService=_n,this.objectType=dc.W.DSPACEOBJECT,this.selectorTypes=[dc.W.COLLECTION],this.action=rg.u.EXPORT_BATCH}navigate(o){if(o instanceof Bl.p){const d=this.modalService.open(ig.M);d.componentInstance.name=this.dsoNameService.getName(o),d.componentInstance.headerLabel="confirmation-modal.export-batch.header",d.componentInstance.infoLabel="confirmation-modal.export-batch.info",d.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",d.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",d.componentInstance.confirmIcon="fas fa-file-export";const x=d.componentInstance.response.pipe((0,js.n)(ee=>{if(ee)return this.startScriptNotifyAndRedirect(o).pipe((0,js.n)(Ae=>(0,Os.of)(Ae)));this.modalService.open(p).componentInstance.dsoRD=(0,m0.SP)(o)}));return x.subscribe(),x}return(0,Os.of)(!1)}startScriptNotifyAndRedirect(o){const d=[Object.assign(new Xd.p,{name:"--id",value:o.uuid}),Object.assign(new Xd.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(k._.AdministratorOf).pipe((0,js.n)(()=>this.scriptDataService.invoke(Kr.BATCH_EXPORT_SCRIPT_NAME,d,[])),(0,Ls.qD)(),(0,Rt.T)(x=>{if(x.hasSucceeded){const ee=this.translationService.get("process.new.notification.success.title"),Pe=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ee,Pe),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,sg.yJ)(x.payload.processId)),!0}{const ee=this.translationService.get("process.new.notification.error.title"),Pe=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ee,Pe),!1}}))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(X.Lw),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Kr.ScriptDataService),e.rXU(Pr.AuthorizationDataService),e.rXU(Fs.f),e.rXU(X.Bq))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,iR,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Pe){return x.selectObject(Pe)}),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",x.header),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[h.bT,g0.x,G.h,G.D9],encapsulation:2})}}return p})();var Bc=n(10046);function kD(p,E){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let sh=(()=>{class p extends rg.${constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n){super(o,d),this.activeModal=o,this.route=d,this.router=x,this.notificationsService=ee,this.translationService=Pe,this.scriptDataService=Ae,this.authorizationDataService=ht,this.dsoNameService=Ut,this.modalService=_n,this.objectType=dc.W.DSPACEOBJECT,this.selectorTypes=[dc.W.COLLECTION,dc.W.COMMUNITY],this.action=rg.u.EXPORT_METADATA}navigate(o){if(o instanceof Bl.p||o instanceof Bc.E){const d=this.modalService.open(ig.M);d.componentInstance.name=this.dsoNameService.getName(o),d.componentInstance.headerLabel="confirmation-modal.export-metadata.header",d.componentInstance.infoLabel="confirmation-modal.export-metadata.info",d.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",d.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",d.componentInstance.confirmIcon="fas fa-file-export";const x=d.componentInstance.response.pipe((0,js.n)(ee=>{if(ee)return this.startScriptNotifyAndRedirect(o).pipe((0,js.n)(Ae=>(0,Os.of)(Ae)));this.modalService.open(p).componentInstance.dsoRD=(0,m0.SP)(o)}));return x.subscribe(),x}return(0,Os.of)(!1)}startScriptNotifyAndRedirect(o){const d=[Object.assign(new Xd.p,{name:"-i",value:o.uuid})];return this.authorizationDataService.isAuthorized(k._.AdministratorOf).pipe((0,js.n)(x=>(x&&d.push(Object.assign(new Xd.p,{name:"-a"})),this.scriptDataService.invoke(Kr.METADATA_EXPORT_SCRIPT_NAME,d,[]))),(0,Ls.qD)(),(0,Rt.T)(x=>{if(x.hasSucceeded){const ee=this.translationService.get("process.new.notification.success.title"),Pe=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ee,Pe),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,sg.yJ)(x.payload.processId)),!0}{const ee=this.translationService.get("process.new.notification.error.title"),Pe=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ee,Pe),!1}}))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(X.Lw),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Kr.ScriptDataService),e.rXU(Pr.AuthorizationDataService),e.rXU(Fs.f),e.rXU(X.Bq))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,kD,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Pe){return x.selectObject(Pe)}),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",x.header),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[h.bT,g0.x,G.h,G.D9],encapsulation:2})}}return p})();var Ei=n(34237);let qp=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht){this.menuService=o,this.browseService=d,this.authorizationService=x,this.modalService=ee,this.scriptDataService=Pe,this.configurationDataService=Ae,this.authService=ht}resolve(o,d){return(0,Ds.z)([this.createPublicMenu$(),this.createAdminMenuIfLoggedIn$()]).pipe((0,Rt.T)(x=>x.every(Boolean)))}waitForMenu$(o){return this.menuService.getMenu(o).pipe((0,vs.I)(d=>(0,V.a4)(d)),(0,Rt.T)(()=>!0))}createPublicMenu$(){const o=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:Ei.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,Ls.qD)()).subscribe(d=>{d.hasSucceeded&&(d.payload.page.forEach(x=>{o.push({id:`browse_global_by_${x.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:Ei.x.LINK,text:`menu.section.browse_global_by_${x.id}`,link:`/browse/${x.id}`}})}),o.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:Ei.x.TEXT,text:"menu.section.browse_global"}})),o.forEach(x=>this.menuService.addSection($r.D.PUBLIC,Object.assign(x,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$($r.D.PUBLIC)}createAdminMenuIfLoggedIn$(){return this.authService.isAuthenticated().pipe((0,zn.Z)(o=>o?this.createAdminMenu$():(0,Os.of)(!0)))}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.waitForMenu$($r.D.ADMIN)}createMainMenuSections(){(0,Ds.z)([this.authorizationService.isAuthorized(k._.IsCollectionAdmin),this.authorizationService.isAuthorized(k._.IsCommunityAdmin),this.authorizationService.isAuthorized(k._.AdministratorOf),this.authorizationService.isAuthorized(k._.CanSubmit),this.authorizationService.isAuthorized(k._.CanEditItem),this.authorizationService.isAuthorized(k._.CanSeeQA),this.authorizationService.isAuthorized(k._.CoarNotifyEnabled)]).subscribe(([o,d,x,ee,Pe,Ae,ht])=>{const Ut=[{id:"new_community",parentID:"new",active:!1,visible:d,model:{type:Ei.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(BD)}}},{id:"new_collection",parentID:"new",active:!1,visible:d,model:{type:Ei.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(so)}}},{id:"new_item",parentID:"new",active:!1,visible:ee,model:{type:Ei.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(UD.L)}}},{id:"new_process",parentID:"new",active:!1,visible:x,model:{type:Ei.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{id:"ldn_services_new",parentID:"new",active:!1,visible:x&&ht,model:{type:Ei.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}],_n=[{id:"edit_community",parentID:"edit",active:!1,visible:d,model:{type:Ei.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(Zp)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:o,model:{type:Ei.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(nh)}}},{id:"edit_item",parentID:"edit",active:!1,visible:Pe,model:{type:Ei.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(f0)}}}],cn={id:"new",active:!1,visible:Ut.some(Bn=>Bn.visible),model:{type:Ei.x.TEXT,text:"menu.section.new"},icon:"plus",index:0},rs={id:"edit",active:!1,visible:_n.some(Bn=>Bn.visible),model:{type:Ei.x.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...Ut,cn,..._n,rs,{id:"processes",active:!1,visible:x,model:{type:Ei.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"coar_notify",active:!1,visible:x&&ht,model:{type:Ei.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox",index:13},{id:"notify_dashboard",active:!1,parentID:"coar_notify",visible:x&&ht,model:{type:Ei.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{id:"ldn_services",active:!1,parentID:"coar_notify",visible:x&&ht,model:{type:Ei.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}},{id:"health",active:!1,visible:x,model:{type:Ei.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11},{id:"notifications",active:!1,visible:Ae||x,model:{type:Ei.x.TEXT,text:"menu.section.notifications"},icon:"bell",index:4},{id:"notifications_quality-assurance",parentID:"notifications",active:!1,visible:Ae,model:{type:Ei.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{id:"notifications_publication-claim",parentID:"notifications",active:!1,visible:x,model:{type:Ei.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+Js.VZ}}].forEach(Bn=>this.menuService.addSection($r.D.ADMIN,Object.assign(Bn,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(d=>this.menuService.addSection($r.D.ADMIN,d)),(0,Ds.z)([this.authorizationService.isAuthorized(k._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kr.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Fn.p)(([d,x])=>d&&x),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection($r.D.ADMIN,{id:"export",active:!1,visible:!0,model:{type:Ei.x.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection($r.D.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:Ei.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(sh)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection($r.D.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:Ei.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(og)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(d=>this.menuService.addSection($r.D.ADMIN,d)),(0,Ds.z)([this.authorizationService.isAuthorized(k._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kr.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Fn.p)(([d,x])=>d&&x),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection($r.D.ADMIN,{id:"import",active:!1,visible:!0,model:{type:Ei.x.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection($r.D.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:Ei.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection($r.D.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:Ei.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(k._.AdministratorOf).subscribe(o=>{[{id:"admin_search",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:o,model:{type:Ei.x.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(x=>this.menuService.addSection($r.D.ADMIN,Object.assign(x,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,Ds.z)([this.authorizationService.isAuthorized(k._.AdministratorOf),this.authorizationService.isAuthorized(k._.CanManageGroups)]).subscribe(([o,d])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:d,model:{type:Ei.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:d||o,model:{type:Ei.x.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach(ee=>this.menuService.addSection($r.D.ADMIN,Object.assign(ee,{shouldPersistOnRouteChange:!0})))})}createReportMenuSections(){(0,Ds.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Ls.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&o.payload&&"true"===o.payload.values[0])),this.authorizationService.isAuthorized(k._.AdministratorOf)]).subscribe(([o])=>{[{id:"reports",active:!1,visible:o,model:{type:Ei.x.TEXT,text:"menu.section.reports"},icon:"file-alt",index:5},{id:"reports_collections",parentID:"reports",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{id:"reports_queries",parentID:"reports",active:!1,visible:o,model:{type:Ei.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}].forEach(x=>this.menuService.addSection($r.D.ADMIN,Object.assign(x,{shouldPersistOnRouteChange:!0})))})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(Nc.$),e.KVO(rr.q),e.KVO(Pr.AuthorizationDataService),e.KVO(X.Bq),e.KVO(Kr.ScriptDataService),e.KVO(Pi.ConfigurationDataService),e.KVO(u.uR))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var _0=n(38571),v0=n(61723),ih=n(74566),Ul=n(13246);let VD=(()=>{class p{constructor(o,d,x,ee,Pe,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.qualityAssuranceSourceService=Pe,this.qualityAssuranceSourceDataService=Ae,this.retrieveAllSource$=Ln(()=>this.actions$.pipe($n(ih.xq.RETRIEVE_ALL_SOURCE),(0,M.E)(this.store$),(0,js.n)(([ht,Ut])=>this.qualityAssuranceSourceService.getSources(ht.payload.elementsPerPage,ht.payload.currentPage).pipe((0,Rt.T)(_n=>new ih.$_(_n.page,_n.totalPages,_n.currentPage,_n.totalElements)),(0,Mn.W)(_n=>(_n instanceof Error?console.error(_n.message):console.error("Unexpected object thrown",_n),(0,Os.of)(new ih.Fx))))))),this.retrieveAllSourceErrorAction$=Ln(()=>this.actions$.pipe($n(ih.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,ai.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=Ln(()=>this.actions$.pipe($n(ih.xq.ADD_SOURCE),(0,ai.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il),e.KVO(G.c$),e.KVO(Zr.I),e.KVO(Ul.p),e.KVO(v0.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var rh=n(31936),dd=n(79984),ag=n(53954),oh=n(6238);let lg=(()=>{class p{constructor(o){this.qualityAssuranceTopicRestService=o}getTopics(o,d,x,ee){const Ae={elementsPerPage:o,currentPage:d,sort:new oh.z("name",oh.U.ASC),searchParams:[new ag.x("source",x)]};let ht;return(0,V.a4)(ee)?(Ae.searchParams.push(new ag.x("target",ee)),ht=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Ae)):ht=this.qualityAssuranceTopicRestService.searchTopicsBySource(Ae),ht.pipe((0,Ls.qD)(),(0,Rt.T)(Ut=>{if(Ut.hasSucceeded)return Ut.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(rh.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),GD=(()=>{class p{constructor(o,d,x,ee,Pe,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.qualityAssuranceTopicService=Pe,this.qualityAssuranceTopicDataService=Ae,this.retrieveAllTopics$=Ln(()=>this.actions$.pipe($n(dd.py.RETRIEVE_ALL_TOPICS),(0,M.E)(this.store$),(0,js.n)(([ht,Ut])=>this.qualityAssuranceTopicService.getTopics(ht.payload.elementsPerPage,ht.payload.currentPage,ht.payload.source,ht.payload.target).pipe((0,Rt.T)(_n=>new dd.C3(_n.page,_n.totalPages,_n.currentPage,_n.totalElements)),(0,Mn.W)(_n=>(_n instanceof Error?console.error(_n.message):console.error("Unexpected object thrown",_n),(0,Os.of)(new dd.IL))))))),this.retrieveAllTopicsErrorAction$=Ln(()=>this.actions$.pipe($n(dd.py.RETRIEVE_ALL_TOPICS_ERROR),(0,ai.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=Ln(()=>this.actions$.pipe($n(dd.py.ADD_TOPICS),(0,ai.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il),e.KVO(G.c$),e.KVO(Zr.I),e.KVO(lg),e.KVO(rh.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var y0=n(67977),Sa=n(54503);const E0=[GD,VD,(()=>{class p{constructor(o,d,x,ee,Pe,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.suggestionsService=Pe,this.configurationService=Ae,this.retrieveTargetsBySource$=Ln(()=>this.actions$.pipe($n(Sa.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,js.n)(ht=>this.suggestionsService.getTargets(ht.payload.source,ht.payload.elementsPerPage,ht.payload.currentPage).pipe((0,Rt.T)(Ut=>new Sa.Pc(ht.payload.source,Ut.page,Ut.totalPages,Ut.currentPage,Ut.totalElements)),(0,Mn.W)(Ut=>(Ut instanceof Error&&console.error(Ut.message),(0,Os.of)(new Sa.Fz(ht.payload.source)))))))),this.retrieveAllTargetsErrorAction$=Ln(()=>this.actions$.pipe($n(Sa.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,ai.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=Ln(()=>this.actions$.pipe($n(H.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,js.n)(ht=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Ls.qD)(),(0,js.n)(Ut=>Ut.hasSucceeded&&Ut.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(ht.payload).pipe((0,Rt.T)(_n=>new Sa.Gx(_n))):(0,Os.of)(new Sa.Gx([]))))))),this.refreshUserSuggestionsAction$=Ln(()=>this.actions$.pipe($n(Sa.lz.REFRESH_USER_SUGGESTIONS),(0,js.n)(()=>this.store$.select(ht=>ht.core.auth.userId).pipe((0,js.n)(ht=>ht?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Ls.qD)(),(0,js.n)(Ut=>Ut.hasSucceeded&&Ut.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(ht).pipe((0,Rt.T)(_n=>new Sa.Gx(_n)),(0,Mn.W)(_n=>(_n instanceof Error&&console.error(_n.message),(0,Os.of)(new Sa.Af)))):(0,Os.of)(new Sa.Gx([]))),(0,Mn.W)(Ut=>(Ut instanceof Error&&console.error(Ut.message),(0,Os.of)(new Sa.Af)))):(0,Os.of)(new Sa.Gx([]))),(0,Mn.W)(ht=>(ht instanceof Error&&console.error(ht.message),(0,Os.of)(new Sa.Af)))))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il),e.KVO(G.c$),e.KVO(Zr.I),e.KVO(y0.F),e.KVO(Pi.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()],ah=()=>(0,e.EmA)([(0,e.oKB)(y.md.forFeature("suggestionNotifications",_0.W,Fc.wP),na.forFeature(E0))]);var ef=n(5771),uc=n.n(ef),WD=n(48125),Jd=n.n(WD),C0=n(28898),Qd=n.n(C0),hc=n(22806),Mo=n(83203),KD=n(24261),b0=n(72147),qa=n(88643),cg=n(61010),D0=n(90049),tf=n(7020);let HD=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n){this.actions$=o,this.notificationsService=d,this.operationsService=x,this.sectionService=ee,this.store$=Pe,this.submissionService=Ae,this.submissionObjectService=ht,this.translate=Ut,this.workspaceItemDataService=_n,this.loadForm$=Ln(()=>this.actions$.pipe($n(gi.lE.INIT_SUBMISSION_FORM),(0,Rt.T)(cn=>{const rs=cn.payload.submissionDefinition,ms=[];return rs.sections.page.forEach(Bn=>{const es=Bn._links.self.href||Bn._links.self,zs=es.substr(es.lastIndexOf("/")+1),Ni=Bn._links.config?Bn._links.config.href||Bn._links.config:"",ci=Bn.mandatory&&Bn.sectionType!==qa.l.Duplicates||(0,V.hj)(cn.payload.sections)&&cn.payload.sections.hasOwnProperty(zs)&&Bn.sectionType===qa.l.Duplicates&&(lh()||(0,V.hj)(cn.payload.sections[zs].potentialDuplicates));let fr;fr=Bn.sectionType!==qa.l.SubmissionForm?(0,V.EA)(cn.payload.sections)&&(0,V.EA)(cn.payload.sections[zs])?cn.payload.sections[zs]:Object.create(null):cn.payload.item.metadata;const mr=(0,V.hj)(cn.payload.errors)&&cn.payload.errors[zs]||null;ms.push(new gi.wT(cn.payload.submissionId,zs,Bn.header,Ni,Bn.mandatory,Bn.scope,Bn.sectionType,Bn.visibility,ci,fr,mr))}),{action:cn,definition:rs,mappedActions:ms}}),(0,zn.Z)(cn=>(0,hc.H)(cn.mappedActions.concat(new gi.ug(cn.action.payload.submissionId)))))),this.resetForm$=Ln(()=>this.actions$.pipe($n(gi.lE.RESET_SUBMISSION_FORM),(0,Rt.T)(cn=>new gi.jc(cn.payload.collectionId,cn.payload.submissionId,cn.payload.selfUrl,cn.payload.submissionDefinition,cn.payload.sections,cn.payload.item,null)))),this.saveSubmission$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_SUBMISSION_FORM),(0,js.n)(cn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections").pipe((0,Rt.T)(rs=>new gi.tR(cn.payload.submissionId,rs,cn.payload.isManual,cn.payload.isManual)),(0,Mn.W)(()=>(0,Os.of)(new gi.wM(cn.payload.submissionId))))))),this.saveForLaterSubmission$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,js.n)(cn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections").pipe((0,Rt.T)(rs=>new gi.oW(cn.payload.submissionId,rs)),(0,Mn.W)(()=>(0,Os.of)(new gi.wM(cn.payload.submissionId))))))),this.saveSubmissionSuccess$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,M.E)(this.store$),(0,Rt.T)(([cn,rs])=>this.parseSaveResponse(rs.submission.objects[cn.payload.submissionId],cn.payload.submissionObject,cn.payload.submissionId,rs.forms,cn.payload.showNotifications,cn.payload.showErrors)),(0,zn.Z)(cn=>(0,hc.H)(cn)))),this.saveSubmissionSectionSuccess$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,M.E)(this.store$),(0,Rt.T)(([cn,rs])=>this.parseSaveResponse(rs.submission.objects[cn.payload.submissionId],cn.payload.submissionObject,cn.payload.submissionId,rs.forms,!1,!1)),(0,zn.Z)(cn=>(0,hc.H)(cn)))),this.saveSection$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_SUBMISSION_SECTION_FORM),(0,js.n)(cn=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections",cn.payload.sectionId).pipe((0,Rt.T)(rs=>new gi.ky(cn.payload.submissionId,rs)),(0,Mn.W)(()=>(0,Os.of)(new gi.Zl(cn.payload.submissionId))))))),this.saveError$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_SUBMISSION_FORM_ERROR,gi.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,M.E)(this.store$),(0,ai.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,M.E)(this.submissionService.hasUnsavedModification()),(0,js.n)(([cn,rs])=>{let ms;return ms=rs?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections"):this.submissionObjectService.findById(cn.payload.submissionId,!1,!0,(0,Bs.s)("item"),(0,Bs.s)("collection")).pipe((0,Ls.ak)(),(0,Rt.T)(Bn=>[Bn])),ms.pipe((0,Rt.T)(Bn=>this.canDeposit(Bn)?new gi.l5(cn.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new gi.tR(cn.payload.submissionId,Bn,!1,!0))),(0,Mn.W)(()=>(0,Os.of)(new gi.wM(cn.payload.submissionId))))}))),this.depositSubmission$=Ln(()=>this.actions$.pipe($n(gi.lE.DEPOSIT_SUBMISSION),(0,M.E)(this.store$),(0,js.n)(([cn,rs])=>this.submissionService.depositSubmission(rs.submission.objects[cn.payload.submissionId].selfUrl).pipe((0,Rt.T)(()=>new gi.kq(cn.payload.submissionId)),(0,Mn.W)(ms=>(0,Os.of)(new gi.x9(cn.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=Ln(()=>this.actions$.pipe($n(gi.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,ai.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,ai.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=Ln(()=>this.actions$.pipe($n(gi.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,ai.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,ai.M)(cn=>this.workspaceItemDataService.invalidateById(cn.payload.submissionId)),(0,ai.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=Ln(()=>this.actions$.pipe($n(gi.lE.DEPOSIT_SUBMISSION_ERROR),(0,ai.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=Ln(()=>this.actions$.pipe($n(gi.lE.DISCARD_SUBMISSION),(0,js.n)(cn=>this.submissionService.discardSubmission(cn.payload.submissionId).pipe((0,Rt.T)(()=>new gi.Ob(cn.payload.submissionId)),(0,Mn.W)(()=>(0,Os.of)(new gi.Z5(cn.payload.submissionId))))))),this.addAllMetadataToSectionData=Ln(()=>this.actions$.pipe($n(gi.lE.UPDATE_SECTION_DATA),(0,js.n)(cn=>this.sectionService.getSectionState(cn.payload.submissionId,cn.payload.sectionId,qa.l.Upload).pipe((0,Rt.T)(rs=>[cn,rs]),(0,T.s)(1))),(0,Fn.p)(([cn,rs])=>rs.sectionType===qa.l.SubmissionForm),(0,js.n)(([cn,rs])=>rs.sectionType===qa.l.SubmissionForm?this.submissionObjectService.findById(cn.payload.submissionId,!0,!1,(0,Bs.s)("item")).pipe((0,Ls.ak)()).pipe((0,js.n)(es=>es.item.pipe((0,Ls.ak)()))).pipe((0,Rt.T)(es=>es.metadata),(0,Fn.p)(es=>!Jd()(cn.payload.data,es)),(0,Rt.T)(es=>new gi.dm(cn.payload.submissionId,cn.payload.sectionId,es,cn.payload.errorsToShow,cn.payload.serverValidationErrors,cn.payload.metadata))):(0,Os.of)(new gi.Sm)))),this.discardSubmissionSuccess$=Ln(()=>this.actions$.pipe($n(gi.lE.DISCARD_SUBMISSION_SUCCESS),(0,ai.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,ai.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=Ln(()=>this.actions$.pipe($n(gi.lE.DISCARD_SUBMISSION_ERROR),(0,ai.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(o){let d=!0;return(0,V.hj)(o)&&o.forEach(x=>{const{errors:ee}=x;ee&&!(0,V.Im)(ee)&&(d=!1)}),d}parseSaveResponse(o,d,x,ee,Pe=!0,Ae=!0){const ht=[];return(0,V.hj)(d)&&(Pe&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),d.forEach(Ut=>{let _n=Object.create({});const{errors:cn}=Ut;cn&&!(0,V.Im)(cn)&&(_n=(0,tf.A)(cn),Pe&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const rs=Ut.sections&&(0,V.hj)(Ut.sections)?Ut.sections:{},ms=Qd()(Object.keys(rs),Object.keys(_n));for(const es of ms){const zs=_n[es]||[],Ni=rs[es]||{};if(o.sections[es].sectionType===qa.l.Upload&&(0,V.Im)(Ni.files)&&!o.sections[es].enabled)continue;Pe&&!o.sections[es].enabled&&this.submissionService.notifyNewSection(x,es,o.sections[es].sectionType);const fr=dg(T0(ee,o,es),zs,o.sections[es].sectionType,Ae);ht.push(new gi.dm(x,es,Ni,fr,zs))}const Bn=uc()(o.sections,es=>es.sectionType===qa.l.SherpaPolicies);if((0,V.EA)(Bn)&&(0,V.hj)(o.sections[Bn]?.data)&&(0,V.Im)(rs[Bn])&&ht.push(new gi.dm(x,Bn,null,[],[])),!lh()){const es=uc()(o.sections,zs=>zs.sectionType===qa.l.Duplicates);(0,V.EA)(es)&&rs.hasOwnProperty(es)&&(0,V.Im)(rs[es].potentialDuplicates)&&ht.push(new gi.CG(x))}})),ht}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(Zr.I),e.KVO(Mo.U),e.KVO(b0.c),e.KVO(y.il),e.KVO(cg.E),e.KVO(zd.$),e.KVO(G.c$),e.KVO(KD.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();function T0(p,E,o){return p?p[E.sections[o].formId]:null}function dg(p,E,o,d){if(d||o!==qa.l.SubmissionForm.valueOf())return E;if(!p||!p.touched)return[];const x=[];return E.forEach(ee=>{(0,D0.A)(ee.path).forEach(Ae=>{Ae.fieldId&&p.touched[Ae.fieldId]&&x.push(ee)})}),x}function lh(){return R.c.submission.duplicateDetection.alwaysShowSection}const O0=[HD];var zD=n(83678);const ug=()=>(0,e.EmA)([(0,e.oKB)(y.md.forFeature("submission",zD.u,Fc.wP),na.forFeature(O0))]);var YD=n(24215);const M0=[{path:ir.n,component:vi},{path:ir.RC,component:un},{path:"",canActivate:[(p,E,o=(0,e.WQX)(y.il))=>o.pipe((0,y.Lt)(w.Gv)).pipe((0,Rt.T)(d=>!1===d),(0,D.F)(),(0,Fn.p)(d=>!0===d),(0,T.s)(1))],canActivateChild:[(p,E,o=(0,e.WQX)(Rn.RootDataService),d=(0,e.WQX)(_.Ix))=>o.checkServerAvailability().pipe((0,T.s)(1),(0,Rt.T)(x=>!!x||d.parseUrl((0,ir.N2)())))],resolve:[(p,E,o=(0,e.WQX)(qp))=>o.resolve(p,E)],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:Oa,pathMatch:"full",canActivate:[(p,E,o=(0,e.WQX)(si.vQ),d=(0,e.WQX)(_.Ix))=>{if((0,V.hj)(p.queryParams.redirect)){const x=p.queryParams.redirect.startsWith(o.ui.nameSpace)?p.queryParams.redirect.substring(o.ui.nameSpace.length):p.queryParams.redirect;return d.parseUrl(x)}return d.createUrlTree([ir.Eo])}]},{path:"home",loadChildren:()=>n.e(2587).then(n.bind(n,62587)).then(p=>p.ROUTES),data:{showBreadcrumbs:!1},providers:[ah()],canActivate:[Le]},{path:"community-list",loadChildren:()=>n.e(247).then(n.bind(n,20247)).then(p=>p.ROUTES),canActivate:[Le]},{path:"id",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(p=>p.ROUTES),canActivate:[Le]},{path:"handle",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.il,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(1053)]).then(n.bind(n,51053)).then(p=>p.ROUTES),canActivate:[A]},{path:ir.sT,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(4184)]).then(n.bind(n,64184)).then(p=>p.ROUTES),canActivate:[Le,yn]},{path:ld.b2,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(8296),n.e(4958),n.e(6864)]).then(n.bind(n,76864)).then(p=>p.ROUTES),canActivate:[Le]},{path:ad.CC,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(7558),n.e(8296),n.e(2073),n.e(4958),n.e(2076),n.e(6475)]).then(n.bind(n,16475)).then(p=>p.ROUTES),canActivate:[Le]},{path:qn.xb,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(1872)]).then(n.bind(n,21872)).then(p=>p.ROUTES),canActivate:[Le]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(1872)]).then(n.bind(n,21872)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.H_,loadChildren:()=>Promise.all([n.e(2754),n.e(7652)]).then(n.bind(n,67652)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.l2,loadChildren:()=>Promise.all([n.e(2754),n.e(7652)]).then(n.bind(n,67652)).then(p=>p.ROUTES),canActivate:[Le]},{path:"mydspace",loadChildren:()=>n.e(3822).then(n.bind(n,73822)).then(p=>p.ROUTES),providers:[ah()],canActivate:[ac.t,Le]},{path:"search",loadChildren:()=>n.e(8448).then(n.bind(n,58448)).then(p=>p.ROUTES),canActivate:[Le]},{path:"browse",loadChildren:()=>n.e(5079).then(n.bind(n,35079)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.pU,loadChildren:()=>n.e(3283).then(n.bind(n,43283)).then(p=>p.ROUTES),canActivate:[ko.Y,Le]},{path:od.uD,loadChildren:()=>Promise.all([n.e(1653),n.e(2519)]).then(n.bind(n,32519)).then(p=>p.ROUTES),providers:[ah()],canActivate:[ac.t,Le]},{path:"login",loadChildren:()=>n.e(3561).then(n.bind(n,3561)).then(p=>p.ROUTES)},{path:"logout",loadChildren:()=>n.e(8762).then(n.bind(n,8762)).then(p=>p.ROUTES)},{path:"submit",loadChildren:()=>n.e(9360).then(n.bind(n,79360)).then(p=>p.ROUTES),providers:[ug()],canActivate:[Le]},{path:"import-external",loadChildren:()=>n.e(7411).then(n.bind(n,47411)).then(p=>p.ROUTES),canActivate:[Le]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(2422)]).then(n.bind(n,2422)).then(p=>p.ROUTES),providers:[ug()],canActivate:[Le]},{path:ir.Vv,providers:[ug()],loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(1501)]).then(n.bind(n,21501)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(5361)]).then(n.bind(n,65361)).then(p=>p.ROUTES),providers:[ah()],canActivate:[ac.t,Le]},{path:sg.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(5818)]).then(n.bind(n,35818)).then(p=>p.ROUTES),canActivate:[ac.t,Le]},{path:YD.C2,loadChildren:()=>n.e(6780).then(n.bind(n,86780)).then(p=>p.ROUTES),providers:[ah()],canActivate:[ac.t,Le]},{path:ir.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(320)]).then(n.bind(n,50320)).then(p=>p.ROUTES)},{path:ir.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(8441)]).then(n.bind(n,48441)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.OC,component:Oe},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(9014)]).then(n.bind(n,19014)).then(p=>p.ROUTES),canActivate:[Le]},{path:ir.lH,loadChildren:()=>n.e(298).then(n.bind(n,50298)).then(p=>p.ROUTES)},{path:ir.UP,loadChildren:()=>Promise.all([n.e(9366),n.e(8500),n.e(2076),n.e(5191)]).then(n.bind(n,75191)).then(p=>p.ROUTES),canActivate:[Xp.i,Le]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(781),n.e(2076),n.e(6643)]).then(n.bind(n,66643)).then(p=>p.ROUTES),canActivate:[ac.t]},{path:"**",pathMatch:"full",component:Oa}]}];n(81387);var ch=n(52027),dh=n(2044),hg=n(40667),pg=n(10034);let ja=(()=>{class p{constructor(o,d,x){this.inj=o,this.router=d,this.store=x,this.refreshTokenRequestUrls=[]}isUnauthorized(o){return 401===o.status}isSuccess(o){return 200===o.status||204===o.status}isAuthRequest(o){return o&&o.url&&(o.url.endsWith("/authn/login")||o.url.endsWith("/authn/logout")||o.url.endsWith("/authn/status"))}isLoginResponse(o){return o.url&&o.url.endsWith("/authn/login")}isLogoutResponse(o){return o.url&&o.url.endsWith("/authn/logout")}isStatusResponse(o){return o.url&&o.url.endsWith("/authn/status")}parseLocation(o){let d=o.trim();d=d.replace('location="',""),d=d.replace('"',"");let x=/%3A%2F%2F/g;return d=d.replace(x,"://"),x=/%3A/g,d=d.replace(x,":"),d.trim()}sortAuthMethods(o){const d=[];let x=!1,ee=!1;return o.forEach(Pe=>{Pe.authMethodType===dh.Q.Password&&(d.push(Pe),x=!0),Pe.authMethodType===dh.Q.Ldap&&(ee=!0)}),ee&&!x&&d.push(new ch.q(dh.Q.Password,0)),o.forEach(Pe=>{Pe.authMethodType!==dh.Q.Password&&d.push(Pe)}),d}parseAuthMethodsFromHeaders(o){let d=[];if((0,V.hj)(o.get("www-authenticate"))){const Pe=o.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Ae in Pe){const ht=Pe[Ae].split(", "),Ut=ht[0].split(" ")[0].trim();let _n;if(1===ht.length)_n=new ch.q(Ut,Number(Ae)),d.push(_n);else if(ht.length>1){let cn=ht[1];cn=this.parseLocation(cn),_n=new ch.q(Ut,Number(Ae),cn),d.push(_n)}}d=this.sortAuthMethods(d)}else d.push(new ch.q(dh.Q.Password,0));return d}makeAuthStatusObject(o,d,x,ee){const Pe=new hg.T;if(ee&&(Pe.authMethods=this.parseAuthMethodsFromHeaders(ee)),Pe.id=null,Pe.okay=!0,o)Pe.authenticated=!0,Pe.token=new pg.S(d);else if(Pe.authenticated=!1,(0,V.hj)(x))if("string"==typeof x)try{Pe.error=JSON.parse(x)}catch(Ae){console.error('Unknown auth error "',x,'" caused ',Ae),Pe.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else Pe.error=x;return Pe}intercept(o,d){const x=this.inj.get(u.uR),ee=x.getToken();let Pe,Ae;if(x.isTokenExpired())return(0,Os.of)(null);if(this.isAuthRequest(o)&&!this.isLogoutResponse(o)||!(0,V.hj)(ee))Pe=o.clone();else{Ae=x.buildAuthHeader(ee);let ht=o.headers.set("authorization",Ae);const Ut=x.getImpersonateID();(0,V.a4)(Ut)&&(ht=ht.set("X-On-Behalf-Of",Ut)),Pe=o.clone({headers:ht})}return d.handle(Pe).pipe((0,Rt.T)(ht=>{if(ht instanceof oe.cS&&this.isSuccess(ht)&&this.isAuthRequest(ht)){let Ut;if(this.isLoginResponse(ht)){const _n=ht.headers.get("authorization");Ut=ht.clone({body:this.makeAuthStatusObject(!0,_n)}),this.refreshTokenRequestUrls=[]}else Ut=this.isStatusResponse(ht)?ht.clone({body:Object.assign(ht.body,{authMethods:this.parseAuthMethodsFromHeaders(ht.headers)})}):ht.clone({body:this.makeAuthStatusObject(!1)});return Ut}return ht}),(0,Mn.W)((ht,Ut)=>{if(ht instanceof oe.yz){if(this.isAuthRequest(ht)){this.refreshTokenRequestUrls=[];const _n=new oe.cS({body:this.makeAuthStatusObject(!1,null,ht.error,ht.headers),headers:ht.headers,status:ht.status,statusText:ht.statusText,url:ht.url});return(0,Os.of)(_n)}this.isUnauthorized(ht)&&(0,V.Pe)(ee)&&x.isTokenExpired()&&this.store.dispatch(new H.Wu("auth.messages.expired"))}return(0,qo.$)(ht)}))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(e.zZn),e.KVO(_.Ix),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),aR=(()=>{class p{constructor(o,d){this.appConfig=o,this.platformId=d,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(o,d){if((0,h.UE)(this.platformId)||(0,V.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return d.handle(o);const x=o.url.replace(this.baseUrl,this.ssrBaseUrl),ee=o.clone({url:x});return d.handle(ee)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(si.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var fg=n(31943),uh=n(63648);let mg=(()=>{class p{constructor(o){this.localeService=o}intercept(o,d){let x;return this.localeService.getLanguageCodeList().pipe((0,fg.S)((ee,Pe)=>[...ee,Pe],[]),(0,zn.Z)(ee=>(x=o.clone({headers:o.headers.set("Accept-Language",ee.toString())}),d.handle(x))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(uh.iH))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var ka=n(93130),S0=n(10110);const ud=p=>p.correlationId;var JD=n(30164);let gg=(()=>{class p{constructor(o,d,x){this.cookieService=o,this.uuidService=d,this.store=x}initCorrelationId(){let o=this.cookieService.get("CORRELATION-ID");(0,V.Im)(o)&&(o=this.getCorrelationId()),(0,V.Im)(o)&&(o=this.uuidService.generate()),this.store.dispatch(new S0.q(o)),this.cookieService.set("CORRELATION-ID",o)}getCorrelationId(){let o;return this.store.pipe((0,y.Lt)(ud),(0,T.s)(1)).subscribe(d=>{o=d}),o}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(ka.O),e.KVO(JD.v),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),P0=(()=>{class p{constructor(o,d){this.cidService=o,this.router=d}intercept(o,d){const x=this.cidService.getCorrelationId();let ee=o.headers;return(0,V.a4)(x)&&(ee=ee.append("X-CORRELATION-ID",x)),ee=ee.append("X-REFERRER",this.router.url),o=o.clone({withCredentials:!0,headers:ee}),d.handle(o)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(gg),e.KVO(_.Ix))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var je=n(31635),hn=n(74850),li=n(21921),pc=n(56970),fi=n(42547),Ur=n(98688),fc=n(29009);let jl=class extends pc.I{static{this.type=fc.uC}get self(){return this._links.self.href}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],jl.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],jl.prototype,"id",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],jl.prototype,"_links",void 0),jl=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(pc.I)],jl);let Vo=class extends pc.I{static{this.type=fc.zd}get self(){return this._links.self.href}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Vo.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Vo.prototype,"id",void 0),(0,je.Cg)([(0,hn.deserializeAs)("id"),(0,je.Sn)("design:type",String)],Vo.prototype,"uuid",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"name",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"description",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"url",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Vo.prototype,"score",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],Vo.prototype,"enabled",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"ldnUrl",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"lowerIp",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vo.prototype,"upperIp",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Vo.prototype,"notifyServiceInboundPatterns",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Vo.prototype,"_links",void 0),Vo=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(pc.I)],Vo);const R0=new fi.v("notifyrequests");let mc=class{static{this.type=R0}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],mc.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],mc.prototype,"notifyStatus",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],mc.prototype,"itemuuid",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],mc.prototype,"_links",void 0),mc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(pc.I)],mc),n(30721),n(24903);var Uc=n(53778);const _g=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>A0}),A0=new Map([]);let sf=(()=>{class p extends Uc.Y{constructor(o,d){super(d),this.mockResponseMap=o,this.http=d}get(o){const d=this.getMockData(o);return(0,V.Im)(d)?super.get(o):this.toMockResponse$(d)}request(o,d,x,ee,Pe){const Ae=this.getMockData(d);return(0,V.Im)(Ae)?super.request(o,d,x,ee,Pe):this.toMockResponse$(Ae)}toMockResponse$(o){return(0,Os.of)({payload:o,headers:new oe.Lr,statusCode:200,statusText:"OK"})}getMockData(o){let d;if(d=this.mockResponseMap.has(o)?o:new URL(o).pathname.slice(R.c.rest.nameSpace.length),this.mockResponseMap.has(d))return JSON.parse(JSON.stringify(this.mockResponseMap.get(d)))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(_g),e.KVO(oe.Qq))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var hh=n(87922);let _c=class{static{this.type=hh.E}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],_c.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],_c.prototype,"status",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],_c.prototype,"_links",void 0),_c=(0,je.Cg)([li.gV],_c);var w0=n(89177);let Zd=class{static{this.type=w0.f}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Zd.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Zd.prototype,"identifiers",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Zd.prototype,"_links",void 0),Zd=(0,je.Cg)([li.gV],Zd),n(67478);const vg=new fi.v("submissioncoarnotifyconfig");new fi.v("workspaceitem");let jc=class extends pc.I{static{this.type=vg}get self(){return this._links.self.href}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],jc.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],jc.prototype,"id",void 0),(0,je.Cg)([(0,hn.deserializeAs)("id"),(0,je.Sn)("design:type",String)],jc.prototype,"uuid",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],jc.prototype,"patterns",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],jc.prototype,"_links",void 0),jc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(pc.I)],jc),n(30398);const yg=new fi.v("shortlivedtoken");let hd=class{static{this.type=yg}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],hd.prototype,"type",void 0),(0,je.Cg)([(0,hn.autoserializeAs)("token"),(0,je.Sn)("design:type",String)],hd.prototype,"value",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],hd.prototype,"_links",void 0),hd=(0,je.Cg)([li.gV],hd);var kl=n(49797),Rr=n(96787);let el=class extends kl.G{static{this.type=Rr.XI}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],el.prototype,"type",void 0),(0,je.Cg)([(0,hn.autoserializeAs)(String,"name"),(0,je.Sn)("design:type",String)],el.prototype,"uuid",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],el.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],el.prototype,"itemAccessConditionOptions",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],el.prototype,"bitstreamAccessConditionOptions",void 0),el=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(kl.G)],el);let vc=class extends kl.G{static{this.type=Rr.NS}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],vc.prototype,"accessConditionOptions",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],vc.prototype,"discoverable",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],vc.prototype,"canChangeDiscoverable",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],vc.prototype,"_links",void 0),vc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(kl.G)],vc);let rf=class extends vc{static{this.type=Rr.NS}};rf=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(vc)],rf),n(25168),n(7232),n(66731);let Vl=class extends kl.G{static{this.type=Rr.WJ}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vl.prototype,"header",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],Vl.prototype,"mandatory",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vl.prototype,"scope",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vl.prototype,"sectionType",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Object)],Vl.prototype,"visibility",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Vl.prototype,"_links",void 0),Vl=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(kl.G)],Vl);let yc=class extends kl.G{static{this.type=Rr.mU}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],yc.prototype,"accessConditionOptions",void 0),(0,je.Cg)([(0,li.nf)(Rr.KX),(0,je.Sn)("design:type",Nr.c)],yc.prototype,"metadata",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],yc.prototype,"required",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],yc.prototype,"maxSize",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],yc.prototype,"_links",void 0),yc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(kl.G)],yc);let af=class extends yc{static{this.type=Rr.V_}};af=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(yc)],af);const x0=new fi.v("root");let Gl=class{static{this.type=x0}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Gl.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Gl.prototype,"dspaceUI",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Gl.prototype,"dspaceName",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Gl.prototype,"dspaceServer",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Gl.prototype,"dspaceVersion",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Gl.prototype,"_links",void 0),Gl=(0,je.Cg)([li.gV],Gl),n(26349),n(31924),n(52733),n(32872);var qd=n(13868);const ph=new fi.v("qualityassuranceevent");let ra=class{static{this.type=ph}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],ra.prototype,"id",void 0),(0,je.Cg)([(0,hn.autoserializeAs)(String,"id"),(0,je.Sn)("design:type",String)],ra.prototype,"uuid",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],ra.prototype,"originalId",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],ra.prototype,"title",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],ra.prototype,"trust",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],ra.prototype,"eventDate",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],ra.prototype,"status",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Object)],ra.prototype,"message",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],ra.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],ra.prototype,"_links",void 0),(0,je.Cg)([(0,li.nf)(qd.U),(0,je.Sn)("design:type",Nr.c)],ra.prototype,"target",void 0),(0,je.Cg)([(0,li.nf)(qd.U),(0,je.Sn)("design:type",Nr.c)],ra.prototype,"related",void 0),ra=(0,je.Cg)([li.gV],ra);const Eg=new fi.v("qualityassurancesource");let Ec=class{static{this.type=Eg}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Ec.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Ec.prototype,"lastEvent",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Ec.prototype,"totalEvents",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Ec.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Ec.prototype,"_links",void 0),Ec=(0,je.Cg)([li.gV],Ec);const Cg=new fi.v("qualityassurancetopic");let Cc=class{static{this.type=Cg}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Cc.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Cc.prototype,"name",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Cc.prototype,"lastEvent",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Cc.prototype,"totalEvents",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Cc.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Cc.prototype,"_links",void 0),Cc=(0,je.Cg)([li.gV],Cc);const B0=new fi.v("suggestionsource");let pd=class{static{this.type=B0}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],pd.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],pd.prototype,"total",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],pd.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],pd.prototype,"_links",void 0),pd=(0,je.Cg)([li.gV],pd);const U0=new fi.v("suggestiontarget");let $l=class{static{this.type=U0}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$l.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$l.prototype,"display",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$l.prototype,"source",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],$l.prototype,"total",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],$l.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],$l.prototype,"_links",void 0),$l=(0,je.Cg)([li.gV],$l);const nT=new fi.v("orcidhistory");let Va=class extends pc.I{static{this.type=nT}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Va.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Va.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Va.prototype,"entityName",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Va.prototype,"profileItemId",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Va.prototype,"entityId",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Va.prototype,"entityType",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],Va.prototype,"status",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Va.prototype,"putCode",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Va.prototype,"_links",void 0),Va=(0,je.Cg)([li.gV],Va);const j0=new fi.v("orcidqueue");let vl=class extends pc.I{static{this.type=j0}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],vl.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],vl.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vl.prototype,"description",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vl.prototype,"profileItemId",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vl.prototype,"entityId",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vl.prototype,"recordType",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vl.prototype,"operation",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],vl.prototype,"_links",void 0),vl=(0,je.Cg)([li.gV],vl),n(76151),n(28235);var bg=n(58235);const lf=new fi.v("authorization");var Ga=n(76829);const Wl=new fi.v("feature");let bc=class extends Ga.M{static{this.type=lf}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],bc.prototype,"id",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],bc.prototype,"_links",void 0),(0,je.Cg)([(0,li.nf)(bg.N),(0,je.Sn)("design:type",Nr.c)],bc.prototype,"eperson",void 0),(0,je.Cg)([(0,li.nf)(Wl),(0,je.Sn)("design:type",Nr.c)],bc.prototype,"feature",void 0),(0,je.Cg)([(0,li.nf)(qd.U),(0,je.Sn)("design:type",Nr.c)],bc.prototype,"object",void 0),bc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],bc);var k0=n(33376),hR=(n(760),n(34427),n(22878));const iT=new fi.v("browseEntry");let yl=class extends hR.u{static{this.type=iT}getRenderTypes(){return[this.constructor]}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],yl.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],yl.prototype,"authority",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],yl.prototype,"value",void 0),(0,je.Cg)([(0,hn.autoserializeAs)("valueLang"),(0,je.Sn)("design:type",String)],yl.prototype,"language",void 0),(0,je.Cg)([(0,hn.autoserializeAs)("thumbnail"),(0,je.Sn)("design:type",String)],yl.prototype,"thumbnail",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",Number)],yl.prototype,"count",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],yl.prototype,"_links",void 0),yl=(0,je.Cg)([li.gV],yl);var G0=n(70673);const $0=new fi.v("property");let kc=class{static{this.type=$0}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],kc.prototype,"type",void 0),(0,je.Cg)([(0,hn.autoserializeAs)(String,"name"),(0,je.Sn)("design:type",String)],kc.prototype,"uuid",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],kc.prototype,"name",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],kc.prototype,"values",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],kc.prototype,"_links",void 0),kc=(0,je.Cg)([li.gV],kc),n(31507);var fd=n(15179);let md=class extends Ga.M{static{this.type=Wl}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],md.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],md.prototype,"description",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],md.prototype,"resourcetypes",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],md.prototype,"_links",void 0),md=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],md),n(55451),n(98277);var Ra=n(88318),gd=(n(23881),n(67359),n(59854),n(52920),n(18602));let _d=class extends Ga.M{static{this.type=gd.m}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],_d.prototype,"custom",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],_d.prototype,"text",void 0),_d=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],_d),n(8472),n(71135);const pR=new fi.v("discover");let Kl=class{static{this.type=pR}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Kl.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Kl.prototype,"filters",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Kl.prototype,"sortOptions",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Kl.prototype,"type",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Kl.prototype,"_links",void 0),Kl=(0,je.Cg)([li.gV],Kl);const eu=new fi.v("site");let Pg=class extends Ga.M{static{this.type=eu}};Pg=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],Pg);var Rg=n(9927);const oT=new fi.v("itemtemplate");let df=class extends Ra.q{static{this.type=oT}};(0,je.Cg)([(0,li.nf)(Rg.n),(0,je.Sn)("design:type",Nr.c)],df.prototype,"templateItemOf",void 0),df=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ra.q)],df),n(50800),n(2035);var K0=n(16321),H0=n(65592);let $a=class extends Ga.M{static{this.type=H0.s}};(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],$a.prototype,"_links",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$a.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$a.prototype,"summary",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],$a.prototype,"submitterName",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],$a.prototype,"draftVersion",void 0),(0,je.Cg)([Ur.aK,(0,li.nf)(K0.x,!0),(0,je.Sn)("design:type",Nr.c)],$a.prototype,"versions",void 0),$a=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],$a),n(12070),n(62572);var Y0=n(11453);const aT=new fi.v("submissioncclicenseUrl");let uf=class extends Y0.s{static{this.type=aT}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],uf.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],uf.prototype,"url",void 0),uf=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Y0.s)],uf);var tu=n(25567),X0=n(91581),Dc=n(30056);let Wa=class{static{this.type=Dc.Hx}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Wa.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Wa.prototype,"name",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],Wa.prototype,"scrollable",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],Wa.prototype,"hierarchical",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Object)],Wa.prototype,"preloadLevel",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",Object)],Wa.prototype,"type",void 0),(0,je.Cg)([(0,li.nf)(Dc.mt,!0),(0,je.Sn)("design:type",Nr.c)],Wa.prototype,"entries",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Wa.prototype,"_links",void 0),Wa=(0,je.Cg)([li.gV],Wa);var gh=n(43235);n(36599);class Vc{}(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Vc.prototype,"id",void 0);var _h=n(78416),vh=n(27605);const Q0=new fi.v("ratingrevieweraction"),Z0=new fi.v("selectrevieweraction");let nu=class extends Vc{static{this.type=Q0}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],nu.prototype,"descriptionRequired",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Number)],nu.prototype,"maxValue",void 0),nu=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Vc)],nu);let vd=class extends Vc{static{this.type=Z0}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],vd.prototype,"group",void 0),vd=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Vc)],vd),n(55411);var yd=n(47069);let Gc=class extends Ga.M{static{this.type=yd.f}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Gc.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Gc.prototype,"options",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Boolean)],Gc.prototype,"advanced",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Gc.prototype,"advancedOptions",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",Array)],Gc.prototype,"advancedInfo",void 0),Gc=(0,je.Cg)([li.gV,(0,hn.inheritSerialization)(Ga.M)],Gc);var su=n(2632);let Ng=(()=>{class p extends ka.O{set(o,d,x){(0,su.set)(o,d,x),this.updateSource()}remove(o,d){(0,su.remove)(o,d),this.updateSource()}get(o){return(0,su.getJSON)(o)}getAll(){return(0,su.getJSON)()}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Nn=n(89417),Ks=n(26292),Un=n(78448),iu=n(77537),Hn=n(81569),Oi=n(1321),Go=n(42578),Dr=n(97402),Mr=n(55309),_i=n(39092),yh=n(39552),jr=n(73584);let $c=(()=>{class p extends jr.C{constructor(o,d,x){super(o),this.dsoNameService=o,this.truncatableService=d,this.bitstreamDataService=x}ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(o){return yh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return yh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Fs.f),e.rXU(_i.F),e.rXU(Go.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return p})();const cT=["*"],q0=p=>["/collections/",p];function dT(p,E){if(1&p&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,q0,d.dso.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function ey(p,E){if(1&p&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function uT(p,E){if(1&p&&e.nrm(0,"ds-badges",11),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function hT(p,E){if(1&p&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function pT(p,E){if(1&p&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,q0,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Eh=class RP extends $c{constructor(E,o,d,x){super(E,d,x),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.bitstreamDataService=x}set dso(E){this._dso=E,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Bs.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||RP)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(_i.F),e.rXU(Go.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:RP,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:cT,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,dT,4,12,"a",1)(2,ey,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,uT,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,hT,2,1,"p",6)(8,pT,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(2),e.JRh(d.dsoNameService.getName(d.dso)),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,Mr.F,h.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Eh=(0,je.Cg)([(0,Hn.VK)(iu.A,Un.n.GridElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,_i.F,Go.BitstreamDataService])],Eh);const hf=p=>[p];let tl=class Fb extends $c{ngOnInit(){super.ngOnInit(),this.editPath=(0,ad._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Fb)))(d||Fb)}})()}static{this.\u0275cmp=e.VBU({type:Fb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,hf,d.editPath)))},dependencies:[Eh,_.Wk]})}};tl=(0,je.Cg)([(0,Hn.VK)(iu.A,Un.n.GridElement,Ks.o.AdminSearch)],tl);var Hl=n(17132);const ty=["*"],Fg=p=>["/communities/",p];function ny(p,E){if(1&p&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Fg,d.dso.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function mR(p,E){if(1&p&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function gR(p,E){if(1&p&&e.nrm(0,"ds-badges",11),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function _R(p,E){if(1&p&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function Bg(p,E){if(1&p&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Fg,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Ed=class AP extends $c{constructor(E,o,d,x){super(E,d,x),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.bitstreamDataService=x}set dso(E){this._dso=E,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Bs.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||AP)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(_i.F),e.rXU(Go.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:AP,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ty,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,ny,4,12,"a",1)(2,mR,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,gR,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,_R,2,1,"p",6)(8,Bg,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(2),e.JRh(d.dsoNameService.getName(d.dso)),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,Mr.F,h.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Ed=(0,je.Cg)([(0,Hn.VK)(Hl.L,Un.n.GridElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,_i.F,Go.BitstreamDataService])],Ed);const vR=p=>[p];let Ug=class Bb extends $c{ngOnInit(){super.ngOnInit(),this.editPath=(0,ld.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Bb)))(d||Bb)}})()}static{this.\u0275cmp=e.VBU({type:Bb,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,vR,d.editPath)))},dependencies:[Ed,_.Wk]})}};Ug=(0,je.Cg)([(0,Hn.VK)(Hl.L,Un.n.GridElement,Ks.o.AdminSearch)],Ug);var Wc=n(92827),Aa=n(27442),zl=n(45663),Cd=n(4436);const bd=p=>({"btn-sm":p}),Dd=p=>[p];function sy(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function iy(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function fT(p,E){if(1&p&&(e.j41(0,"a",13),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,iy,3,3,"span",3),e.k0s()),2&p){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,bd,o.small))("routerLink",e.eq3(8,Dd,o.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function mT(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function ry(p,E){if(1&p&&(e.j41(0,"a",15),e.nI1(1,"translate"),e.nrm(2,"i",16),e.DNE(3,mT,3,3,"span",3),e.k0s()),2&p){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,bd,o.small))("routerLink",e.eq3(8,Dd,o.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function pf(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function oy(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function jg(p,E){if(1&p&&(e.j41(0,"a",17),e.nI1(1,"translate"),e.nrm(2,"i",18),e.DNE(3,oy,3,3,"span",3),e.k0s()),2&p){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,bd,o.small))("routerLink",e.eq3(8,Dd,o.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function gT(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function Td(p,E){if(1&p&&(e.j41(0,"a",19),e.nI1(1,"translate"),e.nrm(2,"i",20),e.DNE(3,gT,3,3,"span",3),e.k0s()),2&p){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,bd,o.small))("routerLink",e.eq3(8,Dd,o.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function ay(p,E){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let kg=(()=>{class p{getEditRoute(){return(0,qn.$r)(this.item)}getMoveRoute(){return new zl.t(this.getEditRoute(),Cd.Bw).toString()}getDeleteRoute(){return new zl.t(this.getEditRoute(),Cd.Jr).toString()}getWithdrawRoute(){return new zl.t(this.getEditRoute(),Cd.kH).toString()}getReinstateRoute(){return new zl.t(this.getEditRoute(),Cd.Pg).toString()}getPrivateRoute(){return new zl.t(this.getEditRoute(),Cd.$2).toString()}getPublicRoute(){return new zl.t(this.getEditRoute(),Cd.RS).toString()}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,sy,3,3,"span",3),e.k0s(),e.DNE(5,fT,4,10,"a",4)(6,ry,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,pf,3,3,"span",3),e.k0s(),e.DNE(11,jg,4,10,"a",8)(12,Td,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,ay,3,3,"span",3),e.k0s()()),2&d&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,bd,x.small))("routerLink",e.eq3(24,Dd,x.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngIf",x.item&&x.item.isDiscoverable),e.R7$(),e.Y8G("ngIf",x.item&&!x.item.isDiscoverable),e.R7$(),e.Y8G("ngClass",e.eq3(26,bd,x.small))("routerLink",e.eq3(28,Dd,x.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngIf",x.item&&!x.item.isWithdrawn),e.R7$(),e.Y8G("ngIf",x.item&&x.item.isWithdrawn),e.R7$(),e.Y8G("ngClass",e.eq3(30,bd,x.small))("routerLink",e.eq3(32,Dd,x.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[h.YU,_.Wk,h.bT,G.h,G.D9]})}}return p})();const Vg=["badges"],Gg=["buttons"],_T=["*"];function vT(p,E){}let ff=class wP extends $c{constructor(E,o,d,x){super(E,o,d),this.dsoNameService=E,this.truncatableService=o,this.bitstreamDataService=d,this.themeService=x}ngOnInit(){super.ngOnInit();const E=this.getComponent(),o=this.dynamicComponentLoaderDirective.viewContainerRef;o.clear(),this.compRef=o.createComponent(E,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,Hn.Zx)(this.object.getRenderTypes(),Un.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||wP)(e.rXU(Fs.f),e.rXU(_i.F),e.rXU(Go.BitstreamDataService),e.rXU(Y.Fs))}}static{this.\u0275cmp=e.VBU({type:wP,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Wc.z,7),e.GBs(Vg,7),e.GBs(Gg,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_T,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(o,d){1&o&&(e.NAR(),e.DNE(0,vT,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&o&&(e.R7$(7),e.Y8G("item",d.dso)("small",!0))},dependencies:[kg,Wc.z]})}};ff=(0,je.Cg)([(0,Hn.VK)(Aa.H,Un.n.GridElement,Ks.o.AdminSearch),(0,je.Sn)("design:paramtypes",[Fs.f,_i.F,Go.BitstreamDataService,Y.Fs])],ff);var Ro=n(79411);const ly=p=>[p];function yR(p,E){1&p&&e.nrm(0,"div",7)}function ER(p,E){if(1&p&&e.nrm(0,"ds-badges",8),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Ch(p,E){if(1&p&&e.nrm(0,"a",9),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,ly,"/collections/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function yT(p,E){if(1&p&&e.nrm(0,"span",10),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function ET(p,E){if(1&p&&e.nrm(0,"div",11),2&p){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let bh=class Ub extends Ro.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Ub)))(d||Ub)}})()}static{this.\u0275cmp=e.VBU({type:Ub,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2 ",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,yR,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,ER,1,2,"ds-badges",3)(4,Ch,1,6,"a",4)(5,yT,1,1,"span",5)(6,ET,1,1,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription))},dependencies:[h.bT,h.YU,Mr.F,_.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};bh=(0,je.Cg)([(0,Hn.VK)(iu.A,Un.n.ListElement)],bh);const cy=p=>[p];let mf=class jb extends Ro.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,ad._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(jb)))(d||jb)}})()}static{this.\u0275cmp=e.VBU({type:jb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,cy,d.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[bh,_.Wk,G.h,G.D9]})}};mf=(0,je.Cg)([(0,Hn.VK)(iu.A,Un.n.ListElement,Ks.o.AdminSearch)],mf);const CT=p=>[p];function bT(p,E){1&p&&e.nrm(0,"div",7)}function DT(p,E){if(1&p&&e.nrm(0,"ds-badges",8),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function TT(p,E){if(1&p&&e.nrm(0,"a",9),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,CT,"/communities/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function OT(p,E){if(1&p&&e.nrm(0,"span",10),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function $g(p,E){if(1&p&&e.nrm(0,"div",11),2&p){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let gf=class kb extends Ro.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(kb)))(d||kb)}})()}static{this.\u0275cmp=e.VBU({type:kb,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,bT,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,DT,1,2,"ds-badges",3)(4,TT,1,6,"a",4)(5,OT,1,1,"span",5)(6,$g,1,1,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription))},dependencies:[h.bT,h.YU,Mr.F,_.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};gf=(0,je.Cg)([(0,Hn.VK)(Hl.L,Un.n.ListElement)],gf);const CR=p=>[p];let ru=class Vb extends Ro.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,ld.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Vb)))(d||Vb)}})()}static{this.\u0275cmp=e.VBU({type:Vb,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,CR,d.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[gf,_.Wk,G.h,G.D9]})}};ru=(0,je.Cg)([(0,Hn.VK)(Hl.L,Un.n.ListElement,Ks.o.AdminSearch)],ru);var ou=n(17191);let Wg=class Gb extends Ro.P{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Gb)))(d||Gb)}})()}static{this.\u0275cmp=e.VBU({type:Gb,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(o,d){1&o&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&o&&(e.Y8G("object",d.object)("viewMode",d.viewModes.ListElement)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(),e.Y8G("item",d.dso)("small",!1))},dependencies:[ou.v,kg]})}};Wg=(0,je.Cg)([(0,Hn.VK)(Aa.H,Un.n.ListElement,Ks.o.AdminSearch)],Wg);var Dh=n(79951);const MT=p=>({"btn-sm":p}),IT=p=>[p];function ST(p,E){1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function _f(p,E){1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let au=(()=>{class p{getDeleteRoute(){return(0,Dh.BD)(this.wfi.id)}getSendBackRoute(){return(0,Dh.Rk)(this.wfi.id)}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,ST,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,_f,3,3,"span",3),e.k0s()()),2&d&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,MT,x.small))("routerLink",e.eq3(14,IT,x.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(16,MT,x.small))("routerLink",e.eq3(18,IT,x.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[h.YU,_.Wk,h.bT,G.h,G.D9]})}}return p})();var Kc=n(66129),dy=n(43280),$o=n(7434),uy=n(24547),Kg=n(36074),Hg=n(83987);let va=class{static{this.type=Hg.T}};(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],va.prototype,"id",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],va.prototype,"type",void 0),(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",String)],va.prototype,"ordertype",void 0),(0,je.Cg)([(0,hn.deserializeAs)(new uy.a("supervision-order"),"id"),(0,je.Sn)("design:type",String)],va.prototype,"uuid",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],va.prototype,"_links",void 0),(0,je.Cg)([(0,li.nf)(qd.U),(0,je.Sn)("design:type",Nr.c)],va.prototype,"item",void 0),(0,je.Cg)([(0,li.nf)(Kg.U),(0,je.Sn)("design:type",Nr.c)],va.prototype,"group",void 0),va=(0,je.Cg)([li.gV],va);var Ka=n(50518),El=n(79632);function hy(p,E){1&p&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function bR(p,E){1&p&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let PT=(()=>{class p{constructor(o,d,x,ee,Pe){this.dsoNameService=o,this.activeModal=d,this.supervisionOrderDataService=x,this.notificationsService=ee,this.translateService=Pe,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(o){this.selectedGroup=o}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const o=new va;o.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(o,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,Ls.qD)()).subscribe(d=>{d.state===$o.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(d.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===d.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):d.errorMessage)})}}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Fs.f),e.rXU(X.Lw),e.rXU(Kc.SupervisionOrderDataService),e.rXU(Zr.I),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder"],["name","supervisionOrder","id","supervisionOrder",1,"form-control",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"select",7),e.nI1(14,"translate"),e.mxI("ngModelChange",function(Pe){return e.DH7(x.selectedOrderType,Pe)||(x.selectedOrderType=Pe),Pe}),e.j41(15,"option",8),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"option",9),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.DNE(21,hy,2,3,"ds-error",10),e.k0s()(),e.j41(22,"div",4)(23,"div",5)(24,"label",11),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.qex(27,12),e.nrm(28,"input",13),e.DNE(29,bR,2,3,"ds-error",10),e.bVm(),e.j41(30,"ds-eperson-group-list",14),e.bIt("select",function(Pe){return x.updateGroupObjectSelected(Pe)}),e.k0s()()(),e.j41(31,"div",15)(32,"button",16),e.bIt("click",function(){return x.close()}),e.nrm(33,"i",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"button",18),e.bIt("click",function(){return x.save()}),e.nrm(37,"i",19),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(9),e.JRh(e.bMT(12,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",x.selectedOrderType),e.BMQ("aria-label",e.bMT(14,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(17,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(20,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.Y8G("ngIf",x.isSubmitted&&(!x.selectedOrderType||""===x.selectedOrderType)),e.R7$(4),e.JRh(e.bMT(26,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",x.selectedGroup?x.dsoNameService.getName(x.selectedGroup):""),e.R7$(),e.Y8G("ngIf",x.isSubmitted&&!x.selectedGroup),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(35,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(39,27,"supervision-group-selector.button.save")," "))},dependencies:[Nn.YN,Nn.xH,Nn.y7,Nn.wz,Nn.BC,Nn.vS,h.bT,El.A,Ka.T,G.h,G.D9]})}}return p})();var DR=n(19852),Hc=n(18226);function py(p,E){if(1&p){const o=e.RV6();e.j41(0,"a",4),e.nI1(1,"translate"),e.bIt("click",function(x){const ee=e.eBV(o).$implicit,Pe=e.XpG(3);return x.preventDefault(),x.stopImmediatePropagation(),e.Njj(Pe.deleteSupervisionOrder(ee))}),e.EFF(2),e.j41(3,"span",5),e.EFF(4," \xd7"),e.k0s()()}if(2&p){const o=E.$implicit,d=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",d.dsoNameService.getName(o.group)," ")}}function fy(p,E){if(1&p&&(e.j41(0,"div",2)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,py,5,4,"a",3),e.k0s()()),2&p){const o=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Y8G("ngForOf",o)}}function TR(p,E){if(1&p&&(e.qex(0),e.DNE(1,fy,7,4,"div",1),e.bVm()),2&p){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",(null==o?null:o.length)>0)}}let vf=(()=>{class p{constructor(o){this.dsoNameService=o,this.supervisionOrderList=[],this.supervisionOrderEntries$=new v.t([]),this.delete=new e.bkB}ngOnChanges(o){o&&o.supervisionOrderList&&this.getSupervisionOrderEntries(o.supervisionOrderList.currentValue).subscribe(d=>{this.supervisionOrderEntries$.next(d)})}getSupervisionOrderEntries(o){return(0,hc.H)(o).pipe((0,zn.Z)(d=>d.group.pipe((0,Ls.qD)(),(0,Rt.T)(x=>x.hasSucceeded?{supervisionOrder:d,group:x.payload}:null))),(0,DR.T)((d,x)=>(0,V.hj)(x)?[...d,x]:d,[]))}deleteSupervisionOrder(o){this.delete.emit(o)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge badge-primary mr-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","badge-primary","mr-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(d,x){1&d&&(e.DNE(0,TR,2,1,"ng-container",0),e.nI1(1,"async")),2&d&&e.Y8G("ngVar",e.bMT(1,1,x.supervisionOrderEntries$))},dependencies:[Hc.r,h.bT,h.pM,X.n8,X.md,h.Jj,G.h,G.D9],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return p})();const Th=p=>({"btn-sm":p}),zg=p=>[p];function RT(p,E){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function lu(p,E){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function Yg(p,E){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let yf=(()=>{class p{constructor(o,d,x,ee,Pe){this.dsoNameService=o,this.modalService=d,this.notificationsService=x,this.supervisionOrderDataService=ee,this.translateService=Pe,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const o=this.wsi.item.pipe((0,Ls.ak)());o.pipe((0,Rt.T)(d=>this.getPoliciesRoute(d))).subscribe(d=>{this.resourcePoliciesPageRoute=d}),o.subscribe(d=>{this.item=d})}getDeleteRoute(){return(0,Dh.BY)(this.wsi.id)}getPoliciesRoute(o){return["/items",o.uuid,"edit",Cd.K4]}deleteSupervisionOrder(o){const d=this.modalService.open(ig.M);d.componentInstance.name=this.dsoNameService.getName(o.group),d.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",d.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",d.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",d.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",d.componentInstance.brandColor="danger",d.componentInstance.confirmIcon="fas fa-trash",d.componentInstance.response.pipe((0,T.s)(1),(0,js.n)(x=>{if(x&&(0,V.a4)(o.supervisionOrder.id))return this.supervisionOrderDataService.delete(o.supervisionOrder.id).pipe((0,T.s)(1),(0,ai.M)(ee=>{ee?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(o.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(o.group)}))}))})).subscribe(x=>{x&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const o=this.modalService.open(PT,{size:"lg",backdrop:"static"});o.componentInstance.itemUUID=this.item.uuid,o.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const o=(0,dy.L)(this.wsi.constructor);return Object.assign(new o,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Fs.f),e.rXU(X.Bq),e.rXU(Zr.I),e.rXU(Kc.SupervisionOrderDataService),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(Pe){return x.deleteSupervisionOrder(Pe)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,RT,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,lu,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return x.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,Yg,3,3,"span",5),e.k0s()()),2&d&&(e.R7$(),e.Y8G("supervisionOrderList",x.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,Th,x.small))("routerLink",e.eq3(20,zg,x.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(22,Th,x.small))("routerLink",x.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(24,Th,x.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[vf,h.YU,_.Wk,h.bT,G.h,G.D9]})}}return p})();var cu=n(38786);const Ef=["badges"],AT=["buttons"];function wT(p,E){}function my(p,E){if(1&p&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",9),2&p){const o=e.XpG();e.Y8G("wfi",o.dso)("small",!0)}}let Cf=class LP extends $c{constructor(E,o,d,x,ee){super(E,d,ee),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.themeService=x,this.bitstreamDataService=ee}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.item$=this.dso.item.pipe((0,Ls.v7)(),(0,Ls.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(E=>{const o=this.getComponent(E),d=this.dynamicComponentLoaderDirective.viewContainerRef;d.clear(),this.compRef=d.createComponent(o,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",E),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(E){return(0,Hn.Zx)(E.getRenderTypes(),Un.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||LP)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(_i.F),e.rXU(Y.Fs),e.rXU(Go.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:LP,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Wc.z,7),e.GBs(Ef,7),e.GBs(AT,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(o,d){1&o&&(e.DNE(0,wT,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,my,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.Y8G("ngIf",d.object))},dependencies:[h.bT,au,G.h,G.D9,Wc.z]})}};Cf=(0,je.Cg)([(0,Hn.VK)(cu.q,Un.n.GridElement,Ks.o.AdminWorkflowSearch),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,_i.F,Y.Fs,Go.BitstreamDataService])],Cf);var bf=n(95010);const LT=["badges"],gy=["buttons"];function Oh(p,E){}let Od=class xP extends $c{constructor(E,o,d,x,ee,Pe){super(E,d,ee),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.themeService=x,this.bitstreamDataService=ee,this.supervisionOrderDataService=Pe,this.supervisionOrder$=new v.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.item$=this.dso.item.pipe((0,Ls.v7)(),(0,Ls.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(E=>{const o=this.getComponent(E),d=this.dynamicComponentLoaderDirective.viewContainerRef;d.clear(),this.compRef=d.createComponent(o,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",E),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,T.s)(1),(0,ai.M)(E=>this.itemId=E.id),(0,zn.Z)(E=>this.retrieveSupervisorOrders(E.id))).subscribe(E=>{this.supervisionOrder$.next(E)})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(E){return(0,Hn.Zx)(E.getRenderTypes(),Un.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(E){return this.supervisionOrderDataService.searchByItem(E,!1,!0,(0,Bs.s)("group")).pipe((0,Ls.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(E){this.reloadedObject.emit(E)}static{this.\u0275fac=function(o){return new(o||xP)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(_i.F),e.rXU(Y.Fs),e.rXU(Go.BitstreamDataService),e.rXU(Kc.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:xP,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Wc.z,7),e.GBs(LT,7),e.GBs(gy,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(o,d){if(1&o){const x=e.RV6();e.DNE(0,Oh,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(Pe){return e.eBV(x),e.Njj(d.reloadObject(Pe))})("delete",function(Pe){return e.eBV(x),e.Njj(d.reloadObject(Pe))}),e.k0s()()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,d.supervisionOrder$))("wsi",d.dso))},dependencies:[yf,h.Jj,G.h,G.D9,Wc.z]})}};function Xg(p,E){if(1&p&&(e.nrm(0,"ds-listable-object-component-loader",4),e.nI1(1,"async")),2&p){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}Od=(0,je.Cg)([(0,Hn.VK)(bf.I,Un.n.GridElement,Ks.o.AdminWorkflowSearch),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,_i.F,Y.Fs,Go.BitstreamDataService,Kc.SupervisionOrderDataService])],Od);let Df=class NP extends Ro.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.item$=new v.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.dso.item.pipe((0,Ls.qD)(),(0,Ls.Bo)()).subscribe(E=>{this.item$.next(E)})}static{this.\u0275fac=function(o){return new(o||NP)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:NP,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,Xg,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,6,d.item$)),e.R7$(2),e.Y8G("wfi",d.dso)("small",!1))},dependencies:[h.bT,ou.v,au,h.Jj,G.h,G.D9]})}};function xT(p,E){if(1&p&&(e.nrm(0,"ds-listable-object-component-loader",3),e.nI1(1,"async")),2&p){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}Df=(0,je.Cg)([(0,Hn.VK)(cu.q,Un.n.ListElement,Ks.o.AdminWorkflowSearch),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,Object])],Df);let du=class FP extends Ro.P{constructor(E,o,d,x,ee){super(x,o,ee),this.linkService=E,this.dsoNameService=o,this.supervisionOrderDataService=d,this.truncatableService=x,this.appConfig=ee,this.item$=new v.t(void 0),this.supervisionOrder$=new v.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.dso.item.pipe((0,Ls.qD)(),(0,Ls.Bo)()).pipe((0,T.s)(1),(0,ai.M)(o=>{this.item$.next(o),this.itemId=o.id}),(0,zn.Z)(o=>this.retrieveSupervisorOrders(o.id))).subscribe(o=>{this.supervisionOrder$.next(o)})}retrieveSupervisorOrders(E){return this.supervisionOrderDataService.searchByItem(E,!1,!0,(0,Bs.s)("group")).pipe((0,Ls.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(E){this.reloadedObject.emit(E)}static{this.\u0275fac=function(o){return new(o||FP)(e.rXU(Oi._),e.rXU(Fs.f),e.rXU(Kc.SupervisionOrderDataService),e.rXU(_i.F),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:FP,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"create","delete","small","supervisionOrderList","wsi"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,d){1&o&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,xT,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(ee){return d.reloadObject(ee)})("delete",function(ee){return d.reloadObject(ee)}),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.Y8G("ngIf",e.bMT(4,7,d.item$)),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,d.supervisionOrder$))("wsi",d.dso))},dependencies:[h.bT,ou.v,yf,h.Jj,G.h,G.D9]})}};du=(0,je.Cg)([(0,Hn.VK)(bf.I,Un.n.ListElement,Ks.o.AdminWorkflowSearch),(0,je.Sn)("design:paramtypes",[Oi._,Fs.f,Kc.SupervisionOrderDataService,_i.F,Object])],du);const Tc=(0,se.hZ)("focusShadow",[(0,se.wk)("focus",(0,se.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,se.wk)("blur",(0,se.iF)({boxShadow:"none"})),(0,se.kY)("focus <=> blur",[(0,se.i0)("250ms")])]);(0,se.hZ)("focusBackground",[(0,se.wk)("focus",(0,se.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,se.wk)("blur",(0,se.iF)({backgroundColor:"transparent"})),(0,se.kY)("focus <=> blur",[(0,se.i0)("250ms")])]);var wa=n(21308),Wr=n(44869);const _y=["*","*"],NT=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],Mh=p=>[p];function FT(p,E){if(1&p&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Mh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function vy(p,E){if(1&p&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function yy(p,E){if(1&p&&e.nrm(0,"ds-badges",14),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)("showAccessStatus",!0)}}function Ey(p,E){if(1&p&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.JRh(o.firstMetadataValue("dc.date.issued"))}}function Jg(p,E){if(1&p&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",20),e.k0s()),2&p){const o=E.$implicit;e.R7$(2),e.Y8G("innerHTML",o,e.npT)}}function Cy(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",15)(1,"p",16),e.DNE(2,Ey,2,1,"span",17)(3,Jg,3,1,"span",18),e.k0s()()),2&p){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.Y8G("ngIf",o.dso.hasMetadata("dc.date.issued")),e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(4,NT)))}}function Tf(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",15)(1,"p",21),e.nrm(2,"span",20),e.k0s()()),2&p){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}function Ih(p,E){if(1&p&&(e.j41(0,"div",22)(1,"a",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Mh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let nl=class BP extends $c{constructor(E,o,d){super(E,o,d),this.dsoNameService=E,this.truncatableService=o,this.bitstreamDataService=d}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,qn._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(o){return new(o||BP)(e.rXU(Fs.f),e.rXU(_i.F),e.rXU(Go.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:BP,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_y,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(_y),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,FT,5,12,"a",2)(5,vy,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,yy,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Cy,4,5,"ds-truncatable-part",9)(12,Tf,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,Ih,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(4),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata(e.lJ4(13,NT))),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description.abstract")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,Mr.F,wa.d,Wr.W,h.pM,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};nl=(0,je.Cg)([(0,Hn.VK)("PublicationSearchResult",Un.n.GridElement),(0,Hn.VK)(Aa.H,Un.n.GridElement),(0,je.Sn)("design:paramtypes",[Fs.f,_i.F,Go.BitstreamDataService])],nl);const Of=["*","*"],hu=p=>[p];function by(p,E){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,hu,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Qg(p,E){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Mf(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function BT(p,E){if(1&p&&(e.j41(0,"span",20)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&p){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("creativework.publisher")," ")}}function Dy(p,E){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),e.EFF(3),e.k0s(),e.DNE(4,BT,4,1,"span",19),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.JRh(o.firstMetadataValue("creativework.editor")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("creativework.publisher"))}}function UT(p,E){if(1&p&&(e.j41(0,"p",21)(1,"ds-truncatable-part",17),e.nrm(2,"span",22),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function jT(p,E){if(1&p&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,hu,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Sh=class $b extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo($b)))(d||$b)}})()}static{this.\u0275cmp=e.VBU({type:$b,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Of,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Of),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,by,5,12,"a",3)(6,Qg,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Mf,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Dy,5,4,"p",9)(12,UT,3,3,"p",10)(13,jT,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.editor")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Sh=(0,je.Cg)([(0,Hn.VK)("JournalSearchResult",Un.n.GridElement)],Sh);const Ty=()=>({}),Oy=(p,E)=>({indexableObject:p,hitHighlights:E});let hi=class Wb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Wb)))(d||Wb)}})()}static{this.\u0275cmp=e.VBU({type:Wb,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Oy,d.object,e.lJ4(3,Ty)))("linkType",d.linkType)},dependencies:[Sh]})}};hi=(0,je.Cg)([(0,Hn.VK)("Journal",Un.n.GridElement)],hi);const Zg=["*","*"],qg=p=>[p];function pu(p,E){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,qg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function My(p,E){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Iy(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function kT(p,E){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function If(p,E){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("journal.title"),e.npT)}}function fu(p,E){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,qg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Md=class Kb extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Kb)))(d||Kb)}})()}static{this.\u0275cmp=e.VBU({type:Kb,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Zg,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Zg),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,pu,5,12,"a",3)(6,My,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Iy,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,kT,3,3,"p",9)(12,If,3,3,"p",10)(13,fu,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("journal.title")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Md=(0,je.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Un.n.GridElement)],Md);const Ph=()=>({}),Sy=(p,E)=>({indexableObject:p,hitHighlights:E});let mu=class Hb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Hb)))(d||Hb)}})()}static{this.\u0275cmp=e.VBU({type:Hb,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Sy,d.object,e.lJ4(3,Ph)))("linkType",d.linkType)},dependencies:[Md]})}};mu=(0,je.Cg)([(0,Hn.VK)("JournalIssue",Un.n.GridElement)],mu);const Sf=["*","*"],Pf=p=>[p];function Py(p,E){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Pf,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function e_(p,E){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function VT(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function GT(p,E){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function $T(p,E){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function Ry(p,E){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Pf,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Rh=class zb extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(zb)))(d||zb)}})()}static{this.\u0275cmp=e.VBU({type:zb,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Sf,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Sf),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Py,5,12,"a",3)(6,e_,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,VT,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,GT,3,3,"p",9)(12,$T,3,3,"p",10)(13,Ry,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Rh=(0,je.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Un.n.GridElement)],Rh);const WT=()=>({}),KT=(p,E)=>({indexableObject:p,hitHighlights:E});let Rf=class Yb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Yb)))(d||Yb)}})()}static{this.\u0275cmp=e.VBU({type:Yb,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,KT,d.object,e.lJ4(3,WT)))("linkType",d.linkType)},dependencies:[Rh]})}};Rf=(0,je.Cg)([(0,Hn.VK)("JournalVolume",Un.n.GridElement)],Rf);var Oc=n(94418);const t_=()=>["creativeworkseries.issn"],Ay=p=>[p];function HT(p,E){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Ay,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function La(p,E){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function zT(p,E){if(1&p&&(e.j41(0,"div",10),e.DNE(1,HT,3,9,"a",11)(2,La,3,4,"span",12),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function YT(p,E){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function OR(p,E){if(1&p&&e.nrm(0,"a",17),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Ay,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function n_(p,E){if(1&p&&e.nrm(0,"span",18),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function wy(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function XT(p,E){if(1&p&&(e.j41(0,"span"),e.nrm(1,"span",21),e.DNE(2,wy,2,0,"span",22),e.k0s()),2&p){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function JT(p,E){if(1&p&&(e.j41(0,"span",19),e.DNE(1,XT,3,2,"span",20),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,t_)))}}let Ah=class Xb extends Oc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Xb)))(d||Xb)}})()}static{this.\u0275cmp=e.VBU({type:Xb,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,zT,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,YT,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,OR,1,6,"a",5)(6,n_,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,JT,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,t_)).length>0))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,Mr.F,wa.d,Wr.W,h.pM,h.Jj]})}};Ah=(0,je.Cg)([(0,Hn.VK)("JournalSearchResult",Un.n.ListElement)],Ah);const Ly=()=>({}),QT=(p,E)=>({indexableObject:p,hitHighlights:E});let Af=class Jb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Jb)))(d||Jb)}})()}static{this.\u0275cmp=e.VBU({type:Jb,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,QT,d.object,e.lJ4(3,Ly)))("linkType",d.linkType)},dependencies:[Ah]})}};Af=(0,je.Cg)([(0,Hn.VK)("Journal",Un.n.ListElement)],Af);const wf=()=>["publicationvolume.volumeNumber"],xy=p=>[p],Ny=()=>["publicationissue.issueNumber"];function ZT(p,E){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,xy,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function qT(p,E){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function eO(p,E){if(1&p&&(e.j41(0,"div",10),e.DNE(1,ZT,3,9,"a",11)(2,qT,3,4,"span",12),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function Yl(p,E){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function s_(p,E){if(1&p&&e.nrm(0,"a",17),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,xy,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function tO(p,E){if(1&p&&e.nrm(0,"span",18),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function nO(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Fy(p,E){if(1&p&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,nO,2,0,"span",23),e.k0s()),2&p){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function By(p,E){1&p&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function Lf(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function i_(p,E){if(1&p&&(e.j41(0,"span"),e.DNE(1,By,2,0,"span",23),e.nrm(2,"span",22),e.DNE(3,Lf,2,0,"span",23),e.k0s()),2&p){const o=E.$implicit,d=E.first,x=E.last;e.R7$(),e.Y8G("ngIf",d),e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!x)}}function MR(p,E){if(1&p&&(e.j41(0,"span",24),e.DNE(1,i_,4,3,"span",20),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Ny)))}}function Uy(p,E){if(1&p&&(e.j41(0,"span",19),e.DNE(1,Fy,3,2,"span",20)(2,MR,2,2,"span",21),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(2,wf))),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata(e.lJ4(3,Ny)).length>0)}}let gu=class Qb extends Oc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Qb)))(d||Qb)}})()}static{this.\u0275cmp=e.VBU({type:Qb,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-issue-numbers"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,eO,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Yl,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,s_,1,6,"a",5)(6,tO,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Uy,3,4,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,wf)).length>0))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,Mr.F,wa.d,Wr.W,h.pM,h.Jj]})}};gu=(0,je.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Un.n.ListElement)],gu);const jy=()=>({}),xf=(p,E)=>({indexableObject:p,hitHighlights:E});let _u=class Zb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Zb)))(d||Zb)}})()}static{this.\u0275cmp=e.VBU({type:Zb,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,xf,d.object,e.lJ4(3,jy)))("linkType",d.linkType)},dependencies:[gu]})}};_u=(0,je.Cg)([(0,Hn.VK)("JournalIssue",Un.n.ListElement)],_u);const Xl=()=>["journal.title"],ky=()=>["publicationvolume.volumeNumber"],Vy=p=>[p];function r_(p,E){if(1&p&&(e.j41(0,"a",14),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Vy,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function sO(p,E){if(1&p&&(e.j41(0,"span",16),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function wh(p,E){if(1&p&&(e.j41(0,"div",11),e.DNE(1,r_,3,9,"a",12)(2,sO,3,4,"span",13),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function Gy(p,E){if(1&p&&e.nrm(0,"ds-badges",17),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function vu(p,E){if(1&p&&e.nrm(0,"a",18),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Vy,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Lh(p,E){if(1&p&&e.nrm(0,"span",19),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function o_(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function xh(p,E){if(1&p&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,o_,2,0,"span",23),e.k0s()),2&p){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function $y(p,E){if(1&p&&(e.j41(0,"span",20),e.DNE(1,xh,3,2,"span",21),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Xl)))}}function Wy(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function iO(p,E){if(1&p&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",22),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,Wy,2,0,"span",23),e.k0s()),2&p){const o=E.$implicit,d=E.last;e.R7$(3),e.Y8G("innerHTML",o,e.npT),e.R7$(3),e.Y8G("ngIf",!d)}}function rO(p,E){if(1&p&&(e.j41(0,"span",24),e.DNE(1,iO,7,2,"span",21),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,ky)))}}let Nh=class qb extends Oc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(qb)))(d||qb)}})()}static{this.\u0275cmp=e.VBU({type:qb,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-volume-identifiers"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,wh,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Gy,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,vu,1,6,"a",5)(6,Lh,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,$y,2,2,"span",9)(10,rO,2,2,"span",10),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(10,Xl)).length>0),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(11,ky)).length>0))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,Mr.F,wa.d,Wr.W,h.pM,h.Jj]})}};Nh=(0,je.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Un.n.ListElement)],Nh);const oO=()=>({}),Ky=(p,E)=>({indexableObject:p,hitHighlights:E});let Id=class eD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(eD)))(d||eD)}})()}static{this.\u0275cmp=e.VBU({type:eD,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Ky,d.object,e.lJ4(3,oO)))("linkType",d.linkType)},dependencies:[Nh]})}};function aO(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Id=(0,je.Cg)([(0,Hn.VK)("JournalVolume",Un.n.ListElement)],Id);let zc=(()=>{class p extends Ro.P{constructor(o,d,x){super(o,x,null),this.truncatableService=o,this.linkService=d,this.dsoNameService=x}ngOnInit(){super.ngOnInit(),(0,V.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===Ks.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,Rt.T)(o=>(0,V.a4)(o)&&(0,V.a4)(o.payload)?this.dsoNameService.getName(o.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const o=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,Bs.s)(o))[o].pipe((0,vs.I)(d=>d.hasSucceeded||204===d.statusCode))}return(0,Os.of)(void 0)}getDescription(){const o=this.firstMetadataValue("dc.publisher"),d=this.firstMetadataValue("dc.date.issued"),x=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let ee="";return((0,V.hj)(o)||(0,V.hj)(d))&&(ee+="("),(0,V.hj)(o)&&(ee+=o),(0,V.hj)(d)&&((0,V.hj)(o)&&(ee+=", "),ee+=d),(0,V.hj)(ee)&&(ee+=") "),(0,V.hj)(x)&&x.forEach((Pe,Ae)=>{ee+=Pe,Ae<x.length-1&&(ee+="; ")}),this.undefinedIfEmpty(ee)}undefinedIfEmpty(o){return this.defaultIfEmpty(o,void 0)}defaultIfEmpty(o,d){return(0,V.hj)(o)?o:d}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(_i.F),e.rXU(Oi._),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(d,x){1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,aO,2,5,"ds-truncatable-part",3)),2&d&&(e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,x.parentTitle$&&x.parentTitle$)?e.bMT(3,13,x.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-primary")("innerHTML",x.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",x.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}}return p})();function lO(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}let Nf=class tD extends zc{getDescription(){const E=this.allMetadataValues(["creativeworkseries.issn"]);let o="";return(0,V.hj)(E)&&(o+=E.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(tD)))(d||tD)}})()}static{this.\u0275cmp=e.VBU({type:tD,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,lO,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function Hy(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Nf=(0,je.Cg)([(0,Hn.VK)("JournalSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("JournalSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],Nf);let Ff=class nD extends zc{getDescription(){const E=this.allMetadataValues(["publicationvolume.volumeNumber"]),o=this.allMetadataValues(["publicationissue.issueNumber"]);let d="";return(0,V.hj)(E)&&(d+=E.join(", ")),(0,V.hj)(d)&&(0,V.hj)(o)&&(d+=" - "),(0,V.hj)(o)&&(d+=o.join(", ")),this.undefinedIfEmpty(d)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(nD)))(d||nD)}})()}static{this.\u0275cmp=e.VBU({type:nD,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Hy,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function cO(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Ff=(0,je.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("JournalIssueSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],Ff);let Fh=class sD extends zc{getDescription(){const E=this.allMetadataValues(["journal.title"]),o=this.allMetadataValues(["publicationvolume.volumeNumber"]);let d="";return(0,V.hj)(E)&&(d+=E.join(", ")),(0,V.hj)(o)&&((0,V.hj)(d)&&(d+=" "),d+=o.map(x=>`(${x})`).join(" ")),this.undefinedIfEmpty(d)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(sD)))(d||sD)}})()}static{this.\u0275cmp=e.VBU({type:sD,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,cO,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};Fh=(0,je.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("JournalVolumeSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],Fh);var a_=n(7654),xa=n(79222),Bh=n(56977);class Sd{}const Uh=function(){var p=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return p.apply(this,arguments)}}(),dO=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:Uh});let uO=(()=>{class p{constructor(o,d,x,ee){this.markdownIt=o,this.sanitizer=d,this.mathService=x,this.elementRef=ee,this.alive$=new Zo.B,this.el=ee.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(o,d=!1){var x=this;return(0,m.A)(function*(){(0,V.Im)(o)||!R.c.markdown.enabled&&!d?x.el.innerHTML=x.sanitizer.sanitize(e.WPN.HTML,o):R.c.markdown.mathjax?x.renderMathjaxThenMarkdown(o):x.renderMarkdown(o)})()}renderMathjaxThenMarkdown(o){const d=this.sanitizer.sanitize(e.WPN.HTML,o);this.el.innerHTML=d,this.mathService.ready().pipe((0,Fn.p)(x=>x),(0,T.s)(1),(0,Bh.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(x=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(o,d=!1){var x=this;return(0,m.A)(function*(){const Pe=new(yield x.markdownIt)({html:!0,linkify:!0}),Ae=d?Pe.render(o):x.sanitizer.sanitize(e.WPN.HTML,Pe.render(o));x.el.innerHTML=Ae})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(dO),e.rXU(f.up),e.rXU(Sd),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:p,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return p})();const hO=(p,E)=>({value:p,img:E}),Bf=p=>["/browse",p];function l_(p,E){1&p&&e.eu8(0)}function pO(p,E){if(1&p&&e.nrm(0,"span",9),2&p){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function IR(p,E){if(1&p&&(e.qex(0),e.DNE(1,l_,1,0,"ng-container",7)(2,pO,1,1,"span",8),e.bVm()),2&p){const o=E.$implicit,d=E.last,x=e.XpG(),ee=e.sdS(4),Pe=e.sdS(6),Ae=e.sdS(8),ht=e.sdS(10),Ut=e.sdS(12);e.R7$(),e.Y8G("ngTemplateOutlet",x.renderMarkdown?ee:x.hasLink(o)?x.hasValue(x.img)?Ae:Pe:x.hasBrowseDefinition()?Ut:ht)("ngTemplateOutletContext",e.l_i(3,hO,o.value,x.img)),e.R7$(),e.Y8G("ngIf",!d)}}function SR(p,E){1&p&&e.nrm(0,"span",10),2&p&&e.Y8G("dsMarkdown",E.value)}function fO(p,E){if(1&p&&(e.j41(0,"a",11),e.EFF(1),e.k0s()),2&p){const o=E.value,d=e.XpG();e.Y8G("href",o,e.B4B),e.BMQ("target",d.getLinkAttributes(o).target)("rel",d.getLinkAttributes(o).rel),e.R7$(),e.SpI(" ",o," ")}}function mO(p,E){if(1&p&&(e.j41(0,"a",12),e.nrm(1,"img",13),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&p){const o=E.img,d=E.value;e.Y8G("href",d,e.B4B),e.R7$(),e.xc7("height","var("+o.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,o.alt))("src",o.URI,e.B4B),e.R7$(2),e.SpI(" ",d," ")}}function PR(p,E){if(1&p&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&p){const o=E.value;e.R7$(),e.JRh(o)}}function gO(p,E){if(1&p&&(e.j41(0,"a",15),e.EFF(1),e.k0s()),2&p){const o=E.value,d=e.XpG();e.Y8G("routerLink",e.eq3(3,Bf,d.browseDefinition.id))("queryParams",d.getQueryParams(o)),e.R7$(),e.JRh(o)}}let jh=(()=>{class p{constructor(o){this.appConfig=o,this.enableMarkdown=!1,this.hasValue=V.a4}ngOnChanges(o){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,V.a4)(this.browseDefinition)}hasLink(o){return!!(0,V.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(o.value)}getQueryParams(o){const d={startsWith:o};return this.browseDefinition.getRenderType()===a_.o.value?{value:o}:d}hasInternalLink(o){return o.startsWith(R.c.ui.baseUrl)}getLinkAttributes(o){return this.hasInternalLink(o)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:4,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],[1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.DNE(2,IR,3,6,"ng-container",6),e.k0s(),e.DNE(3,SR,1,1,"ng-template",null,0,e.C5r)(5,fO,2,4,"ng-template",null,1,e.C5r)(7,mO,4,8,"ng-template",null,2,e.C5r)(9,PR,2,1,"ng-template",null,3,e.C5r)(11,gO,2,5,"ng-template",null,4,e.C5r)),2&d&&(e.Y8G("label",e.bMT(1,2,x.label)),e.R7$(2),e.Y8G("ngForOf",x.mdValues))},dependencies:[xa.Q,h.pM,h.T3,h.bT,_.Wk,G.h,G.D9,uO]})}}return p})();var _O=n(27916),vO=n.n(_O),yO=n(26365),c_=n(42673);let Mc=(()=>{class p{constructor(o,d){this.browseDefinitionDataService=o,this.browseService=d,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,Ls.qD)(),(0,Ls.Bo)(),(0,Ls.W8)(),(0,yO.U)(),(0,Fn.p)(o=>vO()(o.metadataKeys,this.fields,p.fieldMatch).length>0),(0,T.s)(1))}static fieldMatch(o,d){return d===o||o.endsWith(".*")&&d.substring(0,o.length-1)===o.substring(0,o.length-1)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(c_.BrowseDefinitionDataService),e.rXU(rr.q))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[jh,h.Jj],encapsulation:2})}}return p})(),Cl=(()=>{class p extends Mc{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[jh,h.Jj],encapsulation:2})}}return p})();var Ha=n(26077),yu=n(56760);let sl=(()=>{class p{constructor(o,d){this.routeService=o,this.router=d,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,T.s)(1)).subscribe(x=>{this.router.navigateByUrl(x)})},this.mediaViewer=R.c.mediaViewer}ngOnInit(){this.itemPageRoute=(0,qn._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,Rt.T)(o=>this.previousRoute.test(o)),(0,T.s)(1)),this.iiifEnabled=(p=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(p=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,Fn.p)(o=>o.includes("/search")),(0,Rt.T)(o=>(new _.nU).parse(o).queryParamMap.get("query")),(0,T.s)(1)))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(yu.v$),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return p})();var Yy=n(4021),CO=n(49656);let Xy=(()=>{class p{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,V.hj)(this.relationType)&&(0,V.hj)(this.item)&&(this.fixedFilter=(0,CO.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(d,x){1&d&&e.nrm(0,"ds-configuration-search-page",0),2&d&&e.Y8G("fixedFilterQuery",x.fixedFilter)("configuration",x.configuration)("searchEnabled",x.searchEnabled)("sideBarWidth",x.sideBarWidth)("showCsvExport",!0)},dependencies:[Yy.M],encapsulation:2})}}return p})();function bO(p,E){if(1&p&&(e.j41(0,"div",9),e.nrm(1,"ds-related-entities-search",10),e.k0s()),2&p){const o=e.XpG().$implicit,d=e.XpG(2);e.R7$(),e.Y8G("item",d.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",d.searchEnabled)("sideBarWidth",d.sideBarWidth)}}function Uf(p,E){if(1&p&&(e.j41(0,"li",6)(1,"a",7),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,bO,2,5,"ng-template",8),e.k0s()),2&p){const o=E.$implicit;e.Y8G("ngbNavItem",o.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+o.label)," ")}}function DO(p,E){if(1&p){const o=e.RV6();e.qex(0),e.j41(1,"ul",3,0),e.nI1(3,"async"),e.bIt("navChange",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onTabChange(x))}),e.DNE(4,Uf,5,4,"li",4),e.k0s(),e.nrm(5,"div",5),e.bVm()}if(2&p){const o=e.sdS(2),d=e.XpG();e.R7$(),e.Y8G("destroyOnHide",!0)("activeId",e.bMT(3,4,d.activeTab$)),e.R7$(3),e.Y8G("ngForOf",d.relationTypes),e.R7$(),e.Y8G("ngbNavOutlet",o)}}function TO(p,E){if(1&p&&e.nrm(0,"ds-related-entities-search",10),2&p){const o=E.ngVar,d=e.XpG(2);e.Y8G("item",d.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",d.searchEnabled)("sideBarWidth",d.sideBarWidth)}}function OO(p,E){if(1&p&&(e.j41(0,"div",9),e.DNE(1,TO,1,5,"ds-related-entities-search",11),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngVar",o.relationTypes[0])}}let jf=(()=>{class p{constructor(o,d){this.route=o,this.router=d,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,Rt.T)(o=>o.tab))}onTabChange(o){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:o.nextId},queryParamsHandling:"merge"})}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(_.nX),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],["role","presentation",3,"ngbNavItem"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(d,x){1&d&&e.DNE(0,DO,6,6,"ng-container",1)(1,OO,2,1,"div",2),2&d&&(e.Y8G("ngIf",x.relationTypes.length>1),e.R7$(),e.Y8G("ngIf",1===x.relationTypes.length))},dependencies:[h.bT,X.Pv,X.Um,X.X9,X.sy,X.Ri,X.m_,h.pM,Xy,Hc.r,h.Jj,G.h,G.D9],encapsulation:2})}}return p})();var Jy=n(41023),Pd=n(82394),Vh=n(74430),MO=n(20261);const Gh=p=>({amount:p});function kf(p,E){if(1&p&&e.nrm(0,"ds-listable-object-component-loader",6),2&p){const o=E.$implicit,d=e.XpG(3);e.Y8G("object",o)("viewMode",d.viewMode)}}function RR(p,E){1&p&&(e.nrm(0,"ds-loading",7),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"loading.default"))}function IO(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return e.Njj(x.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&p){const o=e.XpG(2).ngVar,d=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,Gh,(null==o||null==o.payload?null:o.payload.totalElements)-d.incrementBy*d.objects.length<d.incrementBy?(null==o||null==o.payload?null:o.payload.totalElements)-d.incrementBy*d.objects.length:d.incrementBy))," ",d.label,"")}}function SO(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",13)(1,"button",12),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return e.Njj(x.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&p){const o=e.XpG(2).ngVar,d=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,Gh,null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length))," ",d.label,"")}}function d_(p,E){if(1&p&&(e.j41(0,"div",8),e.DNE(1,IO,4,7,"div",9)(2,SO,4,7,"div",10),e.k0s()),2&p){const o=e.XpG().ngVar,d=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==o||null==o.payload?null:o.payload.totalPages)>d.objects.length),e.R7$(),e.Y8G("ngIf",d.objects.length>1)}}function PO(p,E){if(1&p&&(e.qex(0),e.DNE(1,kf,1,2,"ds-listable-object-component-loader",3)(2,RR,2,3,"ds-loading",4)(3,d_,3,2,"div",5),e.bVm()),2&p){const o=E.ngVar,d=e.XpG().index,x=e.XpG();e.R7$(),e.Y8G("ngForOf",null==o||null==o.payload?null:o.payload.page),e.R7$(),e.Y8G("ngIf",d+1===x.objects.length&&(o||d>0)&&!(null!=o&&o.hasSucceeded&&null!=o&&o.payload&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)),e.R7$(),e.Y8G("ngIf",d+1===x.objects.length&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)}}function Qy(p,E){if(1&p&&(e.qex(0),e.DNE(1,PO,4,3,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&p){const o=E.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,o))}}let Yc=(()=>{class p extends MO.e{constructor(o,d,x,ee){super(),this.relationshipService=o,this.elementRef=d,this.appConfig=x,this.platformId=ee,this.incrementBy=5,this.options=new Jy._,this.viewMode=Un.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,h.UE)(this.platformId)?(0,Vh.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(o){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:o,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(id.RelationshipDataService),e.rXU(e.aKT),e.rXU(si.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left","id","view-more",4,"ngIf"],["class","float-right","id","view-less",4,"ngIf"],["id","view-more",1,"float-left"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"],["id","view-less",1,"float-right"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",0),e.DNE(1,Qy,3,3,"ng-container",1),e.k0s()),2&d&&(e.Y8G("label",x.label)("ngClass",x.placeholderFontClass),e.R7$(),e.Y8G("ngForOf",x.objects))},dependencies:[xa.Q,h.YU,h.pM,Hc.r,ou.v,h.bT,Pd.v,h.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return p})();var Xc=n(17807),Ic=n(4420);const RO=()=>["creativeworkseries.issn"],AO=()=>["creativework.publisher"],Eu=()=>["creativework.editor"],Vf=()=>["dc.description"],Zy=p=>[p],qy=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function wO(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",14),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let $h=class iD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(iD)))(d||iD)}})()}static{this.\u0275cmp=e.VBU({type:iD,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,wO,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,23,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(31,RO))("label","journal.page.issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(32,AO))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(33,Eu))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"relationships.isVolumeOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(34,Vf))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,Zy,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.eq3(38,Zy,e.lJ4(37,qy))))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,Cl,Yc,_.Wk,jf,h.Jj,G.h,G.D9]})}};$h=(0,je.Cg)([(0,Hn.VK)("Journal",Un.n.StandalonePage)],$h);const AR=()=>["publicationvolume.volumeNumber"],LO=()=>["publicationissue.issueNumber"],Wh=()=>["creativework.datePublished"],eE=()=>["journal.title"],xO=()=>["creativeworkseries.issn"],NO=()=>["dc.description"],FO=()=>["creativework.keywords"],u_=p=>[p];function BO(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",12),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let Kh=class rD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(rD)))(d||rD)}})()}static{this.\u0275cmp=e.VBU({type:rD,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,BO,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,33,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(43,AR))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(44,LO))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(45,Wh))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(46,eE))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(47,xO))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"relationships.isSingleVolumeOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"relationships.isPublicationOfJournalIssue")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(48,NO))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(49,FO))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,u_,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,Cl,Yc,_.Wk,h.Jj,G.h,G.D9]})}};Kh=(0,je.Cg)([(0,Hn.VK)("JournalIssue",Un.n.StandalonePage)],Kh);const bl=()=>["publicationvolume.volumeNumber"],tE=()=>["creativework.datePublished"],UO=()=>["dc.description"],wR=p=>[p];function go(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",11),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let Gf=class oD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(oD)))(d||oD)}})()}static{this.\u0275cmp=e.VBU({type:oD,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,go,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,21,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(31,bl))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(32,tE))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"relationships.isSingleJournalOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"relationships.isIssueOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(33,UO))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,wR,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,Cl,Yc,_.Wk,h.Jj,G.h,G.D9]})}};Gf=(0,je.Cg)([(0,Hn.VK)("JournalVolume",Un.n.StandalonePage)],Gf);const $f=["*","*"],nE=p=>[p];function jO(p,E){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,nE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function h_(p,E){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function sE(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function iE(p,E){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("organization.foundingDate"),e.npT)}}function rE(p,E){if(1&p&&(e.j41(0,"span",22)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&p){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("organization.address.addressLocality")," ")}}function kO(p,E){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),e.EFF(3),e.k0s(),e.DNE(4,rE,4,1,"span",21),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.JRh(o.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("organization.address.addressLocality"))}}function VO(p,E){if(1&p&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,nE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Dl=class aD extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(aD)))(d||aD)}})()}static{this.\u0275cmp=e.VBU({type:aD,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$f,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR($f),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,jO,5,12,"a",3)(6,h_,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,sE,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,iE,3,3,"p",9)(12,kO,5,4,"p",10)(13,VO,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("organization.foundingDate")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Dl=(0,je.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Un.n.GridElement)],Dl);const oE=()=>({}),p_=(p,E)=>({indexableObject:p,hitHighlights:E});let Wf=class lD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(lD)))(d||lD)}})()}static{this.\u0275cmp=e.VBU({type:lD,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,p_,d.object,e.lJ4(3,oE)))("linkType",d.linkType)},dependencies:[Dl]})}};Wf=(0,je.Cg)([(0,Hn.VK)("OrgUnit",Un.n.GridElement)],Wf);const f_=["*","*"],m_=p=>[p];function aE(p,E){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,m_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Hh(p,E){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function g_(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Jc(p,E){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.email"),e.npT)}}function Kf(p,E){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.jobTitle"),e.npT)}}function lE(p,E){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,m_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Sc=class cD extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(cD)))(d||cD)}})()}static{this.\u0275cmp=e.VBU({type:cD,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f_,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(f_),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,aE,5,12,"a",3)(6,Hh,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,g_,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Jc,3,3,"p",9)(12,Kf,3,3,"p",10)(13,lE,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("person.email")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("person.jobTitle")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Sc=(0,je.Cg)([(0,Hn.VK)("PersonSearchResult",Un.n.GridElement)],Sc);const GO=()=>({}),$O=(p,E)=>({indexableObject:p,hitHighlights:E});let Cu=class dD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(dD)))(d||dD)}})()}static{this.\u0275cmp=e.VBU({type:dD,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-person-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,$O,d.object,e.lJ4(3,GO)))("linkType",d.linkType)},dependencies:[Sc]})}};Cu=(0,je.Cg)([(0,Hn.VK)("Person",Un.n.GridElement)],Cu);const __=["*","*"],Pc=p=>[p];function zh(p,E){if(1&p&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Pc,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function LR(p,E){if(1&p&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Hf(p,E){if(1&p&&e.nrm(0,"ds-badges",14),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function cE(p,E){if(1&p&&(e.j41(0,"p",15)(1,"ds-truncatable-part",16),e.nrm(2,"span",17),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function dE(p,E){if(1&p&&(e.j41(0,"div",18)(1,"a",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Pc,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Yh=class uD extends nl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(uD)))(d||uD)}})()}static{this.\u0275cmp=e.VBU({type:uD,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:__,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(__),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,zh,5,12,"a",3)(6,LR,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Hf,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,cE,3,3,"p",9)(12,dE,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,10,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[wa.d,h.bT,_.Wk,Dr.T,Mr.F,Wr.W,h.Jj,G.h,G.D9],data:{animation:[Tc]}})}};Yh=(0,je.Cg)([(0,Hn.VK)("ProjectSearchResult",Un.n.GridElement)],Yh);const zf=()=>({}),Xh=(p,E)=>({indexableObject:p,hitHighlights:E});let Yf=class hD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(hD)))(d||hD)}})()}static{this.\u0275cmp=e.VBU({type:hD,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-project-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Xh,d.object,e.lJ4(3,zf)))("linkType",d.linkType)},dependencies:[Yh]})}};Yf=(0,je.Cg)([(0,Hn.VK)("Project",Un.n.GridElement)],Yf);const WO=()=>["dc.description"],uE=p=>[p];function KO(p,E){if(1&p&&(e.j41(0,"a",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,uE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function HO(p,E){if(1&p&&(e.j41(0,"span",14),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function zO(p,E){if(1&p&&(e.j41(0,"div",9),e.DNE(1,KO,3,11,"a",10)(2,HO,3,6,"span",11),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function YO(p,E){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function XO(p,E){if(1&p&&(e.nrm(0,"a",16),e.nI1(1,"translate")),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,uE,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Xf(p,E){if(1&p&&(e.nrm(0,"span",17),e.nI1(1,"translate")),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function JO(p,E){if(1&p&&(e.j41(0,"span",18)(1,"ds-truncatable-part",19),e.nrm(2,"span",20),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}let Jh=class pD extends Oc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(pD)))(d||pD)}})()}static{this.\u0275cmp=e.VBU({type:pD,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,zO,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,YO,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,XO,2,8,"a",5)(6,Xf,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,JO,3,3,"span",8),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(7,WO)).length>0))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,Mr.F,wa.d,Wr.W,h.Jj,G.h,G.D9]})}};Jh=(0,je.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Un.n.ListElement)],Jh);const hE=()=>({}),pE=(p,E)=>({indexableObject:p,hitHighlights:E});let bu=class fD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(fD)))(d||fD)}})()}static{this.\u0275cmp=e.VBU({type:fD,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,pE,d.object,e.lJ4(3,hE)))("linkType",d.linkType)},dependencies:[Jh]})}};bu=(0,je.Cg)([(0,Hn.VK)("OrgUnit",Un.n.ListElement)],bu);const v_=()=>["person.jobTitle"],fE=p=>[p];function mE(p,E){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,fE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function y_(p,E){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function gE(p,E){if(1&p&&(e.j41(0,"div",10),e.DNE(1,mE,3,11,"a",11)(2,y_,3,6,"span",12),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function _E(p,E){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function QO(p,E){if(1&p&&(e.nrm(0,"a",17),e.nI1(1,"translate")),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,fE,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function ZO(p,E){if(1&p&&(e.nrm(0,"span",18),e.nI1(1,"translate")),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function qO(p,E){if(1&p&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&p){const o=E.$implicit;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("innerHTML",o,e.npT)}}function E_(p,E){if(1&p&&(e.j41(0,"span",19),e.DNE(1,qO,3,2,"span",20),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,v_)))}}let Rd=class UP extends Oc.k{constructor(E,o,d){super(E,o,d),this.truncatableService=E,this.dsoNameService=o,this.appConfig=d}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(o){return new(o||UP)(e.rXU(_i.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:UP,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,gE,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,_E,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,QO,2,8,"a",5)(6,ZO,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,E_,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,v_)).length>0))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,Mr.F,wa.d,Wr.W,h.pM,h.Jj,G.h,G.D9]})}};Rd=(0,je.Cg)([(0,Hn.VK)("PersonSearchResult",Un.n.ListElement),(0,je.Sn)("design:paramtypes",[_i.F,Fs.f,Object])],Rd);const vE=()=>({}),C_=(p,E)=>({indexableObject:p,hitHighlights:E});let Du=class mD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(mD)))(d||mD)}})()}static{this.\u0275cmp=e.VBU({type:mD,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(o,d){1&o&&e.nrm(0,"ds-person-search-result-list-element",0),2&o&&e.Y8G("object",e.l_i(5,C_,d.object,e.lJ4(4,vE)))("linkType",d.linkType)("showLabel",d.showLabel)("value",d.value)},dependencies:[Rd]})}};Du=(0,je.Cg)([(0,Hn.VK)("Person",Un.n.ListElement)],Du);const yE=p=>[p];function eM(p,E){if(1&p&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,yE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function tM(p,E){if(1&p&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function nM(p,E){if(1&p&&(e.j41(0,"div",7),e.DNE(1,eM,3,11,"a",8)(2,tM,3,6,"span",9),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function EE(p,E){if(1&p&&e.nrm(0,"ds-badges",13),2&p){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function b_(p,E){if(1&p&&e.nrm(0,"a",14),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,yE,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function D_(p,E){if(1&p&&e.nrm(0,"span",15),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}let Tu=class gD extends Oc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(gD)))(d||gD)}})()}static{this.\u0275cmp=e.VBU({type:gD,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,nM,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,EE,1,2,"ds-badges",4)(5,b_,1,6,"a",5)(6,D_,1,1,"span",6),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,h.YU,wa.d,Mr.F,h.Jj]})}};Tu=(0,je.Cg)([(0,Hn.VK)("ProjectSearchResult",Un.n.ListElement)],Tu);const CE=()=>({}),bE=(p,E)=>({indexableObject:p,hitHighlights:E});let Jf=class _D extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(_D)))(d||_D)}})()}static{this.\u0275cmp=e.VBU({type:_D,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-project-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,bE,d.object,e.lJ4(3,CE)))("linkType",d.linkType)},dependencies:[Tu]})}};function DE(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Jf=(0,je.Cg)([(0,Hn.VK)("Project",Un.n.ListElement)],Jf);let Qf=class vD extends zc{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(vD)))(d||vD)}})()}static{this.\u0275cmp=e.VBU({type:vD,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,DE,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function T_(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Qf=(0,je.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("OrgUnitSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],Qf);let Qh=class jP extends zc{constructor(E,o,d,x){super(E,o,x),this.truncatableService=E,this.linkService=o,this.translateService=d,this.dsoNameService=x}getDescription(){const E=this.allMetadataValues(["person.jobTitle"]);let o="";return(0,V.hj)(E)&&(o+=E.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=function(o){return new(o||jP)(e.rXU(_i.F),e.rXU(Oi._),e.rXU(G.c$),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:jP,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,T_,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function O_(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Qh=(0,je.Cg)([(0,Hn.VK)("PersonSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("PersonSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent),(0,je.Sn)("design:paramtypes",[_i.F,Oi._,G.c$,Fs.f])],Qh);let M_=class yD extends zc{getDescription(){}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(yD)))(d||yD)}})()}static{this.\u0275cmp=e.VBU({type:yD,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,O_,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};M_=(0,je.Cg)([(0,Hn.VK)("ProjectSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("ProjectSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],M_);let xR=(()=>{class p extends Mc{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[jh,h.Jj],encapsulation:2})}}return p})();const TE=()=>["organization.foundingDate"],OE=()=>["organization.address.addressLocality"],ME=()=>["organization.adress.addressCountry"],I_=()=>["dc.identifier"],IE=()=>["organization.identifier.ror"],SE=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),PE=()=>["dc.description"],RE=p=>[p],sM=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),NR=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),FR=(p,E)=>[p,E];function BR(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",14),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let S_=class ED extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(ED)))(d||ED)}})()}static{this.\u0275cmp=e.VBU({type:ED,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,BR,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(42,TE))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(43,OE))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(44,ME))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(45,I_))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,IE))("img",e.lJ4(47,SE))("item",d.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",d.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(48,PE))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,RE,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.l_i(53,FR,e.lJ4(51,sM),e.lJ4(52,NR))))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,Cl,Yc,_.Wk,jf,h.Jj,G.h,G.D9,xR]})}};S_=(0,je.Cg)([(0,Hn.VK)("OrgUnit",Un.n.StandalonePage)],S_);const UR=()=>["person.email"],jR=()=>["person.birthDate"],kR=()=>["person.jobTitle"],VR=()=>["person.familyName"],AE=()=>["person.givenName"],wE=()=>["dc.title"],iM=p=>[p],GR=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function $R(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",13),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let P_=class CD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(CD)))(d||CD)}})()}static{this.\u0275cmp=e.VBU({type:CD,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,$R,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,35,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(45,UR))("label","person.page.email"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(46,jR))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(47,kR))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(48,VR))("label","person.page.lastname"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(49,AE))("label","person.page.firstname"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(50,wE))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,iM,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.eq3(54,iM,e.lJ4(53,GR))))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,Cl,Yc,_.Wk,jf,h.Jj,G.h,G.D9]})}};P_=(0,je.Cg)([(0,Hn.VK)("Person",Un.n.StandalonePage)],P_),n(12063);const WR=["*"];function KR(p,E){}let R_=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(o){return n(89979)(`./${o}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12063))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:WR,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,KR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();const HR=()=>["project.contributor.other"],rM=()=>["project.identifier.funder"],Ou=()=>["dc.identifier"],Zh=()=>["dc.description"],oM=()=>["dc.subject"],zR=p=>[p];function LE(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",12),2&p){const o=e.XpG();e.Y8G("back",o.back)}}let Zf=class bD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(bD)))(d||bD)}})()}static{this.\u0275cmp=e.VBU({type:bD,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,LE,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",d.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,HR))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(49,rM))("label","project.page.funder"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(50,Ou))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"relationships.isPersonOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(51,Zh))("label","project.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(52,oM))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,zR,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[h.bT,Ic.U,Ha.V,Xc.T,xa.Q,Dr.T,R_,Cl,Yc,_.Wk,h.Jj,G.h,G.D9]})}};function YR(p,E){if(1&p&&(e.j41(0,"div")(1,"a",2),e.EFF(2),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("href",o.uri.value,e.B4B),e.R7$(),e.JRh(o.uri.value)}}Zf=(0,je.Cg)([(0,Hn.VK)("Project",Un.n.StandalonePage)],Zf);let A_=class DD extends jr.C{ngOnInit(){this.uri=yh.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(DD)))(d||DD)}})()}static{this.\u0275cmp=e.VBU({type:DD,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,YR,3,2,"div",1),e.k0s()),2&o&&(e.R7$(2),e.JRh(d.object.display),e.R7$(),e.Y8G("ngIf",d.uri))},dependencies:[h.bT]})}};A_=(0,je.Cg)([(0,Hn.VK)(fd.$,Un.n.ListElement,Ks.o.EntitySearchModal),(0,Hn.VK)(fd.$,Un.n.ListElement,Ks.o.EntitySearchModalWithNameVariants)],A_);var qf=n(29326),xE=n(14391);const em=p=>({value:p});let w_=(()=>{class p{constructor(o){this.modal=o}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(X.Lw))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return x.modal.dismiss("Cross click")}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return x.modal.close()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",7),e.bIt("click",function(){return x.modal.dismiss()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&d&&(e.R7$(7),e.SpI(" ",e.i5U(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,em,x.value)),"\n"),e.R7$(4),e.JRh(e.bMT(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[G.h,G.D9]})}}return p})();var NE=n(14412),L_=n(46301),aM=n(56386);const FE=p=>({"is-invalid":p}),XR=()=>({standalone:!0}),lM=p=>({show:p});function BE(p,E){if(1&p){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG();return e.Njj(ee.onClickSuggestion(x))}),e.nrm(3,"span",10),e.k0s()()}if(2&p){const o=E.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let tm=(()=>{class p extends NE.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){this.value=o,this.submitSuggestion.emit(o)}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Nn.kq,useExisting:(0,e.Rfq)(()=>p),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(ee),e.Njj(x.onSubmit(x.value))})("keydown",function(Ae){return e.eBV(ee),e.Njj(x.onKeydown(Ae))})("keydown.arrowdown",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusDown(Ae))})("keydown.arrowup",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusUp(Ae))})("keydown.esc",function(){return e.eBV(ee),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(ee),e.Njj(x.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Ae){return e.eBV(ee),e.DH7(x.value,Ae)||(x.value=Ae),e.Njj(Ae)}),e.bIt("focus",function(){return e.eBV(ee),e.Njj(x.open())})("click",function(){return e.eBV(ee),e.Njj(x.open())})("onDebounce",function(Ae){return e.eBV(ee),e.Njj(x.find(Ae))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,BE,4,1,"div",8),e.k0s()()()}2&d&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.R50("ngModel",x.value),e.Y8G("name",x.name)("ngClass",e.eq3(14,FE,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(16,XR)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,lM,e.bMT(8,12,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Y8G("ngForOf",x.suggestions))},dependencies:[Nn.YN,Nn.qT,Nn.me,Nn.BC,Nn.cb,Nn.vS,Nn.cV,L_.z,aM.R,h.YU,h.pM,h.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return p})();const cM=()=>["organization.address.addressLocality"],dM=()=>["organization.address.addressCountry"];function nm(p,E){if(1&p){const o=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.selectedName,x)||(ee.selectedName=x),e.Njj(x)}),e.bIt("clickSuggestion",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.select(x))})("submitSuggestion",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.selectCustom(x))}),e.k0s()}if(2&p){const o=e.XpG();e.Y8G("suggestions",o.allSuggestions),e.R50("ngModel",o.selectedName)}}function uM(p,E){if(1&p&&e.nrm(0,"div",8),2&p){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function hM(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function pM(p,E){if(1&p&&(e.j41(0,"span",9),e.nrm(1,"span",10),e.DNE(2,hM,2,0,"span",11),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(2,cM)),e.npT),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata("organization.address.addressCountry").length>0)}}function fM(p,E){if(1&p&&(e.j41(0,"span",12),e.nrm(1,"span",10),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(1,dM)),e.npT)}}let sm=class kP extends Ro.P{constructor(E,o,d,x,ee,Pe,Ae,ht,Ut,_n){super(E,Ut,_n),this.truncatableService=E,this.relationshipService=o,this.notificationsService=d,this.translateService=x,this.modalService=ee,this.itemDataService=Pe,this.bitstreamDataService=Ae,this.selectableListService=ht,this.dsoNameService=Ut,this.appConfig=_n,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===Ks.o.EntitySearchModalWithNameVariants,this.useNameVariants){const E=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[E,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(d=>{this.selectedName=d||E})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(E){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,E)}selectCustom(E){this.allSuggestions.includes(E)||this.openModal(E).then(()=>{const o=new xE.vD;o.value=E;const x={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},ee=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(ee).pipe((0,T.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(E)})}openModal(E){const o=this.modalService.open(w_,{centered:!0});return o.componentInstance.value=E,o.result}static{this.\u0275fac=function(o){return new(o||kP)(e.rXU(_i.F),e.rXU(id.RelationshipDataService),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(X.Bq),e.rXU(qf.ItemDataService),e.rXU(Go.BitstreamDataService),e.rXU(oc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:kP,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,nm,1,2,"ds-org-unit-input-suggestions",2)(3,uM,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,pM,3,3,"span",5)(6,fM,2,2,"span",6),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",d.useNameVariants),e.R7$(),e.Y8G("ngIf",!d.useNameVariants),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata("organization.address.addressLocality").length>0),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata("organization.address.addressCountry").length>0))},dependencies:[h.bT,tm,Nn.YN,Nn.BC,Nn.vS],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};sm=(0,je.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Un.n.ListElement,Ks.o.EntitySearchModal),(0,Hn.VK)("OrgUnitSearchResult",Un.n.ListElement,Ks.o.EntitySearchModalWithNameVariants),(0,je.Sn)("design:paramtypes",[_i.F,id.RelationshipDataService,Zr.I,G.c$,X.Bq,qf.ItemDataService,Go.BitstreamDataService,oc.K,Fs.f,Object])],sm);const mM=p=>({"is-invalid":p}),gM=()=>({standalone:!0}),UE=p=>({show:p});function jE(p,E){if(1&p){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG();return e.Njj(ee.onClickSuggestion(x))}),e.nrm(3,"span",10),e.k0s()()}if(2&p){const o=E.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let kE=(()=>{class p extends NE.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){o!==this.value&&(this.value=o,this.submitSuggestion.emit(o))}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Nn.kq,useExisting:(0,e.Rfq)(()=>p),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(ee);const Ae=e.sdS(3);return e.Njj(x.onSubmit(Ae.value))})("keydown",function(Ae){return e.eBV(ee),e.Njj(x.onKeydown(Ae))})("keydown.arrowdown",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusDown(Ae))})("keydown.arrowup",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusUp(Ae))})("keydown.esc",function(){return e.eBV(ee),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(ee),e.Njj(x.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(ee),e.Njj(x.open())})("blur",function(){e.eBV(ee);const Ae=e.sdS(3);return e.Njj(x.onSubmit(Ae.value))})("click",function(){return e.eBV(ee),e.Njj(x.open())})("onDebounce",function(Ae){return e.eBV(ee),e.Njj(x.find(Ae))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,jE,4,1,"div",8),e.k0s()()()}2&d&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.Y8G("ngModel",x.value)("name",x.name)("ngClass",e.eq3(14,mM,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(16,gM)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,UE,e.bMT(8,12,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Y8G("ngForOf",x.suggestions))},dependencies:[Nn.YN,Nn.qT,Nn.me,Nn.BC,Nn.cb,Nn.vS,Nn.cV,L_.z,aM.R,h.YU,h.pM,h.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return p})();const _M=()=>["person.jobTitle"];function VE(p,E){if(1&p&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function GE(p,E){if(1&p&&(e.j41(0,"span",13),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function Ad(p,E){if(1&p&&(e.j41(0,"div",8),e.DNE(1,VE,3,8,"a",9)(2,GE,3,6,"span",10),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function $E(p,E){1&p&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function vM(p,E){if(1&p&&(e.j41(0,"span"),e.nrm(1,"span",16),e.DNE(2,$E,2,0,"span",17),e.k0s()),2&p){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function JR(p,E){if(1&p&&(e.j41(0,"span",14),e.DNE(1,vM,3,2,"span",15),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,_M)))}}let Mu=class VP extends Ro.P{constructor(E,o,d,x,ee,Pe,Ae){super(E,Pe,Ae),this.truncatableService=E,this.relationshipService=o,this.modalService=d,this.itemDataService=x,this.selectableListService=ee,this.dsoNameService=Pe,this.appConfig=Ae,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const E=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[E,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(d=>{this.selectedName=d||E}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(E){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,E),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(E){this.allSuggestions.includes(E)||this.openModal(E).then(()=>{const o=new xE.vD;o.value=E;const x={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},ee=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(ee).pipe((0,T.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(E)})}openModal(E){const o=this.modalService.open(w_,{centered:!0});return o.componentInstance.value=E,o.result}static{this.\u0275fac=function(o){return new(o||VP)(e.rXU(_i.F),e.rXU(id.RelationshipDataService),e.rXU(X.Bq),e.rXU(qf.ItemDataService),e.rXU(oc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:VP,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,Ad,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(ee){return e.DH7(d.selectedName,ee)||(d.selectedName=ee),ee}),e.bIt("clickSuggestion",function(ee){return d.select(ee)})("submitSuggestion",function(ee){return d.selectCustom(ee)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,JR,2,2,"span",7),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",d.allSuggestions),e.R50("ngModel",d.selectedName),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(5,_M)).length>0))},dependencies:[h.bT,Dr.T,h.YU,kE,Nn.YN,Nn.BC,Nn.vS,h.pM,h.Jj],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};Mu=(0,je.Cg)([(0,Hn.VK)("PersonSearchResult",Un.n.ListElement,Ks.o.EntitySearchModalWithNameVariants),(0,je.Sn)("design:paramtypes",[_i.F,id.RelationshipDataService,X.Bq,qf.ItemDataService,oc.K,Fs.f,Object])],Mu);var qh=n(44616);n(90337);const WE=["*"];function x_(p,E){}let N_=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(o){return n(5452)(`./${o}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90337))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:WE,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,x_,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();var ep=n(81443),KE=n(57538),ZR=n(67018);let yM=(()=>{class p{constructor(){this.LINKS_TO_FOLLOW=[(0,Bs.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(o,d,x){let ee=0;return x.findAllByItem(o).pipe((0,Ls.qD)(),(0,Rt.T)(Pe=>Pe.payload),(0,Rt.T)(Pe=>Pe.page),(0,js.n)(Pe=>Pe),(0,Fn.p)(Pe=>this.isIiifBundle(Pe.name)),(0,zn.Z)(Pe=>d.findAllByItemAndBundleName(o,Pe.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,Ls.qD)(),(0,Rt.T)(Ae=>Ae.payload),(0,Rt.T)(Ae=>Ae.page),(0,js.n)(Ae=>Ae),(0,js.n)(Ae=>Ae.format.pipe((0,Ls.qD)(),(0,Rt.T)(ht=>ht.payload),(0,Rt.T)(ht=>(ht.mimetype.includes("image")&&ee++,ee)))))),(0,ZR.H)())}isIiifBundle(o){return!("OtherContent"===o||"LICENSE"===o||"THUMBNAIL"===o||"TEXT"===o||"METADATA"===o||"CC-LICENSE"===o||"BRANDED_PREVIEW"===o)}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function qR(p,E){if(1&p&&(e.j41(0,"p",3),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.viewerMessage)}}function Iu(p,E){if(1&p&&(e.nrm(0,"iframe",4),e.nI1(1,"async")),2&p){const o=e.XpG();e.Y8G("src",e.bMT(1,1,o.iframeViewerUrl),e.f$h)}}let HE=(()=>{class p{constructor(o,d,x,ee,Pe,Ae){this.sanitizer=o,this.viewerService=d,this.bitstreamDataService=x,this.bundleDataService=ee,this.hostWindowService=Pe,this.platformId=Ae,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const o=encodeURIComponent(R.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let d=`${R.c.ui.nameSpace}${R.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${o}`;return this.searchable&&(d+="&searchable="+this.searchable),this.query&&(d+="&query="+this.query),this.multi&&(d+="&multi="+this.multi),this.notMobile&&(d+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(d)}ngOnInit(){if((0,h.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,T.s)(1)).subscribe(o=>{this.notMobile=!(o===KE.tP.XS||o===KE.tP.SM)}),this.searchable){this.multi=!0;const o=(0,Os.of)("");this.iframeViewerUrl=o.pipe((0,Rt.T)(d=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,Rt.T)(o=>(o>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(f.up),e.rXU(yM),e.rXU(Go.BitstreamDataService),e.rXU(ep.BundleDataService),e.rXU(KE.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(d,x){1&d&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,qR,2,1,"p",1)(4,Iu,2,3,"iframe",2)),2&d&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.Y8G("ngIf",!x.isViewerAvailable),e.R7$(),e.Y8G("ngIf",x.isViewerAvailable))},dependencies:[G.h,G.D9,h.Jj,h.bT],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return p})();n(1231);const EM=["*"];function CM(p,E){}let tp=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(o){return n(78373)(`./${o}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1231))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:EM,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,CM,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})(),B_=(()=>{class p extends Mc{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[jh,h.Jj],encapsulation:2})}}return p})(),il=(()=>{class p extends Mc{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[jh,h.Jj],encapsulation:2})}}return p})();function np(p,E){if(1&p&&e.nrm(0,"span",4),2&p){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function io(p,E){if(1&p&&(e.j41(0,"a",2),e.EFF(1),e.DNE(2,np,1,1,"span",3),e.k0s()),2&p){const o=E.$implicit,d=E.last,x=e.XpG();e.Y8G("href",o.value,e.B4B)("target",x.hasInternalLink(o.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",x.linktext||o.value,""),e.R7$(),e.Y8G("ngIf",!d)}}let wd=(()=>{class p extends jh{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href","target",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href","target"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.DNE(2,io,3,4,"a",1),e.k0s()),2&d&&(e.Y8G("label",e.bMT(1,2,x.label)),e.R7$(2),e.Y8G("ngForOf",x.mdValues))},dependencies:[xa.Q,G.h,G.D9,h.Sq,h.bT]})}}return p})(),Su=(()=>{class p extends Mc{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label))},dependencies:[wd],encapsulation:2})}}return p})();const rl=()=>["dc.contributor.author","dc.creator"],ip=()=>["journal.title"],bM=()=>["journal.identifier.issn"],Pu=()=>["journalvolume.identifier.name"],zE=()=>["dc.publisher"],YE=()=>["dc.description"],DM=()=>["dc.subject"],TM=()=>["dc.identifier.citation"],ro=()=>["dc.identifier.uri"],XE=()=>["coar.notify.endorsedBy"],OM=()=>["datacite.relation.isReviewedBy"],oo=()=>["datacite.relation.isSupplementedBy"],rp=()=>["datacite.relation.isReferencedBy"],Ru=p=>[p];function im(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",16),2&p){const o=e.XpG();e.Y8G("back",o.back)}}function op(p,E){if(1&p&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function rm(p,E){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&p){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function JE(p,E){if(1&p&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let ap=class TD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(TD)))(d||TD)}})()}static{this.\u0275cmp=e.VBU({type:TD,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:40,vars:88,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,d){1&o&&(e.DNE(0,im,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,op,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,rm,4,4,"ng-container",6)(9,JE,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-related-items",12),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",12),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",12),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8)(31,"ds-item-page-uri-field",10)(32,"ds-item-page-uri-field",10)(33,"ds-item-page-uri-field",10)(34,"ds-item-page-uri-field",10),e.j41(35,"div")(36,"a",14),e.nrm(37,"i",15),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,61,d.showBackButton$)),e.R7$(2),e.Y8G("ngIf",d.iiifEnabled),e.R7$(2),e.Y8G("item",d.object),e.R7$(4),e.Y8G("ngIf",!(d.mediaViewer.image||d.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",d.mediaViewer.image||d.mediaViewer.video),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("parentItem",d.object)("itemType","Person")("metadataFields",e.lJ4(73,rl))("label",e.bMT(13,63,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(74,ip))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(75,bM))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(76,Pu))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(77,zE))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isProjectOfPublication")("label",e.bMT(20,65,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,67,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,69,"relationships.isJournalIssueOf")),e.R7$(2),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(78,YE))("label","publication.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(79,DM))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(80,TM))("label","item.page.citation"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(81,ro))("label","item.page.uri"),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(82,XE))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(83,OM))("label","item.page.review"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(84,oo))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(85,rp))("label","item.page.referenced"),e.R7$(2),e.Y8G("routerLink",e.eq3(86,Ru,d.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(39,71,"item.page.link.full")," "))},dependencies:[h.bT,Ic.U,HE,Ha.V,Xc.T,xa.Q,Dr.T,N_,tp,il,R_,Cl,Yc,B_,Su,qh.r,_.Wk,h.Jj,G.h,G.D9],changeDetection:0})}};ap=(0,je.Cg)([(0,Hn.VK)("Publication",Un.n.StandalonePage)],ap);const U_=(p,E)=>({row:p,col:E}),om=(p,E)=>({"col-auto":p,row:E}),j_=p=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":p});function QE(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",6)(1,"a",7)(2,"img",8),e.bIt("error",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.showImage=!1)}),e.k0s()()()}if(2&p){const o=e.XpG(2);e.Y8G("ngClass",e.l_i(5,om,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("href",o.uri,e.B4B),e.R7$(),e.Y8G("src",o.imgSrc,e.B4B)("alt",o.name)("ngStyle",e.eq3(8,j_,"small"===o.variant?"1ch":"0"))}}function am(p,E){if(1&p&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&p){const o=e.XpG(2);e.Y8G("href",o.uri,e.B4B),e.R7$(),e.JRh(o.name)}}function Ld(p,E){if(1&p&&(e.j41(0,"div",1)(1,"ds-metadata-field-wrapper",2),e.nI1(2,"translate"),e.j41(3,"div",3),e.DNE(4,QE,3,10,"div",4),e.j41(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.DNE(9,am,2,2,"a",5),e.k0s()()()()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,6,"item.page.cc.license.title")),e.R7$(2),e.Y8G("ngClass",e.l_i(10,U_,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("ngIf",o.showImage),e.R7$(),e.Y8G("ngClass",e.l_i(13,U_,"small"===o.variant,"full"===o.variant)),e.R7$(2),e.SpI(" ","full"===o.variant&&o.showDisclaimer?e.bMT(8,8,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("ngIf",o.showName||!o.showImage)}}let MM=(()=>{class p{constructor(){this.variant="small",this.ccLicenseUriField="dc.rights.uri",this.ccLicenseNameField="dc.rights",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.uri=this.item.firstMetadataValue(this.ccLicenseUriField),this.name=this.item.firstMetadataValue(this.ccLicenseNameField);const d=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(this.uri??"")??[],x=d.length>2?d[2]:null;this.imgSrc=x?`assets/images/cc-licenses/${x}.png`:null}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","item-page-field",4,"ngIf"],[1,"item-page-field"],[3,"label"],[3,"ngClass"],["style","align-content: center;",3,"ngClass",4,"ngIf"],["target","_blank","id","cc-name",3,"href",4,"ngIf"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(d,x){1&d&&e.DNE(0,Ld,10,16,"div",0),2&d&&e.Y8G("ngIf",x.uri&&x.name)},dependencies:[h.bT,h.YU,h.B3,G.h,G.D9,xa.Q],encapsulation:2})}}return p})();const za=()=>["dc.contributor.author","dc.creator"],IM=()=>["journal.title"],SM=()=>["journal.identifier.issn"],k_=()=>["journalvolume.identifier.name"],ZE=()=>["dc.publisher"],qE=()=>["dc.description"],PM=()=>["dc.subject"],eA=()=>["dc.identifier.citation"],RM=()=>["dc.identifier.uri"],lm=()=>["coar.notify.endorsedBy"],V_=()=>["datacite.relation.isReviewedBy"],G_=()=>["datacite.relation.isSupplementedBy"],Au=()=>["datacite.relation.isReferencedBy"],e1=p=>[p];function t1(p,E){if(1&p&&e.nrm(0,"ds-results-back-button",16),2&p){const o=e.XpG();e.Y8G("back",o.back)}}function wu(p,E){if(1&p&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&p){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function $_(p,E){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&p){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function W_(p,E){if(1&p&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let lp=class OD extends sl{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(OD)))(d||OD)}})()}static{this.\u0275cmp=e.VBU({type:OD,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:35,vars:75,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","variant"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,d){1&o&&(e.DNE(0,t1,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,wu,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,$_,4,4,"ng-container",6)(9,W_,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-item-page-abstract-field",8)(20,"ds-generic-item-page-field",10)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",10)(23,"ds-item-page-uri-field",10)(24,"ds-item-page-collections",8)(25,"ds-item-page-uri-field",10)(26,"ds-item-page-uri-field",10)(27,"ds-item-page-uri-field",10)(28,"ds-item-page-uri-field",10)(29,"ds-item-page-cc-license-field",13),e.j41(30,"div")(31,"a",14),e.nrm(32,"i",15),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,54,d.showBackButton$)),e.R7$(2),e.Y8G("ngIf",d.iiifEnabled),e.R7$(2),e.Y8G("item",d.object),e.R7$(4),e.Y8G("ngIf",!(d.mediaViewer.image||d.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",d.mediaViewer.image||d.mediaViewer.video),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("parentItem",d.object)("itemType","Person")("metadataFields",e.lJ4(60,za))("label",e.bMT(13,56,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(61,IM))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(62,SM))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(63,k_))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(64,ZE))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(65,qE))("label","item.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(66,PM))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(67,eA))("label","item.page.citation"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(68,RM))("label","item.page.uri"),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(69,lm))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(70,V_))("label","item.page.review"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(71,G_))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(72,Au))("label","item.page.referenced"),e.R7$(),e.Y8G("item",d.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(73,e1,d.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(34,58,"item.page.link.full")," "))},dependencies:[h.bT,Ic.U,HE,Ha.V,Xc.T,xa.Q,Dr.T,N_,tp,il,R_,Cl,B_,Su,qh.r,_.Wk,h.Jj,G.h,G.D9,MM],changeDetection:0})}};lp=(0,je.Cg)([(0,Hn.VK)(Ra.q,Un.n.StandalonePage)],lp);var n1=n(52749),Lu=n(78655),cm=n(5845),AM=n(22924),xu=n(43796);function s1(p,E){}let wM=(()=>{class p extends AM.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,xu.u3)(this.option)}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(d,x){1&d&&e.DNE(0,s1,0,0,"ng-template",1,0,e.C5r)},dependencies:[Wc.z],encapsulation:2})}}return p})();const LM=p=>[p];function xM(p,E){if(1&p){const o=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.processCompleted.emit(x))}),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG(2);e.Y8G("item",d.item)("option",o)("object",d.object)("workflowitem",d.workflowitem)}}function r1(p,E){if(1&p&&(e.qex(0),e.j41(1,"div",1),e.DNE(2,xM,1,4,"ds-claimed-task-actions-loader",2),e.j41(3,"button",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.bVm()),2&p){const o=E.ngVar,d=e.XpG();e.R7$(2),e.Y8G("ngForOf",null==o?null:o.options),e.R7$(),e.FS9("ngbTooltip",e.bMT(4,4,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(8,LM,d.getWorkflowItemViewRoute(d.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(7,6,"submission.workflow.generic.view")," ")}}let dm=(()=>{class p extends cm.p{constructor(o,d,x,ee,Pe,Ae,ht){super(_h.T.type,o,d,x,ee,Pe,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Pe,this.requestService=Ae,this.workflowActionService=ht}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(o){this.object=o}initAction(o){this.actionRD$=o.action}getWorkflowItemViewRoute(o){return(0,Dh.XH)(o?.id)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Lu.S),e.rXU(Ma.B),e.rXU(n1.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(d,x){if(1&d&&(e.DNE(0,r1,8,10,"ng-container",0),e.nI1(1,"async")),2&d){let ee;e.Y8G("ngVar",null==(ee=e.bMT(1,1,x.actionRD$))?null:ee.payload)}},dependencies:[Hc.r,h.pM,wM,X.n8,X.md,_.Wk,h.Jj,G.h,G.D9],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return p})();const NM=p=>[p];let o1=(()=>{class p extends cm.p{constructor(o,d,x,ee,Pe,Ae){super(Ra.q.type,o,d,x,ee,Pe,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Pe,this.requestService=Ae}ngOnInit(){this.initPageRoute()}initObjects(o){this.object=o,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,qn._o)(this.object)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Lu.S),e.rXU(Ma.B))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,NM,x.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,_.Wk,G.h,G.D9]})}}return p})();var FM=n(12532),Nu=n(60456),K_=n(46369);const BM=p=>[p];function UM(p,E){1&p&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function jM(p,E){1&p&&(e.j41(0,"span"),e.nrm(1,"i",5),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let H_=(()=>{class p extends K_.i{constructor(o,d,x,ee,Pe,Ae,ht){super(vh.k.type,o,d,x,Pe,Ae,ht),this.injector=o,this.router=d,this.notificationsService=x,this.claimedTaskService=ee,this.translate=Pe,this.searchService=Ae,this.requestService=ht,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,T.s)(1)).subscribe())}initObjects(o){this.object=o}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,js.n)(o=>this.claimedTaskService.claimTask(this.object.id,o)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,T.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}getWorkflowItemViewRoute(o){return(0,Dh.XH)(o?.id)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(FM.ClaimedTaskDataService),e.rXU(G.c$),e.rXU(Lu.S),e.rXU(Ma.B))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ml-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return x.claim()}),e.DNE(3,UM,4,3,"span",1),e.nI1(4,"async"),e.DNE(5,jM,4,3,"span",1),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",2),e.nI1(8,"translate"),e.nrm(9,"i",3),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,x.processing$)),e.R7$(3),e.Y8G("ngIf",e.bMT(4,11,x.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,13,x.processing$)),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,BM,x.getWorkflowItemViewRoute(x.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,h.bT,_.Wk,h.Jj,G.h,G.D9,Nu.A]})}}return p})();const kM=p=>[p];let z_=(()=>{class p extends cm.p{constructor(o,d,x,ee,Pe,Ae){super(tu.t.type,o,d,x,ee,Pe,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Pe,this.requestService=Ae}getWorkflowItemViewRoute(o){return(0,Dh.XH)(o?.id)}initObjects(o){this.object=o}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Lu.S),e.rXU(Ma.B))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,kM,x.getWorkflowItemViewRoute(x.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[X.n8,X.md,_.Wk,G.h,G.D9]})}}return p})();const a1=p=>[p];function $M(p,E){if(1&p&&(e.j41(0,"a",6),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&p){const o=e.XpG();e.FS9("id","edit_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,a1,"/workspaceitems/"+o.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function WM(p,E){1&p&&(e.j41(0,"span"),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function KM(p,E){1&p&&(e.j41(0,"span"),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function HM(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",8),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(x){e.eBV(o);const ee=e.XpG(),Pe=e.sdS(12);return x.preventDefault(),e.Njj(ee.confirmDiscard(Pe))}),e.DNE(3,WM,4,3,"span",9),e.nI1(4,"async"),e.DNE(5,KM,4,3,"span",9),e.nI1(6,"async"),e.k0s()}if(2&p){const o=e.XpG();e.FS9("id","delete_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.Y8G("ngIf",e.bMT(4,9,o.processingDelete$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,11,o.processingDelete$))}}function zM(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){const x=e.eBV(o).dismiss;return e.Njj(x("cancel"))}),e.j41(5,"span",15),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",16)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",17)(12,"button",18),e.bIt("click",function(){const x=e.eBV(o).close;return e.Njj(x("cancel"))}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",19),e.bIt("click",function(){const x=e.eBV(o).close;return e.Njj(x("ok"))}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()}2&p&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(7),e.JRh(e.bMT(10,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(14,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(17,10,"submission.general.discard.confirm.submit")))}let Y_=(()=>{class p extends cm.p{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n){super(X0.F.type,o,d,ee,Pe,Ae,ht),this.injector=o,this.router=d,this.modalService=x,this.notificationsService=ee,this.translate=Pe,this.searchService=Ae,this.requestService=ht,this.authService=Ut,this.authorizationService=_n,this.processingDelete$=new v.t(!1)}confirmDiscard(o){this.modalService.open(o).result.then(d=>{"ok"===d&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,Ls.qD)()).subscribe(x=>{this.processingDelete$.next(!1),this.handleActionResponse(x.hasSucceeded)}))})}ngOnInit(){const o=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=o.pipe((0,js.n)(d=>this.object?.item.pipe((0,Ls.qD)(),(0,Ls.Bo)(),(0,js.n)(x=>this.authorizationService.isAuthorized(k._.CanEditItem,x?._links?.self.href,d.uuid)))))}initObjects(o){this.object=o}getWorkspaceItemViewRoute(o){return function VM(p){return new zl.t((0,ir.cp)(),p,"view").toString()}(o?.id)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(X.Bq),e.rXU(Zr.I),e.rXU(G.c$),e.rXU(Lu.S),e.rXU(Ma.B),e.rXU(u.uR),e.rXU(Pr.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(d,x){1&d&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,$M,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,HM,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,zM,18,12,"ng-template",null,0,e.C5r)),2&d&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,a1,x.getWorkspaceItemViewRoute(x.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.Y8G("ngIf",e.bMT(8,12,x.canEditItem$)),e.R7$(2),e.Y8G("ngIf",e.bMT(10,14,x.canEditItem$)))},dependencies:[X.n8,X.md,_.Wk,h.bT,h.Jj,G.h,G.D9]})}}return p})();var YM=n(22285),X_=n(34532),l1=n(89269),Tl=n(4910),XM=n(50332),JM=n(21546),ZM=(n(78541),n(43525));n(3736);const c1=["*"];function cp(p,E){}let J_=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(o){return n(4026)(`./${o}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3736))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:c1,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,cp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();const Fu=["*"],d1=()=>["dc.contributor","dc.creator","dc.contributor.*"];function Bu(p,E){if(1&p&&e.nrm(0,"span",18),2&p){const o=e.XpG(6);e.FS9("innerHTML",o.separator,e.npT)}}function Q_(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG(5);return e.Njj(ee.downloadBitstreamFile(null==x?null:x.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,Bu,1,1,"span",17),e.k0s()}if(2&p){const o=E.$implicit,d=E.last,x=e.XpG(5);e.R7$(2),e.JRh(x.dsoNameService.getName(o)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==o?null:o.sizeBytes),")"),e.R7$(2),e.Y8G("ngIf",!d)}}function Uu(p,E){if(1&p&&(e.j41(0,"div",14),e.DNE(1,Q_,7,5,"button",15),e.k0s()),2&p){const o=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function ju(p,E){1&p&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,1,"mydspace.results.no-files")))}function ku(p,E){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",12),e.nI1(2,"translate"),e.DNE(3,Uu,2,1,"div",13)(4,ju,4,3,"ng-container",4),e.k0s(),e.bVm()),2&p){const o=E.ngIf;e.R7$(),e.Y8G("label",e.bMT(2,3,"item.page.files")),e.R7$(2),e.Y8G("ngIf",(null==o?null:o.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==o?null:o.length))}}function Vu(p,E){if(1&p&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",5),e.j41(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.nrm(5,"ds-thumbnail",9),e.nI1(6,"async"),e.k0s(),e.DNE(7,ku,5,5,"ng-container",4),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",10),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",10),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",11),e.nrm(16,"ds-item-detail-preview-field",10),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",10),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&p){const o=e.XpG(2);e.R7$(),e.Y8G("item",o.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==o.item?null:o.item.thumbnail)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,30,o.bitstreams$)),e.R7$(2),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",o.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(13,36,"item.page.author"))("metadata",e.lJ4(48,d1))("separator",o.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",o.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",o.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function Gu(p,E){if(1&p&&(e.j41(0,"div",2),e.nrm(1,"ds-badges",3),e.DNE(2,Vu,24,49,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",o.item)("context",o.badgeContext),e.R7$(),e.Y8G("ngIf",o.item)}}function $u(p,E){if(1&p&&e.nrm(0,"ds-item-submitter",20),2&p){const o=e.XpG();e.Y8G("object",o.object.indexableObject)}}let Ol=(()=>{class p{constructor(o,d,x,ee){this.fileService=o,this.halService=d,this.bitstreamDataService=x,this.dsoNameService=ee,this.showSubmitter=!1,this.separator=", "}ngOnChanges(o){(0,V.a4)(o.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(o){this.halService.getEndpoint("bitstreams").pipe((0,Xm.$)()).subscribe(d=>{this.fileService.retrieveFileDownloadLink(`${d}/${o}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,Ls.Ar)())}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(l1.E),e.rXU(Tl.Y),e.rXU(Go.BitstreamDataService),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:Fu,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,Gu,3,4,"div",0)(1,$u,1,1,"ds-item-submitter",1)),2&d&&(e.Y8G("ngIf",x.item),e.R7$(),e.Y8G("ngIf",x.showSubmitter))},dependencies:[h.bT,Mr.F,Ha.V,xa.Q,Dr.T,h.pM,J_,JM.s,h.Jj,ZM.s,G.h,G.D9],data:{animation:[XM.Ws]}})}}return p})(),Jl=(()=>{class p extends jr.C{ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(o){return yh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return yh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return p})();function Wu(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-claimed-task-actions",2),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s(),e.bVm()}if(2&p){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let dp=class GP extends Jl{constructor(E,o,d){super(E),this.dsoNameService=E,this.linkService=o,this.objectCache=d,this.item$=new v.t(null),this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceValidation,this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{},(0,Bs.s)("item",{},(0,Bs.s)("bundles")),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.dso.workflowitem.pipe((0,Ls.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,Ls.qD)())):bo.w),(0,ai.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||GP)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(ia.$))}}static{this.\u0275cmp=e.VBU({type:GP,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,d){1&o&&(e.DNE(0,Wu,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[h.bT,Ol,dm,h.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};dp=(0,je.Cg)([(0,Hn.VK)(X_.y,Un.n.DetailedListElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,ia.$])],dp);let up=class MD extends Jl{constructor(){super(...arguments),this.badgeContext=Ks.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(MD)))(d||MD)}})()}static{this.\u0275cmp=e.VBU({type:MD,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&o&&(e.Y8G("item",d.dso)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[Ol,o1],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};up=(0,je.Cg)([(0,Hn.VK)(Aa.H,Un.n.DetailedListElement,Ks.o.Workspace),(0,Hn.VK)(Aa.H,Un.n.DetailedListElement,Ks.o.Workflow)],up);var Z_=n(24205);function u1(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-pool-task-actions",2),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s(),e.bVm()}if(2&p){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let hp=class $P extends Jl{constructor(E,o,d){super(E),this.dsoNameService=E,this.linkService=o,this.objectCache=d,this.item$=new v.t(null),this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceWaitingController,this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{},(0,Bs.s)("item",{},(0,Bs.s)("bundles")),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.dso.workflowitem.pipe((0,Ls.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,Ls.qD)())):bo.w),(0,ai.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||$P)(e.rXU(Fs.f),e.rXU(Oi._),e.rXU(ia.$))}}static{this.\u0275cmp=e.VBU({type:$P,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,d){1&o&&(e.DNE(0,u1,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[h.bT,Ol,H_,h.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};hp=(0,je.Cg)([(0,Hn.VK)(Z_.d,Un.n.DetailedListElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._,ia.$])],hp);let pp=class WP extends Jl{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o,this.badgeContext=Ks.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.initItem(this.dso.item)}initItem(E){E.pipe((0,vs.I)(o=>o.hasSucceeded&&(0,V.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||WP)(e.rXU(Fs.f),e.rXU(Oi._))}}static{this.\u0275cmp=e.VBU({type:WP,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&o&&(e.Y8G("item",d.item)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[Ol,z_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};pp=(0,je.Cg)([(0,Hn.VK)(cu.q,Un.n.DetailedListElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._])],pp);let fp=class KP extends Jl{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o,this.badgeContext=Ks.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Bs.s)("item")),this.initItem(this.dso.item)}initItem(E){E.pipe((0,vs.I)(o=>o.hasSucceeded&&(0,V.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||KP)(e.rXU(Fs.f),e.rXU(Oi._))}}static{this.\u0275cmp=e.VBU({type:KP,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&o&&(e.Y8G("item",d.item)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[Ol,Y_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};fp=(0,je.Cg)([(0,Hn.VK)(bf.I,Un.n.DetailedListElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._])],fp);const q_=p=>["/collections/",p];function h1(p,E){if(1&p&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,q_,d.object.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.object.logo))?null:o.payload)("limitWidth",!1)}}function um(p,E){if(1&p&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.object.logo))?null:o.payload)("limitWidth",!1)}}function Qc(p,E){if(1&p&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function eI(p,E){if(1&p&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,q_,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let hm=class HP extends jr.C{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o}set object(E){this._object=E,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Bs.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||HP)(e.rXU(Fs.f),e.rXU(Oi._))}}static{this.\u0275cmp=e.VBU({type:HP,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,h1,4,12,"a",1)(2,um,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,Qc,2,1,"p",5)(7,eI,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.JRh(d.dsoNameService.getName(d.object)),e.R7$(),e.Y8G("ngIf",d.object.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,h.Jj,G.h,G.D9]})}};hm=(0,je.Cg)([(0,Hn.VK)(Bl.p,Un.n.GridElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._])],hm);const pm=p=>["/communities/",p];function xd(p,E){if(1&p&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,pm,d.object.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.object.logo))?null:o.payload)("limitWidth",!1)}}function ev(p,E){if(1&p&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.object.logo))?null:o.payload)("limitWidth",!1)}}function tI(p,E){if(1&p&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function tv(p,E){if(1&p&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,pm,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let nv=class zP extends jr.C{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o}set object(E){this._object=E,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Bs.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||zP)(e.rXU(Fs.f),e.rXU(Oi._))}}static{this.\u0275cmp=e.VBU({type:zP,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,xd,4,12,"a",1)(2,ev,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,tI,2,1,"p",5)(7,tv,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.JRh(d.dsoNameService.getName(d.object)),e.R7$(),e.Y8G("ngIf",d.object.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[h.bT,_.Wk,Dr.T,h.Jj,G.h,G.D9]})}};nv=(0,je.Cg)([(0,Hn.VK)(Bc.E,Un.n.GridElement),(0,je.Sn)("design:paramtypes",[Fs.f,Oi._])],nv);const nI=["*","*"],sI=()=>({}),iI=(p,E)=>({indexableObject:p,hitHighlights:E});let mp=class ID extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(ID)))(d||ID)}})()}static{this.\u0275cmp=e.VBU({type:ID,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:nI,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&(e.NAR(nI),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,iI,d.object,e.lJ4(3,sI)))("linkType",d.linkType)},dependencies:[nl],data:{animation:[Tc]}})}};mp=(0,je.Cg)([(0,Hn.VK)("Publication",Un.n.GridElement),(0,Hn.VK)(Ra.q,Un.n.GridElement)],mp);let sv=class SD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(SD)))(d||SD)}})()}static{this.\u0275cmp=e.VBU({type:SD,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(o,d){1&o&&e.EFF(0),2&o&&e.SpI(" ",d.object.name," ")}})}};sv=(0,je.Cg)([(0,Hn.VK)(k0._,Un.n.ListElement,Ks.o.Bitstream)],sv);var _o=n(49010),iv=n(22978);const rI=()=>[];function oI(p,E){if(1&p&&(e.j41(0,"a",5),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(8,rI))("queryParams",e.bMT(1,6,o.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",o.object.value," ")}}function p1(p,E){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.value," ")}}let rv=class YP extends jr.C{constructor(E,o,d){super(E),this.dsoNameService=E,this.paginationService=o,this.routeService=d}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const E=this.paginationService.getPageParam(_o.v0);return this.routeService.getQueryParameterValue(E).pipe((0,Rt.T)(o=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[E]:null,[_o.v0+".return"]:o})))}static{this.\u0275fac=function(o){return new(o||YP)(e.rXU(Fs.f),e.rXU(iv.m),e.rXU(yu.v$))}}static{this.\u0275cmp=e.VBU({type:YP,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],[1,"badge","badge-pill","badge-secondary","align-self-center"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,oI,3,9,"a",1)(2,p1,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(4),e.JRh(d.object.count))},dependencies:[h.bT,_.Wk,h.Jj]})}};rv=(0,je.Cg)([(0,Hn.VK)(yl,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Fs.f,iv.m,yu.v$])],rv);let fm=class PD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(PD)))(d||PD)}})()}static{this.\u0275cmp=e.VBU({type:PD,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(o,d){1&o&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&o&&(e.R7$(),e.JRh(d.dsoNameService.getName(d.object)))},encapsulation:2})}};fm=(0,je.Cg)([(0,Hn.VK)(G0.N,Un.n.ListElement)],fm);const f1=p=>[p];function Ku(p,E){if(1&p&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,f1,"/collections/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function aI(p,E){if(1&p&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function lI(p,E){if(1&p&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function m1(p,E){if(1&p&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let ov=class RD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(RD)))(d||RD)}})()}static{this.\u0275cmp=e.VBU({type:RD,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,Ku,2,6,"a",1)(2,aI,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,lI,2,1,"span",4),e.k0s(),e.DNE(6,m1,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.Y8G("ngIf",d.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",d.object.shortDescription))},dependencies:[h.bT,_.Wk]})}};ov=(0,je.Cg)([(0,Hn.VK)(Bl.p,Un.n.ListElement)],ov);const g1=p=>[p];function tA(p,E){if(1&p&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,g1,"/communities/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function av(p,E){if(1&p&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function lv(p,E){if(1&p&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function cv(p,E){if(1&p&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let gp=class XP extends jr.C{constructor(E){super(E),this.dsoNameService=E}static{this.\u0275fac=function(o){return new(o||XP)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:XP,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,tA,2,6,"a",1)(2,av,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,lv,2,1,"span",4),e.k0s(),e.DNE(6,cv,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.Y8G("ngIf",d.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",d.object.shortDescription))},dependencies:[h.bT,_.Wk]})}};gp=(0,je.Cg)([(0,Hn.VK)(Bc.E,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Fs.f])],gp);let ol=class AD extends jr.C{ngOnChanges(){(0,V.a4)(this.object)&&(this.itemSearchResult=Object.assign(new Aa.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(AD)))(d||AD)}})()}static{this.\u0275cmp=e.VBU({type:AD,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-listable-object-component-loader",0),2&o&&e.Y8G("object",d.itemSearchResult)("viewMode",d.viewMode)("linkType",d.linkType)},dependencies:[ou.v]})}};ol=(0,je.Cg)([(0,Hn.VK)("Publication",Un.n.ListElement),(0,Hn.VK)(Ra.q,Un.n.ListElement)],ol);var cI=n(51805),_1=n(83851);let Ya=class wD extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(wD)))(d||wD)}})()}static{this.\u0275cmp=e.VBU({type:wD,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(o,d){1&o&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.ZvI("alert d-block ",null==d.object?null:d.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==d.object?null:d.object.message)))},dependencies:[G.h,G.D9]})}};Ya=(0,je.Cg)([(0,Hn.VK)(cI.t,Un.n.ListElement),(0,Hn.VK)(_1.t.value,Un.n.ListElement)],Ya);var Ml=n(48622);n(56577);const v1=["*"];function y1(p,E){}let Nd=(()=>{class p extends I.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(o){return n(71931)(`./${o}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56577))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:v1,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,y1,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return p})();function dI(p,E){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function uI(p,E){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,dI,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let mm=class JP extends Ro.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Bs.s)("item"),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||JP)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:JP,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,uI,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[h.bT,Nd,h.Jj,G.h,G.D9,Hc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};mm=(0,je.Cg)([(0,Hn.VK)(Ml.t,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,Object])],mm);var dv=n(83233);function _p(p,E){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function hI(p,E){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,_p,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let vp=class QP extends Ro.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Bs.s)("item"),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||QP)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:QP,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,hI,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[h.bT,Nd,h.Jj,G.h,G.D9,Hc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};vp=(0,je.Cg)([(0,Hn.VK)(dv.q,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,Object])],vp);var pI=n(66211);function fI(p,E){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function E1(p,E){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,fI,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let yp=class ZP extends Ro.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Bs.s)("item"),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||ZP)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:ZP,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,E1,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[h.bT,Nd,h.Jj,G.h,G.D9,Hc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};yp=(0,je.Cg)([(0,Hn.VK)(pI.H,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,Object])],yp);var Fd=n(69723);function mI(p,E){if(1&p&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&p){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function C1(p,E){if(1&p&&(e.qex(0),e.DNE(1,mI,6,7,"div",6),e.bVm()),2&p){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function b1(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,C1,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-claimed-task-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("item",d.item$.value)("object",d.object)("showSubmitter",d.showSubmitter)("badgeContext",d.badgeContext)("workflowItem",d.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,d.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",d.item$.value)("object",d.dso)("workflowitem",d.workflowitem$.value)}}let Ep=class qP extends Ro.P{constructor(E,o,d,x,ee,Pe,Ae){super(o,d,Ae),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.objectCache=x,this.configService=ee,this.duplicateDataService=Pe,this.appConfig=Ae,this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceValidation,this.item$=new v.t(null),this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{},(0,Bs.s)("item",{},(0,Bs.s)("bundles")),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.dso.workflowitem.pipe((0,Ls.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,Ls.qD)())):bo.w),(0,ai.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ds.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Ls.qD)(),(0,Rt.T)(E=>E.isSuccess&&E.payload&&"true"===E.payload.values[0])),this.item$.pipe()]).pipe((0,Rt.T)(([E,o])=>{if(!E)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,Ls.qD)(),(0,Rt.T)(d=>{if(d.hasSucceeded&&d.payload.page)return d.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||qP)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(ia.$),e.rXU(Pi.ConfigurationDataService),e.rXU(Fd.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:qP,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,d){1&o&&(e.DNE(0,b1,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[h.bT,Nd,h.YU,dm,h.Jj,G.h,G.D9,Hc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Ep=(0,je.Cg)([(0,Hn.VK)(X_.y,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,ia.$,Pi.ConfigurationDataService,Fd.SubmissionDuplicateDataService,Object])],Ep);let gm=class LD extends Ro.P{constructor(){super(...arguments),this.badgeContext=Ks.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(LD)))(d||LD)}})()}static{this.\u0275cmp=e.VBU({type:LD,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(o,d){1&o&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(ee){return d.reloadedObject.emit(ee.reloadedObject)}),e.k0s()()()),2&o&&(e.Y8G("item",d.dso)("object",d.object)("badgeContext",d.badgeContext),e.R7$(2),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("object",d.dso))},dependencies:[Nd,h.YU,o1],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function gI(p,E){if(1&p&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&p){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function D1(p,E){if(1&p&&(e.qex(0),e.DNE(1,gI,6,7,"div",6),e.bVm()),2&p){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function _I(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,D1,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-pool-task-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){let o;const d=e.XpG();e.R7$(),e.Y8G("item",d.item$.value)("object",d.object)("showSubmitter",d.showSubmitter)("badgeContext",d.badgeContext)("workflowItem",d.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,d.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",d.item$.value)("object",d.dso)("workflowitem",d.workflowitem$.value)}}gm=(0,je.Cg)([(0,Hn.VK)(Aa.H,Un.n.ListElement,Ks.o.Workspace),(0,Hn.VK)(Aa.H,Un.n.ListElement,Ks.o.Workflow)],gm);let _m=class eR extends Ro.P{constructor(E,o,d,x,ee,Pe,Ae){super(o,d,Ae),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.objectCache=x,this.configService=ee,this.duplicateDataService=Pe,this.appConfig=Ae,this.showSubmitter=!0,this.badgeContext=Ks.o.MyDSpaceWaitingController,this.item$=new v.t(null),this.workflowitem$=new v.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Bs.s)("workflowitem",{},(0,Bs.s)("item",{},(0,Bs.s)("bundles")),(0,Bs.s)("submitter")),(0,Bs.s)("action")),this.dso.workflowitem.pipe((0,Ls.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,Ls.qD)())):bo.w),(0,ai.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ds.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Ls.qD)(),(0,Rt.T)(E=>E.isSuccess&&E.payload&&"true"===E.payload.values[0])),this.item$.pipe()]).pipe((0,Rt.T)(([E,o])=>{if(!E)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,Ls.qD)(),(0,Rt.T)(d=>{if(d.hasSucceeded&&d.payload.page)return d.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||eR)(e.rXU(Oi._),e.rXU(_i.F),e.rXU(Fs.f),e.rXU(ia.$),e.rXU(Pi.ConfigurationDataService),e.rXU(Fd.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:eR,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,d){1&o&&(e.DNE(0,_I,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[h.bT,Nd,h.YU,H_,h.Jj,G.h,G.D9,Hc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};_m=(0,je.Cg)([(0,Hn.VK)(Z_.d,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[Oi._,_i.F,Fs.f,ia.$,Pi.ConfigurationDataService,Fd.SubmissionDuplicateDataService,Object])],_m);var T1=n(7581);function vI(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",o.dso)}}function yI(p,E){1&p&&e.nrm(0,"ds-loading",6),2&p&&e.Y8G("showMessage",!1)}let vm=class tR extends Ro.P{constructor(E,o,d,x){super(E,d,x),this.truncatableService=E,this.linkService=o,this.dsoNameService=d,this.appConfig=x,this.LinkTypes=T1.n,this.ViewModes=Un.n,this.derivedSearchResult$=new v.t(void 0),this.badgeContext=Ks.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Bs.s)("item")),this.object.indexableObject.item.pipe((0,Ls.ak)()).subscribe(E=>{new Aa.H,this.derivedSearchResult$.next(Object.assign(new Aa.H,{indexableObject:E,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||tR)(e.rXU(_i.F),e.rXU(Oi._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:tR,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,d){1&o&&(e.DNE(0,vI,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,yI,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,d.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,d.derivedSearchResult$)))},dependencies:[h.bT,ou.v,h.YU,z_,Pd.v,h.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function uv(p,E){if(1&p){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",o.dso)}}function EI(p,E){1&p&&e.nrm(0,"ds-loading",6),2&p&&e.Y8G("showMessage",!1)}vm=(0,je.Cg)([(0,Hn.VK)(cu.q,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[_i.F,Oi._,Fs.f,Object])],vm);let Hu=class nR extends Ro.P{constructor(E,o,d,x){super(E,d,x),this.truncatableService=E,this.linkService=o,this.dsoNameService=d,this.appConfig=x,this.LinkTypes=T1.n,this.ViewModes=Un.n,this.derivedSearchResult$=new v.t(void 0),this.badgeContext=Ks.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Bs.s)("item")),this.object.indexableObject.item.pipe((0,Ls.ak)()).subscribe(E=>{new Aa.H,this.derivedSearchResult$.next(Object.assign(new Aa.H,{indexableObject:E,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||nR)(e.rXU(_i.F),e.rXU(Oi._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:nR,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,d){1&o&&(e.DNE(0,uv,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,EI,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,d.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,d.derivedSearchResult$)))},dependencies:[h.bT,ou.v,h.YU,Y_,Pd.v,h.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function O1(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Hu=(0,je.Cg)([(0,Hn.VK)(bf.I,Un.n.ListElement),(0,je.Sn)("design:paramtypes",[_i.F,Oi._,Fs.f,Object])],Hu);let Cp=class xD extends zc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(xD)))(d||xD)}})()}static{this.\u0275cmp=e.VBU({type:xD,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,O1,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function M1(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Cp=(0,je.Cg)([(0,Hn.VK)(iu.A,Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)(iu.A,Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],Cp);let bp=class ND extends zc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(ND)))(d||ND)}})()}static{this.\u0275cmp=e.VBU({type:ND,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,M1,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};function CI(p,E){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}bp=(0,je.Cg)([(0,Hn.VK)(Hl.L,Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)(Hl.L,Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],bp);let ym=class FD extends zc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(FD)))(d||FD)}})()}static{this.\u0275cmp=e.VBU({type:FD,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,CI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Wr.W,h.YU,h.bT,h.Jj,G.h,G.D9],encapsulation:2})}};ym=(0,je.Cg)([(0,Hn.VK)("PublicationSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)("PublicationSearchResult",Un.n.ListElement,Ks.o.SideBarSearchModalCurrent),(0,Hn.VK)(Aa.H,Un.n.ListElement,Ks.o.SideBarSearchModal),(0,Hn.VK)(Aa.H,Un.n.ListElement,Ks.o.SideBarSearchModalCurrent)],ym);var I1=n(73900);const bI=[sv,rv,fm,tl,mf,hm,ov,Eh,bh,Cp,Ug,ru,nv,gp,Ed,gf,bp,A_,ff,Wg,mp,ol,nl,Oc.k,$h,hi,Kh,mu,_u,Md,gu,Ff,Af,Sh,Ah,Nf,Gf,Rf,Id,Rh,Nh,Fh,Ya,S_,Wf,bu,Dl,Jh,sm,Qf,P_,Cu,Du,Sc,Rd,Mu,Qh,Zf,Yf,Jf,Yh,Tu,M_,ym,Df,Cf,du,Od,Hu,vm,Ep,mm,vp,yp,_m,up,fp,pp,dp,hp,gm,ap,lp];let S1=(()=>{class p{static withEntryComponents(){return{ngModule:p,providers:bI.map(o=>({provide:o}))}}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[h.MD,_.iI,G.h,Wr.W,I1.ThumbnailComponent,YM.BadgesComponent,Mr.F,Ol,Cl,Yc,Y_,H_,Nd,tm,R_,dm,z_,kg,Dr.T,Ha.V,o1,kE,jf,yf,au,Nn.YN,HE,N_,tp,il,B_,Su,qh.r,tl,mf,hm,Eh,bh,Cp,Ug,ru,nv,Ed,gf,bp,ff,Wg,mp,nl,Oc.k,$h,hi,Kh,mu,_u,Md,gu,Ff,Af,Sh,Ah,Nf,Gf,Rf,Id,Rh,Nh,Fh,Ya,S_,Wf,bu,Dl,Jh,sm,Qf,P_,Cu,Du,Sc,Rd,Mu,Qh,Zf,Yf,Jf,Yh,Tu,M_,ym,Df,Cf,du,Od,Hu,vm,Ep,mm,vp,yp,_m,up,fp,pp,dp,hp,gm,ap,lp]})}}return p})();var P1=n(61424),Rc=n(19460);let hv=(()=>{class p{constructor(o,d){this.tokenExtractor=o,this.cookieService=d}intercept(o,d){const x=(o=o.clone({withCredentials:!0})).url.toLowerCase(),ee=new P1.F("/").toString().toLowerCase();if("GET"!==o.method&&"HEAD"!==o.method&&x.startsWith(ee)){const Pe=this.tokenExtractor.getToken();null!==Pe&&!o.headers.has(Rc.sA)&&(o=o.clone({headers:o.headers.set(Rc.sA,Pe)}))}return d.handle(o).pipe((0,ai.M)(Pe=>{Pe instanceof oe.cS&&Pe.headers.has(Rc.oo)&&this.saveXsrfToken(Pe.headers.get(Rc.oo))}),(0,Mn.W)(Pe=>(Pe instanceof oe.yz&&Pe.headers.has(Rc.oo)&&this.saveXsrfToken(Pe.headers.get(Rc.oo)),(0,qo.$)(Pe))))}saveXsrfToken(o){this.cookieService.remove(Rc.dX),this.cookieService.set(Rc.dX,o)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(oe.B3),e.KVO(ka.O))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();n(96756),n(90190);let pv=(()=>{class p{serialize(o){const{url:d}=o;return{url:d,queryParams:o.root.queryParams}}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();n(9274);const R1={providers:[(0,e.oKB)(Ji.xG.forRoot(),X.UN,na.forRoot(qm),y.md.forRoot(Fc.rd,Fc.wP),sa.hO.forRoot(),[],Wp,Wd,S1.withEntryComponents(),ic.mB.forRoot()),(0,_.lh)(M0,(0,_.Ii)({onSameUrlNavigation:"reload"}),(0,_.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,_.Zy)(),(0,_.Sn)(_.D7)),{provide:h.kB,useFactory:(p,E)=>{const o=p.querySelector("head > base");return o.setAttribute("href",`${E.ui.nameSpace}${E.ui.nameSpace.endsWith("/")?"":"/"}`),o.getAttribute("href")},deps:[h.qQ,si.vQ]},{provide:y.iK,useFactory:function mv(p){return p.debug?[...sr,...Yp]:sr},deps:[si.vQ]},{provide:sa.jr,useClass:pv},Ng,{provide:oe.a7,useClass:ja,multi:!0},{provide:oe.a7,useClass:mg,multi:!0},{provide:oe.a7,useClass:hv,multi:!0},{provide:oe.a7,useClass:P0,multi:!0},{provide:oe.a7,useClass:aR,multi:!0},...Ps.A0q,(0,e.EmA)([{provide:Uc.Y,useFactory:(p,E)=>R.c.production?new Uc.Y(E):new sf(p,E),deps:[_g,oe.Qq]}])]};var w1=n(13820),TI=n(72734),Cm=n(43052);let vv=(()=>{class p extends w1.H{constructor(o,d,x){super(o,d,x)}createShortLivedTokenRequest(o){return(0,Os.of)(new Cm.Qf(this.requestService.generateRequestId(),o))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(Tl.Y),e.KVO(Ma.B),e.KVO(TI.o))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),L1=(()=>{class p{constructor(o){this.actions$=o,this.reinitDSOMenus=Ln(()=>this.actions$.pipe($n(_a.REHYDRATE),(0,Rt.T)(()=>new Gi.PM)))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Bd=n(41584),OI=n(43236),MI=n(47242),zu=n(40941),yv=n(11568),oa=n(96393);class lA{constructor(E,o){this.zone=E,this.scheduler=o}schedule(...E){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,E))}now(){return this.scheduler.now()}}class x1{constructor(E,o){this.zone=E,this.scheduler=o}schedule(...E){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,E))}now(){return this.scheduler.now()}}const N1=[...Object.values(H.Yk).filter(p=>p!==H.Yk.UNSET_USER_AS_IDLE),...Object.values(oa.tO),...Object.values(yv.Is)];function Dp(p,E){return E instanceof Error||console.warn("AuthEffects caught non-Error object:",E),(0,Os.of)(new p(E))}let Yu=(()=>{class p{constructor(o,d,x,ee,Pe){this.actions$=o,this.zone=d,this.authorizationsService=x,this.authService=ee,this.store=Pe,this.authenticate$=Ln(()=>this.actions$.pipe($n(H.Yk.AUTHENTICATE),(0,js.n)(Ae=>this.authService.authenticate(Ae.payload.email,Ae.payload.password).pipe((0,T.s)(1),(0,Rt.T)(ht=>new H.sy(ht.token)),(0,Mn.W)(ht=>Dp(H.HQ,ht)))))),this.authenticateSuccess$=Ln(()=>this.actions$.pipe($n(H.Yk.AUTHENTICATE_SUCCESS),(0,Rt.T)(Ae=>new H.ks(Ae.payload)))),this.authenticated$=Ln(()=>this.actions$.pipe($n(H.Yk.AUTHENTICATED),(0,js.n)(Ae=>this.authService.authenticatedUser(Ae.payload).pipe((0,Rt.T)(ht=>new H.D9(null!==ht,Ae.payload,ht)),(0,Mn.W)(ht=>Dp(H.IV,ht)))))),this.authenticatedSuccess$=Ln(()=>this.actions$.pipe($n(H.Yk.AUTHENTICATED_SUCCESS),(0,ai.M)(Ae=>this.authService.storeToken(Ae.payload.authToken)),(0,js.n)(Ae=>this.authService.getRedirectUrl().pipe((0,T.s)(1),(0,Rt.T)(ht=>[Ae,ht]))),(0,Rt.T)(([Ae,ht])=>(0,V.a4)(ht)?new H.FD(ht):new H.K0(Ae.payload.userHref)))),this.redirectAfterLoginSuccess$=Ln(()=>this.actions$.pipe($n(H.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,ai.M)(Ae=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Ae.payload)})),{dispatch:!1}),this.authenticatedError$=Ln(()=>this.actions$.pipe($n(H.Yk.AUTHENTICATED_ERROR),(0,ai.M)(Ae=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=Ln(()=>this.actions$.pipe($n(H.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,js.n)(Ae=>{const ht=this.authService.getImpersonateID();let Ut;return Ut=(0,V.a4)(ht)?this.authService.retrieveAuthenticatedUserById(ht):this.authService.retrieveAuthenticatedUserByHref(Ae.payload),Ut.pipe((0,Rt.T)(_n=>new H.JT(_n.id)),(0,Mn.W)(_n=>Dp(H.cU,_n)))}))),this.checkToken$=Ln(()=>this.actions$.pipe($n(H.Yk.CHECK_AUTHENTICATION_TOKEN),(0,js.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,Rt.T)(Ae=>new H.ks(Ae)),(0,Mn.W)(Ae=>(0,Os.of)(new H.e0)))))),this.checkTokenCookie$=Ln(()=>this.actions$.pipe($n(H.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,js.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,Rt.T)(Ae=>Ae.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new H.kZ):new H.j3(Ae)),(0,Mn.W)(Ae=>Dp(H.IV,Ae)))))),this.retrieveToken$=Ln(()=>this.actions$.pipe($n(H.Yk.RETRIEVE_TOKEN),(0,js.n)(Ae=>this.authService.refreshAuthenticationToken(null).pipe((0,T.s)(1),(0,Rt.T)(ht=>new H.sy(ht)),(0,Mn.W)(ht=>Dp(H.HQ,ht)))))),this.refreshToken$=Ln(()=>this.actions$.pipe($n(H.Yk.REFRESH_TOKEN),(0,js.n)(Ae=>this.authService.refreshAuthenticationToken(Ae.payload).pipe((0,Rt.T)(ht=>new H.IO(ht)),(0,Mn.W)(ht=>(0,Os.of)(new H.$K)))))),this.refreshTokenSuccess$=Ln(()=>this.actions$.pipe($n(H.Yk.REFRESH_TOKEN_SUCCESS),(0,ai.M)(Ae=>this.authService.replaceToken(Ae.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=Ln(()=>this.actions$.pipe($n(_a.REHYDRATE),(0,js.n)(()=>{const Ae=this.store.pipe((0,y.Lt)(w.TR)),ht=this.store.pipe((0,y.Lt)(w.wR));return(0,Ds.z)([Ae,ht]).pipe((0,T.s)(1),(0,Fn.p)(([Ut,_n])=>Ut&&!_n),(0,ai.M)(()=>this.authService.removeToken()),(0,ai.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=Ln(()=>this.actions$.pipe($n(_a.REHYDRATE),(0,ai.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=Ln(()=>this.actions$.pipe($n(H.Yk.LOG_OUT),(0,js.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,Rt.T)(()=>new H.G2),(0,Mn.W)(Ae=>Dp(H.VU,Ae))))))),this.logOutSuccess$=Ln(()=>this.actions$.pipe($n(H.Yk.LOG_OUT_SUCCESS),(0,ai.M)(()=>this.authService.removeToken()),(0,ai.M)(()=>this.authService.clearRedirectUrl()),(0,ai.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=Ln(()=>this.actions$.pipe($n(H.Yk.REDIRECT_TOKEN_EXPIRED),(0,ai.M)(()=>this.authService.removeToken()),(0,ai.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=Ln(()=>this.actions$.pipe($n(H.Yk.RETRIEVE_AUTH_METHODS),(0,js.n)(Ae=>this.authService.retrieveAuthMethodsFromAuthStatus(Ae.payload).pipe((0,Rt.T)(ht=>new H.qY(ht)),(0,Mn.W)(()=>(0,Os.of)(new H.$X)))))),this.trackIdleness$=Ln(()=>this.actions$.pipe((0,Fn.p)(Ae=>!N1.includes(Ae.type)),(0,js.n)(()=>(0,Bd.O)(R.c.auth.ui.timeUntilIdle,new x1(this.zone,OI.E))),(0,zu.Q)(new lA(this.zone,MI.T)),(0,Rt.T)(()=>new H.es)))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(e.SKi),e.KVO(Pr.AuthorizationDataService),e.KVO(u.uR),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Tp=n(98372);let II=(()=>{class p{constructor(o){this.actions$=o,this.fixTimestampsOnRehydrate=Ln(()=>this.actions$.pipe($n(_a.REHYDRATE),(0,Rt.T)(()=>new Tp.Yp((new Date).getTime()))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Ev=n(47797),Ac=n(43377);let SI=(()=>{class p{applyPatch(o){return this.objectCache.getByHref(o).pipe((0,T.s)(1)).pipe((0,Rt.T)(x=>{if((0,V.hj)(x.patches)){const ee=[].concat(...x.patches.map(Pe=>Pe.operations));(0,V.hj)(ee)&&this.requestService.send(new Cm.EA(this.requestService.generateRequestId(),o,ee))}return new Tp.gL(o)}))}constructor(o,d,x,ee){this.actions$=o,this.store=d,this.requestService=x,this.objectCache=ee,this.setTimeoutForServerSync=Ln(()=>this.actions$.pipe($n(Qr.G9.ADD),yi(Pe=>{const Ae=R.c.cache.autoSync,ht=Ae.timePerMethod[Pe.payload.method]||Ae.defaultTime;return(0,Os.of)(new Qr.eR(Pe.payload.method)).pipe((0,O.c)(1e3*ht))}))),this.commitServerSyncBuffer=Ln(()=>this.actions$.pipe($n(Qr.G9.COMMIT),(0,js.n)(Pe=>this.store.pipe((0,y.Lt)(function bm(){return(0,y.Mz)(Ev.N,p=>p["cache/syncbuffer"])}()),(0,T.s)(1),(0,js.n)(Ae=>{const ht=Ae.buffer.filter(Ut=>!(0,V.a4)(Pe.payload)||Ut.method===Pe.payload).map(Ut=>{if(Ut.method===Ac.D.PATCH)return this.applyPatch(Ut.href)});return(0,V.hj)(ht)&&(0,V.EA)(ht[0])?(0,Ds.z)(...ht).pipe((0,js.n)(Ut=>[...Ut,new Qr.a0(Pe.payload)])):(0,Os.of)(new To.L)})))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il),e.KVO(Ma.B),e.KVO(ia.$))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Dm=n(1033),Ao=n(16105);let F1=(()=>{class p{constructor(o,d){this.actions$=o,this.notificationsService=d,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new Zo.B},this.mapLastActions$=Ln(()=>this.actions$.pipe($n(...Object.values(Ao.Ft)),(0,Rt.T)(x=>{if((0,V.a4)(x.payload)){const ee=x.payload.url;(0,V.Tn)(this.actionMap$[ee])&&(this.actionMap$[ee]=new Zo.B),this.actionMap$[ee].next(x)}})),{dispatch:!1}),this.mapLastNotificationActions$=Ln(()=>this.actions$.pipe($n(...Object.values(yv.Is)),(0,Rt.T)(x=>{const ee=x.payload.id||x.payload||this.allIdentifier;(0,V.Tn)(this.notificationActionMap$[ee])&&(this.notificationActionMap$[ee]=new Zo.B),this.notificationActionMap$[ee].next(x)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=Ln(()=>this.actions$.pipe($n(Ao.Ft.DISCARD),(0,js.n)(x=>{const ee=x.payload.url,Pe=x.payload.notification,Ae=Pe.options.timeOut;let ht=new Ao.S3(x.payload.url);return x.payload.discardAll&&(ht=new Ao.zJ),(0,Dm.O)((0,Os.of)(ht).pipe((0,O.c)(Ae)),this.actionMap$[ee].pipe((0,T.s)(1),(0,ai.M)(()=>{this.notificationsService.remove(Pe)}),(0,Rt.T)(Ut=>Ut.type===Ao.Ft.REINSTATE?new To.L:ht)),this.notificationActionMap$[Pe.id].pipe((0,Fn.p)(Ut=>Ut.type===yv.Is.REMOVE_NOTIFICATION),(0,Rt.T)(()=>ht)),this.notificationActionMap$[this.allIdentifier].pipe((0,Fn.p)(Ut=>Ut.type===yv.Is.REMOVE_ALL_NOTIFICATIONS),(0,Rt.T)(()=>ht)))})))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(Zr.I))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var B1=n(28580),PI=n(10524);let Op=(()=>{class p{constructor(){this.tokenInitialized$=new v.t(!1)}static{this.\u0275fac=function(d){return new(d||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),U1=(()=>{class p{constructor(o,d,x,ee,Pe){this.actions$=o,this.restApi=d,this.injector=x,this.requestService=ee,this.xsrfService=Pe,this.execute=Ln(()=>this.actions$.pipe($n(oa.tO.EXECUTE),(0,zn.Z)(Ae=>this.requestService.getByUUID(Ae.payload).pipe((0,T.s)(1))),(0,Fn.p)(Ae=>(0,V.a4)(Ae)),(0,M.E)(this.xsrfService.tokenInitialized$),(0,Fn.p)(([Ae,ht])=>Ae.request.method===Ac.D.GET||!0===ht),(0,Rt.T)(([Ae,ht])=>Ae.request),(0,zn.Z)(Ae=>{let ht=Ae.body;return(0,V.hj)(Ae.body)&&!Ae.isMultipart&&(ht=new B1.T((0,li.Qt)(Ae.body.type)).serialize(Ae.body)),this.restApi.request(Ae.method,Ae.href,ht,Ae.options,Ae.isMultipart).pipe((0,Rt.T)(Ut=>this.injector.get(Ae.getResponseParser()).parse(Ae,Ut)),(0,Rt.T)(Ut=>new oa.Di(Ae.uuid,Ut.statusCode,Ut.link,Ut.unCacheableObject)),(0,Mn.W)(Ut=>{if(Ut instanceof PI.G)return[new oa.Gl(Ae.uuid,Ut.statusCode,Ut.message)];throw Ut}))}))),this.fixTimestampsOnRehydrate=Ln(()=>this.actions$.pipe($n(_a.REHYDRATE),(0,Rt.T)(()=>new oa.cX((new Date).getTime()))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(Uc.Y),e.KVO(e.zZn),e.KVO(Ma.B),e.KVO(Op))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Zc=n(71442),Tm=n(69227),Om=n(51672);let RI=(()=>{class p{constructor(o,d){this.actions$=o,this.store=d,this.addObject$=Ln(()=>this.actions$.pipe($n(Tp.db.ADD),(0,Fn.p)(x=>(0,V.a4)(x.payload.objectToCache)&&(0,V.a4)(x.payload.objectToCache.uuid)),(0,Rt.T)(x=>new Zc.Lv(Om.U.OBJECT,x.payload.objectToCache.uuid,x.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=Ln(()=>this.actions$.pipe($n(Tp.db.ADD),(0,Rt.T)(x=>{const ee=x.payload.alternativeLink,Pe=(0,V.a4)(x.payload.objectToCache?._links?.self)?x.payload.objectToCache._links.self.href:ee;return(0,V.a4)(ee)&&ee!==Pe?new Zc.Lv(Om.U.ALTERNATIVE_OBJECT_LINK,ee,Pe):new To.L}))),this.removeObject$=Ln(()=>this.actions$.pipe($n(Tp.db.REMOVE),(0,Rt.T)(x=>new Zc.H9(Om.U.OBJECT,x.payload)))),this.addRequest$=Ln(()=>this.actions$.pipe($n(oa.tO.CONFIGURE),(0,Fn.p)(x=>x.payload.method===Ac.D.GET),(0,js.n)(x=>{const ee=(0,Tm.tJ)(x.payload.href);return this.store.pipe((0,y.Lt)((0,Tm.Qc)(ee)),(0,T.s)(1),(0,Rt.T)(Pe=>[x,Pe]))}),(0,js.n)(([x,ee])=>{let Pe=[];return(0,V.a4)(ee)&&(Pe=[new oa.HL(ee)]),Pe=[...Pe,new Zc.Lv(Om.U.REQUEST,(0,Tm.tJ)(x.payload.href),x.payload.uuid)],Pe})))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(y.il))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),AI=(()=>{class p{constructor(o){this.actions$=o,this.commit$=Ln(()=>this.actions$.pipe($n(vr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Rt.T)(d=>new vr.pg(d.payload.resourceType,d.payload.resourceId))))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();const j1={ROUTE_UPDATE:(0,Yd.N)("dspace/core/router/ROUTE_UPDATE")};class wI{constructor(){this.type=j1.ROUTE_UPDATE}}let LI=(()=>{class p{constructor(o,d){this.actions$=o,this.router=d,this.routeChange$=Ln(()=>this.actions$.pipe($n(sa.hr),function Mp(){return(0,ta.N)((p,E)=>{let o,d=!1;p.subscribe((0,Vt._)(E,x=>{const ee=o;o=x,d&&E.next([ee,x]),d=!0}))})}(),(0,Rt.T)(x=>x.map(ee=>this.router.parseUrl(ee.payload.routerState.url).root.children.primary.segments.map(Ae=>Ae.path).join("/"))),(0,Fn.p)(x=>x[0]!==x[1]),(0,Rt.T)(()=>new wI)))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(_.Ix))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var al=n(61905);const k1=[U1,II,RI,Yu,AI,SI,F1,(()=>{class p{constructor(o,d){this.actions$=o,this.service=d,this.routeChange$=Ln(()=>this.actions$.pipe($n(j1.ROUTE_UPDATE),(0,Rt.T)(()=>new al.sV))),this.afterResetChange$=Ln(()=>this.actions$.pipe($n(al.HH.RESET),(0,ai.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(As),e.KVO(yu.v$))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})(),LI,L1];var Mm=n(29679);const NI={selectedBitstreamFormats:[]},Sp={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var BI=n(87891);const Pp={buffer:[]};var V1=n(66898);const G1=Object.create(null);var hA=n(23274);const K1=[],KI=Object.create(null);var Ap=function(p){return p.test="test",p.remove="remove",p.add="add",p.replace="replace",p.move="move",p.copy="copy",p}(Ap||{});const YI=Object.create(null);function xp(p){return{operation:p,timeCompleted:(new Date).getTime()}}const Sm={ADD:(0,Yd.N)("dspace/meta-tag/ADD"),CLEAR:(0,Yd.N)("dspace/meta-tag/CLEAR")};class Cv{constructor(E){this.type=Sm.ADD,this.payload=E}}class eS{constructor(){this.type=Sm.CLEAR}}const bv={tagsInUse:[]},Q1={queryParams:{},params:{}};function Z1(p,E,o){const d=p[o],ee=[...d[E.payload.key]||[],E.payload.value],Pe=Object.assign({},d,{[E.payload.key]:ee});return Object.assign({},p,{[o]:Pe})}function Tv(p,E,o){const d=(0,V.hj)(E.payload)?{[o]:{[E.payload.key]:E.payload.value}}:{};return Object.assign({},p,d)}function q1(p,E,o){const x=Object.assign({},p[o],{[E.payload.key]:E.payload.value});return Object.assign({},p,{[o]:x})}const sS={bitstreamFormats:function Ip(p=NI,E){switch(E.type){case Mm.Sh.SELECT_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:[...p.selectedBitstreamFormats,E.bitstreamFormat]});case Mm.Sh.DESELECT_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:p.selectedBitstreamFormats.filter(o=>o!==E.bitstreamFormat)});case Mm.Sh.DESELECT_ALL_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:[]});default:return p}},"cache/object":BI.gT,"cache/syncbuffer":function jI(p=Pp,E){switch(E.type){case Qr.G9.ADD:return function kI(p,E){const o=E.payload;return(0,V.Tn)(p.buffer.find(d=>d.href===o.href&&d.method===o.method))?Object.assign({},p,{buffer:p.buffer.concat(o)}):p}(p,E);case Qr.G9.EMPTY:return function VI(p,E){let o=[];return(0,V.a4)(E.payload)&&(o=p.buffer.filter(d=>d.method!==E.payload)),Object.assign({},p,{buffer:o})}(p,E);default:return p}},"cache/object-updates":V1.O,"data/request":function $1(p=G1,E){switch(E.type){case oa.tO.CONFIGURE:return function GI(p,E){return Object.assign({},p,{[E.payload.uuid]:{request:E.payload,state:$o.zE.RequestPending,response:null,lastUpdated:E.lastUpdated}})}(p,E);case oa.tO.EXECUTE:return function W1(p,E){return(0,V.kZ)(p[E.payload])?p:Object.assign({},p,{[E.payload]:Object.assign({},p[E.payload],{state:$o.zE.ResponsePending,lastUpdated:E.lastUpdated})})}(p,E);case oa.tO.SUCCESS:return function $I(p,E){const o=p[E.payload.uuid];return(0,V.kZ)(o)?p:Object.assign({},p,{[E.payload.uuid]:Object.assign({},o,{state:(0,$o.QO)(o.state)?$o.zE.SuccessStale:$o.zE.Success,response:{timeCompleted:E.payload.timeCompleted,lastUpdated:E.payload.timeCompleted,statusCode:E.payload.statusCode,payloadLink:E.payload.link,unCacheableObject:E.payload.unCacheableObject,errorMessage:null},lastUpdated:E.lastUpdated})})}(p,E);case oa.tO.ERROR:return function WI(p,E){const o=p[E.payload.uuid];return(0,V.kZ)(o)?p:Object.assign({},p,{[E.payload.uuid]:Object.assign({},o,{state:(0,$o.QO)(o.state)?$o.zE.ErrorStale:$o.zE.Error,response:{timeCompleted:E.payload.timeCompleted,lastUpdated:E.payload.timeCompleted,statusCode:E.payload.statusCode,payloadLink:null,errorMessage:E.payload.errorMessage},lastUpdated:E.lastUpdated})})}(p,E);case oa.tO.STALE:return function cA(p,E){const o=p[E.payload.uuid];if((0,V.kZ)(o)||(0,$o.QO)(o.state)||(0,$o.DB)(o.state))return p;{let d;return d=(0,$o.vT)(o.state)?$o.zE.ResponsePendingStale:(0,$o.yO)(o.state)?$o.zE.SuccessStale:$o.zE.ErrorStale,Object.assign({},p,{[E.payload.uuid]:Object.assign({},o,{state:d,lastUpdated:E.lastUpdated})})}}(p,E);case oa.tO.RESET_TIMESTAMPS:return function dA(p,E){const o=Object.create(null);return Object.keys(p).forEach(d=>{o[d]=Object.assign({},p[d],{response:Object.assign({},p[d].response,{timeCompleted:E.payload}),lastUpdated:E.payload})}),o}(p,E);case oa.tO.REMOVE:return function uA(p,E){const o=Object.assign({},p);return o[E.uuid]=null,o}(p,E);default:return p}},history:function Im(p=K1,E){return E.type===hA.i.ADD_TO_HISTORY?[...p,E.payload.url]:p},index:function HI(p=KI,E){switch(E.type){case Zc.WJ.ADD:return function H1(p,E){const d=Object.assign({},p[E.payload.name],{[E.payload.key]:E.payload.value});return Object.assign({},p,{[E.payload.name]:d})}(p,E);case Zc.WJ.REMOVE_BY_VALUE:return function Rp(p,E){const o=p[E.payload.name],d=Object.create(null);for(const x in o)o[x]!==E.payload.value&&(d[x]=o[x]);return Object.assign({},p,{[E.payload.name]:d})}(p,E);case Zc.WJ.REMOVE_BY_SUBSTRING:return function zI(p,E){const o=p[E.payload.name],d=Object.create(null);for(const x in o)x.indexOf(E.payload.value)<0&&(d[x]=o[x]);return Object.assign({},p,{[E.payload.name]:d})}(p,E);default:return p}},auth:function FI(p=Sp,E){switch(E.type){case H.Yk.AUTHENTICATE:return Object.assign({},p,{error:void 0,loading:!0,info:void 0});case H.Yk.AUTHENTICATED:return Object.assign({},p,{loading:!0,blocking:!0});case H.Yk.CHECK_AUTHENTICATION_TOKEN:case H.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},p,{loading:!0});case H.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},p,{externalAuth:E.payload});case H.Yk.AUTHENTICATED_ERROR:case H.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:E.payload.message,loaded:!0,blocking:!1,loading:!1});case H.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},p,{authenticated:!0,authToken:E.payload.authToken});case H.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},p,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:E.payload});case H.Yk.AUTHENTICATE_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:E.payload.message,blocking:!1,loading:!1});case H.Yk.AUTHENTICATE_SUCCESS:case H.Yk.LOG_OUT:return p;case H.Yk.LOG_OUT_ERROR:return Object.assign({},p,{authenticated:!0,error:E.payload.message});case H.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case H.Yk.LOG_OUT_SUCCESS:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case H.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case H.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},p,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:E.payload,userId:void 0});case H.Yk.REFRESH_TOKEN:return Object.assign({},p,{refreshing:!0});case H.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},p,{authToken:E.payload,refreshing:!1,blocking:!1});case H.Yk.ADD_MESSAGE:return Object.assign({},p,{info:E.payload});case H.Yk.RESET_MESSAGES:return Object.assign({},p,{error:void 0,info:void 0});case H.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},p,{loading:!0});case H.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},p,{loading:!1,blocking:!1,authMethods:E.payload});case H.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},p,{loading:!1,blocking:!1,authMethods:[new ch.q(dh.Q.Password,0)]});case H.Yk.SET_REDIRECT_URL:return Object.assign({},p,{redirectUrl:E.payload});case H.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},p,{loading:!0,blocking:!0});case H.Yk.SET_USER_AS_IDLE:return Object.assign({},p,{idle:!0});case H.Yk.UNSET_USER_AS_IDLE:return Object.assign({},p,{idle:!1});case _a.REHYDRATE:return Object.assign({},p,{blocking:!0});default:return p}},"json/patch":function fA(p=YI,E){switch(E.type){case vr.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function z1(p,E){return(0,V.a4)(p[E.payload.resourceType])&&p[E.payload.resourceType].commitPending?Object.assign({},p,{[E.payload.resourceType]:Object.assign({},p[E.payload.resourceType],{commitPending:!1})}):p}(p,E);case vr.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function ZI(p,E){if((0,V.a4)(p[E.payload.resourceType])){let o;return(0,V.EA)(E.payload.resourceId)?o=(0,V.a4)(p[E.payload.resourceType].children)&&(0,V.a4)(p[E.payload.resourceType].children[E.payload.resourceId])?Object.assign({},p[E.payload.resourceType].children,{[E.payload.resourceId]:{body:p[E.payload.resourceType].children[E.payload.resourceId].body.filter(d=>d.timeCompleted>p[E.payload.resourceType].transactionStartTime)}}):p[E.payload.resourceType].children:(o=p[E.payload.resourceType].children,Object.keys(o).forEach(d=>{o=Object.assign({},o,{[d]:{body:o[d].body.filter(x=>x.timeCompleted>p[E.payload.resourceType].transactionStartTime)}})})),Object.assign({},p,{[E.payload.resourceType]:Object.assign({},p[E.payload.resourceType],{children:o,transactionStartTime:null})})}return p}(p,E);case vr.Ce.NEW_JSON_PATCH_ADD_OPERATION:case vr.Ce.NEW_JSON_PATCH_COPY_OPERATION:case vr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case vr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case vr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function Lp(p,E){const o=Object.assign({},p),d=function Y1(p,E,o){return(0,V.a4)(p[E])&&(0,V.a4)(p[E].children)&&(0,V.a4)(p[E].children[o])&&(0,V.hj)(p[E].children[o].body)}(o,E.payload.resourceType,E.payload.resourceId)?o[E.payload.resourceType].children[E.payload.resourceId].body:Array.of(),x=function X1(p,E,o,d,x){const ee=Array.from(p);switch(E){case vr.Ce.NEW_JSON_PATCH_ADD_OPERATION:ee.push(xp({op:Ap.add,path:o,value:d}));break;case vr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:ee.push(xp({op:Ap.replace,path:o,value:d}));break;case vr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:ee.push(xp({op:Ap.remove,path:o}));break;case vr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:ee.push(xp({op:Ap.move,from:x,path:o}))}return function qI(p){const E=new Map;for(let o=p.length-1;o>=0;o--){const d=p[o].operation,x=`${d.op}-${d.path}`;E.has(x)?E.get(x)-1===o&&(p.splice(o,1),E.set(x,o)):E.set(x,o)}return p}(ee)}(d,E.type,E.payload.path,(0,V.a4)(E.payload.value)?E.payload.value:null,(0,V.a4)(E.payload.from)?E.payload.from:null);return(0,V.a4)(o[E.payload.resourceType])&&(0,V.a4)(o[E.payload.resourceType].children)?Object.assign({},p,{[E.payload.resourceType]:Object.assign({},p[E.payload.resourceType],{children:Object.assign({},p[E.payload.resourceType].children,{[E.payload.resourceId]:{body:x}}),commitPending:!!(0,V.EA)(p[E.payload.resourceType].commitPending)&&p[E.payload.resourceType].commitPending})}):Object.assign({},p,{[E.payload.resourceType]:Object.assign({},{children:{[E.payload.resourceId]:{body:x}},transactionStartTime:null,commitPending:!1})})}(p,E);case vr.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function JI(p,E){return(0,V.a4)(p[E.payload.resourceType])&&p[E.payload.resourceType].commitPending?Object.assign({},p,{[E.payload.resourceType]:Object.assign({},p[E.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):p}(p,E);case vr.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function XI(p,E){return(0,V.a4)(p[E.payload.resourceType])&&(0,V.kZ)(p[E.payload.resourceType].transactionStartTime)?Object.assign({},p,{[E.payload.resourceType]:Object.assign({},p[E.payload.resourceType],{transactionStartTime:E.payload.startTime,commitPending:!0})}):p}(p,E);case vr.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case vr.Ce.FLUSH_JSON_PATCH_OPERATION:return function wp(p,E){const o=E.payload;if(p[o.resourceType]&&p[o.resourceType].children){const d=p[o.resourceType].children[o.resourceId].body,x=d.filter(Ae=>Ae.operation.path===o.path)[0],ee=d.indexOf(x),Pe=[...d];return Pe.splice(ee,1),Object.assign({},p,{[E.payload.resourceType]:Object.assign({},{children:{[E.payload.resourceId]:{body:Pe}}})})}return p}(p,E);default:return p}},metaTag:(p=bv,E)=>{switch(E.type){case Sm.ADD:return((p,E)=>({tagsInUse:[...p.tagsInUse,E.payload]}))(p,E);case Sm.CLEAR:return Object.assign({},bv);default:return p}},route:function Dv(p=Q1,E){switch(E.type){case al.HH.RESET:return Q1;case al.HH.SET_PARAMETERS:return Tv(p,E,"params");case al.HH.SET_QUERY_PARAMETERS:return Tv(p,E,"queryParams");case al.HH.ADD_PARAMETER:return Z1(p,E,"params");case al.HH.ADD_QUERY_PARAMETER:return Z1(p,E,"queryParams");case al.HH.SET_PARAMETER:return q1(p,E,"params");case al.HH.SET_QUERY_PARAMETER:return q1(p,E,"queryParams");default:return p}}};var eC=n(88091),Pm=n(59752);let iS=(()=>{class p extends eC.f{constructor(o,d,x){super(),this.document=o,this.routeService=d,this.hardRedirectService=x}getReferrer(){return this.routeService.getHistory().pipe((0,Rt.T)(o=>{const d=o[o.length-1];if((0,V.Tn)(d)||o.every(x=>x===d))return this.document.referrer;{const ee=[...o].reverse().find(Pe=>Pe!==d);return new zl.t(this.hardRedirectService.getCurrentOrigin(),ee).toString()}}))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(h.qQ),e.KVO(yu.v$),e.KVO(Pm.$))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();const tC=new e.nKC("Location");let oS=(()=>{class p extends Pm.${constructor(o){super(),this.location=o}redirect(o){this.location.replace(o)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(tC))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),nC=(()=>{class p extends Sd{constructor(o,d){super(),this._document=o,this._window=d,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new v.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(x=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(o){var d=this;return(0,m.A)(function*(){return R.c.markdown.mathjax?new Promise((x,ee)=>{const Pe=d._document.createElement("script");Pe.type="text/javascript",Pe.text=`MathJax = ${JSON.stringify(d.mathJaxOptions)};`,d._document.head.appendChild(Pe);const Ae=d._document.createElement("script");Ae.id=o.id,Ae.type="text/javascript",Ae.src=o.source,Ae.crossOrigin="anonymous",Ae.async=!0,Ae.onload=()=>x(),Ae.onerror=ht=>ee(ht),d._document.head.appendChild(Ae)}):Promise.resolve()})()}ready(){return this.isReady$}render(o){if(R.c.markdown.mathjax)return window.MathJax.typesetPromise([o])}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(h.qQ),e.KVO(C.lc))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),sC=(()=>{class p extends Op{initXSRFToken(o){return()=>new Promise(d=>{o.get(new P1.F("/security/csrf").toString(),void 0).pipe((0,T.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),d()})}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(p)))(x||p)}})()}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var iC=n(84418),rC=n.n(iC),Ov=n(61889),oC=n.n(Ov),aS=n(74449),Np=n(34826),Fp=n(80566);const Bp="klaro-anonymous",Rm="google-analytics",aC={storageName:Bp,privacyPolicy:"./info/privacy",hideLearnMore:!1,acceptAll:!0,cookieExpiresAfterDays:365,htmlTexts:!0,lang:"zy",translations:{zy:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description"},consentNotice:{changeDescription:"cookies.consent.update",title:"cookies.consent.content-notice.title",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",ok:"cookies.consent.ok",poweredBy:"Powered by Klaro!",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"},purposeItem:{service:"cookies.consent.content-modal.service",services:"cookies.consent.content-modal.services"},purposes:{},save:"cookies.consent.save",service:{disableAll:{description:"cookies.consent.app.disable-all.description",title:"cookies.consent.app.disable-all.title"},optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},services:[{name:"authentication",purposes:["functional"],required:!0,cookies:[pg.R,u.of,u.kL]},{name:"preferences",purposes:["functional"],required:!0,cookies:[uh.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^klaro-.+$/],"dsHasAgreedEndUser"]},{name:Rm,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:Np.BA,purposes:["registration-password-recovery"],required:!1,cookies:[Np.oL],onAccept:"window.refreshCaptchaScript?.call()",onDecline:"window.refreshCaptchaScript?.call()",onlyOnce:!0}]},lC="dspace.agreements.cookies",Mv=new e.nKC("Lazily loaded Klaro",{providedIn:"root",factory:(p=(0,m.A)(function*(){return yield n.e(3628).then(n.t.bind(n,43628,23))}),function(){return p.apply(this,arguments)})});var p;let Am=(()=>{class p extends Fp.${constructor(o,d,x,ee,Pe,Ae){super(),this.translateService=o,this.authService=d,this.ePersonService=x,this.configService=ee,this.cookieService=Pe,this.lazyKlaro=Ae,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.klaroConfig=rC()(aC)}initialize(){R.c.info.enablePrivacyStatement||(delete this.klaroConfig.privacyPolicy,this.klaroConfig.translations.zy.consentNotice.description="cookies.consent.content-notice.description.no-privacy");const o=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,Ls.qD)(),(0,Rt.T)(Ae=>!Ae.hasSucceeded||!Ae.payload||(0,V.Im)(Ae.payload.values))),d=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,Ls.qD)(),(0,Rt.T)(Ae=>!Ae.hasSucceeded||!Ae.payload||(0,V.Im)(Ae.payload.values)||"true"!==Ae.payload.values[0].toLowerCase())),x=(0,Ds.z)([o,d]).pipe((0,Rt.T)(([Ae,ht])=>{const Ut=[];return Ae&&Ut.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),ht&&Ut.push(Np.BA),Ut}));this.translateService.setDefaultLang(R.c.defaultLanguage);const ee=this.getUser$(),Pe=this.translateService.get("loading.default").pipe((0,T.s)(1));(0,Ds.z)([ee,x,Pe]).subscribe(([Ae,ht,Ut])=>{Ae=rC()(Ae),(0,V.a4)(Ae)&&this.initializeUser(Ae),this.addAppMessages(),this.translateConfiguration(),this.klaroConfig.services=this.filterConfigServices(ht),this.lazyKlaro.then(({setup:_n})=>_n(this.klaroConfig))})}getSavedPreferences(){return this.getUser$().pipe((0,Rt.T)(o=>{let d;return d=(0,V.Im)(o)?Bp:this.getStorageName(o.uuid),this.cookieService.get(d)}))}initializeUser(o){this.klaroConfig.callback=oC()((x,ee)=>this.updateSettingsForUsers(o),300),this.klaroConfig.storageName=this.getStorageName(o.uuid);const d=this.cookieService.get(Bp);(0,V.a4)(this.getSettingsForUser(o))?this.restoreSettingsForUsers(o):(0,V.a4)(d)&&(this.cookieService.set(this.getStorageName(o.uuid),d),this.updateSettingsForUsers(o))}getUser$(){return this.authService.isAuthenticated().pipe((0,T.s)(1),(0,js.n)(o=>o?this.authService.getAuthenticatedUserFromStore():(0,Os.of)(void 0)),(0,T.s)(1))}getTitleTranslation(o){return"cookies.consent.app.title."+o}getDescriptionTranslation(o){return"cookies.consent.app.description."+o}getPurposeTranslation(o){return"cookies.consent.purpose."+o}showSettings(){this.lazyKlaro.then(({show:o})=>o(this.klaroConfig))}addAppMessages(){this.klaroConfig.services.forEach(o=>{this.klaroConfig.translations.zy[o.name]={title:this.getTitleTranslation(o.name),description:this.getDescriptionTranslation(o.name)},o.purposes.forEach(d=>{this.klaroConfig.translations.zy.purposes[d]=this.getPurposeTranslation(d)})})}translateConfiguration(){this.translateService.setDefaultLang(R.c.defaultLanguage),this.translate(this.klaroConfig.translations.zy)}translate(o){return"string"==typeof o?this.translateService.instant(o):(Object.entries(o).forEach(([d,x])=>{o[d]=this.translate(x)}),o)}getSettingsForUser(o){const d=o.firstMetadataValue(lC);return(0,V.a4)(d)?JSON.parse(d):void 0}setSettingsForUser(o,d){(0,V.hj)(d)?o.setMetadata(lC,void 0,JSON.stringify(d)):o.removeMetadata(lC),this.ePersonService.createPatchFromCache(o).pipe((0,T.s)(1),(0,js.n)(x=>(0,V.hj)(x)?this.ePersonService.patch(o,x):(0,Os.of)(void 0))).subscribe()}restoreSettingsForUsers(o){this.cookieService.set(this.getStorageName(o.uuid),this.getSettingsForUser(o))}updateSettingsForUsers(o){this.setSettingsForUser(o,this.cookieService.get(this.getStorageName(o.uuid)))}getStorageName(o){return"klaro-"+o}filterConfigServices(o){return this.klaroConfig.services.filter(d=>!o.some(x=>x===d.name))}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(G.c$),e.KVO(u.uR),e.KVO(aS.EPersonDataService),e.KVO(Pi.ConfigurationDataService),e.KVO(ka.O),e.KVO(Mv))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var Iv=n(25543);let wm=(()=>{class p{constructor(o,d,x,ee,Pe){this.googleAnalytics=o,this.googleGlobalSiteTag=d,this.klaroService=x,this.configService=ee,this.document=Pe}addTrackingIdToPage(){const o=this.configService.findByPropertyName("google.analytics.key").pipe((0,Ls.qD)()),d=this.klaroService.getSavedPreferences();(0,Ds.z)([d,o]).subscribe(([x,ee])=>{if((0,V.Im)(x)||(0,V.Im)(x[Rm])||!x[Rm]||!ee.hasSucceeded)return;const Pe=ee.payload.values[0];if(!(0,V.Im)(Pe))if(this.isGTagVersion(Pe)){const Ae=this.document.createElement("script");Ae.src=`https://www.googletagmanager.com/gtag/js?id=${Pe}`,this.document.body.appendChild(Ae);const ht=this.document.createElement("script");ht.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${Pe}');`,this.document.body.appendChild(ht),this.googleGlobalSiteTag.startTracking()}else{const Ae=this.document.createElement("script");Ae.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${Pe}', 'auto');`,this.document.body.appendChild(Ae),this.googleAnalytics.startTracking()}})}isGTagVersion(o){return o&&o.startsWith("G-")}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(mo.Z1),e.KVO(mo.RH),e.KVO(Fp.$),e.KVO(Pi.ConfigurationDataService),e.KVO(h.qQ))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();var hC=n(59540);const pC=(0,e.zw6)("NGX_TRANSLATE_STATE");class fC{constructor(E,o,d,x){this.transferState=E,this.http=o,this.prefix=d,this.suffix=x}getTranslation(E){const d=this.transferState.get(pC,{})[E];return(0,V.a4)(d)?(0,Os.of)(d):this.http.get(`${this.prefix}${E}${R.c.production?`.${{"ar.json5":"dbd078a71f57a0ebfad9c5303bcc6128","bn.json5":"ba2d1da4505a1f8178e619fc9e6490e7","ca.json5":"a83fbf4a720de6630d95b36930d1ea47","cs.json5":"07b4a8bd235594762ba3f000dd7453cd","de.json5":"b95a05a13b855b74ee51fa42a47bde14","el.json5":"44ca0d2019cc102da326904e9b089f38","en.json5":"74a984e98a3a88b63e9848e4c6f35075","es.json5":"df5a1d4ada232d6799e6201c2703408e","fi.json5":"9c5278060564bce82fc5ebd3583404c3","fr.json5":"ccdbed6bff5e75c2849628a304ddfea8","gd.json5":"3bc9f8df9b6ee7e53d5aa0706b780695","hi.json5":"63fa5437f687c50e0194b97dec494f61","hu.json5":"3af9fdc1a654d0514e0bfb3fbf8fbf69","it.json5":"27f4dfa0f7345652d7d6dadd76b49917","ja.json5":"ca46d7f920980545b3bdd6aa7fbe9763","kk.json5":"180219e7dc8d9ad42651838e8f1b83fe","lv.json5":"bba7da6bf941042b8c414c200a5b45e0","nl.json5":"7cc176891621b5da0d69558be11d7d73","pl.json5":"e71049fa740366e7be1a08cd2890d4b4","pt-BR.json5":"e8df78c02c13a3b8cf4b3ae952881a62","pt-PT.json5":"7447ccf79137eb09634a52bff57b52a3","sr-cyr.json5":"8b1d8baddfa738ac53a58eb968b1736b","sr-lat.json5":"bfeb0119427872cdc3aaa19632e78264","sv.json5":"33c1183ab2158147ebf56a05dcb23e68","sw.json5":"7f19b77a00d2930d9a5cac60d55949e7","tr.json5":"dca8a85af7c266911adf8d53a14d98bd","uk.json5":"796adf811d8fdb4c7a46540f8d8794aa","vi.json5":"39f069f72a959b52ee1f7fbaf95cee7f"}[E+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,Rt.T)(ee=>JSON.parse(ee)))}}var Sv=n(9350);function Pv(p,E){const o="object"==typeof E;return new Promise((d,x)=>{let Pe,ee=!1;p.subscribe({next:Ae=>{Pe=Ae,ee=!0},error:x,complete:()=>{ee?d(Pe):o?d(E.defaultValue):x(new Sv.G)}})})}var mC=n(47707);var uS=n(92688);const Rv=p=>E=>E.pipe((0,js.n)(o=>(0,V.a4)(o)?p.isAuthorized(k._.CanDownload,o.self).pipe((0,Rt.T)(d=>d?o:null)):(0,Os.of)(null))),hS=(0,y.Mz)(Ev.N,p=>p.metaTag),pS=(0,y.Mz)(hS,p=>p.tagsInUse);let Av=(()=>{class p{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n,cn,rs){this.router=o,this.translate=d,this.meta=x,this.title=ee,this.dsoNameService=Pe,this.bundleDataService=Ae,this.rootService=ht,this.store=Ut,this.hardRedirectService=_n,this.appConfig=cn,this.authorizationService=rs,this.currentObject=new v.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,Fn.p)(o=>o instanceof _.wF),(0,Rt.T)(()=>this.router.routerState.root),(0,Rt.T)(o=>({params:(o=this.getCurrentRoute(o)).params,data:o.data}))).subscribe(o=>{this.processRouteChange(o)})}processRouteChange(o){if(this.clearMetaTags(),(0,V.a4)(o.data.value.dso)&&(0,V.a4)(o.data.value.dso.payload)&&(this.currentObject.next(o.data.value.dso.payload),this.setDSOMetaTags()),o.data.value.title){const d=this.translate.get("repository.title.prefix"),x=this.translate.get(o.data.value.title,o.data.value);(0,Ds.z)([d,x]).pipe((0,T.s)(1)).subscribe(([ee,Pe])=>{this.addMetaTag("title",ee+Pe),this.title.setTitle(ee+Pe)})}o.data.value.description&&this.translate.get(o.data.value.description).pipe((0,T.s)(1)).subscribe(d=>{this.addMetaTag("description",d)})}getCurrentRoute(o){for(;o.firstChild;)o=o.firstChild;return o}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const o=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",o),this.title.setTitle(o)}setDescriptionTag(){const o=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",o)}setCitationTitleTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",o)}setCitationAuthorTags(){const o=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",o)}setCitationPublicationDateTag(){const o=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",o)}setCitationISSNTag(){const o=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",o)}setCitationISBNTag(){const o=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",o)}setCitationLanguageTag(){const o=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",o)}setCitationDissertationNameTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",o)}setCitationPublisherTag(){const o=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",o):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",o):this.addMetaTag("citation_publisher",o)}setCitationKeywordsTag(){const o=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",o)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof Ra.q){let o=this.getMetaTagValue("dc.identifier.uri");(0,V.Tn)(o)&&(o=new zl.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",o)}}setCitationPdfUrlTag(){this.currentObject.value instanceof Ra.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new Jy._,(0,Bs.s)("primaryBitstream"),(0,Bs.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,Bs.s)("format"))).pipe((0,Ls.ak)(),(0,js.n)(d=>d.primaryBitstream.pipe((0,Ls.qD)(),(0,Rt.T)(x=>(0,V.a4)(x.payload)?x.payload:null),Rv(this.authorizationService),(0,Rt.T)(x=>[d,x]))),(0,js.n)(([d,x])=>(0,V.a4)(x)?[(0,ir.hV)(x)]:d.bitstreams.pipe((0,Ls.qD)(),(0,js.n)(ee=>(0,V.a4)(ee.payload)&&1===ee.payload.totalElements?this.getBitLinkIfDownloadable(ee.payload.page[0],ee):this.getFirstAllowedFormatBitstreamLink(ee)))),(0,T.s)(1)).subscribe(d=>{this.addMetaTag("citation_pdf_url",new zl.t(this.hardRedirectService.getCurrentOrigin(),d).toString())})}getBitLinkIfDownloadable(o,d){return(0,Os.of)(o).pipe(Rv(this.authorizationService),(0,js.n)(x=>(0,V.a4)(x)?[(0,ir.hV)(x)]:this.getFirstAllowedFormatBitstreamLink(d)))}getFirstAllowedFormatBitstreamLink(o){return(0,V.a4)(o.payload)&&(0,V.hj)(o.payload.page)?(0,uS.x)(...o.payload.page.map(d=>d.format.pipe((0,Ls.ak)(),(0,Rt.T)(x=>[d,x])))).pipe((0,zn.Z)(([d,x])=>(0,Os.of)(d).pipe(Rv(this.authorizationService),(0,Rt.T)(ee=>[ee,x]))),(0,Fn.p)(([d,x])=>(0,V.a4)(x)&&(0,V.a4)(d)&&this.CITATION_PDF_URL_MIMETYPES.includes(x.mimetype)),(0,T.s)(1),(0,Rt.T)(([d,x])=>(0,ir.hV)(d))):bo.w}setGenerator(){this.rootService.findRoot().pipe((0,Ls.ak)()).subscribe(o=>{this.meta.addTag({name:"Generator",content:o.dspaceVersion})})}hasType(o){return this.currentObject.value.hasMetadata("dc.type",{value:o,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getFirstMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getMetaTagValuesAndCombine(o){return this.getMetaTagValues([o]).join("; ")}getMetaTagValues(o){return this.currentObject.value.allMetadataValues(o)}addMetaTag(o,d){d&&(this.meta.addTag({name:o,content:d}),this.storeTag(o))}addMetaTags(o,d){for(const x of d)this.addMetaTag(o,x)}storeTag(o){this.store.dispatch(new Cv(o))}clearMetaTags(){this.store.pipe((0,y.Lt)(pS),(0,T.s)(1)).subscribe(o=>{for(const d of o)this.meta.removeTag("name='"+d+"'");this.store.dispatch(new eS)})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(_.Ix),e.KVO(G.c$),e.KVO(f.W8),e.KVO(f.hE),e.KVO(Fs.f),e.KVO(ep.BundleDataService),e.KVO(Rn.RootDataService),e.KVO(y.il),e.KVO(Pm.$),e.KVO(si.vQ),e.KVO(Pr.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var yC=n(87152),fS=n(60654),mS=n(20930),gS=n(43733);const _S=new fi.v("duplicate");var vS=n(17860),yS=n(61196),ES=n(54949),CS=n(6291);const EC=new fi.v("feedback");var CC=n(1259),bC=n(51934),DC=n(178),TC=n(71077),OC=n(88985),MC=n(96470),IC=n(92174),SC=n(87369),PC=n(2527),RC=n(72364),bS=n(39147),DS=n(49623),wv=n(17133),Lm=n(80284),xm=n(84276);let Il=class extends pc.I{static{this.type=new fi.v("correctiontype")}};(0,je.Cg)([Ur.aK,hn.autoserialize,(0,je.Sn)("design:type",fi.v)],Il.prototype,"type",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Il.prototype,"id",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Il.prototype,"topic",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Il.prototype,"discoveryConfiguration",void 0),(0,je.Cg)([hn.autoserialize,(0,je.Sn)("design:type",String)],Il.prototype,"creationForm",void 0),(0,je.Cg)([hn.deserialize,(0,je.Sn)("design:type",Object)],Il.prototype,"_links",void 0),Il=(0,je.Cg)([li.gV],Il);var Lv=n(92946),xv=n(22822),AC=n(26147);const wC=new Map([[lf.value,()=>Promise.resolve().then(n.bind(n,65007)).then(p=>p.AuthorizationDataService)],[SC.z.value,()=>Promise.resolve().then(n.bind(n,42673)).then(p=>p.BrowseDefinitionDataService)],[Rr.XI.value,()=>n.e(2719).then(n.bind(n,82719)).then(p=>p.BulkAccessConfigDataService)],[bC.M.value,()=>n.e(8290).then(n.bind(n,58290)).then(p=>p.MetadataSchemaDataService)],[Rr.V_.value,()=>n.e(1345).then(n.bind(n,51345)).then(p=>p.SubmissionUploadsConfigDataService)],[MC.e.value,()=>Promise.resolve().then(n.bind(n,42578)).then(p=>p.BitstreamDataService)],[Rr.NS.value,()=>n.e(4319).then(n.bind(n,4319)).then(p=>p.SubmissionAccessesConfigDataService)],[yS.B.value,()=>Promise.resolve().then(n.bind(n,27795)).then(p=>p.SystemWideAlertDataService)],[xm.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(p=>p.UsageReportDataService)],[hh.E.value,()=>Promise.resolve().then(n.bind(n,45022)).then(p=>p.AccessStatusDataService)],[Rg.n.value,()=>Promise.resolve().then(n.bind(n,6983)).then(p=>p.CollectionDataService)],[xv.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(p=>p.ClaimedTaskDataService)],[Dc.mt.value,()=>Promise.resolve().then(n.bind(n,70413)).then(p=>p.HrefOnlyDataService)],[DS.N.value,()=>Promise.resolve().then(n.bind(n,70413)).then(p=>p.HrefOnlyDataService)],[gd.m.value,()=>Promise.resolve().then(n.bind(n,70413)).then(p=>p.HrefOnlyDataService)],[vS.m.value,()=>n.e(2355).then(n.bind(n,62355)).then(p=>p.SubscriptionsDataService)],[RC.G.value,()=>Promise.resolve().then(n.bind(n,46660)).then(p=>p.CommunityDataService)],[Dc.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(p=>p.VocabularyDataService)],[PC.d.value,()=>Promise.resolve().then(n.bind(n,81443)).then(p=>p.BundleDataService)],[$0.value,()=>Promise.resolve().then(n.bind(n,8917)).then(p=>p.ConfigurationDataService)],[AC.T.value,()=>Promise.resolve().then(n.bind(n,28515)).then(p=>p.PoolTaskDataService)],[xv.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(p=>p.ClaimedTaskDataService)],[Hg.T.value,()=>Promise.resolve().then(n.bind(n,66129)).then(p=>p.SupervisionOrderDataService)],[CS.l.value,()=>Promise.resolve().then(n.bind(n,24261)).then(p=>p.WorkspaceitemDataService)],[ES.z.value,()=>Promise.resolve().then(n.bind(n,52837)).then(p=>p.WorkflowItemDataService)],[Dc.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(p=>p.VocabularyDataService)],[Dc.cK.value,()=>Promise.resolve().then(n.bind(n,75955)).then(p=>p.VocabularyEntryDetailsDataService)],[aT.value,()=>n.e(9914).then(n.bind(n,79914)).then(p=>p.SubmissionCcLicenseUrlDataService)],[Lv.Q.value,()=>n.e(3138).then(n.bind(n,73138)).then(p=>p.SubmissionCcLicenseDataService)],[xm.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(p=>p.UsageReportDataService)],[OC.O.value,()=>n.e(5521).then(n.bind(n,25521)).then(p=>p.ResourcePolicyDataService)],[TC.T.value,()=>Promise.resolve().then(n.bind(n,98926)).then(p=>p.ResearcherProfileDataService)],[j0.value,()=>n.e(2076).then(n.bind(n,53067)).then(p=>p.OrcidQueueDataService)],[nT.value,()=>n.e(2076).then(n.bind(n,52326)).then(p=>p.OrcidHistoryDataService)],[EC.value,()=>n.e(2076).then(n.bind(n,10241)).then(p=>p.FeedbackDataService)],[Kg.U.value,()=>Promise.resolve().then(n.bind(n,44494)).then(p=>p.GroupDataService)],[bg.N.value,()=>Promise.resolve().then(n.bind(n,74449)).then(p=>p.EPersonDataService)],[yd.f.value,()=>Promise.resolve().then(n.bind(n,52749)).then(p=>p.WorkflowActionDataService)],[H0.s.value,()=>n.e(3860).then(n.bind(n,93860)).then(p=>p.VersionHistoryDataService)],[eu.value,()=>Promise.resolve().then(n.bind(n,5090)).then(p=>p.SiteDataService)],[x0.value,()=>Promise.resolve().then(n.bind(n,29443)).then(p=>p.RootDataService)],[Lm.U.value,()=>Promise.resolve().then(n.bind(n,38096)).then(p=>p.RelationshipTypeDataService)],[wv.X.value,()=>Promise.resolve().then(n.bind(n,48833)).then(p=>p.RelationshipDataService)],[gS.M.value,()=>Promise.resolve().then(n.bind(n,32736)).then(p=>p.ScriptDataService)],[mS.A.value,()=>n.e(2076).then(n.bind(n,87414)).then(p=>p.ProcessDataService)],[CC.R.value,()=>n.e(2151).then(n.bind(n,22151)).then(p=>p.MetadataFieldDataService)],[qd.U.value,()=>Promise.resolve().then(n.bind(n,29326)).then(p=>p.ItemDataService)],[K0.x.value,()=>n.e(1783).then(n.bind(n,81783)).then(p=>p.VersionDataService)],[w0.f.value,()=>n.e(2076).then(n.bind(n,90378)).then(p=>p.IdentifierDataService)],[Wl.value,()=>Promise.resolve().then(n.bind(n,65007)).then(p=>p.AuthorizationDataService)],[bS.X.value,()=>Promise.resolve().then(n.bind(n,13989)).then(p=>p.DSpaceObjectDataService)],[IC.a.value,()=>Promise.resolve().then(n.bind(n,4856)).then(p=>p.BitstreamFormatDataService)],[vg.value,()=>n.e(9184).then(n.bind(n,69184)).then(p=>p.CoarNotifyConfigDataService)],[fc.tc.value,()=>n.e(2076).then(n.bind(n,16734)).then(p=>p.LdnItemfiltersService)],[fc.zd.value,()=>Promise.resolve().then(n.bind(n,68630)).then(p=>p.LdnServicesService)],[fS.g.value,()=>Promise.resolve().then(n.bind(n,88857)).then(p=>p.AdminNotifyMessagesService)],[Rr.KX.value,()=>n.e(3928).then(n.bind(n,43928)).then(p=>p.SubmissionFormsConfigDataService)],[R0.value,()=>n.e(9380).then(n.bind(n,69380)).then(p=>p.NotifyRequestsStatusDataService)],[ph.value,()=>n.e(7450).then(n.bind(n,27450)).then(p=>p.QualityAssuranceEventDataService)],[Eg.value,()=>Promise.resolve().then(n.bind(n,61723)).then(p=>p.QualityAssuranceSourceDataService)],[Cg.value,()=>Promise.resolve().then(n.bind(n,31936)).then(p=>p.QualityAssuranceTopicDataService)],[DC.P.value,()=>Promise.resolve().then(n.bind(n,96687)).then(p=>p.SuggestionDataService)],[B0.value,()=>n.e(3371).then(n.bind(n,43371)).then(p=>p.SuggestionSourceDataService)],[U0.value,()=>Promise.resolve().then(n.bind(n,94791)).then(p=>p.SuggestionTargetDataService)],[_S.value,()=>Promise.resolve().then(n.bind(n,69723)).then(p=>p.SubmissionDuplicateDataService)],[Il.type.value,()=>n.e(5447).then(n.bind(n,75447)).then(p=>p.CorrectionTypeDataService)]]),qc=(p,E)=>[p,E];function LC(p,E){if(1&p){const o=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){const ee=e.eBV(o).$implicit,Pe=e.XpG();return e.Njj(Pe.onCheckboxChange(x,ee))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG();e.Y8G("hidden",o.hidden)("ngClass",d.getClass("element","control",o)),e.R7$(),e.Y8G("checked",o.checked)("formControlName",o.id)("id",d.getCheckboxId(o))("name",o.name)("required",o.required)("tabindex",o.tabIndex)("value",o.value),e.R7$(),e.Y8G("ngClass",d.getClass("element","label",o))("innerHTML",o.label,e.npT)}}function Nv(p,E){if(1&p&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.prefix,e.npT)}}function OS(p,E){if(1&p){const o=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s()}if(2&p){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function Fv(p,E){if(1&p){const o=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s()}if(2&p){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("mask",o.model.mask)("specialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.specialCharacters)("patterns",null==o.model.maskConfig?null:o.model.maskConfig.patterns)("prefix",null==o.model.maskConfig?null:o.model.maskConfig.prefix)("suffix",null==o.model.maskConfig?null:o.model.maskConfig.suffix)("thousandSeparator",null==o.model.maskConfig?null:o.model.maskConfig.thousandSeparator)("decimalMarker",null==o.model.maskConfig?null:o.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==o.model.maskConfig?null:o.model.maskConfig.hiddenInput)("showMaskTyped",null==o.model.maskConfig?null:o.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==o.model.maskConfig?null:o.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==o.model.maskConfig?null:o.model.maskConfig.shownMaskExpression)("showTemplate",null==o.model.maskConfig?null:o.model.maskConfig.showTemplate)("clearIfNotMatch",o.model.maskConfig.clearIfNotMatch)("validation",o.model.maskConfig.validation)("separatorLimit",o.model.maskConfig.separatorLimit)("allowNegativeNumbers",o.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",o.model.maskConfig.leadZeroDateTime)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function Bv(p,E){if(1&p&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.suffix,e.npT)}}function NC(p,E){1&p&&e.nrm(0,"option",13),2&p&&e.Y8G("value",E.$implicit)}function Uv(p,E){if(1&p&&(e.j41(0,"datalist",11),e.DNE(1,NC,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&p){const o=e.XpG();e.Y8G("id",o.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,o.model.list$))}}function MS(p,E){if(1&p&&e.nrm(0,"legend",4),2&p){const o=e.XpG();e.Y8G("innerHTML",o.model.legend,e.npT)}}function IS(p,E){if(1&p){const o=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG();e.Y8G("ngClass",e.l_i(5,qc,d.getClass("element","option"),d.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",o.disabled)("name",d.model.name)("value",o.value),e.R7$(),e.Y8G("innerHTML",o.label,e.npT)}}function jv(p,E){if(1&p&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&p){const o=E.$implicit;e.Y8G("disabled",o.disabled)("ngValue",o.value),e.R7$(),e.JRh(o.label)}}let jC=(()=>{class p extends Ps.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK),e.rXU(X.I5))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(o,d){if(1&o&&e.GBs(X.yB,7),2&o){let x;e.mGM(x=e.lsd())&&(d.ngbCalendar=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(ee){return d.onChange(ee)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("displayMonths",d.model.getAdditional("displayMonths",d.config.displayMonths))("firstDayOfWeek",d.model.getAdditional("firstDayOfWeek",d.config.firstDayOfWeek))("formControlName",d.model.id)("id",d.id)("maxDate",d.model.max)("minDate",d.model.min)("navigation",d.model.getAdditional("navigation",d.config.navigation))("ngClass",d.getClass("element","control"))("outsideDays",d.model.getAdditional("outsideDays",d.config.outsideDays))("showWeekNumbers",d.model.getAdditional("showWeekNumbers",d.config.showWeekNumbers))("weekdays",d.model.getAdditional("showWeekdays",d.config.weekdays))("startDate",d.model.focusedDate))},dependencies:[h.YU,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.yB],encapsulation:2,changeDetection:0}),p})(),kv=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&o&&(e.AVh("disabled",d.model.disabled),e.Y8G("formGroup",d.group),e.R7$(2),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("checked",d.model.checked)("formControlName",d.model.id)("id",d.id)("indeterminate",d.model.indeterminate)("name",d.model.name)("ngClass",d.getClass("element","control"))("required",d.model.required)("tabindex",d.model.tabIndex)("value",d.model.value),e.R7$(),e.Y8G("innerHTML",d.model.label,e.npT)("ngClass",e.l_i(16,qc,d.getClass("element","label"),d.getClass("grid","label"))))},dependencies:[h.YU,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD],encapsulation:2}),p})(),kC=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(o){return this.layoutService.getElementId(o)}onCheckboxChange(o,d){this.onChange(o),d.value=o.target.checked}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,LC,3,11,"label",2),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("formGroupName",d.model.id)("id",d.id)("ngClass",d.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",d.model.group))},dependencies:[h.YU,h.Sq,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD,Nn.$R,X.so,X.b7],encapsulation:2,changeDetection:0}),p})(),Vv=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,d){if(1&o&&(e.j41(0,"div",1),e.DNE(1,Nv,2,1,"div",2)(2,OS,1,23,"input",3)(3,Fv,1,41,"ng-template",null,0,e.C5r)(5,Bv,2,1,"div",4)(6,Uv,3,4,"datalist",5),e.k0s()),2&o){const x=e.sdS(4);e.AVh("input-group",d.model.prefix||d.model.suffix),e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("ngIf",d.model.prefix),e.R7$(),e.Y8G("ngIf","file"===d.model.inputType)("ngIfElse",x),e.R7$(3),e.Y8G("ngIf",d.model.suffix),e.R7$(),e.Y8G("ngIf",d.model.hasList)}},dependencies:[h.YU,h.Sq,h.bT,Nn.xH,Nn.y7,Nn.me,Nn.BC,Nn.cb,Nn.YS,Nn.xh,Nn.tU,Nn.R_,Nn.j4,Nn.JD,ic.I0,Ps.Vne,h.Jj],encapsulation:2}),p})(),Gv=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(ee){return d.onChange(ee)}),e.DNE(2,MS,1,1,"legend",2)(3,IS,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("formControlName",d.model.id)("id",d.id)("ngClass",d.getClass("element","control"))("tabindex",d.model.tabIndex),e.R7$(),e.Y8G("ngIf",d.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,d.model.options$)))},dependencies:[h.YU,h.Sq,h.bT,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.so,X.M0,X.px,h.Jj],encapsulation:2,changeDetection:0}),p})(),$v=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.DNE(2,jv,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("compareWith",d.model.compareWithFn)("formControlName",d.model.id)("id",d.id)("name",d.model.name)("ngClass",d.getClass("element","control"))("required",d.model.required)("tabindex",d.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,d.model.options$)))},dependencies:[h.YU,h.Sq,Nn.xH,Nn.y7,Nn.wz,Nn.BC,Nn.cb,Nn.YS,Nn.j4,Nn.JD,h.Jj],encapsulation:2}),p})(),Wv=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("cols",d.model.cols)("formControlName",d.model.id)("id",d.id)("maxlength",d.model.maxLength)("minlength",d.model.minLength)("name",d.model.name)("ngClass",d.getClass("element","control"))("placeholder",d.model.placeholder)("readonly",d.model.readOnly)("required",d.model.required)("rows",d.model.rows)("spellcheck",d.model.spellCheck)("tabindex",d.model.tabIndex)("wrap",d.model.wrap))},dependencies:[h.YU,Nn.me,Nn.BC,Nn.cb,Nn.YS,Nn.xh,Nn.tU,Nn.j4,Nn.JD],encapsulation:2}),p})(),$C=(()=>{class p extends Ps.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(o){return new(o||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK),e.rXU(X.Ng))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(o,d){if(1&o&&e.GBs(X.Pe,7),2&o){let x;e.mGM(x=e.lsd())&&(d.ngbTimePicker=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(o,d){1&o&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("id",d.id)("formControlName",d.model.id)("hourStep",d.model.getAdditional("hourStep",d.config.hourStep))("meridian",d.model.meridian)("minuteStep",d.model.getAdditional("minuteStep",d.config.minuteStep))("ngClass",d.getClass("element","control"))("seconds",d.model.showSeconds)("secondStep",d.model.getAdditional("secondStep",d.config.secondStep))("size",d.model.getAdditional("size",d.config.size))("spinners",d.model.getAdditional("spinners",d.config.spinners)))},dependencies:[h.YU,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.Pe],encapsulation:2,changeDetection:0}),p})();var Ud=n(56899),Sl=n(52717),HC=n(25488),zC=n(10460);n(8590);const aa=(p,E)=>[p,E];function Xu(p,E){1&p&&e.eu8(0)}function NS(p,E){if(1&p){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onBlur(x))})("dfChange",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onChange(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onFocus(x))})("ngbEvent",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onCustomEvent(x,null,!0))}),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG().$implicit,x=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("bindId",!1)("formGroup",x.group)("formModel",x.formModel)("context",d)("group",x.getControlOfGroup(d))("hidden",o.hidden)("layout",x.formLayout)("model",o)("templates",x.templates)("ngClass",e.l_i(12,aa,x.getClass("element","host",o),x.getClass("grid","host",o)))}}function FS(p,E){1&p&&e.eu8(0)}function bA(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(o);const x=e.sdS(1),ee=e.XpG();return e.Njj(ee.addInstructionMessageToLiveRegion(x))})("keydown.space",function(x){const ee=e.eBV(o),Pe=ee.index,Ae=ee.count,ht=e.sdS(1),Ut=e.XpG();return e.Njj(Ut.toggleKeyboardDragAndDrop(x,ht,Pe,Ae))})("keydown.enter",function(x){const ee=e.eBV(o),Pe=ee.index,Ae=ee.count,ht=e.sdS(1),Ut=e.XpG();return e.Njj(Ut.toggleKeyboardDragAndDrop(x,ht,Pe,Ae))})("keydown.tab",function(){const x=e.eBV(o),ee=x.index,Pe=x.count,Ae=e.sdS(1),ht=e.XpG();return e.Njj(ht.stopKeyboardDragAndDrop(Ae,ee,Pe))})("keydown.escape",function(){const x=e.eBV(o),ee=x.index,Pe=x.count,Ae=e.sdS(1),ht=e.XpG();return e.Njj(ht.cancelKeyboardDragAndDrop(Ae,ee,Pe))})("keydown.arrowUp",function(x){const ee=e.eBV(o),Pe=ee.index,Ae=ee.count,ht=e.XpG(),Ut=e.sdS(3);return e.Njj(ht.handleArrowPress(x,Ut,Ae,Pe,"up"))})("keydown.arrowDown",function(x){const ee=e.eBV(o),Pe=ee.index,Ae=ee.count,ht=e.XpG(),Ut=e.sdS(3);return e.Njj(ht.handleArrowPress(x,Ut,Ae,Pe,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,Xu,1,0,"ng-container",9)(5,NS,1,15,"ds-dynamic-form-control-container",10)(6,FS,1,0,"ng-container",9),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG();e.AVh("grey-background",d.model.isInlineGroupArray),e.Y8G("formGroupName",o.index)("ngClass",e.l_i(15,aa,d.getClass("element","group"),d.getClass("grid","group")))("cdkDragDisabled",d.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",d.dragDisabled),e.R7$(),e.AVh("drag-disable",d.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==d.startTemplate?null:d.startTemplate.templateRef)("ngTemplateOutletContext",o),e.R7$(),e.Y8G("ngForOf",o.group),e.R7$(),e.Y8G("ngTemplateOutlet",null==d.endTemplate?null:d.endTemplate.templateRef)("ngTemplateOutletContext",o)}}let DA=(()=>{class p extends Ps.mEL{constructor(o,d,x,ee){super(o,d),this.layoutService=o,this.validationService=d,this.liveRegionService=x,this.translateService=ee,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(o){if(o.previousIndex===o.currentIndex)return;this.model.moveGroup(o.previousIndex,o.currentIndex-o.previousIndex);const d=o.previousIndex,x=o.currentIndex;(0,V.a4)(this.model.groups[x])&&(0,V.a4)(this.control.controls[x])&&this.onCustomEvent({previousIndex:d,index:x,arrayModel:this.model,model:this.model.groups[x].group[0],control:this.control.controls[x]},"move")}update(o,d){const x=Object.assign({},o,{context:{index:d-1}});this.onChange(x)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(o){return o.hasOwnProperty("startingIndex")||(o.startingIndex=o.index),this.control.get([o.startingIndex])}toggleKeyboardDragAndDrop(o,d,x,ee){o.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(d,x,ee):(d.classList.add("sorting-with-keyboard"),this.elementBeingSorted=d,this.elementBeingSortedStartingIndex=x,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:d.querySelector("input")?.value,index:x+1,length:ee})))}stopKeyboardDragAndDrop(o,d,x){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:o.querySelector("input")?.value,index:d+1,length:x})))}handleArrowPress(o,d,x,ee,Pe){let Ae="up"===Pe?ee-1:ee+1;Ae<0?Ae=x-1:Ae>=x&&(Ae=0),this.elementBeingSorted?(this.model.moveGroup(ee,Ae-ee),(0,V.a4)(this.model.groups[Ae])&&(0,V.a4)(this.control.controls[Ae])&&(this.onCustomEvent({previousIndex:ee,newIndex:Ae,arrayModel:this.model,model:this.model.groups[Ae].group[0],control:this.control.controls[Ae]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Ae+1,length:x}))),o.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(d,Ae,Pe)})):(o.preventDefault(),this.setFocusToDropListElementOfIndex(d,Ae,Pe))}cancelKeyboardDragAndDrop(o,d,x){this.model.moveGroup(d,this.elementBeingSortedStartingIndex-d),(0,V.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,V.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:d,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(o,this.elementBeingSortedStartingIndex,x))}setFocusToDropListElementOfIndex(o,d,x){const ee=o.querySelectorAll("[cdkDragHandle]")[d];ee&&(ee.focus(),this.isElementInViewport(ee)||ee.scrollIntoView("up"===x))}isElementInViewport(o){const d=o.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(o){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:o.querySelector("input")?.value})))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK),e.rXU(HC.A),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(d,x){if(1&d){const ee=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Ae){return e.eBV(ee),e.Njj(x.moveSelection(Ae))}),e.DNE(5,bA,7,18,"div",5),e.k0s()(),e.bVm()}2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("id",x.id)("formArrayName",x.model.id)("ngClass",x.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,8,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Y8G("ngForOf",x.model.groups))},dependencies:()=>[Nn.X1,Nn.cb,Nn.j4,Nn.$R,Nn.v8,Sl.O7,h.YU,h.Sq,Sl.T1,Sl.Fb,zC._,h.T3,G.h,G.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return p})();var jp=n(37636);const BS=(p,E)=>[p,E];let Kv=(()=>{class p extends kv{constructor(o,d){super(o,d),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","custom-control-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(Pe){return x.onBlur(Pe)})("change",function(Pe){return x.onChange(Pe)})("focus",function(Pe){return x.onFocus(Pe)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&d&&(e.AVh("disabled",x.model.disabled),e.Y8G("formGroup",x.group)("ngClass",x.getClass("element","container")),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("checked",x.model.checked)("id",x.id)("formControlName",x.model.id)("indeterminate",x.model.indeterminate)("name",x.model.name)("ngClass",x.getClass("element","control"))("required",x.model.required)("tabindex",x.model.tabIndex)("value",x.model.value),e.R7$(),e.Y8G("for",x.bindId&&x.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,x.model.label),e.npT)("ngClass",e.l_i(20,BS,x.getClass("element","label"),x.getClass("grid","label"))))},dependencies:[h.YU,Nn.X1,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD,G.h,G.D9],styles:["div.custom-switch.custom-control-right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:after{right:-1.5rem;left:auto}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:before{right:-2.35rem;left:auto}"]})}}return p})();var US=n(33382),YC=n(87668);function jS(p,E){if(1&p&&e.nrm(0,"i",7),2&p){const o=e.XpG();e.HbH(o.model.toggleIcon)}}function kS(p,E){if(1&p&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&p){const o=e.XpG();e.R7$(),e.JRh(o.model.toggleLabel)}}let VS=(()=>{class p extends Ps.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK),e.rXU(X.I5))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(d,x){if(1&d&&e.GBs(X.yB,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.ngbDatePicker=ee.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Ae){return e.eBV(ee),e.Njj(x.onBlur(Ae))})("dateSelect",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("change",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("focus",function(Ae){return e.eBV(ee),e.Njj(x.onFocus(Ae))}),e.k0s(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){e.eBV(ee);const Ae=e.sdS(2);return e.Njj(Ae.toggle())}),e.DNE(5,jS,1,3,"i",5)(6,kS,2,1,"span",6),e.k0s()()()}2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("displayMonths",x.model.getAdditional("displayMonths",x.config.displayMonths))("id",x.id)("firstDayOfWeek",x.model.getAdditional("firstDayOfWeek",x.config.firstDayOfWeek))("formControlName",x.model.id)("maxDate",x.model.max)("minDate",x.model.min)("name",x.model.name)("navigation",x.model.getAdditional("navigation",x.config.navigation))("ngClass",x.getClass("element","control"))("outsideDays",x.model.getAdditional("outsideDays",x.config.outsideDays))("placeholder",x.model.placeholder)("placement",x.model.getAdditional("placement","bottom-left"))("weekdays",x.model.getAdditional("showWeekdays",x.config.showWeekdays))("showWeekNumbers",x.model.getAdditional("showWeekNumbers",x.config.showWeekNumbers))("startDate",x.model.focusedDate),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(3),e.AVh("disabled",x.model.disabled),e.Y8G("dsBtnDisabled",x.model.disabled),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.Y8G("ngIf",x.model.toggleIcon),e.R7$(),e.Y8G("ngIf",x.model.toggleLabel))},dependencies:[h.YU,X.IQ,X.cw,Nn.X1,Nn.me,Nn.BC,Nn.cb,Nn.j4,Nn.JD,h.bT,Nu.A],encapsulation:2})}}return p})();var Hv=n(6458);let XC=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&d&&(e.R7$(3),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.id)("name",x.model.name)("value",x.modelValuesString)("disabled",x.model.disabled)("type",x.model.inputType)("placeholder",e.bMT(4,9,x.model.placeholder))("readonly",x.model.readOnly))},dependencies:[G.h,G.D9],encapsulation:2})}}return p})();const GS=(p,E)=>[p,E];function Fm(p,E){if(1&p){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("dfChange",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))})("ngbEvent",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onCustomEvent(x,null,!0))}),e.k0s()}if(2&p){const o=E.$implicit,d=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("formGroup",d.group)("formModel",d.formModel)("group",d.control)("hasErrorMessaging",d.model.hasErrorMessages)("hidden",o.hidden)("layout",d.formLayout)("model",o)("templates",d.templates)("ngClass",e.l_i(11,GS,d.getClass("element","host",o),d.getClass("grid","host",o)))}}let zv=(()=>{class p extends Ps.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.DNE(3,Fm,1,14,"ds-dynamic-form-control-container",3),e.k0s(),e.bVm(),e.k0s()),2&d&&(e.R7$(),e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("formGroupName",x.model.id)("id",x.id)("ngClass",x.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",x.model.group))},dependencies:()=>[Nn.X1,Nn.cb,Nn.j4,Nn.$R,h.YU,h.Sq,zC._],encapsulation:2})}}return p})();var Bm=n(32089),kp=n(19506),JC=n(33126);function QC(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",8)(1,"input",9),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onFocus(x))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&p){const o=E.$implicit,d=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("formControlName",o.id)("name",d.model.name)("value",o.value),e.BMQ("aria-labelledby","label_"+d.model.id)("tabindex",o.index),e.R7$(),e.AVh("disabled",d.model.disabled),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.label)("innerHTML",o.label,e.npT)}}function Ju(p,E){if(1&p&&(e.j41(0,"div",6),e.DNE(1,QC,4,13,"div",7),e.k0s()),2&p){const o=E.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function $S(p,E){if(1&p&&(e.j41(0,"div",4),e.DNE(1,Ju,2,1,"div",5),e.k0s()),2&p){const o=e.XpG();e.Y8G("id",o.id)("formGroupName",o.model.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function ZC(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",14)(1,"input",15),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onFocus(x))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&p){const o=E.$implicit,d=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("name",d.model.id)("required",d.model.required)("value",o.index),e.R7$(),e.AVh("disabled",d.model.disabled),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.label)("innerHTML",o.label,e.npT)}}function Yv(p,E){if(1&p&&(e.j41(0,"div",6),e.DNE(1,ZC,4,11,"div",13),e.k0s()),2&p){const o=E.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function TA(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",12),e.bIt("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))}),e.DNE(1,Yv,2,1,"div",5),e.k0s()}if(2&p){const o=e.XpG();e.Y8G("id",o.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function WS(p,E){1&p&&(e.j41(0,"div",16),e.nrm(1,"ds-loading"),e.k0s())}let qC=(()=>{class p extends Ps.S6A{constructor(o,d,x,ee,Pe){super(ee,Pe),this.vocabularyService=o,this.cdr=d,this.formBuilderService=x,this.layoutService=ee,this.validationService=Pe,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new v.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(o=>o.unsubscribe())}onBlur(o){this.blur.emit(o)}onFocus(o){this.focus.emit(o)}onChange(o){const d=o.target;if(this.model.repeatable){const x=this.optionsList[d.tabIndex];if(d.checked)this.model.valueUpdates.next(x);else{const ee=[];this.model.value.filter(Pe=>Pe.value!==x.value).forEach(Pe=>ee.push(Pe)),this.model.valueUpdates.next(ee)}}else this.model.value=this.optionsList[d.value];this.change.emit(o)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const o=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&o.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new Bm.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(o)}}hasAtLeastOneVocabularyEntry(){return o=>o&&o.value&&Object.values(o.value).find(d=>!0===d)?null:this.model.errorMessages}setPaginationInfo(o){o.pageInfo.currentPage<o.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new Bm.Q,o.pageInfo,{currentPage:o.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(o){(0,V.a4)(o)||(o=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,Ls.ak)(),(0,ai.M)(d=>this.setPaginationInfo(d)),(0,Rt.T)(d=>d.page)).subscribe(d=>{this.optionsList=[...this.optionsList,...d];let x=this.items.length,ee=0,Pe=[];d.forEach(Ae=>{const ht=Ae.authority||Ae.value,Ut=(0,V.hj)(uc()(this.model.value,cn=>cn?.value===Ae.value)),_n={id:`${this.model.id}_${ht}`,label:Ae.display,value:Ut,index:this.optionsList.indexOf(Ae)};this.model.repeatable?this.formBuilderService.addFormGroupControl(o,this.model,new Ps.M7d(_n)):this.model.options.push({label:_n.label,value:Ae}),Pe.push(_n),ee++,this.items[x]=Pe,ee===this.model.groupLength&&(x++,ee=0,Pe=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(kp.g),e.rXU(e.gRc),e.rXU(JC.j),e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"change","id","ngClass"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"blur","focus","checked","id","name","required","value"],[1,"d-flex","justify-content-center"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.DNE(1,$S,2,5,"div",1)(2,TA,2,4,"div",2)(3,WS,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.Y8G("ngIf",x.model.repeatable),e.R7$(),e.Y8G("ngIf",!x.model.repeatable),e.R7$(),e.Y8G("ngIf",e.bMT(4,4,x.isLoading$)))},dependencies:[h.YU,h.bT,X.Ll,X.M0,h.Sq,Nn.X1,Nn.Zm,Nn.BC,Nn.cb,Nn.j4,Nn.JD,Nn.$R,h.Jj,G.h,Pd.v]})}}return p})();var KS=n(29658),eb=n(90558),Xv=n(86820),tb=n(96820),nb=n(99390),Jv=n(39729),Um=n(61280),sb=n(54875),Qv=n(37146);const HS=()=>({}),ib=p=>({entry:p});function rb(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",17)(1,"input",18),e.nI1(2,"translate"),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.secondInputValue,x)||(ee.secondInputValue=x),e.Njj(x)}),e.bIt("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("blur",function(x){e.eBV(o);const ee=e.XpG(),Pe=e.sdS(1);return ee.onBlur(x),x.stopPropagation(),e.Njj(Pe.close())})("focus",function(x){e.eBV(o);const ee=e.XpG(),Pe=e.sdS(1);return ee.onFocus(x),x.stopPropagation(),e.Njj(Pe.close())})("click",function(x){e.eBV(o),e.XpG();const ee=e.sdS(1);return x.stopPropagation(),e.Njj(ee.close())}),e.k0s()()}if(2&p){const o=e.XpG();e.R7$(),e.AVh("is-invalid",o.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,HS))("id",o.id)("name",o.model.name+"_2")("type",o.model.inputType),e.R50("ngModel",o.secondInputValue),e.Y8G("disabled",0===o.firstInputValue.length||o.isInputDisabled())("placeholder",e.bMT(2,12,o.model.secondPlaceholder))("readonly",o.model.readOnly),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}function ob(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",o.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function ab(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",o.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function zS(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!o.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function YS(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",20),e.bIt("click",function(x){e.eBV(o);const ee=e.XpG(),Pe=e.sdS(1);return x.stopPropagation(),ee.clearFields(),e.Njj(Pe.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function OA(p,E){if(1&p){const o=e.RV6();e.j41(0,"button",21),e.bIt("click",function(x){const ee=e.eBV(o).$implicit,Pe=e.XpG(),Ae=e.sdS(1);return x.stopPropagation(),Pe.onSelect(ee),e.Njj(Ae.close())}),e.eu8(1,22),e.k0s()}if(2&p){const o=E.$implicit;e.XpG();const d=e.sdS(23),x=e.sdS(25);e.FS9("title",o.display),e.R7$(),e.Y8G("ngTemplateOutlet",o.hasOtherInformation()?d:x)("ngTemplateOutletContext",e.eq3(3,ib,o))}}function lb(p,E){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function MA(p,E){if(1&p&&(e.j41(0,"li",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const o=E.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+o.key)," : ",o.value," ")}}function IA(p,E){if(1&p&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s(),e.DNE(3,MA,3,4,"li",26),e.nI1(4,"dsObjNgFor"),e.k0s()),2&p){const o=E.entry,d=e.XpG();e.BMQ("aria-labelledby","label_"+d.model.id),e.R7$(2),e.JRh(o.value),e.R7$(),e.Y8G("ngForOf",e.bMT(4,3,o.otherInformation))}}function SA(p,E){if(1&p&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s()()),2&p){const o=E.entry,d=e.XpG();e.BMQ("aria-labelledby","label_"+d.model.id),e.R7$(2),e.JRh(o.value)}}let XS=(()=>{class p extends sb.o{constructor(o,d,x,ee){super(o,x,ee),this.vocabularyService=o,this.cdr=d,this.layoutService=x,this.validationService=ee,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(Pe,Ae)=>1===Ae?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,V.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(o=>{(0,V.Im)(o)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,V.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,V.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof Qv._}isSearchDisabled(){return(0,V.Im)(this.firstInputValue)||this.editMode}onChange(o){if(o.preventDefault(),!this.model.vocabularyOptions.closed)if((0,V.hj)(this.getCurrentValue())){const d=new Um.e(this.getCurrentValue());this.editMode||this.updateModel(d)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(o){this.updateModel(o)}openChange(o){o||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,V.hj)(this.getCurrentValue())){const o=Object.assign(new gh.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(o)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,Ls.ak)(),(0,Mn.W)(()=>(0,Os.of)((0,tb.g)(new Bm.Q,[]))),(0,D.F)()).subscribe(o=>{this.optionsList=o.page,this.updatePageInfo(o.pageInfo.elementsPerPage,o.pageInfo.currentPage,o.pageInfo.totalElements,o.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(o,d){this.model.readOnly||(o.open(),this.search())}ngOnDestroy(){this.subs.filter(o=>(0,V.a4)(o)).forEach(o=>o.unsubscribe())}setCurrentValue(o,d=!1){d?this.getInitValueFromModel().subscribe(x=>this.setDisplayInputValue(x.display)):(0,V.a4)(o)&&(o instanceof Um.e||o instanceof gh.b)&&this.setDisplayInputValue(o.display)}setDisplayInputValue(o){if((0,V.a4)(o)){if(this.isLookupName()){const d=o.split(this.model.separator);this.firstInputValue=(d[0]||"").trim(),this.secondInputValue=(d[1]||"").trim()}else this.firstInputValue=o||"";this.cdr.detectChanges()}}getCurrentValue(){let o="";return this.isLookupName()?((0,V.hj)(this.firstInputValue)&&(o=this.firstInputValue),(0,V.hj)(this.secondInputValue)&&(o=(0,V.Im)(o)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):o=this.firstInputValue,o}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(o){this.group.markAsDirty(),this.dispatchUpdate(o),this.setCurrentValue(o),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(kp.g),e.rXU(e.gRc),e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:33,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","dsBtnDisabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",3,"click",4,"ngIf"],["class","dropdown-item lookup-item","type","button",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"col"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Ae){return e.eBV(ee),e.Njj(Ae.stopPropagation())})("openChange",function(Ae){return e.eBV(ee),e.Njj(x.openChange(Ae))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Ae){e.eBV(ee);const ht=e.sdS(1);return e.Njj(x.whenClickOnConfidenceNotAccepted(ht,Ae))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Ae){return e.eBV(ee),e.DH7(x.firstInputValue,Ae)||(x.firstInputValue=Ae),e.Njj(Ae)}),e.bIt("change",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("blur",function(Ae){e.eBV(ee);const ht=e.sdS(1);return x.onBlur(Ae),Ae.stopPropagation(),e.Njj(ht.close())})("focus",function(Ae){e.eBV(ee);const ht=e.sdS(1);return x.onFocus(Ae),Ae.stopPropagation(),e.Njj(ht.close())})("click",function(Ae){e.eBV(ee);const ht=e.sdS(1);return Ae.stopPropagation(),Ae.stopPropagation(),e.Njj(ht.close())}),e.k0s()(),e.DNE(7,rb,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Ae){return e.eBV(ee),e.sdS(1).open(),x.search(),e.Njj(Ae.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,ob,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,ab,4,7,"button",11)(16,zS,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(ee),e.Njj(x.onScroll())}),e.DNE(19,YS,3,3,"button",14)(20,OA,2,5,"button",15)(21,lb,4,3,"div",16),e.k0s()()(),e.DNE(22,IA,5,5,"ng-template",null,1,e.C5r)(24,SA,3,2,"ng-template",null,2,e.C5r)}2&d&&(e.R7$(4),e.Y8G("authorityValue",x.model.value),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.model.id)("name",x.model.name)("type",x.model.inputType),e.R50("ngModel",x.firstInputValue),e.Y8G("disabled",x.isInputDisabled())("placeholder",e.bMT(6,27,x.model.placeholder))("readonly",x.model.readOnly),e.BMQ("aria-labelledby","label_"+x.model.id)("autoComplete",x.model.autoComplete),e.R7$(2),e.Y8G("ngIf",x.isLookupName()),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,29,"form.search-help")),e.Y8G("dsBtnDisabled",x.model.readOnly||x.isSearchDisabled())("hidden",x.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,31,"form.search")," "),e.R7$(2),e.Y8G("ngIf",x.isInputDisabled()),e.R7$(2),e.Y8G("ngIf",!x.editMode),e.R7$(),e.Y8G("ngIf",x.editMode),e.R7$(),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.Y8G("ngIf",x.optionsList&&0===x.optionsList.length),e.R7$(),e.Y8G("ngForOf",x.optionsList),e.R7$(),e.Y8G("ngIf",x.loading))},dependencies:[G.h,G.D9,X.n8,X.md,X.zH,X.tg,X.E5,X.U0,Jv.K,Nn.YN,Nn.me,Nn.BC,Nn.vS,h.bT,h.YU,Xv.eO,Xv.DP,h.Sq,h.T3,nb.U,Nu.A],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})}}return p})();var PA=n(80902),RA=n(18302),AA=n(45500),wA=n(83278),jd=n.n(wA);const LA=(0,se.hZ)("shrinkInOut",[(0,se.wk)("in",(0,se.iF)({height:"100%",opacity:1})),(0,se.kY)("* => void",[(0,se.iF)({height:"!",opacity:1}),(0,se.i0)(200,(0,se.iF)({height:0,opacity:0}))]),(0,se.kY)("void => *",[(0,se.iF)({height:0,opacity:0}),(0,se.i0)(200,(0,se.iF)({height:"*",opacity:1}))])]);var cb=n(80597),JS=n(48376),wc=n.n(JS),jm=n(59519),QS=n.n(jm),ZS=n(98179);class db{constructor(E,o="display",d,x,ee){this.id=QS()(),this._item=E,this.fieldToDisplay=o,this.objToDisplay=d,this.setDisplayText(),this.editMode=ee||!1,this.icons=x||[]}set item(E){this._item=E}get item(){return this._item}isNestedItem(){return(0,V.hj)(this.item)&&jd()(this.item)&&(0,V.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,V.hj)(this.icons)}hasVisibleIcons(){if((0,V.hj)(this.icons)){let E=!1;for(const o of this.icons)if(this._item.hasOwnProperty(o.metadata)&&("string"==typeof this._item[o.metadata]&&(0,V.a4)(this._item[o.metadata])||this._item[o.metadata].hasValue())&&!this.hasPlaceholder(this._item[o.metadata])&&(o.visibleWhenAuthorityEmpty||this._item[o.metadata].confidence!==ZS.l.CF_UNSET)&&(0,V.hj)(o.style)){E=!0;break}return E}return!1}setEditMode(){this.editMode=!0}updateIcons(E){this.icons=E}updateItem(E){this._item=E,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let E=this._item;if(jd()(this._item)){const o=this.objToDisplay?this._item[this.objToDisplay]:this._item;E=jd()(o)&&o?o[this.fieldToDisplay]||o.value:o}this.display=E}hasPlaceholder(E){return"string"==typeof E?E===Ud.N:E.hasPlaceholder()}}class ub{constructor(E=[],o="display",d,x){this.displayField=o,this.displayObj=d,this.iconsConfig=x||[],Array.isArray(E)&&this.setInitialItems(E)}add(E){const o=this.getChipsIcons(E),d=new db(E,this.displayField,this.displayObj,o),x=wc()(this._items,{display:d.display.trim()});(-1===x||!Jd()(E,this.getChipByIndex(x).item))&&(this._items.push(d),this.chipsItems.next(this._items))}getChipById(E){const o=wc()(this._items,{id:E});return this.getChipByIndex(o)}getChipByIndex(E){return this._items.length>0&&this._items[E]?this._items[E]:null}getChips(){return this._items}getChipsItems(){const E=[];return this._items.forEach(o=>{E.push(o.item)}),E}hasItems(){return this._items.length>0}hasPlaceholder(E){return jd()(E)?E.value===Ud.N:E===Ud.N}remove(E){const o=wc()(this._items,{id:E.id});this._items.splice(o,1),this.chipsItems.next(this._items)}update(E,o){const d=this.getChipById(E),x=this.getChipsIcons(o);d.updateItem(o),d.updateIcons(x),d.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(E){const o=[];if("string"==typeof E||E instanceof Um.e||E instanceof gh.b)return o;const d=wc()(this.iconsConfig,{name:"default"}),x=-1!==d?this.iconsConfig[d]:void 0;let ee,Pe,Ae;return Object.keys(E).forEach(ht=>{Ae=E[ht],Pe=wc()(this.iconsConfig,{name:ht}),ee=-1!==Pe?this.iconsConfig[Pe]:x,(0,V.a4)(Ae)&&(0,V.hj)(ee)&&!this.hasPlaceholder(Ae)&&o.push({metadata:ht,visibleWhenAuthorityEmpty:this.displayObj!==ht,style:ee.style})}),o}setInitialItems(E){this._items=[],E.forEach(o=>{const d=this.getChipsIcons(o),x=new db(o,this.displayField,this.displayObj,d);this._items.push(x)}),this.chipsItems=new v.t(this._items)}}const qS=["*"],eP=p=>({index:p}),tP=p=>({"chip-selected disabled":p});function hb(p,E){if(1&p&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&p){const o=E.$implicit;e.R7$(),e.SpI(" ",o," ")}}function nP(p,E){if(1&p&&e.DNE(0,hb,2,1,"p",6),2&p){const o=e.XpG();e.Y8G("ngForOf",o.tipText)}}function sP(p,E){if(1&p&&(e.j41(0,"i",14),e.EFF(1,"\xa0"),e.k0s()),2&p){const o=e.XpG().$implicit;e.Y8G("authorityValue",o.item)}}function iP(p,E){if(1&p){const o=e.RV6();e.j41(0,"i",16,1),e.bIt("mouseover",function(){const x=e.eBV(o).$implicit,ee=e.sdS(1),Pe=e.XpG(2).index,Ae=e.XpG();return e.Njj(Ae.showTooltip(ee,Pe,x.metadata))})("mouseout",function(){e.eBV(o);const x=e.sdS(1);return e.Njj(x.close())}),e.k0s()}if(2&p){const o=E.$implicit,d=E.last,x=e.XpG(2).$implicit;e.XpG();const ee=e.sdS(3);e.HbH(o.style),e.AVh("mr-1",!d)("mr-2",d),e.Y8G("ngbTooltip",ee)("authorityValue",x.item[o.metadata]||x.item)("visibleWhenAuthorityEmpty",o.visibleWhenAuthorityEmpty)}}function rP(p,E){if(1&p&&(e.qex(0),e.DNE(1,iP,2,10,"i",15),e.bVm()),2&p){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",o.icons)}}function oP(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",8,1),e.bIt("cdkDropListDropped",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onDrop(x))})("mouseover",function(){const x=e.eBV(o).index,ee=e.sdS(1),Pe=e.XpG();return e.Njj(Pe.showTooltip(ee,x))})("mouseout",function(){e.eBV(o);const x=e.sdS(1);return e.Njj(x.close())}),e.j41(2,"a",9),e.bIt("cdkDragStarted",function(){const x=e.eBV(o).index,ee=e.XpG();return e.Njj(ee.onDrag(x))})("click",function(x){const ee=e.eBV(o).index,Pe=e.XpG();return e.Njj(Pe.chipsSelected(x,ee))}),e.j41(3,"span"),e.DNE(4,sP,2,1,"i",10)(5,rP,2,1,"ng-container",11),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"i",13),e.nI1(9,"translate"),e.bIt("click",function(x){const ee=e.eBV(o).index,Pe=e.XpG();return e.Njj(Pe.removeChips(x,ee))}),e.k0s()()()()}if(2&p){const o=E.$implicit,d=E.index,x=e.XpG(),ee=e.sdS(3);e.Y8G("cdkDropListData",e.eq3(9,eP,d))("ngbTooltip",ee),e.R7$(2),e.Y8G("ngClass",e.eq3(11,tP,x.editable&&o.editMode||x.dragged===d)),e.R7$(2),e.Y8G("ngIf",x.showIcons&&!o.isNestedItem()),e.R7$(),e.Y8G("ngIf",x.showIcons&&o.hasVisibleIcons()),e.R7$(2),e.JRh(o.display),e.R7$(),e.Y8G("title",e.bMT(9,7,"chips.remove"))}}let pb=(()=>{class p{constructor(o,d){this.cdr=o,this.translate=d,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new v.t(!1),this.dragged=-1}ngOnChanges(o){o.chips&&!o.chips.isFirstChange()&&(this.chips=o.chips.currentValue)}chipsSelected(o,d){o.preventDefault(),this.editable&&(this.chips.getChips().forEach((x,ee)=>{ee===d?x.setEditMode():x.unsetEditMode()}),this.selected.emit(d))}removeChips(o,d){o.preventDefault(),o.stopPropagation(),this.chips.getChipByIndex(d).editMode||this.chips.remove(this.chips.getChipByIndex(d))}onDrag(o){this.isDragging.next(!0),this.dragged=o}onDrop(o){const d=o.previousContainer.data.index,x=o.container.data.index,ee=o.currentIndex,Pe=x>d?-1:0;(0,Sl.HD)(this.chips.chipsItems.getValue(),d,x+ee+Pe),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(o,d,x){if(o.close(),this.isDragging.value)return;const ee=this.chips.getChipByIndex(d),Pe=[];!ee.editMode&&-1===this.dragged&&(x?jd()(ee.item[x])?(Pe.push(ee.item[x].display),ee.item[x].hasOtherInformation()&&Object.keys(ee.item[x].otherInformation).forEach(Ae=>{this.translate.get("form.other-information."+Ae).subscribe(ht=>{Pe.push(ht+": "+ee.item[x].otherInformation[Ae])})})):Pe.push(ee.item[x]):Pe.push(ee.display),this.cdr.detectChanges(),(!ee.hasIcons()||!ee.hasVisibleIcons()||x)&&(this.tipText=Pe,o.open()))}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(e.gRc),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:qS,decls:8,vars:6,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropListGroup","",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row"],["role","listitem","class","nav-item mr-2 mb-1 d-flex flex-row","triggers","manual","cdkDropList","","cdkDropListOrientation","horizontal",3,"cdkDropListData","ngbTooltip","cdkDropListDropped","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","text-left p-0 m-0",4,"ngFor","ngForOf"],[1,"text-left","p-0","m-0"],["role","listitem","triggers","manual","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav-item","mr-2","mb-1","d-flex","flex-row",3,"cdkDropListDropped","mouseover","mouseout","cdkDropListData","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ml-2",3,"click","title"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","mr-1","mr-2","authorityValue","visibleWhenAuthorityEmpty","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(d,x){1&d&&(e.NAR(),e.j41(0,"div",2)(1,"div",3),e.DNE(2,nP,1,1,"ng-template",null,0,e.C5r)(4,oP,10,13,"div",4),e.j41(5,"div",5),e.nI1(6,"async"),e.SdG(7),e.k0s()()()),2&d&&(e.Y8G("className","float-left w-100 "+x.wrapperClass),e.R7$(4),e.Y8G("ngForOf",x.chips.getChips()),e.R7$(),e.AVh("chips-sort-ignore",e.bMT(6,4,x.isDragging)))},dependencies:[X.n8,X.md,h.YU,h.Sq,h.Jj,Jv.K,h.bT,G.h,G.D9,Sl.T1,Sl.O7,Sl.RK],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);margin:0 .25rem}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return p})();var aP=n(13143),lP=n(54002);n(11166);const cP=["formRef"],dP=(p,E)=>({"border-top":p,"border border-danger":E});function uP(p,E){if(1&p){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",9),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.collapseForm())}),e.k0s()()}2&p&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function hP(p,E){if(1&p){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",10),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.expandForm())}),e.k0s()()}2&p&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function fb(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.save())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.delete())}),e.nrm(4,"i",18),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.clear())}),e.nrm(6,"i",19),e.k0s()()}if(2&p){const o=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!o.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty())}}function Zv(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",11)(1,"ds-form",12,0),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.DNE(3,fb,7,3,"div",13),e.nI1(4,"async"),e.nrm(5,"div",14),e.k0s()}if(2&p){const o=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",o.formId)("formModel",o.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,7,o.formCollapsed))}}function pP(p,E){1&p&&e.nrm(0,"ds-loading",20),2&p&&e.Y8G("showMessage",!1)}function fP(p,E){1&p&&(e.j41(0,"div"),e.nrm(1,"input",21),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function mb(p,E){if(1&p){const o=e.RV6();e.j41(0,"ds-chips",22),e.bIt("selected",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChipSelected(x))}),e.k0s()}if(2&p){const o=e.XpG();e.Y8G("chips",o.chips)("editable",!0)("showIcons",!0)}}let mP=(()=>{class p extends Ps.S6A{constructor(o,d,x,ee,Pe,Ae){super(Pe,Ae),this.vocabularyService=o,this.formBuilderService=d,this.formService=x,this.cdr=ee,this.layoutService=Pe,this.validationService=Ae,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Os.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const o={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Os.of)(!0)),this.model.valueChanges.subscribe(d=>{!(0,V.hj)(d)||1===d.length&&(0,cb.Zb)(d[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,o,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let o=!0;return this.formModel.forEach(d=>{d.group.forEach(ee=>{ee.name!==this.model.mandatoryField||(o=null==ee.value)})}),o}onBlur(o){this.blur.emit()}onChipSelected(o){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(o),this.formModel.forEach(d=>{d.group.forEach(ee=>{const Pe=this.selectedChipItem.item[ee.name]===Ud.N||this.selectedChipItem.item[ee.name].value===Ud.N?null:this.selectedChipItem.item[ee.name],Ae=this.formBuilderService.isInputModel(ee)&&(0,V.Pe)(Pe)&&"string"!=typeof Pe?Pe.value:Pe;ee.value=Ae})}),this.editMode=!0}onFocus(o){this.focus.emit(o)}collapseForm(){this.formCollapsed=(0,Os.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Os.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Os.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(o=>(0,V.a4)(o)).forEach(o=>o.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.add(o),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.update(this.selectedChipItem.id,o),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const o=Object.create({});return this.formModel.forEach(d=>{d.group.forEach(ee=>{o[ee.name]=ee.value||Ud.N})}),o}initChipsFromModelValue(){let o;this.model.isEmpty()?this.initChips([]):(o=(0,Os.of)(this.model.value),this.subs.push(o.pipe((0,zn.Z)(d=>{const x=[];return d.forEach(ee=>{const Pe=Object.keys(ee).map(Ae=>{let ht;if(jd()(ee[Ae])&&ee[Ae].hasAuthority()&&(0,V.hj)(ee[Ae].authority)){const Ut=Ae.replace(/\./g,"_"),_n=this.formBuilderService.findById(Ut,this.formModel);ht=this.vocabularyService.findEntryDetailById(ee[Ae].authority,_n.vocabularyOptions.name).pipe((0,Ls.ak)(),(0,Rt.T)(cn=>Object.assign(new Um.e,ee[Ae],{otherInformation:cn.otherInformation})))}else ht=(0,Os.of)(ee[Ae]);return ht.pipe((0,Rt.T)(Ut=>({[Ae]:Ut})))});x.push((0,Ds.z)(Pe))}),x}),(0,zn.Z)((d,x)=>d.pipe((0,Rt.T)(ee=>({index:x,value:ee.reduce((Pe,Ae)=>Object.assign({},Pe,Ae))})))),(0,fg.S)((d,x)=>(0===d.length?d.push(x.value):d.splice(x.index,0,x.value),d),[]),(0,Fn.p)(d=>this.model.value.length===d.length)).subscribe(d=>{this.model.value=d,this.initChips(d),this.cdr.markForCheck()})))}initChips(o){this.chips=new ub(o,"value",this.model.mandatoryField,R.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const d=this.chips.getChipsItems();Jd()(d,this.model.value)||(0,V.Im)(d)&&this.model.isEmpty()||(this.model.value=d,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(kp.g),e.rXU(JC.j),e.rXU(lP.u),e.rXU(e.gRc),e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(d,x){if(1&d&&e.GBs(cP,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.formRef=ee.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(d,x){1&d&&(e.DNE(0,uP,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,hP,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,Zv,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,pP,1,1,"ds-loading",5)(9,fP,3,3,"div",6)(10,mb,1,3,"ds-chips",7),e.k0s()()),2&d&&(e.Y8G("ngIf",!0!==e.bMT(1,7,x.formCollapsed)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,9,x.formCollapsed)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,dP,!x.showErrorMessages,x.showErrorMessages)),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(6,11,x.formCollapsed)),e.R7$(3),e.Y8G("ngIf",!x.chips),e.R7$(),e.Y8G("ngIf",x.chips&&!x.chips.hasItems()),e.R7$(),e.Y8G("ngIf",x.chips&&x.chips.hasItems()))},dependencies:()=>[h.bT,h.Jj,X.n8,X.md,G.h,G.D9,h.YU,Pd.v,pb,aP.s,Nu.A],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[LA]}})}}return p})();var gb=n(83766),NA=n(11220),gP=n(70152),_b=n(79335),vb=n(38512);const _P=["instance"];function yb(p,E){1&p&&e.EFF(0),2&p&&e.SpI(" ",E.result.display,"\n")}function vP(p,E){if(1&p){const o=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.currentValue,x)||(ee.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("keypress",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keydown",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keyup",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onKeyUp(x))}),e.k0s()}if(2&p){const o=e.XpG();e.AVh("pl-3",o.chips.hasItems()),e.Y8G("placeholder",o.model.placeholder)("readonly",o.model.readOnly),e.R50("ngModel",o.currentValue)}}function qv(p,E){1&p&&e.nrm(0,"i",9)}function e0(p,E){if(1&p){const o=e.RV6();e.j41(0,"div",6),e.DNE(1,qv,1,0,"i",7),e.j41(2,"input",8,1),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.currentValue,x)||(ee.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))})("change",function(x){return e.eBV(o),e.Njj(x.stopPropagation())})("input",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onInput(x))})("selectItem",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onSelectItem(x))})("keypress",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keydown",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keyup",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onKeyUp(x))}),e.k0s()()}if(2&p){const o=e.XpG(),d=e.sdS(1);e.R7$(),e.Y8G("ngIf",o.searching),e.R7$(),e.AVh("is-invalid",o.showErrorMessages)("pl-3",o.chips.hasItems()),e.R50("ngModel",o.currentValue),e.Y8G("id",o.id)("inputFormatter",o.formatter)("name",o.model.name)("ngbTypeahead",o.search)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("resultTemplate",d)("type",o.model.inputType),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}let Eb=(()=>{class p extends sb.o{constructor(o,d,x,ee){super(o,x,ee),this.vocabularyService=o,this.cdr=d,this.layoutService=x,this.validationService=ee,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new Nr.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=Pe=>Pe.display,this.search=Pe=>Pe.pipe((0,gP.B)(300),(0,D.F)(),(0,ai.M)(()=>this.changeSearchingStatus(!0)),(0,js.n)(Ae=>""===Ae||Ae.length<this.model.minChars?(0,Os.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Ae,!1,this.model.vocabularyOptions,new Bm.Q).pipe((0,Ls.ak)(),(0,ai.M)(()=>this.searchFailed=!1),(0,Mn.W)(()=>(this.searchFailed=!0,(0,Os.of)((0,tb.g)(new Bm.Q,[])))))),(0,Rt.T)(Ae=>Ae.page),(0,Rt.T)(Ae=>{if(Ae&&Ae.length>0&&(0,V.hj)(this.currentValue)){const ht=new gh.b;ht.display=this.currentValue,ht.value=this.currentValue,Ae.push(ht)}return Ae}),(0,ai.M)(()=>this.changeSearchingStatus(!1)),(0,_b.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name),this.chips=new ub(this.model.value,"display",null,R.c.submission.icons.metadata),this.chips.chipsItems.subscribe(o=>{const d=this.chips.getChipsItems();Jd()(d,this.model.value)||this.dispatchUpdate(d)})}changeSearchingStatus(o){this.searching=o,this.cdr.detectChanges()}onInput(o){o.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(o){(0,V.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(o)}onSelectItem(o){this.chips.add(o.item),this.updateModel(o),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(o){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(o){(13===o.keyCode||188===o.keyCode)&&(o.preventDefault(),this.addTagsToChips(),o.stopPropagation())}preventEventsPropagation(o){o.stopPropagation(),13===o.keyCode&&o.preventDefault()}setCurrentValue(o,d=!1){this.currentValue=o}addTagsToChips(){if((0,V.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let o=[];o=this.currentValue.split(",");const d=[];o.forEach(x=>{x.split(";").forEach(ee=>{d.push(ee)})}),d.forEach(x=>{(x=x.trim()).length>0&&this.chips.add(x)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(d){return new(d||p)(e.rXU(kp.g),e.rXU(e.gRc),e.rXU(Ps.fpj),e.rXU(Ps.STK))}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-tag"]],viewQuery:function(d,x){if(1&d&&e.GBs(_P,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.instance=ee.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(d,x){1&d&&(e.DNE(0,yb,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,vP,1,5,"input",3)(4,e0,4,16,"div",4),e.k0s()),2&d&&(e.R7$(2),e.Y8G("chips",x.chips)("editable",!1)("showIcons",x.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.Y8G("ngIf",!x.model.hasAuthority),e.R7$(),e.Y8G("ngIf",x.model.hasAuthority))},dependencies:[X.h_,X.$n,Nn.YN,Nn.me,Nn.BC,Nn.vS,h.bT,pb],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return p})();function Cb(p){const E=p;switch(p.type){case Ps.WlY:return DA;case Ps.eU4:return kv;case Ps.W25:return p instanceof KS.R?qC:kC;case Ps.fQD:return E.inline?jC:VS;case Ps.wnr:return zv;case Ps.FlA:return Vv;case Ps.KMD:return p instanceof eb.t?qC:Gv;case Ps.PTN:return $v;case Ps.TwG:return Wv;case Ps.CTm:return $C;case AA.m:return RA.d;case NA.W:return gb.s;case vb.v:return Eb;case Ud.T:return mP;case YC.s:return US.P;case PA.d:case Qv.V:return XS;case Hv.v:return XC;case jp.L:return Kv;default:return null}}var t0=n(14410);class n0 extends Cm.Qf{getResponseParser(){return t0.M}}let FA=(()=>{class p{constructor(o,d){this.requestService=o,this.halService=d}sendEvent(o,d){const x=this.requestService.generateRequestId();this.halService.getEndpoint(o).pipe((0,Rt.T)(ee=>new n0(x,ee,JSON.stringify(d))),(0,T.s)(1)).subscribe(ee=>this.requestService.send(ee))}trackViewEvent(o,d){this.sendEvent("/statistics/viewevents",{targetId:o.uuid,targetType:o.type,referrer:d})}trackSearchEvent(o,d,x,ee,Pe){const Ae={query:o.query,page:{size:d.size,totalElements:d.totalElements,totalPages:d.totalPages,number:d.number},sort:{by:x.by,order:x.order.toLowerCase()}};if((0,V.a4)(o.configuration)&&Object.assign(Ae,{configuration:o.configuration}),(0,V.hj)(o.dsoTypes)&&Object.assign(Ae,{dsoType:o.dsoTypes[0].toLowerCase()}),(0,V.a4)(o.scope)&&Object.assign(Ae,{scope:o.scope}),(0,V.hj)(ee)){const ht=[];for(let Ut=0,_n=ee.length;Ut<_n;Ut++){const cn=ee[Ut];ht.push({filter:cn.filter,operator:cn.operator,value:cn.value,label:cn.label})}Object.assign(Ae,{appliedFilters:ht})}(0,V.a4)(Pe)&&Object.assign(Ae,{clickedObject:Pe}),this.sendEvent("/statistics/searchevents",Ae)}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(Ma.B),e.KVO(Tl.Y))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),s0=(()=>{class p{constructor(o,d){this.angulartics2=o,this.statisticsService=d}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(o=>this.eventTrack(o))}eventTrack(o){"page_view"===o.action?this.statisticsService.trackViewEvent(o.properties.object,o.properties.referrer):"search"===o.action&&this.statisticsService.trackSearchEvent(o.properties.searchOptions,o.properties.page,o.properties.sort,o.properties.filters,o.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(mo.il),e.KVO(FA))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Vp;let km=class{static{Vp=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(E,o,d,x,ee,Pe,Ae,ht,Ut,_n){this.store=E,this.correlationIdService=o,this.appConfig=d,this.translate=x,this.localeService=ee,this.angulartics2DSpace=Pe,this.headTagService=Ae,this.breadcrumbsService=ht,this.themeService=Ut,this.menuService=_n}static providers(){if(!Vp.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:Vp,useClass:this},{provide:si.vQ,useFactory:E=>(this.resolveAppConfig(E),R.c),deps:[e.pJN]},{provide:e.hnV,useFactory:E=>E.init(),deps:[Vp],multi:!0},{provide:si.l9,useValue:wC},{provide:Ps.Fdw,useValue:Cb}]}static resolveAppConfig(E){}checkAuthenticationToken(){this.store.dispatch(new H.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!Jd()(R.c,this.appConfig))throw new Error("environment does not match app config!");R.c.debug&&console.info(R.c)}initI18n(){this.translate.addLangs(R.c.languages.filter(E=>!0===E.active).map(E=>E.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,y.Lt)(w.Gv),(0,D.F)(),(0,vs.I)(E=>!1===E))}};km=Vp=(0,je.Cg)([(0,je.Qj)(2,(0,e.y_5)(si.vQ)),(0,je.Sn)("design:paramtypes",[y.il,gg,Object,G.c$,uh.iH,s0,Av,yC.E,Y.Fs,Nc.$])],km);var bb=n(16358);class Db{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[Ac.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:bb.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.community={searchSection:{showSidebar:!0}},this.collection={searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1}}}let ed=(()=>{class p extends km{constructor(o,d,x,ee,Pe,Ae,ht,Ut,_n,cn,rs,ms,Bn,es,zs,Ni,ci,fr){super(o,d,ee,Pe,Ae,ht,_n,cn,Bn,es),this.store=o,this.correlationIdService=d,this.transferState=x,this.appConfig=ee,this.translate=Pe,this.localeService=Ae,this.angulartics2DSpace=ht,this.googleAnalyticsService=Ut,this.headTagService=_n,this.breadcrumbsService=cn,this.klaroService=rs,this.authService=ms,this.themeService=Bn,this.menuService=es,this.rootDataService=zs,this.router=Ni,this.requestService=ci,this.halService=fr}static resolveAppConfig(o){if(o.hasKey(si.Dr)){const d=o.get(si.Dr,new Db);(0,Z.$k)(R.c,d)}}init(){var o=this;return(0,m.A)(function*(){return yield o.loadAppState(),o.checkAuthenticationToken(),o.externalAuthCheck(),o.initCorrelationId(),o.checkEnvironment(),(p=>{const E=p.production?"Production":"Development",o=p.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c8.1.0","font-weight: bold;"),console.info(`Environment: %c${E}`,`color: ${o}; font-weight: bold;`),console.info("")})(R.c),o.initI18n(),o.initAngulartics(),o.initGoogleAnalytics(),o.initRouteListeners(),o.themeService.listenForThemeChanges(!0),o.trackAuthTokenExpiration(),o.initKlaro(),yield Pv(o.authenticationReady$()),!0})}loadAppState(){var o=this;return(0,m.A)(function*(){if(o.appConfig.ssr.transferState){const d=o.transferState.get(km.NGRX_STATE,null);return o.transferState.remove(km.NGRX_STATE),o.store.dispatch(new Zm(_a.REHYDRATE,d)),Pv(o.store.select(Ev.N).pipe((0,vs.I)(x=>(0,V.hj)(x)),(0,Rt.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initKlaro(){this.authenticationReady$().subscribe(()=>{this.klaroService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,Fn.p)(o=>o)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function gC(p,E){const o="object"==typeof E;return new Promise((d,x)=>{const ee=new mC.Ms({next:Pe=>{d(Pe),ee.unsubscribe()},error:x,complete:()=>{o?d(E.defaultValue):x(new Sv.G)}});p.subscribe(ee)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges()}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,Fn.p)(o=>o instanceof _.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(d){return new(d||p)(e.KVO(y.il),e.KVO(gg),e.KVO(e.pJN),e.KVO(si.vQ),e.KVO(G.c$),e.KVO(uh.iH),e.KVO(s0),e.KVO(wm),e.KVO(Av),e.KVO(yC.E),e.KVO(Fp.$),e.KVO(u.uR),e.KVO(Y.Fs),e.KVO(Nc.$),e.KVO(Rn.RootDataService),e.KVO(_.Ix),e.KVO(Ma.B),e.KVO(Tl.Y))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})();const Vm=(0,e.zw6)("req"),yP=(0,e.v7R)({providers:[(0,oe.$R)((0,oe.Sx)()),function Pl(){return(0,e.ngT)("NgEagerAnimations"),[...da]}(),(0,f.$x)(),(0,e.oKB)(mo.ok.forRoot(),y.md.forFeature("core",sS,Fc.wP),na.forFeature(k1),G.h.forRoot({loader:{provide:G.Wr,useFactory:function Gm(p,E){return new fC(p,E,"assets/i18n/",".json")},deps:[e.pJN,oe.Qq]},missingTranslationHandler:{provide:G.er,useClass:Iv.M},useDefaultLang:!0})),...ed.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:hC.S,useFactory:function Tb(p){return p.get(Vm,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(p,E)=>p.initXSRFToken(E),deps:[Op,oe.Qq],multi:!0},{provide:Op,useClass:sC},{provide:u.uR,useClass:u.uR},{provide:ka.O,useClass:Ng},{provide:Fp.$,useClass:Am},{provide:cg.E,useClass:cg.E},{provide:uh.iH,useClass:uh.iH},{provide:Pm.$,useClass:oS},{provide:wm,useClass:wm},{provide:mo.eB,useClass:mo.eB},{provide:w1.H,useClass:vv},{provide:eC.f,useClass:iS},{provide:tC,useFactory:function rS(){return window.location}},{provide:Sd,useClass:nC}]},R1),$m=()=>(0,f.B8)(z,yP),Ob=null!==document.querySelector("script#dspace-angular-state"),Mb=()=>(R.c.production&&(0,e.SmG)(),Ob?$m():fetch("assets/config.json").then(p=>p.json()).then(p=>((0,Z.$k)(R.c,p),$m())));"complete"!==document.readyState||Ob?document.addEventListener("DOMContentLoaded",Mb):Mb()},47435:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>y});var i=n(60177),t=n(41780),l=n(95960),e=n(78221),f=n(77632),m=n(621),h=n(54438);function _(v,D){if(1&v&&(h.j41(0,"div",2),h.nI1(1,"async"),h.j41(2,"nav",3),h.nI1(3,"async"),h.nI1(4,"translate"),h.nrm(5,"ds-navbar"),h.k0s()()),2&v){const O=h.XpG();h.Y8G("@slideMobileNav",h.bMT(1,3,O.isNavBarCollapsed$)?"collapsed":"expanded"),h.R7$(2),h.BMQ("aria-hidden",h.bMT(3,5,O.isNavBarCollapsed$))("aria-label",h.bMT(4,7,"nav.main.description"))}}let y=(()=>{class v extends e.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let O;return function(T){return(O||(O=h.xGo(v)))(T||v)}})()}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[h.Vt3,h.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper",4,"ngIf"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(M,T){1&M&&(h.j41(0,"div",0),h.nrm(1,"ds-header"),h.DNE(2,_,6,9,"div",1),h.nI1(3,"async"),h.k0s()),2&M&&(h.R7$(2),h.Y8G("ngIf",h.bMT(3,1,T.isMobile$)))},dependencies:[l.q,f.D,i.Jj,t.h,t.D9,i.bT],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[m.p8]}})}}return v})()},3018:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(28068),m=n(20968),h=n(34912),_=n(77632),y=n(3224),v=n(44002),D=n(34458),O=n(54438);function M(u,w){1&u&&(O.j41(0,"nav",9),O.nI1(1,"translate"),O.nrm(2,"ds-navbar"),O.k0s()),2&u&&O.BMQ("aria-label",O.bMT(1,1,"nav.main.description"))}function T(u,w){if(1&u){const C=O.RV6();O.j41(0,"div",10)(1,"button",11),O.nI1(2,"translate"),O.nI1(3,"async"),O.bIt("click",function(){O.eBV(C);const I=O.XpG();return O.Njj(I.toggleNavbar())}),O.nrm(4,"span",12),O.k0s()()}if(2&u){const C=O.XpG();O.R7$(),O.BMQ("aria-label",O.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==O.bMT(3,4,C.isNavBarCollapsed$))}}let R=(()=>{class u extends h.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=O.xGo(u)))(I||u)}})()}static{this.\u0275cmp=O.VBU({type:u,selectors:[["ds-themed-header"]],standalone:!0,features:[O.Vt3,O.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","flex-wrap","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3"],["routerLink","/home",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/dspace-logo.svg"],["class","navbar navbar-expand p-0 align-items-stretch align-self-stretch","id","desktop-navbar",4,"ngIf"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","justify-content-end","align-items-center","gapx-1","ml-auto"],["role","menubar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler","class","d-block d-lg-none ml-3",4,"ngIf"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ml-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(S,I){1&S&&(O.j41(0,"header",0)(1,"div",1)(2,"div",2),O.nI1(3,"async"),O.nI1(4,"async"),O.nI1(5,"translate"),O.j41(6,"a",3),O.nI1(7,"translate"),O.nrm(8,"img",4),O.nI1(9,"translate"),O.k0s(),O.DNE(10,M,3,3,"nav",5),O.nI1(11,"async"),O.k0s(),O.j41(12,"div",6),O.nrm(13,"ds-search-navbar"),O.j41(14,"div",7),O.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),O.k0s(),O.DNE(19,T,5,6,"div",8),O.nI1(20,"async"),O.k0s()()()),2&S&&(O.R7$(2),O.BMQ("role",O.bMT(3,6,I.isMobile$)?"navigation":"presentation")("aria-label",O.bMT(4,8,I.isMobile$)?O.bMT(5,10,"nav.main.description"):null),O.R7$(4),O.BMQ("aria-label",O.bMT(7,12,"home.title")),O.R7$(2),O.BMQ("alt",O.bMT(9,14,"menu.header.image.logo")),O.R7$(2),O.Y8G("ngIf",!0!==O.bMT(11,16,I.isMobile$)),O.R7$(9),O.Y8G("ngIf",O.bMT(20,18,I.isMobile$)))},dependencies:[l.zH,l.QE,f.n,t.Wk,y.X,m.Y,v.v,D.d,_.D,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return u})()},31264:(N,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>l});var i=n(52178),t=n(54438);let l=(()=>{class e extends i.HomeNewsComponent{static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(e)))(_||e)}})()}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[t.Vt3,t.aNF],decls:40,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"jumbotron","jumbotron-fluid"],[1,"d-flex","flex-wrap"],[1,"display-3"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/banner.webp 2000w, assets/dspace/images/banner-half.webp 1200w, assets/dspace/images/banner-tall.webp 768w"],["type","image/jpg","srcset","assets/dspace/images/banner.jpg 2000w, assets/dspace/images/banner-half.jpg 1200w, assets/dspace/images/banner-tall.jpg 768w"],["alt","",3,"src"],[1,"credits"],["href","https://www.pexels.com/@inspiredimages"]],template:function(h,_){1&h&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),t.EFF(6,"DSpace 8"),t.k0s(),t.j41(7,"p",5),t.EFF(8,"DSpace is the world leading open source repository platform that enables organisations to:"),t.k0s()()(),t.j41(9,"ul")(10,"li"),t.EFF(11,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),t.k0s(),t.j41(12,"li"),t.EFF(13,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),t.k0s(),t.j41(14,"li"),t.EFF(15,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI "),t.k0s()(),t.j41(16,"p"),t.EFF(17,"Join an international community of "),t.j41(18,"a",6),t.EFF(19,"leading institutions using DSpace"),t.k0s(),t.EFF(20,"."),t.k0s(),t.j41(21,"p"),t.EFF(22,"The test user accounts below have their password set to the name of this software in lowercase."),t.k0s(),t.j41(23,"ul")(24,"li"),t.EFF(25,"Demo Site Administrator = dspacedemo+admin@gmail.com"),t.k0s(),t.j41(26,"li"),t.EFF(27,"Demo Community Administrator = dspacedemo+commadmin@gmail.com"),t.k0s(),t.j41(28,"li"),t.EFF(29,"Demo Collection Administrator = dspacedemo+colladmin@gmail.com"),t.k0s(),t.j41(30,"li"),t.EFF(31,"Demo Submitter = dspacedemo+submit@gmail.com"),t.k0s()()()(),t.j41(32,"picture",7),t.nrm(33,"source",8)(34,"source",9)(35,"img",10),t.k0s(),t.j41(36,"small",11),t.EFF(37,"Photo by "),t.j41(38,"a",12),t.EFF(39,"@inspiredimages"),t.k0s()()()),2&h&&(t.R7$(35),t.Y8G("src","assets/dspace/images/banner.jpg",t.B4B))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;font-weight:600}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6);background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}']})}}return e})()},89768:(N,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>D});var i=n(60177),t=n(52149),l=n(41780),e=n(67454),f=n(621),m=n(28619),h=n(54438);function _(O,M){1&O&&(h.qex(0),h.nrm(1,"ds-user-menu",3),h.bVm()),2&O&&(h.R7$(),h.Y8G("inExpandableNavbar",!0))}function y(O,M){1&O&&h.eu8(0)}function v(O,M){if(1&O&&(h.qex(0),h.DNE(1,y,1,0,"ng-container",4),h.nI1(2,"async"),h.nI1(3,"async"),h.bVm()),2&O){let T,R;const u=M.$implicit,w=h.XpG();h.R7$(),h.Y8G("ngComponentOutlet",null==(T=h.bMT(2,2,w.sectionMap$).get(u.id))?null:T.component)("ngComponentOutletInjector",null==(R=h.bMT(3,4,w.sectionMap$).get(u.id))?null:R.injector)}}let D=(()=>{class O extends e.NavbarComponent{static{this.\u0275fac=(()=>{let T;return function(u){return(T||(T=h.xGo(O)))(u||O)}})()}static{this.\u0275cmp=h.VBU({type:O,selectors:[["ds-themed-navbar"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:11,consts:[[4,"ngIf"],["role","menubar","id","main-site-navigation",1,"navbar-nav","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,u){1&R&&(h.DNE(0,_,2,1,"ng-container",0),h.nI1(1,"async"),h.nI1(2,"async"),h.j41(3,"div",1),h.nI1(4,"async"),h.DNE(5,v,4,6,"ng-container",2),h.nI1(6,"async"),h.k0s()),2&R&&(h.Y8G("ngIf",h.bMT(1,3,u.isMobile$)&&h.bMT(2,5,u.isAuthenticated$)),h.R7$(3),h.Y8G("ngClass",h.bMT(4,7,u.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),h.R7$(2),h.Y8G("ngForOf",h.bMT(6,9,u.sections)))},dependencies:[t.zH,i.YU,i.bT,m.r,i.pM,i.OI,i.Jj,l.h],data:{animation:[f.p8]}})}}return O})()},77181:(N,b)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function h(xe){return Array.isArray(xe)?xe.map(function(ot){return ot&&ot.toString()||null}):xe&&xe.toString()||null}function _(xe){return Array.isArray(xe)?xe.map(function(ot){return parseFloat(ot)}):parseFloat(xe)}function y(xe){return Array.isArray(xe)?xe.map(function(ot){return!!ot}):!!xe}function v(xe){return Array.isArray(xe)?xe.map(function(ot){return ot&&ot.toString()||null}):xe&&xe.toString()||null}function D(xe){return Array.isArray(xe)?xe.map(function(ot){return parseInt(ot)}):parseInt(xe)}function O(xe){return Array.isArray(xe)?xe.map(function(ot){return!!ot}):!!xe}function M(xe){return xe===String?h:xe===Number?_:xe===Boolean?y:xe}function T(xe){return xe===String?v:xe===Number?D:xe===Boolean?O:xe}function R(xe,ot){for(var $e=0;$e<xe.length;$e++)if(xe[$e].keyName===ot)return xe[$e];return xe.push(new H(ot)),xe[xe.length-1]}function u(xe,ot){var $e=null,Fe=null;return"string"==typeof xe?Fe=xe:(xe&&"function"==typeof xe||"object"==typeof xe)&&($e=xe,Fe=ot),{key:Fe,type:$e}}b.inheritSerialization=function w(xe){return function(ot){for(var $e=t.get(xe)||[],Fe=t.get(ot)||[],st=0;st<$e.length;st++)H.hasKeyName(Fe,$e[st].keyName)||Fe.push(H.clone($e[st]));t.set(ot,Fe)}},b.deserialize=function S(xe,ot){if(xe&&ot){var $e=t.get(xe.constructor)||[];R($e,ot).deserializedKey=ot,t.set(xe.constructor,$e)}},b.autoserialize=function I(xe,ot){if(xe&&ot){var $e=t.get(xe.constructor)||[],Fe=R($e,ot);Fe.serializedKey=ot,Fe.deserializedKey=ot,t.set(xe.constructor,$e)}},b.serializeAs=function L(xe,ot){if(xe){var $e=u(xe,ot),Fe=$e.key,st=$e.type;return function(Ie,We){if(Ie&&We){var Dt=t.get(Ie.constructor)||[],kt=R(Dt,We);kt.serializedKey=Fe||We,kt.serializedType=st,st!==Date&&st!==RegExp&&!t.get(st)&&"function"==typeof st&&(kt.serializedType={Serialize:T(st)}),t.set(Ie.constructor,Dt)}}}},b.deserializeAs=function U(xe,ot){if(xe){var $e=u(xe,ot),Fe=$e.key,st=$e.type;return function(Ie,We){if(Ie&&We){var Dt=t.get(Ie.constructor)||[],kt=R(Dt,We);kt.deserializedKey=Fe||We,kt.deserializedType=st,!t.get(st)&&st!==Date&&st!==RegExp&&"function"==typeof st&&(kt.deserializedType={Deserialize:M(st)}),t.set(Ie.constructor,Dt)}}}},b.autoserializeAs=function j(xe,ot){if(xe){var $e=u(xe,ot),Fe=$e.key,st=$e.type;return function(Ie,We){if(Ie&&We){var Dt=t.get(Ie.constructor)||[],kt=R(Dt,We),ct=Fe||We;kt.deserializedKey=ct,kt.deserializedType=st,kt.serializedKey=ct,kt.serializedType=T(st),!t.get(st)&&st!==Date&&st!==RegExp&&"function"==typeof st&&(kt.deserializedType={Deserialize:M(st)}),t.set(Ie.constructor,Dt)}}}};var H=function(){function xe(ot){this.keyName=ot,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return xe.hasKeyName=function(ot,$e){for(var Fe=0;Fe<ot.length;Fe++)if(ot[Fe].keyName===$e)return!0;return!1},xe.clone=function(ot){var $e=new xe(ot.keyName);return $e.deserializedKey=ot.deserializedKey,$e.serializedKey=ot.serializedKey,$e.serializedType=ot.serializedType,$e.deserializedType=ot.deserializedType,$e.indexable=ot.indexable,$e},xe}();function q(xe,ot){return Array.isArray(xe)?Y(xe,ot):xe&&"object"==typeof xe?oe(xe,ot):("string"==typeof xe||xe instanceof Date)&&ot===Date.prototype.constructor?new Date(xe):"string"==typeof xe&&ot===RegExp?new RegExp(xe):xe}function Y(xe,ot){for(var $e=new Array(xe.length),Fe=0;Fe<xe.length;Fe++)$e[Fe]=q(xe[Fe],ot);return $e}function z(xe,ot,$e){$e&&"function"==typeof $e.OnDeserialized&&$e.OnDeserialized(xe,ot)}function Z(xe,ot){"function"==typeof xe.constructor.OnSerialized&&xe.constructor.OnSerialized(xe,ot)}function oe(xe,ot){var $e=t.get(ot);if(!$e){var Fe=null;return ot?z(Fe=new ot,xe,ot):Fe=JSON.parse(JSON.stringify(xe)),Fe}for(var st=new ot,Ie=0;Ie<$e.length;Ie++){var We=$e[Ie];if(We.deserializedKey){var Dt=We.deserializedKey;We.deserializedKey===We.keyName&&"function"==typeof ye&&(Dt=ye(We.keyName));var kt=xe[Dt];void 0!==kt&&(st[We.keyName]=null===kt?kt:We.deserializedType&&"function"==typeof We.deserializedType.Deserialize?We.deserializedType.Deserialize(kt):Array.isArray(kt)?Y(kt,We.deserializedType||null):("string"==typeof kt||kt instanceof Date)&&We.deserializedType===Date.prototype.constructor?new Date(kt):"string"==typeof kt&&We.deserializedType===RegExp?new RegExp(xe):kt&&"object"==typeof kt?We.indexable?se(kt,We.deserializedType):oe(kt,We.deserializedType):kt)}}return z(st,xe,ot),st}function se(xe,ot){var $e={};return Object.keys(xe).forEach(function(Fe){$e[Fe]=oe(xe[Fe],ot)}),$e}function te(xe,ot){for(var $e=new Array(xe.length),Fe=0;Fe<xe.length;Fe++)$e[Fe]=Ee(xe[Fe],ot);return $e}function le(xe,ot){var Fe,$e={};Fe=t.get(ot||xe.constructor);for(var st=0;st<Fe.length;st++){var Ie=Fe[st];if(Ie.serializedKey){var We=Ie.serializedKey;Ie.serializedKey===Ie.keyName&&"function"==typeof re&&(We=re(Ie.keyName));var Dt=xe[Ie.keyName];if(void 0!==Dt)if(Array.isArray(Dt))$e[We]=te(Dt,Ie.serializedType||null);else if(Ie.serializedType&&"function"==typeof Ie.serializedType.Serialize)$e[We]=Ie.serializedType.Serialize(Dt);else{var kt=Ee(Dt);void 0!==kt&&($e[We]=kt)}}}return Z(xe,$e),$e}function Ee(xe,ot){if(null==xe)return null;if(Array.isArray(xe))return te(xe,ot);if(ot&&t.has(ot))return le(xe,ot);if(xe.constructor&&t.has(xe.constructor))return le(xe);if(xe instanceof Date)return xe.toISOString();if(xe instanceof RegExp)return xe.toString();if(xe&&"object"==typeof xe||"function"==typeof xe){for(var $e=Object.keys(xe),Fe={},st=0;st<$e.length;st++)Fe[$e[st]]=Ee(xe[$e[st]]);return Z(xe,Fe),Fe}return xe}b.Deserialize=q,b.Serialize=Ee;var re=null,ye=null},74850:(N,b,n)=>{N.exports=n(77181)},43364:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){for(var l=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return l+e},N.exports=b.default},66139:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(i[l]=t[l]);return i},N.exports=b.default},88200:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function l(e){return(0,t.default)({},e)};var t=i(n(66139));N.exports=b.default},70733:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(12606));b.default=t.default,N.exports=b.default},18635:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultOptions=function i(){return n},b.setDefaultOptions=function t(l){n=l};var n={}},99073:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(3498)),l=i(n(79429)),e=i(n(29348)),f=i(n(86964)),m=i(n(10125)),h=i(n(43364)),_=i(n(33133));function D(R,u){var w=R>0?"-":"+",C=Math.abs(R),S=Math.floor(C/60),I=C%60;if(0===I)return w+String(S);var L=u||"";return w+String(S)+L+(0,h.default)(I,2)}function O(R,u){return R%60==0?(R>0?"-":"+")+(0,h.default)(Math.abs(R)/60,2):M(R,u)}function M(R,u){var w=u||"",C=R>0?"-":"+",S=Math.abs(R);return C+(0,h.default)(Math.floor(S/60),2)+w+(0,h.default)(S%60,2)}b.default={G:function(u,w,C){var S=u.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return C.era(S,{width:"abbreviated"});case"GGGGG":return C.era(S,{width:"narrow"});default:return C.era(S,{width:"wide"})}},y:function(u,w,C){if("yo"===w){var S=u.getUTCFullYear();return C.ordinalNumber(S>0?S:1-S,{unit:"year"})}return _.default.y(u,w)},Y:function(u,w,C,S){var I=(0,m.default)(u,S),L=I>0?I:1-I;return"YY"===w?(0,h.default)(L%100,2):"Yo"===w?C.ordinalNumber(L,{unit:"year"}):(0,h.default)(L,w.length)},R:function(u,w){var C=(0,e.default)(u);return(0,h.default)(C,w.length)},u:function(u,w){var C=u.getUTCFullYear();return(0,h.default)(C,w.length)},Q:function(u,w,C){var S=Math.ceil((u.getUTCMonth()+1)/3);switch(w){case"Q":return String(S);case"QQ":return(0,h.default)(S,2);case"Qo":return C.ordinalNumber(S,{unit:"quarter"});case"QQQ":return C.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return C.quarter(S,{width:"narrow",context:"formatting"});default:return C.quarter(S,{width:"wide",context:"formatting"})}},q:function(u,w,C){var S=Math.ceil((u.getUTCMonth()+1)/3);switch(w){case"q":return String(S);case"qq":return(0,h.default)(S,2);case"qo":return C.ordinalNumber(S,{unit:"quarter"});case"qqq":return C.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return C.quarter(S,{width:"narrow",context:"standalone"});default:return C.quarter(S,{width:"wide",context:"standalone"})}},M:function(u,w,C){var S=u.getUTCMonth();switch(w){case"M":case"MM":return _.default.M(u,w);case"Mo":return C.ordinalNumber(S+1,{unit:"month"});case"MMM":return C.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return C.month(S,{width:"narrow",context:"formatting"});default:return C.month(S,{width:"wide",context:"formatting"})}},L:function(u,w,C){var S=u.getUTCMonth();switch(w){case"L":return String(S+1);case"LL":return(0,h.default)(S+1,2);case"Lo":return C.ordinalNumber(S+1,{unit:"month"});case"LLL":return C.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return C.month(S,{width:"narrow",context:"standalone"});default:return C.month(S,{width:"wide",context:"standalone"})}},w:function(u,w,C,S){var I=(0,f.default)(u,S);return"wo"===w?C.ordinalNumber(I,{unit:"week"}):(0,h.default)(I,w.length)},I:function(u,w,C){var S=(0,l.default)(u);return"Io"===w?C.ordinalNumber(S,{unit:"week"}):(0,h.default)(S,w.length)},d:function(u,w,C){return"do"===w?C.ordinalNumber(u.getUTCDate(),{unit:"date"}):_.default.d(u,w)},D:function(u,w,C){var S=(0,t.default)(u);return"Do"===w?C.ordinalNumber(S,{unit:"dayOfYear"}):(0,h.default)(S,w.length)},E:function(u,w,C){var S=u.getUTCDay();switch(w){case"E":case"EE":case"EEE":return C.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return C.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return C.day(S,{width:"short",context:"formatting"});default:return C.day(S,{width:"wide",context:"formatting"})}},e:function(u,w,C,S){var I=u.getUTCDay(),L=(I-S.weekStartsOn+8)%7||7;switch(w){case"e":return String(L);case"ee":return(0,h.default)(L,2);case"eo":return C.ordinalNumber(L,{unit:"day"});case"eee":return C.day(I,{width:"abbreviated",context:"formatting"});case"eeeee":return C.day(I,{width:"narrow",context:"formatting"});case"eeeeee":return C.day(I,{width:"short",context:"formatting"});default:return C.day(I,{width:"wide",context:"formatting"})}},c:function(u,w,C,S){var I=u.getUTCDay(),L=(I-S.weekStartsOn+8)%7||7;switch(w){case"c":return String(L);case"cc":return(0,h.default)(L,w.length);case"co":return C.ordinalNumber(L,{unit:"day"});case"ccc":return C.day(I,{width:"abbreviated",context:"standalone"});case"ccccc":return C.day(I,{width:"narrow",context:"standalone"});case"cccccc":return C.day(I,{width:"short",context:"standalone"});default:return C.day(I,{width:"wide",context:"standalone"})}},i:function(u,w,C){var S=u.getUTCDay(),I=0===S?7:S;switch(w){case"i":return String(I);case"ii":return(0,h.default)(I,w.length);case"io":return C.ordinalNumber(I,{unit:"day"});case"iii":return C.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return C.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return C.day(S,{width:"short",context:"formatting"});default:return C.day(S,{width:"wide",context:"formatting"})}},a:function(u,w,C){var I=u.getUTCHours()/12>=1?"pm":"am";switch(w){case"a":case"aa":return C.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"aaa":return C.dayPeriod(I,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return C.dayPeriod(I,{width:"narrow",context:"formatting"});default:return C.dayPeriod(I,{width:"wide",context:"formatting"})}},b:function(u,w,C){var I,S=u.getUTCHours();switch(I=12===S?"noon":0===S?"midnight":S/12>=1?"pm":"am",w){case"b":case"bb":return C.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"bbb":return C.dayPeriod(I,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return C.dayPeriod(I,{width:"narrow",context:"formatting"});default:return C.dayPeriod(I,{width:"wide",context:"formatting"})}},B:function(u,w,C){var I,S=u.getUTCHours();switch(I=S>=17?"evening":S>=12?"afternoon":S>=4?"morning":"night",w){case"B":case"BB":case"BBB":return C.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"BBBBB":return C.dayPeriod(I,{width:"narrow",context:"formatting"});default:return C.dayPeriod(I,{width:"wide",context:"formatting"})}},h:function(u,w,C){if("ho"===w){var S=u.getUTCHours()%12;return 0===S&&(S=12),C.ordinalNumber(S,{unit:"hour"})}return _.default.h(u,w)},H:function(u,w,C){return"Ho"===w?C.ordinalNumber(u.getUTCHours(),{unit:"hour"}):_.default.H(u,w)},K:function(u,w,C){var S=u.getUTCHours()%12;return"Ko"===w?C.ordinalNumber(S,{unit:"hour"}):(0,h.default)(S,w.length)},k:function(u,w,C){var S=u.getUTCHours();return 0===S&&(S=24),"ko"===w?C.ordinalNumber(S,{unit:"hour"}):(0,h.default)(S,w.length)},m:function(u,w,C){return"mo"===w?C.ordinalNumber(u.getUTCMinutes(),{unit:"minute"}):_.default.m(u,w)},s:function(u,w,C){return"so"===w?C.ordinalNumber(u.getUTCSeconds(),{unit:"second"}):_.default.s(u,w)},S:function(u,w){return _.default.S(u,w)},X:function(u,w,C,S){var L=(S._originalDate||u).getTimezoneOffset();if(0===L)return"Z";switch(w){case"X":return O(L);case"XXXX":case"XX":return M(L);default:return M(L,":")}},x:function(u,w,C,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"x":return O(L);case"xxxx":case"xx":return M(L);default:return M(L,":")}},O:function(u,w,C,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+D(L,":");default:return"GMT"+M(L,":")}},z:function(u,w,C,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+D(L,":");default:return"GMT"+M(L,":")}},t:function(u,w,C,S){var L=Math.floor((S._originalDate||u).getTime()/1e3);return(0,h.default)(L,w.length)},T:function(u,w,C,S){var L=(S._originalDate||u).getTime();return(0,h.default)(L,w.length)}},N.exports=b.default},33133:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43364));b.default={y:function(m,h){var _=m.getUTCFullYear(),y=_>0?_:1-_;return(0,t.default)("yy"===h?y%100:y,h.length)},M:function(m,h){var _=m.getUTCMonth();return"M"===h?String(_+1):(0,t.default)(_+1,2)},d:function(m,h){return(0,t.default)(m.getUTCDate(),h.length)},a:function(m,h){var _=m.getUTCHours()/12>=1?"pm":"am";switch(h){case"a":case"aa":return _.toUpperCase();case"aaa":return _;case"aaaaa":return _[0];default:return"am"===_?"a.m.":"p.m."}},h:function(m,h){return(0,t.default)(m.getUTCHours()%12||12,h.length)},H:function(m,h){return(0,t.default)(m.getUTCHours(),h.length)},m:function(m,h){return(0,t.default)(m.getUTCMinutes(),h.length)},s:function(m,h){return(0,t.default)(m.getUTCSeconds(),h.length)},S:function(m,h){var _=h.length,y=m.getUTCMilliseconds(),v=Math.floor(y*Math.pow(10,_-3));return(0,t.default)(v,h.length)}},N.exports=b.default},26035:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=function(m,h){switch(m){case"P":return h.date({width:"short"});case"PP":return h.date({width:"medium"});case"PPP":return h.date({width:"long"});default:return h.date({width:"full"})}},i=function(m,h){switch(m){case"p":return h.time({width:"short"});case"pp":return h.time({width:"medium"});case"ppp":return h.time({width:"long"});default:return h.time({width:"full"})}};b.default={p:i,P:function(m,h){var D,_=m.match(/(P+)(p+)?/)||[],y=_[1],v=_[2];if(!v)return n(m,h);switch(y){case"P":D=h.dateTime({width:"short"});break;case"PP":D=h.dateTime({width:"medium"});break;case"PPP":D=h.dateTime({width:"long"});break;default:D=h.dateTime({width:"full"})}return D.replace("{{date}}",n(y,h)).replace("{{time}}",i(v,h))}},N.exports=b.default},20059:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},N.exports=b.default},3498:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,l.default)(1,arguments);var h=(0,t.default)(m),_=h.getTime();h.setUTCMonth(0,1),h.setUTCHours(0,0,0,0);var y=h.getTime();return Math.floor((_-y)/e)+1};var t=i(n(75624)),l=i(n(5238)),e=864e5;N.exports=b.default},79429:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(_){(0,f.default)(1,arguments);var y=(0,t.default)(_),v=(0,l.default)(y).getTime()-(0,e.default)(y).getTime();return Math.round(v/m)+1};var t=i(n(75624)),l=i(n(68224)),e=i(n(96145)),f=i(n(5238)),m=6048e5;N.exports=b.default},29348:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,l.default)(1,arguments);var h=(0,t.default)(m),_=h.getUTCFullYear(),y=new Date(0);y.setUTCFullYear(_+1,0,4),y.setUTCHours(0,0,0,0);var v=(0,e.default)(y),D=new Date(0);D.setUTCFullYear(_,0,4),D.setUTCHours(0,0,0,0);var O=(0,e.default)(D);return h.getTime()>=v.getTime()?_+1:h.getTime()>=O.getTime()?_:_-1};var t=i(n(75624)),l=i(n(5238)),e=i(n(68224));N.exports=b.default},86964:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(_,y){(0,f.default)(1,arguments);var v=(0,t.default)(_),D=(0,l.default)(v,y).getTime()-(0,e.default)(v,y).getTime();return Math.round(D/m)+1};var t=i(n(75624)),l=i(n(3595)),e=i(n(12086)),f=i(n(5238)),m=6048e5;N.exports=b.default},10125:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(_,y){var v,D,O,M,T,R,u,w;(0,l.default)(1,arguments);var C=(0,t.default)(_),S=C.getUTCFullYear(),I=(0,m.getDefaultOptions)(),L=(0,f.default)(null!==(v=null!==(D=null!==(O=null!==(M=y?.firstWeekContainsDate)&&void 0!==M?M:null==y||null===(T=y.locale)||void 0===T||null===(R=T.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:I.firstWeekContainsDate)&&void 0!==D?D:null===(u=I.locale)||void 0===u||null===(w=u.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==v?v:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=new Date(0);B.setUTCFullYear(S+1,0,L),B.setUTCHours(0,0,0,0);var U=(0,e.default)(B,y),W=new Date(0);W.setUTCFullYear(S,0,L),W.setUTCHours(0,0,0,0);var j=(0,e.default)(W,y);return C.getTime()>=U.getTime()?S+1:C.getTime()>=j.getTime()?S:S-1};var t=i(n(75624)),l=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);N.exports=b.default},79850:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isProtectedDayOfYearToken=function t(f){return-1!==n.indexOf(f)},b.isProtectedWeekYearToken=function l(f){return-1!==i.indexOf(f)},b.throwProtectedError=function e(f,m,h){if("YYYY"===f)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(h,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===f)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(h,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===f)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(h,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===f)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(h,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},N.exports=b.default},68224:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){(0,l.default)(1,arguments);var h=(0,t.default)(f),_=h.getUTCDay(),y=(_<1?7:0)+_-1;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h};var t=i(n(75624)),l=i(n(5238));N.exports=b.default},96145:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){(0,e.default)(1,arguments);var h=(0,t.default)(m),_=new Date(0);return _.setUTCFullYear(h,0,4),_.setUTCHours(0,0,0,0),(0,l.default)(_)};var t=i(n(29348)),l=i(n(68224)),e=i(n(5238));N.exports=b.default},3595:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(h,_){var y,v,D,O,M,T,R,u;(0,l.default)(1,arguments);var w=(0,f.getDefaultOptions)(),C=(0,e.default)(null!==(y=null!==(v=null!==(D=null!==(O=_?.weekStartsOn)&&void 0!==O?O:null==_||null===(M=_.locale)||void 0===M||null===(T=M.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==D?D:w.weekStartsOn)&&void 0!==v?v:null===(R=w.locale)||void 0===R||null===(u=R.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==y?y:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,t.default)(h),I=S.getUTCDay(),L=(I<C?7:0)+I-C;return S.setUTCDate(S.getUTCDate()-L),S.setUTCHours(0,0,0,0),S};var t=i(n(75624)),l=i(n(5238)),e=i(n(25167)),f=n(18635);N.exports=b.default},12086:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(_,y){var v,D,O,M,T,R,u,w;(0,l.default)(1,arguments);var C=(0,m.getDefaultOptions)(),S=(0,f.default)(null!==(v=null!==(D=null!==(O=null!==(M=y?.firstWeekContainsDate)&&void 0!==M?M:null==y||null===(T=y.locale)||void 0===T||null===(R=T.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:C.firstWeekContainsDate)&&void 0!==D?D:null===(u=C.locale)||void 0===u||null===(w=u.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==v?v:1),I=(0,t.default)(_,y),L=new Date(0);return L.setUTCFullYear(I,0,S),L.setUTCHours(0,0,0,0),(0,e.default)(L,y)};var t=i(n(10125)),l=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);N.exports=b.default},25167:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},N.exports=b.default},82678:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,h){(0,e.default)(2,arguments);var _=(0,l.default)(m).getTime(),y=(0,t.default)(h);return new Date(_+y)};var t=i(n(25167)),l=i(n(75624)),e=i(n(5238));N.exports=b.default},24150:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function C(I,L,B){var U,W,j,G,H,V,X,J,q,Q,Y,z,Z,oe,se,de,te,le;(0,v.default)(2,arguments);var Ee=String(L),be=(0,D.getDefaultOptions)(),pe=null!==(U=null!==(W=B?.locale)&&void 0!==W?W:be.locale)&&void 0!==U?U:O.default,re=(0,y.default)(null!==(j=null!==(G=null!==(H=null!==(V=B?.firstWeekContainsDate)&&void 0!==V?V:null==B||null===(X=B.locale)||void 0===X||null===(J=X.options)||void 0===J?void 0:J.firstWeekContainsDate)&&void 0!==H?H:be.firstWeekContainsDate)&&void 0!==G?G:null===(q=be.locale)||void 0===q||null===(Q=q.options)||void 0===Q?void 0:Q.firstWeekContainsDate)&&void 0!==j?j:1);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ye=(0,y.default)(null!==(Y=null!==(z=null!==(Z=null!==(oe=B?.weekStartsOn)&&void 0!==oe?oe:null==B||null===(se=B.locale)||void 0===se||null===(de=se.options)||void 0===de?void 0:de.weekStartsOn)&&void 0!==Z?Z:be.weekStartsOn)&&void 0!==z?z:null===(te=be.locale)||void 0===te||null===(le=te.options)||void 0===le?void 0:le.weekStartsOn)&&void 0!==Y?Y:0);if(!(ye>=0&&ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!pe.localize)throw new RangeError("locale must contain localize property");if(!pe.formatLong)throw new RangeError("locale must contain formatLong property");var De=(0,e.default)(I);if(!(0,t.default)(De))throw new RangeError("Invalid time value");var nt=(0,h.default)(De),mt=(0,l.default)(De,nt),xe={firstWeekContainsDate:re,weekStartsOn:ye,locale:pe,_originalDate:De};return Ee.match(T).map(function($e){var Fe=$e[0];return"p"===Fe||"P"===Fe?(0,m.default[Fe])($e,pe.formatLong):$e}).join("").match(M).map(function($e){if("''"===$e)return"'";var Fe=$e[0];if("'"===Fe)return function S(I){var L=I.match(R);return L?L[1].replace(u,"'"):I}($e);var st=f.default[Fe];if(st)return!(null!=B&&B.useAdditionalWeekYearTokens)&&(0,_.isProtectedWeekYearToken)($e)&&(0,_.throwProtectedError)($e,L,String(I)),!(null!=B&&B.useAdditionalDayOfYearTokens)&&(0,_.isProtectedDayOfYearToken)($e)&&(0,_.throwProtectedError)($e,L,String(I)),st(mt,$e,pe.localize,xe);if(Fe.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Fe+"`");return $e}).join("")};var t=i(n(79649)),l=i(n(38695)),e=i(n(75624)),f=i(n(99073)),m=i(n(26035)),h=i(n(20059)),_=n(79850),y=i(n(25167)),v=i(n(5238)),D=n(18635),O=i(n(70733)),M=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,u=/''/g,w=/[a-zA-Z]/;N.exports=b.default},24321:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){return(0,l.default)(1,arguments),f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===Object.prototype.toString.call(f)};var t=i(n(73738)),l=i(n(5238));N.exports=b.default},79649:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var h=(0,l.default)(m);return!isNaN(Number(h))};var t=i(n(24321)),l=i(n(75624)),e=i(n(5238));N.exports=b.default},93126:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.width?String(t.width):i.defaultWidth;return i.formats[l]||i.formats[i.defaultWidth]}},N.exports=b.default},33628:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t,l){var f;if("formatting"===(null!=l&&l.context?String(l.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,h=null!=l&&l.width?String(l.width):m;f=i.formattingValues[h]||i.formattingValues[m]}else{var _=i.defaultWidth,y=null!=l&&l.width?String(l.width):i.defaultWidth;f=i.values[y]||i.values[_]}return f[i.argumentCallback?i.argumentCallback(t):t]}},N.exports=b.default},43636:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(l){return function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=f.width,_=e.match(m&&l.matchPatterns[m]||l.matchPatterns[l.defaultMatchWidth]);if(!_)return null;var O,y=_[0],v=m&&l.parsePatterns[m]||l.parsePatterns[l.defaultParseWidth],D=Array.isArray(v)?function t(l,e){for(var f=0;f<l.length;f++)if(e(l[f]))return f}(v,function(T){return T.test(y)}):function i(l,e){for(var f in l)if(l.hasOwnProperty(f)&&e(l[f]))return f}(v,function(T){return T.test(y)});return O=l.valueCallback?l.valueCallback(D):D,{value:O=f.valueCallback?f.valueCallback(O):O,rest:e.slice(y.length)}}},N.exports=b.default},59354:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var f=e[0],m=t.match(i.parsePattern);if(!m)return null;var h=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:h=l.valueCallback?l.valueCallback(h):h,rest:t.slice(f.length)}}},N.exports=b.default},93204:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};b.default=function(e,f,m){var h,_=n[e];return h="string"==typeof _?_:1===f?_.one:_.other.replace("{{count}}",f.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+h:h+" ago":h},N.exports=b.default},64837:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};b.default=m,N.exports=b.default},77767:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};b.default=function(e,f,m,h){return n[e]},N.exports=b.default},29063:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(33628)),v={ordinalNumber:function(M,T){var R=Number(M),u=R%100;if(u>20||u<10)switch(u%10){case 1:return R+"st";case 2:return R+"nd";case 3:return R+"rd"}return R+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(M){return M-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};b.default=v,N.exports=b.default},95401:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43636)),u={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(S){return parseInt(S,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};b.default=u,N.exports=b.default},12606:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93204)),l=i(n(64837)),e=i(n(77767)),f=i(n(29063)),m=i(n(95401));b.default={code:"en-US",formatDistance:t.default,formatLong:l.default,formatRelative:e.default,localize:f.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},N.exports=b.default},38695:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,h){(0,l.default)(2,arguments);var _=(0,e.default)(h);return(0,t.default)(m,-_)};var t=i(n(82678)),l=i(n(5238)),e=i(n(25167));N.exports=b.default},75624:(N,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f){(0,l.default)(1,arguments);var m=Object.prototype.toString.call(f);return f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===m?new Date(f.getTime()):"number"==typeof f||"[object Number]"===m?new Date(f):(("string"==typeof f||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),l=i(n(5238));N.exports=b.default},58813:N=>{"use strict";var b=function(w){return function n(u){return!!u&&"object"==typeof u}(w)&&!function i(u){var w=Object.prototype.toString.call(u);return"[object RegExp]"===w||"[object Date]"===w||function e(u){return u.$$typeof===l}(u)}(w)},l="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(u,w){return!1!==w.clone&&w.isMergeableObject(u)?T(function f(u){return Array.isArray(u)?[]:{}}(u),u,w):u}function h(u,w,C){return u.concat(w).map(function(S){return m(S,C)})}function v(u){return Object.keys(u).concat(function y(u){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u).filter(function(w){return Object.propertyIsEnumerable.call(u,w)}):[]}(u))}function D(u,w){try{return w in u}catch{return!1}}function T(u,w,C){(C=C||{}).arrayMerge=C.arrayMerge||h,C.isMergeableObject=C.isMergeableObject||b,C.cloneUnlessOtherwiseSpecified=m;var S=Array.isArray(w);return S===Array.isArray(u)?S?C.arrayMerge(u,w,C):function M(u,w,C){var S={};return C.isMergeableObject(u)&&v(u).forEach(function(I){S[I]=m(u[I],C)}),v(w).forEach(function(I){(function O(u,w){return D(u,w)&&!(Object.hasOwnProperty.call(u,w)&&Object.propertyIsEnumerable.call(u,w))})(u,I)||(S[I]=D(u,I)&&C.isMergeableObject(w[I])?function _(u,w){if(!w.customMerge)return T;var C=w.customMerge(u);return"function"==typeof C?C:T}(I,C)(u[I],w[I],C):m(w[I],C))}),S}(u,w,C):m(w,C)}T.all=function(w,C){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(S,I){return T(S,I,C)},{})},N.exports=T},806:function(N){N.exports=function(){"use strict";var b=/^(b|B)$/,n={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},t={floor:Math.floor,ceil:Math.ceil};function l(e){var f,m,h,_,y,v,D,O,M,T,R,u,w,C,S,I,L,B,U,W,j,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=[],V=0;if(isNaN(e))throw new TypeError("Invalid number");if(h=!0===G.bits,S=!0===G.unix,u=!0===G.pad,w=void 0!==G.round?G.round:S?1:2,D=void 0!==G.locale?G.locale:"",O=G.localeOptions||{},I=void 0!==G.separator?G.separator:"",L=void 0!==G.spacer?G.spacer:S?"":" ",U=G.symbols||{},B=2===(m=G.base||2)&&G.standard||"jedec",R=G.output||"string",y=!0===G.fullform,v=G.fullforms instanceof Array?G.fullforms:[],f=void 0!==G.exponent?G.exponent:-1,W=t[G.roundingMethod]||Math.round,M=(T=Number(e))<0,_=m>2?1e3:1024,j=!1===isNaN(G.precision)?parseInt(G.precision,10):0,M&&(T=-T),(-1===f||isNaN(f))&&(f=Math.floor(Math.log(T)/Math.log(_)))<0&&(f=0),f>8&&(j>0&&(j+=8-f),f=8),"exponent"===R)return f;if(0===T)H[0]=0,C=H[1]=S?"":n[B][h?"bits":"bytes"][f];else{V=T/(2===m?Math.pow(2,10*f):Math.pow(1e3,f)),h&&(V*=8)>=_&&f<8&&(V/=_,f++);var X=Math.pow(10,f>0?w:0);H[0]=W(V*X)/X,H[0]===_&&f<8&&void 0===G.exponent&&(H[0]=1,f++),C=H[1]=10===m&&1===f?h?"kb":"kB":n[B][h?"bits":"bytes"][f],S&&(H[1]="jedec"===B?H[1].charAt(0):f>0?H[1].replace(/B$/,""):H[1],b.test(H[1])&&(H[0]=Math.floor(H[0]),H[1]=""))}if(M&&(H[0]=-H[0]),j>0&&(H[0]=H[0].toPrecision(j)),H[1]=U[H[1]]||H[1],!0===D?H[0]=H[0].toLocaleString():D.length>0?H[0]=H[0].toLocaleString(D,O):I.length>0&&(H[0]=H[0].toString().replace(".",I)),u&&!1===Number.isInteger(H[0])&&w>0){var J=I||".",q=H[0].toString().split(J),Q=q[1]||"",Y=Q.length,z=w-Y;H[0]="".concat(q[0]).concat(J).concat(Q.padEnd(Y+z,"0"))}return y&&(H[1]=v[f]?v[f]:i[B][f]+(h?"bit":"byte")+(1===H[0]?"":"s")),"array"===R?H:"object"===R?{value:H[0],symbol:H[1],exponent:f,unit:C}:H.join(L)}return l.partial=function(e){return function(f){return l(f,e)}},l}()},2632:(N,b,n)=>{var i,t,l;void 0!==(t="function"==typeof(i=l=function(){function l(){for(var m=0,h={};m<arguments.length;m++){var _=arguments[m];for(var y in _)h[y]=_[y]}return h}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function f(m){function h(){}function _(v,D,O){if(!(typeof document>"u")){"number"==typeof(O=l({path:"/"},h.defaults,O)).expires&&(O.expires=new Date(1*new Date+864e5*O.expires)),O.expires=O.expires?O.expires.toUTCString():"";try{var M=JSON.stringify(D);/^[\{\[]/.test(M)&&(D=M)}catch{}D=m.write?m.write(D,v):encodeURIComponent(String(D)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var T="";for(var R in O)O[R]&&(T+="; "+R,!0!==O[R]&&(T+="="+O[R].split(";")[0]));return document.cookie=v+"="+D+T}}function y(v,D){if(!(typeof document>"u")){for(var O={},M=document.cookie?document.cookie.split("; "):[],T=0;T<M.length;T++){var R=M[T].split("="),u=R.slice(1).join("=");!D&&'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var w=e(R[0]);if(u=(m.read||m)(u,w)||e(u),D)try{u=JSON.parse(u)}catch{}if(O[w]=u,v===w)break}catch{}}return v?O[v]:O}}return h.set=_,h.get=function(v){return y(v,!1)},h.getJSON=function(v){return y(v,!0)},h.remove=function(v,D){_(v,"",l(D,{expires:-1}))},h.defaults={},h.withConverter=f,h}(function(){})})?i.call(b,n,b,N):i)&&(N.exports=t),N.exports=l()},55013:(N,b,n)=>{var l=n(54385)(n(81464),"DataView");N.exports=l},63028:(N,b,n)=>{var i=n(56399),t=n(61483),l=n(83434),e=n(5230),f=n(33718);function m(h){var _=-1,y=null==h?0:h.length;for(this.clear();++_<y;){var v=h[_];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},25752:(N,b,n)=>{var i=n(23643),t=n(27103),l=n(30062),e=n(31610),f=n(1090);function m(h){var _=-1,y=null==h?0:h.length;for(this.clear();++_<y;){var v=h[_];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},51012:(N,b,n)=>{var l=n(54385)(n(81464),"Map");N.exports=l},90752:(N,b,n)=>{var i=n(21891),t=n(92759),l=n(97766),e=n(40322),f=n(47258);function m(h){var _=-1,y=null==h?0:h.length;for(this.clear();++_<y;){var v=h[_];this.set(v[0],v[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},81339:(N,b,n)=>{var l=n(54385)(n(81464),"Promise");N.exports=l},57814:(N,b,n)=>{var l=n(54385)(n(81464),"Set");N.exports=l},50342:(N,b,n)=>{var i=n(90752),t=n(74643),l=n(92768);function e(f){var m=-1,h=null==f?0:f.length;for(this.__data__=new i;++m<h;)this.add(f[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=l,N.exports=e},6898:(N,b,n)=>{var i=n(25752),t=n(48945),l=n(78425),e=n(25280),f=n(80324),m=n(84516);function h(_){var y=this.__data__=new i(_);this.size=y.size}h.prototype.clear=t,h.prototype.delete=l,h.prototype.get=e,h.prototype.has=f,h.prototype.set=m,N.exports=h},8516:(N,b,n)=>{var i=n(81464);N.exports=i.Symbol},12737:(N,b,n)=>{var i=n(81464);N.exports=i.Uint8Array},72248:(N,b,n)=>{var l=n(54385)(n(81464),"WeakMap");N.exports=l},81458:N=>{N.exports=function b(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:N=>{N.exports=function b(n,i,t,l){for(var e=-1,f=null==n?0:n.length;++e<f;){var m=n[e];i(l,m,t(m),n)}return l}},75558:N=>{N.exports=function b(n,i){for(var t=-1,l=null==n?0:n.length;++t<l&&!1!==i(n[t],t,n););return n}},32873:N=>{N.exports=function b(n,i){for(var t=-1,l=null==n?0:n.length,e=0,f=[];++t<l;){var m=n[t];i(m,t,n)&&(f[e++]=m)}return f}},75306:(N,b,n)=>{var i=n(55300);N.exports=function t(l,e){return!(null==l||!l.length)&&i(l,e,0)>-1}},35878:N=>{N.exports=function b(n,i,t){for(var l=-1,e=null==n?0:n.length;++l<e;)if(t(i,n[l]))return!0;return!1}},28548:(N,b,n)=>{var i=n(69695),t=n(56265),l=n(9812),e=n(63151),f=n(98426),m=n(31028),_=Object.prototype.hasOwnProperty;N.exports=function y(v,D){var O=l(v),M=!O&&t(v),T=!O&&!M&&e(v),R=!O&&!M&&!T&&m(v),u=O||M||T||R,w=u?i(v.length,String):[],C=w.length;for(var S in v)(D||_.call(v,S))&&(!u||!("length"==S||T&&("offset"==S||"parent"==S)||R&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||f(S,C)))&&w.push(S);return w}},12757:N=>{N.exports=function b(n,i){for(var t=-1,l=null==n?0:n.length,e=Array(l);++t<l;)e[t]=i(n[t],t,n);return e}},86319:N=>{N.exports=function b(n,i){for(var t=-1,l=i.length,e=n.length;++t<l;)n[e+t]=i[t];return n}},57371:N=>{N.exports=function b(n,i){for(var t=-1,l=null==n?0:n.length;++t<l;)if(i(n[t],t,n))return!0;return!1}},10732:(N,b,n)=>{var i=n(64399),t=n(12651);N.exports=function l(e,f,m){(void 0!==m&&!t(e[f],m)||void 0===m&&!(f in e))&&i(e,f,m)}},69220:(N,b,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;N.exports=function f(m,h,_){var y=m[h];(!e.call(m,h)||!t(y,_)||void 0===_&&!(h in m))&&i(m,h,_)}},86316:(N,b,n)=>{var i=n(12651);N.exports=function t(l,e){for(var f=l.length;f--;)if(i(l[f][0],e))return f;return-1}},61512:(N,b,n)=>{var i=n(40868);N.exports=function t(l,e,f,m){return i(l,function(h,_,y){e(m,h,f(h),y)}),m}},28336:(N,b,n)=>{var i=n(43190),t=n(32561);N.exports=function l(e,f){return e&&i(f,t(f),e)}},66303:(N,b,n)=>{var i=n(43190),t=n(47674);N.exports=function l(e,f){return e&&i(f,t(f),e)}},64399:(N,b,n)=>{var i=n(44678);N.exports=function t(l,e,f){"__proto__"==e&&i?i(l,e,{configurable:!0,enumerable:!0,value:f,writable:!0}):l[e]=f}},25052:(N,b,n)=>{var i=n(6898),t=n(75558),l=n(69220),e=n(28336),f=n(66303),m=n(7697),h=n(25820),_=n(5308),y=n(67491),v=n(3539),D=n(49088),O=n(20828),M=n(89900),T=n(69686),R=n(92870),u=n(9812),w=n(63151),C=n(56879),S=n(83278),I=n(74257),L=n(32561),B=n(47674),G="[object Arguments]",q="[object Function]",Z="[object Object]",Fe={};Fe[G]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object DataView]"]=Fe["[object Boolean]"]=Fe["[object Date]"]=Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe[Z]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object Symbol]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Error]"]=Fe[q]=Fe["[object WeakMap]"]=!1,N.exports=function st(Ie,We,Dt,kt,ct,Ot){var ve,Be=1&We,pt=2&We,dn=4&We;if(Dt&&(ve=ct?Dt(Ie,kt,ct,Ot):Dt(Ie)),void 0!==ve)return ve;if(!S(Ie))return Ie;var an=u(Ie);if(an){if(ve=M(Ie),!Be)return h(Ie,ve)}else{var In=O(Ie),Tt=In==q||"[object GeneratorFunction]"==In;if(w(Ie))return m(Ie,Be);if(In==Z||In==G||Tt&&!ct){if(ve=pt||Tt?{}:R(Ie),!Be)return pt?y(Ie,f(ve,Ie)):_(Ie,e(ve,Ie))}else{if(!Fe[In])return ct?Ie:{};ve=T(Ie,In,Be)}}Ot||(Ot=new i);var Wt=Ot.get(Ie);if(Wt)return Wt;Ot.set(Ie,ve),I(Ie)?Ie.forEach(function(ln){ve.add(st(ln,We,Dt,ln,Ie,Ot))}):C(Ie)&&Ie.forEach(function(ln,Mt){ve.set(Mt,st(ln,We,Dt,Mt,Ie,Ot))});var qt=an?void 0:(dn?pt?D:v:pt?B:L)(Ie);return t(qt||Ie,function(ln,Mt){qt&&(ln=Ie[Mt=ln]),l(ve,Mt,st(ln,We,Dt,Mt,Ie,Ot))}),ve}},19593:(N,b,n)=>{var i=n(83278),t=Object.create;N.exports=function(){function e(){}return function(f){if(!i(f))return{};if(t)return t(f);e.prototype=f;var m=new e;return e.prototype=void 0,m}}()},6362:(N,b,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(12757),f=n(42502),m=n(31890);N.exports=function _(y,v,D,O){var M=-1,T=t,R=!0,u=y.length,w=[],C=v.length;if(!u)return w;D&&(v=e(v,f(D))),O?(T=l,R=!1):v.length>=200&&(T=m,R=!1,v=new i(v));e:for(;++M<u;){var S=y[M],I=null==D?S:D(S);if(S=O||0!==S?S:0,R&&I==I){for(var L=C;L--;)if(v[L]===I)continue e;w.push(S)}else T(v,I,O)||w.push(S)}return w}},40868:(N,b,n)=>{var i=n(73432),l=n(55892)(i);N.exports=l},75736:N=>{N.exports=function b(n,i,t,l){for(var e=n.length,f=t+(l?1:-1);l?f--:++f<e;)if(i(n[f],f,n))return f;return-1}},12875:N=>{N.exports=function b(n,i,t){var l;return t(n,function(e,f,m){if(i(e,f,m))return l=f,!1}),l}},13091:(N,b,n)=>{var i=n(86319),t=n(98892);N.exports=function l(e,f,m,h,_){var y=-1,v=e.length;for(m||(m=t),_||(_=[]);++y<v;){var D=e[y];f>0&&m(D)?f>1?l(D,f-1,m,h,_):i(_,D):h||(_[_.length]=D)}return _}},32898:(N,b,n)=>{var t=n(99602)();N.exports=t},73432:(N,b,n)=>{var i=n(32898),t=n(32561);N.exports=function l(e,f){return e&&i(e,f,t)}},98137:(N,b,n)=>{var i=n(43916),t=n(58130);N.exports=function l(e,f){for(var m=0,h=(f=i(f,e)).length;null!=e&&m<h;)e=e[t(f[m++])];return m&&m==h?e:void 0}},79926:(N,b,n)=>{var i=n(86319),t=n(9812);N.exports=function l(e,f,m){var h=f(e);return t(e)?h:i(h,m(e))}},61057:(N,b,n)=>{var i=n(8516),t=n(8488),l=n(53327),m=i?i.toStringTag:void 0;N.exports=function h(_){return null==_?void 0===_?"[object Undefined]":"[object Null]":m&&m in Object(_)?t(_):l(_)}},31398:N=>{N.exports=function b(n,i){return null!=n&&i in Object(n)}},55300:(N,b,n)=>{var i=n(75736),t=n(59636),l=n(75220);N.exports=function e(f,m,h){return m==m?l(f,m,h):i(f,t,h)}},16324:(N,b,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(12757),f=n(42502),m=n(31890),h=Math.min;N.exports=function _(y,v,D){for(var O=D?l:t,M=y[0].length,T=y.length,R=T,u=Array(T),w=1/0,C=[];R--;){var S=y[R];R&&v&&(S=e(S,f(v))),w=h(S.length,w),u[R]=!D&&(v||M>=120&&S.length>=120)?new i(R&&S):void 0}S=y[0];var I=-1,L=u[0];e:for(;++I<M&&C.length<w;){var B=S[I],U=v?v(B):B;if(B=D||0!==B?B:0,!(L?m(L,U):O(C,U,D))){for(R=T;--R;){var W=u[R];if(!(W?m(W,U):O(y[R],U,D)))continue e}L&&L.push(U),C.push(B)}}return C}},18313:(N,b,n)=>{var i=n(61057),t=n(57433);N.exports=function e(f){return t(f)&&"[object Arguments]"==i(f)}},32925:(N,b,n)=>{var i=n(89471),t=n(57433);N.exports=function l(e,f,m,h,_){return e===f||(null==e||null==f||!t(e)&&!t(f)?e!=e&&f!=f:i(e,f,m,h,l,_))}},89471:(N,b,n)=>{var i=n(6898),t=n(12900),l=n(7987),e=n(47880),f=n(20828),m=n(9812),h=n(63151),_=n(31028),v="[object Arguments]",D="[object Array]",O="[object Object]",T=Object.prototype.hasOwnProperty;N.exports=function R(u,w,C,S,I,L){var B=m(u),U=m(w),W=B?D:f(u),j=U?D:f(w),G=(W=W==v?O:W)==O,H=(j=j==v?O:j)==O,V=W==j;if(V&&h(u)){if(!h(w))return!1;B=!0,G=!1}if(V&&!G)return L||(L=new i),B||_(u)?t(u,w,C,S,I,L):l(u,w,W,C,S,I,L);if(!(1&C)){var X=G&&T.call(u,"__wrapped__"),J=H&&T.call(w,"__wrapped__");if(X||J){var q=X?u.value():u,Q=J?w.value():w;return L||(L=new i),I(q,Q,C,S,L)}}return!!V&&(L||(L=new i),e(u,w,C,S,I,L))}},26095:(N,b,n)=>{var i=n(20828),t=n(57433);N.exports=function e(f){return t(f)&&"[object Map]"==i(f)}},32692:(N,b,n)=>{var i=n(6898),t=n(32925);N.exports=function f(m,h,_,y){var v=_.length,D=v,O=!y;if(null==m)return!D;for(m=Object(m);v--;){var M=_[v];if(O&&M[2]?M[1]!==m[M[0]]:!(M[0]in m))return!1}for(;++v<D;){var T=(M=_[v])[0],R=m[T],u=M[1];if(O&&M[2]){if(void 0===R&&!(T in m))return!1}else{var w=new i;if(y)var C=y(R,u,T,m,h,w);if(!(void 0===C?t(u,R,3,y,w):C))return!1}}return!0}},59636:N=>{N.exports=function b(n){return n!=n}},60298:(N,b,n)=>{var i=n(58653),t=n(48401),l=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,D=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");N.exports=function O(M){return!(!l(M)||t(M))&&(i(M)?D:m).test(e(M))}},91889:(N,b,n)=>{var i=n(20828),t=n(57433);N.exports=function e(f){return t(f)&&"[object Set]"==i(f)}},18068:(N,b,n)=>{var i=n(61057),t=n(18845),l=n(57433),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1,N.exports=function X(J){return l(J)&&t(J.length)&&!!V[i(J)]}},12344:(N,b,n)=>{var i=n(7432),t=n(61669),l=n(39631),e=n(9812),f=n(15788);N.exports=function m(h){return"function"==typeof h?h:null==h?l:"object"==typeof h?e(h)?t(h[0],h[1]):i(h):f(h)}},13809:(N,b,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;N.exports=function f(m){if(!i(m))return t(m);var h=[];for(var _ in Object(m))e.call(m,_)&&"constructor"!=_&&h.push(_);return h}},71194:(N,b,n)=>{var i=n(83278),t=n(3164),l=n(20908),f=Object.prototype.hasOwnProperty;N.exports=function m(h){if(!i(h))return l(h);var _=t(h),y=[];for(var v in h)"constructor"==v&&(_||!f.call(h,v))||y.push(v);return y}},45619:(N,b,n)=>{var i=n(40868),t=n(47291);N.exports=function l(e,f){var m=-1,h=t(e)?Array(e.length):[];return i(e,function(_,y,v){h[++m]=f(_,y,v)}),h}},7432:(N,b,n)=>{var i=n(32692),t=n(90613),l=n(2878);N.exports=function e(f){var m=t(f);return 1==m.length&&m[0][2]?l(m[0][0],m[0][1]):function(h){return h===f||i(h,f,m)}}},61669:(N,b,n)=>{var i=n(32925),t=n(26681),l=n(49830),e=n(181),f=n(94745),m=n(2878),h=n(58130);N.exports=function v(D,O){return e(D)&&f(O)?m(h(D),O):function(M){var T=t(M,D);return void 0===T&&T===O?l(M,D):i(O,T,3)}}},85765:(N,b,n)=>{var i=n(6898),t=n(10732),l=n(32898),e=n(91239),f=n(83278),m=n(47674),h=n(3609);N.exports=function _(y,v,D,O,M){y!==v&&l(v,function(T,R){if(M||(M=new i),f(T))e(y,v,R,D,_,O,M);else{var u=O?O(h(y,R),T,R+"",y,v,M):void 0;void 0===u&&(u=T),t(y,R,u)}},m)}},91239:(N,b,n)=>{var i=n(10732),t=n(7697),l=n(11334),e=n(25820),f=n(92870),m=n(56265),h=n(9812),_=n(25152),y=n(63151),v=n(58653),D=n(83278),O=n(49970),M=n(31028),T=n(3609),R=n(6729);N.exports=function u(w,C,S,I,L,B,U){var W=T(w,S),j=T(C,S),G=U.get(j);if(G)i(w,S,G);else{var H=B?B(W,j,S+"",w,C,U):void 0,V=void 0===H;if(V){var X=h(j),J=!X&&y(j),q=!X&&!J&&M(j);H=j,X||J||q?h(W)?H=W:_(W)?H=e(W):J?(V=!1,H=t(j,!0)):q?(V=!1,H=l(j,!0)):H=[]:O(j)||m(j)?(H=W,m(W)?H=R(W):(!D(W)||v(W))&&(H=f(j))):V=!1}V&&(U.set(j,H),L(H,j,I,B,U),U.delete(j)),i(w,S,H)}}},32168:(N,b,n)=>{var i=n(12757),t=n(98137),l=n(12344),e=n(45619),f=n(90480),m=n(42502),h=n(81653),_=n(39631),y=n(9812);N.exports=function v(D,O,M){O=O.length?i(O,function(u){return y(u)?function(w){return t(w,1===u.length?u[0]:u)}:u}):[_];var T=-1;O=i(O,m(l));var R=e(D,function(u,w,C){return{criteria:i(O,function(I){return I(u)}),index:++T,value:u}});return f(R,function(u,w){return h(u,w,M)})}},21740:N=>{N.exports=function b(n){return function(i){return i?.[n]}}},55058:(N,b,n)=>{var i=n(98137);N.exports=function t(l){return function(e){return i(e,l)}}},68591:(N,b,n)=>{var i=n(39631),t=n(28452),l=n(11230);N.exports=function e(f,m){return l(t(f,m,i),f+"")}},48565:(N,b,n)=>{var i=n(26205),t=n(44678),l=n(39631);N.exports=t?function(f,m){return t(f,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:l},90480:N=>{N.exports=function b(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:N=>{N.exports=function b(n,i){for(var t=-1,l=Array(n);++t<n;)l[t]=i(t);return l}},87005:(N,b,n)=>{var i=n(8516),t=n(12757),l=n(9812),e=n(15153),m=i?i.prototype:void 0,h=m?m.toString:void 0;N.exports=function _(y){if("string"==typeof y)return y;if(l(y))return t(y,_)+"";if(e(y))return h?h.call(y):"";var v=y+"";return"0"==v&&1/y==-1/0?"-0":v}},35461:(N,b,n)=>{var i=n(37327),t=/^\s+/;N.exports=function l(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:N=>{N.exports=function b(n){return function(i){return n(i)}}},73136:(N,b,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(31890),f=n(67366),m=n(3578);N.exports=function _(y,v,D){var O=-1,M=t,T=y.length,R=!0,u=[],w=u;if(D)R=!1,M=l;else if(T>=200){var C=v?null:f(y);if(C)return m(C);R=!1,M=e,w=new i}else w=v?[]:u;e:for(;++O<T;){var S=y[O],I=v?v(S):S;if(S=D||0!==S?S:0,R&&I==I){for(var L=w.length;L--;)if(w[L]===I)continue e;v&&w.push(I),u.push(S)}else M(w,I,D)||(w!==u&&w.push(I),u.push(S))}return u}},31890:N=>{N.exports=function b(n,i){return n.has(i)}},86638:(N,b,n)=>{var i=n(25152);N.exports=function t(l){return i(l)?l:[]}},43916:(N,b,n)=>{var i=n(9812),t=n(181),l=n(22447),e=n(54717);N.exports=function f(m,h){return i(m)?m:t(m,h)?[m]:l(e(m))}},96220:(N,b,n)=>{var i=n(12737);N.exports=function t(l){var e=new l.constructor(l.byteLength);return new i(e).set(new i(l)),e}},7697:(N,b,n)=>{N=n.nmd(N);var i=n(81464),t=b&&!b.nodeType&&b,l=t&&N&&!N.nodeType&&N,f=l&&l.exports===t?i.Buffer:void 0,m=f?f.allocUnsafe:void 0;N.exports=function h(_,y){if(y)return _.slice();var v=_.length,D=m?m(v):new _.constructor(v);return _.copy(D),D}},55942:(N,b,n)=>{var i=n(96220);N.exports=function t(l,e){var f=e?i(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.byteLength)}},38466:N=>{var b=/\w*$/;N.exports=function n(i){var t=new i.constructor(i.source,b.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(N,b,n)=>{var i=n(8516),t=i?i.prototype:void 0,l=t?t.valueOf:void 0;N.exports=function e(f){return l?Object(l.call(f)):{}}},11334:(N,b,n)=>{var i=n(96220);N.exports=function t(l,e){var f=e?i(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.length)}},44967:(N,b,n)=>{var i=n(15153);N.exports=function t(l,e){if(l!==e){var f=void 0!==l,m=null===l,h=l==l,_=i(l),y=void 0!==e,v=null===e,D=e==e,O=i(e);if(!v&&!O&&!_&&l>e||_&&y&&D&&!v&&!O||m&&y&&D||!f&&D||!h)return 1;if(!m&&!_&&!O&&l<e||O&&f&&h&&!m&&!_||v&&f&&h||!y&&h||!D)return-1}return 0}},81653:(N,b,n)=>{var i=n(44967);N.exports=function t(l,e,f){for(var m=-1,h=l.criteria,_=e.criteria,y=h.length,v=f.length;++m<y;){var D=i(h[m],_[m]);if(D)return m>=v?D:D*("desc"==f[m]?-1:1)}return l.index-e.index}},25820:N=>{N.exports=function b(n,i){var t=-1,l=n.length;for(i||(i=Array(l));++t<l;)i[t]=n[t];return i}},43190:(N,b,n)=>{var i=n(69220),t=n(64399);N.exports=function l(e,f,m,h){var _=!m;m||(m={});for(var y=-1,v=f.length;++y<v;){var D=f[y],O=h?h(m[D],e[D],D,m,e):void 0;void 0===O&&(O=e[D]),_?t(m,D,O):i(m,D,O)}return m}},5308:(N,b,n)=>{var i=n(43190),t=n(90181);N.exports=function l(e,f){return i(e,t(e),f)}},67491:(N,b,n)=>{var i=n(43190),t=n(35254);N.exports=function l(e,f){return i(e,t(e),f)}},20336:(N,b,n)=>{var i=n(81464);N.exports=i["__core-js_shared__"]},3145:(N,b,n)=>{var i=n(99526),t=n(61512),l=n(12344),e=n(9812);N.exports=function f(m,h){return function(_,y){var v=e(_)?i:t,D=h?h():{};return v(_,m,l(y,2),D)}}},87530:(N,b,n)=>{var i=n(68591),t=n(12721);N.exports=function l(e){return i(function(f,m){var h=-1,_=m.length,y=_>1?m[_-1]:void 0,v=_>2?m[2]:void 0;for(y=e.length>3&&"function"==typeof y?(_--,y):void 0,v&&t(m[0],m[1],v)&&(y=_<3?void 0:y,_=1),f=Object(f);++h<_;){var D=m[h];D&&e(f,D,h,y)}return f})}},55892:(N,b,n)=>{var i=n(47291);N.exports=function t(l,e){return function(f,m){if(null==f)return f;if(!i(f))return l(f,m);for(var h=f.length,_=e?h:-1,y=Object(f);(e?_--:++_<h)&&!1!==m(y[_],_,y););return f}}},99602:N=>{N.exports=function b(n){return function(i,t,l){for(var e=-1,f=Object(i),m=l(i),h=m.length;h--;){var _=m[n?h:++e];if(!1===t(f[_],_,f))break}return i}}},67366:(N,b,n)=>{var i=n(57814),t=n(68145),l=n(3578),f=i&&1/l(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;N.exports=f},44678:(N,b,n)=>{var i=n(54385),t=function(){try{var l=i(Object,"defineProperty");return l({},"",{}),l}catch{}}();N.exports=t},12900:(N,b,n)=>{var i=n(50342),t=n(57371),l=n(31890);N.exports=function m(h,_,y,v,D,O){var M=1&y,T=h.length,R=_.length;if(T!=R&&!(M&&R>T))return!1;var u=O.get(h),w=O.get(_);if(u&&w)return u==_&&w==h;var C=-1,S=!0,I=2&y?new i:void 0;for(O.set(h,_),O.set(_,h);++C<T;){var L=h[C],B=_[C];if(v)var U=M?v(B,L,C,_,h,O):v(L,B,C,h,_,O);if(void 0!==U){if(U)continue;S=!1;break}if(I){if(!t(_,function(W,j){if(!l(I,j)&&(L===W||D(L,W,y,v,O)))return I.push(j)})){S=!1;break}}else if(L!==B&&!D(L,B,y,v,O)){S=!1;break}}return O.delete(h),O.delete(_),S}},7987:(N,b,n)=>{var i=n(8516),t=n(12737),l=n(12651),e=n(12900),f=n(37152),m=n(3578),I=i?i.prototype:void 0,L=I?I.valueOf:void 0;N.exports=function B(U,W,j,G,H,V,X){switch(j){case"[object DataView]":if(U.byteLength!=W.byteLength||U.byteOffset!=W.byteOffset)return!1;U=U.buffer,W=W.buffer;case"[object ArrayBuffer]":return!(U.byteLength!=W.byteLength||!V(new t(U),new t(W)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+U,+W);case"[object Error]":return U.name==W.name&&U.message==W.message;case"[object RegExp]":case"[object String]":return U==W+"";case"[object Map]":var J=f;case"[object Set]":if(J||(J=m),U.size!=W.size&&!(1&G))return!1;var Q=X.get(U);if(Q)return Q==W;G|=2,X.set(U,W);var Y=e(J(U),J(W),G,H,V,X);return X.delete(U),Y;case"[object Symbol]":if(L)return L.call(U)==L.call(W)}return!1}},47880:(N,b,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;N.exports=function f(m,h,_,y,v,D){var O=1&_,M=i(m),T=M.length;if(T!=i(h).length&&!O)return!1;for(var w=T;w--;){var C=M[w];if(!(O?C in h:e.call(h,C)))return!1}var S=D.get(m),I=D.get(h);if(S&&I)return S==h&&I==m;var L=!0;D.set(m,h),D.set(h,m);for(var B=O;++w<T;){var U=m[C=M[w]],W=h[C];if(y)var j=O?y(W,U,C,h,m,D):y(U,W,C,m,h,D);if(!(void 0===j?U===W||v(U,W,_,y,D):j)){L=!1;break}B||(B="constructor"==C)}if(L&&!B){var G=m.constructor,H=h.constructor;G!=H&&"constructor"in m&&"constructor"in h&&!("function"==typeof G&&G instanceof G&&"function"==typeof H&&H instanceof H)&&(L=!1)}return D.delete(m),D.delete(h),L}},78657:N=>{var b="object"==typeof global&&global&&global.Object===Object&&global;N.exports=b},3539:(N,b,n)=>{var i=n(79926),t=n(90181),l=n(32561);N.exports=function e(f){return i(f,l,t)}},49088:(N,b,n)=>{var i=n(79926),t=n(35254),l=n(47674);N.exports=function e(f){return i(f,l,t)}},79038:(N,b,n)=>{var i=n(83329);N.exports=function t(l,e){var f=l.__data__;return i(e)?f["string"==typeof e?"string":"hash"]:f.map}},90613:(N,b,n)=>{var i=n(94745),t=n(32561);N.exports=function l(e){for(var f=t(e),m=f.length;m--;){var h=f[m],_=e[h];f[m]=[h,_,i(_)]}return f}},54385:(N,b,n)=>{var i=n(60298),t=n(58737);N.exports=function l(e,f){var m=t(e,f);return i(m)?m:void 0}},46902:(N,b,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);N.exports=t},8488:(N,b,n)=>{var i=n(8516),t=Object.prototype,l=t.hasOwnProperty,e=t.toString,f=i?i.toStringTag:void 0;N.exports=function m(h){var _=l.call(h,f),y=h[f];try{h[f]=void 0;var v=!0}catch{}var D=e.call(h);return v&&(_?h[f]=y:delete h[f]),D}},90181:(N,b,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;N.exports=f?function(h){return null==h?[]:(h=Object(h),i(f(h),function(_){return e.call(h,_)}))}:t},35254:(N,b,n)=>{var i=n(86319),t=n(46902),l=n(90181),e=n(2260);N.exports=Object.getOwnPropertySymbols?function(h){for(var _=[];h;)i(_,l(h)),h=t(h);return _}:e},20828:(N,b,n)=>{var i=n(55013),t=n(51012),l=n(81339),e=n(57814),f=n(72248),m=n(61057),h=n(68020),_="[object Map]",v="[object Promise]",D="[object Set]",O="[object WeakMap]",M="[object DataView]",T=h(i),R=h(t),u=h(l),w=h(e),C=h(f),S=m;(i&&S(new i(new ArrayBuffer(1)))!=M||t&&S(new t)!=_||l&&S(l.resolve())!=v||e&&S(new e)!=D||f&&S(new f)!=O)&&(S=function(I){var L=m(I),B="[object Object]"==L?I.constructor:void 0,U=B?h(B):"";if(U)switch(U){case T:return M;case R:return _;case u:return v;case w:return D;case C:return O}return L}),N.exports=S},58737:N=>{N.exports=function b(n,i){return n?.[i]}},85121:(N,b,n)=>{var i=n(43916),t=n(56265),l=n(9812),e=n(98426),f=n(18845),m=n(58130);N.exports=function h(_,y,v){for(var D=-1,O=(y=i(y,_)).length,M=!1;++D<O;){var T=m(y[D]);if(!(M=null!=_&&v(_,T)))break;_=_[T]}return M||++D!=O?M:!!(O=null==_?0:_.length)&&f(O)&&e(T,O)&&(l(_)||t(_))}},56399:(N,b,n)=>{var i=n(58247);N.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:N=>{N.exports=function b(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(N,b,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;N.exports=function f(m){var h=this.__data__;if(i){var _=h[m];return"__lodash_hash_undefined__"===_?void 0:_}return e.call(h,m)?h[m]:void 0}},5230:(N,b,n)=>{var i=n(58247),l=Object.prototype.hasOwnProperty;N.exports=function e(f){var m=this.__data__;return i?void 0!==m[f]:l.call(m,f)}},33718:(N,b,n)=>{var i=n(58247);N.exports=function l(e,f){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===f?"__lodash_hash_undefined__":f,this}},89900:N=>{var n=Object.prototype.hasOwnProperty;N.exports=function i(t){var l=t.length,e=new t.constructor(l);return l&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(N,b,n)=>{var i=n(96220),t=n(55942),l=n(38466),e=n(54511),f=n(11334);N.exports=function j(G,H,V){var X=G.constructor;switch(H){case"[object ArrayBuffer]":return i(G);case"[object Boolean]":case"[object Date]":return new X(+G);case"[object DataView]":return t(G,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(G,V);case"[object Map]":case"[object Set]":return new X;case"[object Number]":case"[object String]":return new X(G);case"[object RegExp]":return l(G);case"[object Symbol]":return e(G)}}},92870:(N,b,n)=>{var i=n(19593),t=n(46902),l=n(3164);N.exports=function e(f){return"function"!=typeof f.constructor||l(f)?{}:i(t(f))}},98892:(N,b,n)=>{var i=n(8516),t=n(56265),l=n(9812),e=i?i.isConcatSpreadable:void 0;N.exports=function f(m){return l(m)||t(m)||!!(e&&m&&m[e])}},98426:N=>{var n=/^(?:0|[1-9]\d*)$/;N.exports=function i(t,l){var e=typeof t;return!!(l=l??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<l}},12721:(N,b,n)=>{var i=n(12651),t=n(47291),l=n(98426),e=n(83278);N.exports=function f(m,h,_){if(!e(_))return!1;var y=typeof h;return!!("number"==y?t(_)&&l(h,_.length):"string"==y&&h in _)&&i(_[h],m)}},181:(N,b,n)=>{var i=n(9812),t=n(15153),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;N.exports=function f(m,h){if(i(m))return!1;var _=typeof m;return!("number"!=_&&"symbol"!=_&&"boolean"!=_&&null!=m&&!t(m))||e.test(m)||!l.test(m)||null!=h&&m in Object(h)}},83329:N=>{N.exports=function b(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(N,b,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";N.exports=function l(e){return!!t&&t in e}},3164:N=>{var b=Object.prototype;N.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||b)}},94745:(N,b,n)=>{var i=n(83278);N.exports=function t(l){return l==l&&!i(l)}},23643:N=>{N.exports=function b(){this.__data__=[],this.size=0}},27103:(N,b,n)=>{var i=n(86316),l=Array.prototype.splice;N.exports=function e(f){var m=this.__data__,h=i(m,f);return!(h<0||(h==m.length-1?m.pop():l.call(m,h,1),--this.size,0))}},30062:(N,b,n)=>{var i=n(86316);N.exports=function t(l){var e=this.__data__,f=i(e,l);return f<0?void 0:e[f][1]}},31610:(N,b,n)=>{var i=n(86316);N.exports=function t(l){return i(this.__data__,l)>-1}},1090:(N,b,n)=>{var i=n(86316);N.exports=function t(l,e){var f=this.__data__,m=i(f,l);return m<0?(++this.size,f.push([l,e])):f[m][1]=e,this}},21891:(N,b,n)=>{var i=n(63028),t=n(25752),l=n(51012);N.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(l||t),string:new i}}},92759:(N,b,n)=>{var i=n(79038);N.exports=function t(l){var e=i(this,l).delete(l);return this.size-=e?1:0,e}},97766:(N,b,n)=>{var i=n(79038);N.exports=function t(l){return i(this,l).get(l)}},40322:(N,b,n)=>{var i=n(79038);N.exports=function t(l){return i(this,l).has(l)}},47258:(N,b,n)=>{var i=n(79038);N.exports=function t(l,e){var f=i(this,l),m=f.size;return f.set(l,e),this.size+=f.size==m?0:1,this}},37152:N=>{N.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(l,e){t[++i]=[e,l]}),t}},2878:N=>{N.exports=function b(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(N,b,n)=>{var i=n(89605);N.exports=function l(e){var f=i(e,function(h){return 500===m.size&&m.clear(),h}),m=f.cache;return f}},58247:(N,b,n)=>{var t=n(54385)(Object,"create");N.exports=t},96199:(N,b,n)=>{var t=n(72852)(Object.keys,Object);N.exports=t},20908:N=>{N.exports=function b(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(N,b,n)=>{N=n.nmd(N);var i=n(78657),t=b&&!b.nodeType&&b,l=t&&N&&!N.nodeType&&N,f=l&&l.exports===t&&i.process,m=function(){try{return l&&l.require&&l.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();N.exports=m},53327:N=>{var n=Object.prototype.toString;N.exports=function i(t){return n.call(t)}},72852:N=>{N.exports=function b(n,i){return function(t){return n(i(t))}}},28452:(N,b,n)=>{var i=n(81458),t=Math.max;N.exports=function l(e,f,m){return f=t(void 0===f?e.length-1:f,0),function(){for(var h=arguments,_=-1,y=t(h.length-f,0),v=Array(y);++_<y;)v[_]=h[f+_];_=-1;for(var D=Array(f+1);++_<f;)D[_]=h[_];return D[f]=m(v),i(e,this,D)}}},81464:(N,b,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,l=i||t||Function("return this")();N.exports=l},3609:N=>{N.exports=function b(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:N=>{N.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:N=>{N.exports=function b(n){return this.__data__.has(n)}},3578:N=>{N.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(l){t[++i]=l}),t}},11230:(N,b,n)=>{var i=n(48565),l=n(12770)(i);N.exports=l},12770:N=>{var i=Date.now;N.exports=function t(l){var e=0,f=0;return function(){var m=i(),h=16-(m-f);if(f=m,h>0){if(++e>=800)return arguments[0]}else e=0;return l.apply(void 0,arguments)}}},48945:(N,b,n)=>{var i=n(25752);N.exports=function t(){this.__data__=new i,this.size=0}},78425:N=>{N.exports=function b(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:N=>{N.exports=function b(n){return this.__data__.get(n)}},80324:N=>{N.exports=function b(n){return this.__data__.has(n)}},84516:(N,b,n)=>{var i=n(25752),t=n(51012),l=n(90752);N.exports=function f(m,h){var _=this.__data__;if(_ instanceof i){var y=_.__data__;if(!t||y.length<199)return y.push([m,h]),this.size=++_.size,this;_=this.__data__=new l(y)}return _.set(m,h),this.size=_.size,this}},75220:N=>{N.exports=function b(n,i,t){for(var l=t-1,e=n.length;++l<e;)if(n[l]===i)return l;return-1}},22447:(N,b,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,e=i(function(f){var m=[];return 46===f.charCodeAt(0)&&m.push(""),f.replace(t,function(h,_,y,v){m.push(y?v.replace(l,"$1"):_||h)}),m});N.exports=e},58130:(N,b,n)=>{var i=n(15153);N.exports=function l(e){if("string"==typeof e||i(e))return e;var f=e+"";return"0"==f&&1/e==-1/0?"-0":f}},68020:N=>{var n=Function.prototype.toString;N.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:N=>{var b=/\s/;N.exports=function n(i){for(var t=i.length;t--&&b.test(i.charAt(t)););return t}},84418:(N,b,n)=>{var i=n(25052);N.exports=function e(f){return i(f,5)}},26205:N=>{N.exports=function b(n){return function(){return n}}},61889:(N,b,n)=>{var i=n(83278),t=n(90501),l=n(73521),f=Math.max,m=Math.min;N.exports=function h(_,y,v){var D,O,M,T,R,u,w=0,C=!1,S=!1,I=!0;if("function"!=typeof _)throw new TypeError("Expected a function");function L(J){var q=D,Q=O;return D=O=void 0,w=J,T=_.apply(Q,q)}function W(J){var q=J-u;return void 0===u||q>=y||q<0||S&&J-w>=M}function j(){var J=t();if(W(J))return G(J);R=setTimeout(j,function U(J){var Y=y-(J-u);return S?m(Y,M-(J-w)):Y}(J))}function G(J){return R=void 0,I&&D?L(J):(D=O=void 0,T)}function X(){var J=t(),q=W(J);if(D=arguments,O=this,u=J,q){if(void 0===R)return function B(J){return w=J,R=setTimeout(j,y),C?L(J):T}(u);if(S)return clearTimeout(R),R=setTimeout(j,y),L(u)}return void 0===R&&(R=setTimeout(j,y)),T}return y=l(y)||0,i(v)&&(C=!!v.leading,M=(S="maxWait"in v)?f(l(v.maxWait)||0,y):M,I="trailing"in v?!!v.trailing:I),X.cancel=function H(){void 0!==R&&clearTimeout(R),w=0,D=u=O=R=void 0},X.flush=function V(){return void 0===R?T:G(t())},X}},22458:(N,b,n)=>{var i=n(6362),t=n(13091),l=n(68591),e=n(25152),f=l(function(m,h){return e(m)?i(m,t(h,1,e,!0)):[]});N.exports=f},25622:(N,b,n)=>{var i=n(6362),t=n(13091),l=n(68591),e=n(25152),f=n(95649),m=l(function(h,_){var y=f(_);return e(y)&&(y=void 0),e(h)?i(h,t(_,1,e,!0),void 0,y):[]});N.exports=m},12651:N=>{N.exports=function b(n,i){return n===i||n!=n&&i!=i}},48376:(N,b,n)=>{var i=n(75736),t=n(12344),l=n(71284),e=Math.max;N.exports=function f(m,h,_){var y=null==m?0:m.length;if(!y)return-1;var v=null==_?0:l(_);return v<0&&(v=e(y+v,0)),i(m,t(h,3),v)}},5771:(N,b,n)=>{var i=n(12875),t=n(73432),l=n(12344);N.exports=function e(f,m){return i(f,l(m,3),t)}},26681:(N,b,n)=>{var i=n(98137);N.exports=function t(l,e,f){var m=null==l?void 0:i(l,e);return void 0===m?f:m}},28267:(N,b,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,f=t(function(m,h,_){e.call(m,_)?m[_].push(h):i(m,_,[h])});N.exports=f},49830:(N,b,n)=>{var i=n(31398),t=n(85121);N.exports=function l(e,f){return null!=e&&t(e,f,i)}},39631:N=>{N.exports=function b(n){return n}},27916:(N,b,n)=>{var i=n(12757),t=n(16324),l=n(68591),e=n(86638),f=n(95649),m=l(function(h){var _=f(h),y=i(h,e);return(_="function"==typeof _?_:void 0)&&y.pop(),y.length&&y[0]===h[0]?t(y,void 0,_):[]});N.exports=m},56265:(N,b,n)=>{var i=n(18313),t=n(57433),l=Object.prototype,e=l.hasOwnProperty,f=l.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(h){return t(h)&&e.call(h,"callee")&&!f.call(h,"callee")};N.exports=m},9812:N=>{N.exports=Array.isArray},47291:(N,b,n)=>{var i=n(58653),t=n(18845);N.exports=function l(e){return null!=e&&t(e.length)&&!i(e)}},25152:(N,b,n)=>{var i=n(47291),t=n(57433);N.exports=function l(e){return t(e)&&i(e)}},63151:(N,b,n)=>{N=n.nmd(N);var i=n(81464),t=n(95710),l=b&&!b.nodeType&&b,e=l&&N&&!N.nodeType&&N,m=e&&e.exports===l?i.Buffer:void 0;N.exports=(m?m.isBuffer:void 0)||t},48125:(N,b,n)=>{var i=n(32925);N.exports=function t(l,e){return i(l,e)}},58653:(N,b,n)=>{var i=n(61057),t=n(83278);N.exports=function h(_){if(!t(_))return!1;var y=i(_);return"[object Function]"==y||"[object GeneratorFunction]"==y||"[object AsyncFunction]"==y||"[object Proxy]"==y}},18845:N=>{N.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(N,b,n)=>{var i=n(26095),t=n(42502),l=n(90512),e=l&&l.isMap,f=e?t(e):i;N.exports=f},83278:N=>{N.exports=function b(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:N=>{N.exports=function b(n){return null!=n&&"object"==typeof n}},49970:(N,b,n)=>{var i=n(61057),t=n(46902),l=n(57433),h=Function.prototype.toString,_=Object.prototype.hasOwnProperty,y=h.call(Object);N.exports=function v(D){if(!l(D)||"[object Object]"!=i(D))return!1;var O=t(D);if(null===O)return!0;var M=_.call(O,"constructor")&&O.constructor;return"function"==typeof M&&M instanceof M&&h.call(M)==y}},74257:(N,b,n)=>{var i=n(91889),t=n(42502),l=n(90512),e=l&&l.isSet,f=e?t(e):i;N.exports=f},78124:(N,b,n)=>{var i=n(61057),t=n(9812),l=n(57433);N.exports=function f(m){return"string"==typeof m||!t(m)&&l(m)&&"[object String]"==i(m)}},15153:(N,b,n)=>{var i=n(61057),t=n(57433);N.exports=function e(f){return"symbol"==typeof f||t(f)&&"[object Symbol]"==i(f)}},31028:(N,b,n)=>{var i=n(18068),t=n(42502),l=n(90512),e=l&&l.isTypedArray,f=e?t(e):i;N.exports=f},32561:(N,b,n)=>{var i=n(28548),t=n(13809),l=n(47291);N.exports=function e(f){return l(f)?i(f):t(f)}},47674:(N,b,n)=>{var i=n(28548),t=n(71194),l=n(47291);N.exports=function e(f){return l(f)?i(f,!0):t(f)}},95649:N=>{N.exports=function b(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(N,b,n)=>{var i=n(90752);function l(e,f){if("function"!=typeof e||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var m=function(){var h=arguments,_=f?f.apply(this,h):h[0],y=m.cache;if(y.has(_))return y.get(_);var v=e.apply(this,h);return m.cache=y.set(_,v)||y,v};return m.cache=new(l.Cache||i),m}l.Cache=i,N.exports=l},25689:(N,b,n)=>{var i=n(85765),l=n(87530)(function(e,f,m,h){i(e,f,m,h)});N.exports=l},68145:N=>{N.exports=function b(){}},90501:(N,b,n)=>{var i=n(81464);N.exports=function(){return i.Date.now()}},15788:(N,b,n)=>{var i=n(21740),t=n(55058),l=n(181),e=n(58130);N.exports=function f(m){return l(m)?i(e(m)):t(m)}},69136:(N,b,n)=>{var i=n(13091),t=n(32168),l=n(68591),e=n(12721),f=l(function(m,h){if(null==m)return[];var _=h.length;return _>1&&e(m,h[0],h[1])?h=[]:_>2&&e(h[0],h[1],h[2])&&(h=[h[0]]),t(m,i(h,1),[])});N.exports=f},2260:N=>{N.exports=function b(){return[]}},95710:N=>{N.exports=function b(){return!1}},68263:(N,b,n)=>{var i=n(73521),t=1/0;N.exports=function e(f){return f?(f=i(f))===t||f===-t?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},71284:(N,b,n)=>{var i=n(68263);N.exports=function t(l){var e=i(l),f=e%1;return e==e?f?e-f:e:0}},73521:(N,b,n)=>{var i=n(35461),t=n(83278),l=n(15153),f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,h=/^0o[0-7]+$/i,_=parseInt;N.exports=function y(v){if("number"==typeof v)return v;if(l(v))return NaN;if(t(v)){var D="function"==typeof v.valueOf?v.valueOf():v;v=t(D)?D+"":D}if("string"!=typeof v)return 0===v?v:+v;v=i(v);var O=m.test(v);return O||h.test(v)?_(v.slice(2),O?2:8):f.test(v)?NaN:+v}},6729:(N,b,n)=>{var i=n(43190),t=n(47674);N.exports=function l(e){return i(e,t(e))}},54717:(N,b,n)=>{var i=n(87005);N.exports=function t(l){return null==l?"":i(l)}},95341:(N,b,n)=>{var i=n(75558),t=n(19593),l=n(73432),e=n(12344),f=n(46902),m=n(9812),h=n(63151),_=n(58653),y=n(83278),v=n(31028);N.exports=function D(O,M,T){var R=m(O),u=R||h(O)||v(O);if(M=e(M,4),null==T){var w=O&&O.constructor;T=u?R?new w:[]:y(O)&&_(w)?t(f(O)):{}}return(u?i:l)(O,function(C,S,I){return M(T,C,S,I)}),T}},28898:(N,b,n)=>{var i=n(13091),t=n(68591),l=n(73136),e=n(25152),f=t(function(m){return l(i(m,1,e,!0))});N.exports=f},63448:(N,b,n)=>{var i=n(73136);N.exports=function t(l,e){return e="function"==typeof e?e:void 0,l&&l.length?i(l,void 0,e):[]}},59519:(N,b,n)=>{var i=n(54717),t=0;N.exports=function l(e){var f=++t;return i(e)+f}},77876:(N,b,n)=>{"use strict";n.d(b,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:f,_hasValue:m,_value:h,thrownError:_,isStopped:y,_isComplete:v}=this;f?e.error(_):(y||v)&&(m&&e.next(h),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:f,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(f),super.complete())}}},84412:(N,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const f=super._subscribe(e);return!f.closed&&e.next(this._value),f}getValue(){const{hasError:e,thrownError:f,_value:m}=this;if(e)throw f;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(N,b,n)=>{"use strict";n.d(b,{c:()=>_});var i=n(47707),t=n(18359),l=n(3494),e=n(71203),f=n(41026),m=n(98071),h=n(49786);let _=(()=>{class O{constructor(T){T&&(this._subscribe=T)}lift(T){const R=new O;return R.source=this,R.operator=T,R}subscribe(T,R,u){const w=function D(O){return O&&O instanceof i.vU||function v(O){return O&&(0,m.T)(O.next)&&(0,m.T)(O.error)&&(0,m.T)(O.complete)}(O)&&(0,t.Uv)(O)}(T)?T:new i.Ms(T,R,u);return(0,h.Y)(()=>{const{operator:C,source:S}=this;w.add(C?C.call(w,S):S?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(T){try{return this._subscribe(T)}catch(R){T.error(R)}}forEach(T,R){return new(R=y(R))((u,w)=>{const C=new i.Ms({next:S=>{try{T(S)}catch(I){w(I),C.unsubscribe()}},error:w,complete:u});this.subscribe(C)})}_subscribe(T){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(T)}[l.s](){return this}pipe(...T){return(0,e.m)(T)(this)}toPromise(T){return new(T=y(T))((R,u)=>{let w;this.subscribe(C=>w=C,C=>u(C),()=>R(w))})}}return O.create=M=>new O(M),O})();function y(O){var M;return null!==(M=O??f.$.Promise)&&void 0!==M?M:Promise}},92771:(N,b,n)=>{"use strict";n.d(b,{m:()=>l});var i=n(21413),t=n(86129);class l extends i.B{constructor(f=1/0,m=1/0,h=t.U){super(),this._bufferSize=f,this._windowTime=m,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,f),this._windowTime=Math.max(1,m)}next(f){const{isStopped:m,_buffer:h,_infiniteTimeWindow:_,_timestampProvider:y,_windowTime:v}=this;m||(h.push(f),!_&&h.push(y.now()+v)),this._trimBuffer(),super.next(f)}_subscribe(f){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(f),{_infiniteTimeWindow:h,_buffer:_}=this,y=_.slice();for(let v=0;v<y.length&&!f.closed;v+=h?1:2)f.next(y[v]);return this._checkFinalizedStatuses(f),m}_trimBuffer(){const{_bufferSize:f,_timestampProvider:m,_buffer:h,_infiniteTimeWindow:_}=this,y=(_?1:2)*f;if(f<1/0&&y<h.length&&h.splice(0,h.length-y),!_){const v=m.now();let D=0;for(let O=1;O<h.length&&h[O]<=v;O+=2)D=O;D&&h.splice(0,D+1)}}}},21413:(N,b,n)=>{"use strict";n.d(b,{B:()=>h});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=n(57908),m=n(49786);let h=(()=>{class y extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const O=new _(this,this);return O.operator=D,O}_throwIfClosed(){if(this.closed)throw new e}next(D){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(D)}})}error(D){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:O}=this;for(;O.length;)O.shift().error(D)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:O,isStopped:M,observers:T}=this;return O||M?t.Kn:(this.currentObservers=null,T.push(D),new t.yU(()=>{this.currentObservers=null,(0,f.o)(T,D)}))}_checkFinalizedStatuses(D){const{hasError:O,thrownError:M,isStopped:T}=this;O?D.error(M):T&&D.complete()}asObservable(){const D=new i.c;return D.source=this,D}}return y.create=(v,D)=>new _(v,D),y})();class _ extends h{constructor(v,D){super(),this.destination=v,this.source=D}next(v){var D,O;null===(O=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===O||O.call(D,v)}error(v){var D,O;null===(O=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===O||O.call(D,v)}complete(){var v,D;null===(D=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===D||D.call(v)}_subscribe(v){var D,O;return null!==(O=null===(D=this.source)||void 0===D?void 0:D.subscribe(v))&&void 0!==O?O:t.Kn}}},47707:(N,b,n)=>{"use strict";n.d(b,{Ms:()=>u,vU:()=>O});var i=n(98071),t=n(18359),l=n(41026),e=n(45334),f=n(85343);const m=y("C",void 0,void 0);function y(L,B,U){return{kind:L,value:B,error:U}}var v=n(19270),D=n(49786);class O extends t.yU{constructor(B){super(),this.isStopped=!1,B?(this.destination=B,(0,t.Uv)(B)&&B.add(this)):this.destination=I}static create(B,U,W){return new u(B,U,W)}next(B){this.isStopped?S(function _(L){return y("N",L,void 0)}(B),this):this._next(B)}error(B){this.isStopped?S(function h(L){return y("E",void 0,L)}(B),this):(this.isStopped=!0,this._error(B))}complete(){this.isStopped?S(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(B){this.destination.next(B)}_error(B){try{this.destination.error(B)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function T(L,B){return M.call(L,B)}class R{constructor(B){this.partialObserver=B}next(B){const{partialObserver:U}=this;if(U.next)try{U.next(B)}catch(W){w(W)}}error(B){const{partialObserver:U}=this;if(U.error)try{U.error(B)}catch(W){w(W)}else w(B)}complete(){const{partialObserver:B}=this;if(B.complete)try{B.complete()}catch(U){w(U)}}}class u extends O{constructor(B,U,W){let j;if(super(),(0,i.T)(B)||!B)j={next:B??void 0,error:U??void 0,complete:W??void 0};else{let G;this&&l.$.useDeprecatedNextContext?(G=Object.create(B),G.unsubscribe=()=>this.unsubscribe(),j={next:B.next&&T(B.next,G),error:B.error&&T(B.error,G),complete:B.complete&&T(B.complete,G)}):j=B}this.destination=new R(j)}}function w(L){l.$.useDeprecatedSynchronousErrorHandling?(0,D.l)(L):(0,e.m)(L)}function S(L,B){const{onStoppedNotification:U}=l.$;U&&v.f.setTimeout(()=>U(L,B))}const I={closed:!0,next:f.l,error:function C(L){throw L},complete:f.l}},18359:(N,b,n)=>{"use strict";n.d(b,{Kn:()=>m,yU:()=>f,Uv:()=>h});var i=n(98071);const l=(0,n(81853).L)(y=>function(D){y(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((O,M)=>`${M+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var e=n(57908);class f{constructor(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let v;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const T of D)T.remove(this);else D.remove(this);const{initialTeardown:O}=this;if((0,i.T)(O))try{O()}catch(T){v=T instanceof l?T.errors:[T]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const T of M)try{_(T)}catch(R){v=v??[],R instanceof l?v=[...v,...R.errors]:v.push(R)}}if(v)throw new l(v)}}add(v){var D;if(v&&v!==this)if(this.closed)_(v);else{if(v instanceof f){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(v)}}_hasParent(v){const{_parentage:D}=this;return D===v||Array.isArray(D)&&D.includes(v)}_addParent(v){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(v),D):D?[D,v]:v}_removeParent(v){const{_parentage:D}=this;D===v?this._parentage=null:Array.isArray(D)&&(0,e.o)(D,v)}remove(v){const{_finalizers:D}=this;D&&(0,e.o)(D,v),v instanceof f&&v._removeParent(this)}}f.EMPTY=(()=>{const y=new f;return y.closed=!0,y})();const m=f.EMPTY;function h(y){return y instanceof f||y&&"closed"in y&&(0,i.T)(y.remove)&&(0,i.T)(y.add)&&(0,i.T)(y.unsubscribe)}function _(y){(0,i.T)(y)?y():y.unsubscribe()}},41026:(N,b,n)=>{"use strict";n.d(b,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(N,b,n)=>{"use strict";n.d(b,{G:()=>m});var i=n(71985),t=n(18359),l=n(99898),e=n(54360),f=n(39974);class m extends i.c{constructor(_,y){super(),this.source=_,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,f.S)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new t.yU;const y=this.getSubject();_.add(this.source.subscribe((0,e._)(y,void 0,()=>{this._teardown(),y.complete()},v=>{this._teardown(),y.error(v)},()=>this._teardown()))),_.closed&&(this._connection=null,_=t.yU.EMPTY)}return _}refCount(){return(0,l.B)()(this)}}},84572:(N,b,n)=>{"use strict";n.d(b,{P:()=>D,z:()=>v});var i=n(71985),t=n(93073),l=n(22806),e=n(33669),f=n(6450),m=n(9326),h=n(58496),_=n(54360),y=n(45225);function v(...M){const T=(0,m.lI)(M),R=(0,m.ms)(M),{args:u,keys:w}=(0,t.D)(M);if(0===u.length)return(0,l.H)([],T);const C=new i.c(D(u,T,w?S=>(0,h.e)(w,S):e.D));return R?C.pipe((0,f.I)(R)):C}function D(M,T,R=e.D){return u=>{O(T,()=>{const{length:w}=M,C=new Array(w);let S=w,I=w;for(let L=0;L<w;L++)O(T,()=>{const B=(0,l.H)(M[L],T);let U=!1;B.subscribe((0,_._)(u,W=>{C[L]=W,U||(U=!0,I--),I||u.next(R(C.slice()))},()=>{--S||u.complete()}))},u)},u)}}function O(M,T,R){M?(0,y.N)(R,M,T):T()}},92688:(N,b,n)=>{"use strict";n.d(b,{x:()=>e});var i=n(79131),t=n(9326),l=n(22806);function e(...f){return(0,i.K)()((0,l.H)(f,(0,t.lI)(f)))}},59030:(N,b,n)=>{"use strict";n.d(b,{v:()=>l});var i=n(71985),t=n(58750);function l(e){return new i.c(f=>{(0,t.Tg)(e()).subscribe(f)})}},983:(N,b,n)=>{"use strict";n.d(b,{w:()=>t});const t=new(n(71985).c)(f=>f.complete())},27468:(N,b,n)=>{"use strict";n.d(b,{p:()=>_});var i=n(71985),t=n(93073),l=n(58750),e=n(9326),f=n(54360),m=n(6450),h=n(58496);function _(...y){const v=(0,e.ms)(y),{args:D,keys:O}=(0,t.D)(y),M=new i.c(T=>{const{length:R}=D;if(!R)return void T.complete();const u=new Array(R);let w=R,C=R;for(let S=0;S<R;S++){let I=!1;(0,l.Tg)(D[S]).subscribe((0,f._)(T,L=>{I||(I=!0,C--),u[S]=L},()=>w--,void 0,()=>{(!w||!I)&&(C||T.next(O?(0,h.e)(O,u):u),T.complete())}))}});return v?M.pipe((0,m.I)(v)):M}},22806:(N,b,n)=>{"use strict";n.d(b,{H:()=>U});var i=n(58750),t=n(40941),l=n(39974);function e(W,j=0){return(0,l.N)((G,H)=>{H.add(W.schedule(()=>G.subscribe(H),j))})}var h=n(71985),y=n(4761),v=n(98071),D=n(45225);function M(W,j){if(!W)throw new Error("Iterable cannot be null");return new h.c(G=>{(0,D.N)(G,j,()=>{const H=W[Symbol.asyncIterator]();(0,D.N)(G,j,()=>{H.next().then(V=>{V.done?G.complete():G.next(V.value)})},0,!0)})})}var T=n(55055),R=n(59858),u=n(47441),w=n(85397),C=n(37953),S=n(50591),I=n(15196);function U(W,j){return j?function B(W,j){if(null!=W){if((0,T.l)(W))return function f(W,j){return(0,i.Tg)(W).pipe(e(j),(0,t.Q)(j))}(W,j);if((0,u.X)(W))return function _(W,j){return new h.c(G=>{let H=0;return j.schedule(function(){H===W.length?G.complete():(G.next(W[H++]),G.closed||this.schedule())})})}(W,j);if((0,R.y)(W))return function m(W,j){return(0,i.Tg)(W).pipe(e(j),(0,t.Q)(j))}(W,j);if((0,C.T)(W))return M(W,j);if((0,w.x)(W))return function O(W,j){return new h.c(G=>{let H;return(0,D.N)(G,j,()=>{H=W[y.l](),(0,D.N)(G,j,()=>{let V,X;try{({value:V,done:X}=H.next())}catch(J){return void G.error(J)}X?G.complete():G.next(V)},0,!0)}),()=>(0,v.T)(H?.return)&&H.return()})}(W,j);if((0,I.U)(W))return function L(W,j){return M((0,I.C)(W),j)}(W,j)}throw(0,S.L)(W)}(W,j):(0,i.Tg)(W)}},33726:(N,b,n)=>{"use strict";n.d(b,{R:()=>v});var i=n(58750),t=n(71985),l=n(73028),e=n(47441),f=n(98071),m=n(6450);const h=["addListener","removeListener"],_=["addEventListener","removeEventListener"],y=["on","off"];function v(R,u,w,C){if((0,f.T)(w)&&(C=w,w=void 0),C)return v(R,u,w).pipe((0,m.I)(C));const[S,I]=function T(R){return(0,f.T)(R.addEventListener)&&(0,f.T)(R.removeEventListener)}(R)?_.map(L=>B=>R[L](u,B,w)):function O(R){return(0,f.T)(R.addListener)&&(0,f.T)(R.removeListener)}(R)?h.map(D(R,u)):function M(R){return(0,f.T)(R.on)&&(0,f.T)(R.off)}(R)?y.map(D(R,u)):[];if(!S&&(0,e.X)(R))return(0,l.Z)(L=>v(L,u,w))((0,i.Tg)(R));if(!S)throw new TypeError("Invalid event target");return new t.c(L=>{const B=(...U)=>L.next(1<U.length?U:U[0]);return S(B),()=>I(B)})}function D(R,u){return w=>C=>R[w](u,C)}},58750:(N,b,n)=>{"use strict";n.d(b,{Tg:()=>M});var i=n(31635),t=n(47441),l=n(59858),e=n(71985),f=n(55055),m=n(37953),h=n(50591),_=n(85397),y=n(15196),v=n(98071),D=n(45334),O=n(3494);function M(L){if(L instanceof e.c)return L;if(null!=L){if((0,f.l)(L))return function T(L){return new e.c(B=>{const U=L[O.s]();if((0,v.T)(U.subscribe))return U.subscribe(B);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(L);if((0,t.X)(L))return function R(L){return new e.c(B=>{for(let U=0;U<L.length&&!B.closed;U++)B.next(L[U]);B.complete()})}(L);if((0,l.y)(L))return function u(L){return new e.c(B=>{L.then(U=>{B.closed||(B.next(U),B.complete())},U=>B.error(U)).then(null,D.m)})}(L);if((0,m.T)(L))return C(L);if((0,_.x)(L))return function w(L){return new e.c(B=>{for(const U of L)if(B.next(U),B.closed)return;B.complete()})}(L);if((0,y.U)(L))return function S(L){return C((0,y.C)(L))}(L)}throw(0,h.L)(L)}function C(L){return new e.c(B=>{(function I(L,B){var U,W,j,G;return(0,i.sH)(this,void 0,void 0,function*(){try{for(U=(0,i.xN)(L);!(W=yield U.next()).done;)if(B.next(W.value),B.closed)return}catch(H){j={error:H}}finally{try{W&&!W.done&&(G=U.return)&&(yield G.call(U))}finally{if(j)throw j.error}}B.complete()})})(L,B).catch(U=>B.error(U))})}},40605:(N,b,n)=>{"use strict";n.d(b,{Y:()=>l});var i=n(43236),t=n(41584);function l(e=0,f=i.E){return e<0&&(e=0),(0,t.O)(e,e,f)}},57786:(N,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(26365),t=n(58750),l=n(983),e=n(9326),f=n(22806);function m(...h){const _=(0,e.lI)(h),y=(0,e.R0)(h,1/0),v=h;return v.length?1===v.length?(0,t.Tg)(v[0]):(0,i.U)(y)((0,f.H)(v,_)):l.w}},7673:(N,b,n)=>{"use strict";n.d(b,{of:()=>l});var i=n(9326),t=n(22806);function l(...e){const f=(0,i.lI)(e);return(0,t.H)(e,f)}},1033:(N,b,n)=>{"use strict";n.d(b,{O:()=>f});var i=n(71985),t=n(58750),l=n(42326),e=n(54360);function f(...h){return 1===(h=(0,l.K)(h)).length?(0,t.Tg)(h[0]):new i.c(function m(h){return _=>{let y=[];for(let v=0;y&&!_.closed&&v<h.length;v++)y.push((0,t.Tg)(h[v]).subscribe((0,e._)(_,D=>{if(y){for(let O=0;O<y.length;O++)O!==v&&y[O].unsubscribe();y=null}_.next(D)})))}}(h))}},18810:(N,b,n)=>{"use strict";n.d(b,{$:()=>l});var i=n(71985),t=n(98071);function l(e,f){const m=(0,t.T)(e)?e:()=>e,h=_=>_.error(m());return new i.c(f?_=>f.schedule(h,0,_):h)}},41584:(N,b,n)=>{"use strict";n.d(b,{O:()=>f});var i=n(71985),t=n(43236),l=n(79470);function f(m=0,h,_=t.b){let y=-1;return null!=h&&((0,l.m)(h)?_=h:y=h),new i.c(v=>{let D=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-_.now():m;D<0&&(D=0);let O=0;return _.schedule(function(){v.closed||(v.next(O++),0<=y?this.schedule(void 0,y):v.complete())},D)})}},44437:(N,b,n)=>{"use strict";n.d(b,{y:()=>h});var i=n(71985),t=n(58750),l=n(42326),e=n(983),f=n(54360),m=n(9326);function h(..._){const y=(0,m.ms)(_),v=(0,l.K)(_);return v.length?new i.c(D=>{let O=v.map(()=>[]),M=v.map(()=>!1);D.add(()=>{O=M=null});for(let T=0;!D.closed&&T<v.length;T++)(0,t.Tg)(v[T]).subscribe((0,f._)(D,R=>{if(O[T].push(R),O.every(u=>u.length)){const u=O.map(w=>w.shift());D.next(y?y(...u):u),O.some((w,C)=>!w.length&&M[C])&&D.complete()}},()=>{M[T]=!0,!O[T].length&&D.complete()}));return()=>{O=M=null}}):e.w}},54360:(N,b,n)=>{"use strict";n.d(b,{H:()=>l,_:()=>t});var i=n(47707);function t(e,f,m,h,_){return new l(e,f,m,h,_)}class l extends i.vU{constructor(f,m,h,_,y,v){super(f),this.onFinalize=y,this.shouldUnsubscribe=v,this._next=m?function(D){try{m(D)}catch(O){f.error(O)}}:super._next,this._error=_?function(D){try{_(D)}catch(O){f.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=h?function(){try{h()}catch(D){f.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}}},99437:(N,b,n)=>{"use strict";n.d(b,{W:()=>e});var i=n(58750),t=n(54360),l=n(39974);function e(f){return(0,l.N)((m,h)=>{let v,_=null,y=!1;_=m.subscribe((0,t._)(h,void 0,void 0,D=>{v=(0,i.Tg)(f(D,e(f)(m))),_?(_.unsubscribe(),_=null,v.subscribe(h)):y=!0})),y&&(_.unsubscribe(),_=null,v.subscribe(h))})}},79131:(N,b,n)=>{"use strict";n.d(b,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(N,b,n)=>{"use strict";n.d(b,{H:()=>l});var i=n(73028),t=n(98071);function l(e,f){return(0,t.T)(f)?(0,i.Z)(e,f,1):(0,i.Z)(e,1)}},70152:(N,b,n)=>{"use strict";n.d(b,{B:()=>e});var i=n(43236),t=n(39974),l=n(54360);function e(f,m=i.E){return(0,t.N)((h,_)=>{let y=null,v=null,D=null;const O=()=>{if(y){y.unsubscribe(),y=null;const T=v;v=null,_.next(T)}};function M(){const T=D+f,R=m.now();if(R<T)return y=this.schedule(void 0,T-R),void _.add(y);O()}h.subscribe((0,l._)(_,T=>{v=T,D=m.now(),y||(y=m.schedule(M,f),_.add(y))},()=>{O(),_.complete()},void 0,()=>{v=y=null}))})}},39901:(N,b,n)=>{"use strict";n.d(b,{U:()=>l});var i=n(39974),t=n(54360);function l(e){return(0,i.N)((f,m)=>{let h=!1;f.subscribe((0,t._)(m,_=>{h=!0,m.next(_)},()=>{h||m.next(e),m.complete()}))})}},35335:(N,b,n)=>{"use strict";n.d(b,{c:()=>v});var i=n(43236),t=n(92688),l=n(96697),e=n(73557),f=n(73703),m=n(73028),h=n(58750);function _(D,O){return O?M=>(0,t.x)(O.pipe((0,l.s)(1),(0,e.w)()),M.pipe(_(D))):(0,m.Z)((M,T)=>(0,h.Tg)(D(M,T)).pipe((0,l.s)(1),(0,f.u)(M)))}var y=n(41584);function v(D,O=i.E){const M=(0,y.O)(D,O);return _(()=>M)}},23294:(N,b,n)=>{"use strict";n.d(b,{F:()=>e});var i=n(33669),t=n(39974),l=n(54360);function e(m,h=i.D){return m=m??f,(0,t.N)((_,y)=>{let v,D=!0;_.subscribe((0,l._)(y,O=>{const M=h(O);(D||!m(v,M))&&(D=!1,v=M,y.next(O))}))})}function f(m,h){return m===h}},5964:(N,b,n)=>{"use strict";n.d(b,{p:()=>l});var i=n(39974),t=n(54360);function l(e,f){return(0,i.N)((m,h)=>{let _=0;m.subscribe((0,t._)(h,y=>e.call(f,y,_++)&&h.next(y)))})}},70980:(N,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(39974);function t(l){return(0,i.N)((e,f)=>{try{e.subscribe(f)}finally{f.add(l)}})}},47677:(N,b,n)=>{"use strict";n.d(b,{I:()=>l});var i=n(39974),t=n(54360);function l(f,m){return(0,i.N)(function e(f,m,h){const _="index"===h;return(y,v)=>{let D=0;y.subscribe((0,t._)(v,O=>{const M=D++;f.call(m,O,M,y)&&(v.next(_?M:O),v.complete())},()=>{v.next(_?-1:void 0),v.complete()}))}}(f,m,"value"))}},61594:(N,b,n)=>{"use strict";n.d(b,{$:()=>h});var i=n(9350),t=n(5964),l=n(96697),e=n(39901),f=n(93774),m=n(33669);function h(_,y){const v=arguments.length>=2;return D=>D.pipe(_?(0,t.p)((O,M)=>_(O,M,D)):m.D,(0,l.s)(1),v?(0,e.U)(y):(0,f.v)(()=>new i.G))}},73557:(N,b,n)=>{"use strict";n.d(b,{w:()=>e});var i=n(39974),t=n(54360),l=n(85343);function e(){return(0,i.N)((f,m)=>{f.subscribe((0,t._)(m,l.l))})}},67018:(N,b,n)=>{"use strict";n.d(b,{H:()=>h});var i=n(9350),t=n(5964),l=n(55109),e=n(93774),f=n(39901),m=n(33669);function h(_,y){const v=arguments.length>=2;return D=>D.pipe(_?(0,t.p)((O,M)=>_(O,M,D)):m.D,(0,l.o)(1),v?(0,f.U)(y):(0,e.v)(()=>new i.G))}},96354:(N,b,n)=>{"use strict";n.d(b,{T:()=>l});var i=n(39974),t=n(54360);function l(e,f){return(0,i.N)((m,h)=>{let _=0;m.subscribe((0,t._)(h,y=>{h.next(e.call(f,y,_++))}))})}},73703:(N,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(96354);function t(l){return(0,i.T)(()=>l)}},79335:(N,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(39974),t=n(42326),l=n(26365),e=n(9326),f=n(22806);function m(...h){const _=(0,e.lI)(h),y=(0,e.R0)(h,1/0);return h=(0,t.K)(h),(0,i.N)((v,D)=>{(0,l.U)(y)((0,f.H)([v,...h],_)).subscribe(D)})}},26365:(N,b,n)=>{"use strict";n.d(b,{U:()=>l});var i=n(73028),t=n(33669);function l(e=1/0){return(0,i.Z)(t.D,e)}},85412:(N,b,n)=>{"use strict";n.d(b,{h:()=>e});var i=n(58750),t=n(45225),l=n(54360);function e(f,m,h,_,y,v,D,O){const M=[];let T=0,R=0,u=!1;const w=()=>{u&&!M.length&&!T&&m.complete()},C=I=>T<_?S(I):M.push(I),S=I=>{v&&m.next(I),T++;let L=!1;(0,i.Tg)(h(I,R++)).subscribe((0,l._)(m,B=>{y?.(B),v?C(B):m.next(B)},()=>{L=!0},void 0,()=>{if(L)try{for(T--;M.length&&T<_;){const B=M.shift();D?(0,t.N)(m,D,()=>S(B)):S(B)}w()}catch(B){m.error(B)}}))};return f.subscribe((0,l._)(m,C,()=>{u=!0,w()})),()=>{O?.()}}},73028:(N,b,n)=>{"use strict";n.d(b,{Z:()=>m});var i=n(96354),t=n(58750),l=n(39974),e=n(85412),f=n(98071);function m(h,_,y=1/0){return(0,f.T)(_)?m((v,D)=>(0,i.T)((O,M)=>_(v,O,D,M))((0,t.Tg)(h(v,D))),y):("number"==typeof _&&(y=_),(0,l.N)((v,D)=>(0,e.h)(v,D,h,y)))}},40941:(N,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(45225),t=n(39974),l=n(54360);function e(f,m=0){return(0,t.N)((h,_)=>{h.subscribe((0,l._)(_,y=>(0,i.N)(_,f,()=>_.next(y),m),()=>(0,i.N)(_,f,()=>_.complete(),m),y=>(0,i.N)(_,f,()=>_.error(y),m)))})}},19852:(N,b,n)=>{"use strict";n.d(b,{T:()=>l});var i=n(46649),t=n(39974);function l(e,f){return(0,t.N)((0,i.S)(e,f,arguments.length>=2,!1,!0))}},99898:(N,b,n)=>{"use strict";n.d(b,{B:()=>l});var i=n(39974),t=n(54360);function l(){return(0,i.N)((e,f)=>{let m=null;e._refCount++;const h=(0,t._)(f,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const _=e._connection,y=m;m=null,_&&(!y||_===y)&&_.unsubscribe(),f.unsubscribe()});e.subscribe(h),h.closed||(m=e.connect())})}},31943:(N,b,n)=>{"use strict";n.d(b,{S:()=>l});var i=n(39974),t=n(46649);function l(e,f){return(0,i.N)((0,t.S)(e,f,arguments.length>=2,!0))}},46649:(N,b,n)=>{"use strict";n.d(b,{S:()=>t});var i=n(54360);function t(l,e,f,m,h){return(_,y)=>{let v=f,D=e,O=0;_.subscribe((0,i._)(y,M=>{const T=O++;D=v?l(D,M,T):(v=!0,M),m&&y.next(D)},h&&(()=>{v&&y.next(D),y.complete()})))}}},97647:(N,b,n)=>{"use strict";n.d(b,{u:()=>f});var i=n(58750),t=n(21413),l=n(47707),e=n(39974);function f(h={}){const{connector:_=(()=>new t.B),resetOnError:y=!0,resetOnComplete:v=!0,resetOnRefCountZero:D=!0}=h;return O=>{let M,T,R,u=0,w=!1,C=!1;const S=()=>{T?.unsubscribe(),T=void 0},I=()=>{S(),M=R=void 0,w=C=!1},L=()=>{const B=M;I(),B?.unsubscribe()};return(0,e.N)((B,U)=>{u++,!C&&!w&&S();const W=R=R??_();U.add(()=>{u--,0===u&&!C&&!w&&(T=m(L,D))}),W.subscribe(U),!M&&u>0&&(M=new l.Ms({next:j=>W.next(j),error:j=>{C=!0,S(),T=m(I,y,j),W.error(j)},complete:()=>{w=!0,S(),T=m(I,v),W.complete()}}),(0,i.Tg)(B).subscribe(M))})(O)}}function m(h,_,...y){if(!0===_)return void h();if(!1===_)return;const v=new l.Ms({next:()=>{v.unsubscribe(),h()}});return(0,i.Tg)(_(...y)).subscribe(v)}},44668:(N,b,n)=>{"use strict";n.d(b,{t:()=>l});var i=n(92771),t=n(97647);function l(e,f,m){let h,_=!1;return e&&"object"==typeof e?({bufferSize:h=1/0,windowTime:f=1/0,refCount:_=!1,scheduler:m}=e):h=e??1/0,(0,t.u)({connector:()=>new i.m(h,f,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},65245:(N,b,n)=>{"use strict";n.d(b,{i:()=>t});var i=n(5964);function t(l){return(0,i.p)((e,f)=>l<=f)}},28492:(N,b,n)=>{"use strict";n.d(b,{j:()=>l});var i=n(39974),t=n(54360);function l(e){return(0,i.N)((f,m)=>{let h=!1,_=0;f.subscribe((0,t._)(m,y=>(h||(h=!e(y,_++)))&&m.next(y)))})}},99172:(N,b,n)=>{"use strict";n.d(b,{Z:()=>e});var i=n(92688),t=n(9326),l=n(39974);function e(...f){const m=(0,t.lI)(f);return(0,l.N)((h,_)=>{(m?(0,i.x)(f,h,m):(0,i.x)(f,h)).subscribe(_)})}},25558:(N,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(58750),t=n(39974),l=n(54360);function e(f,m){return(0,t.N)((h,_)=>{let y=null,v=0,D=!1;const O=()=>D&&!y&&_.complete();h.subscribe((0,l._)(_,M=>{y?.unsubscribe();let T=0;const R=v++;(0,i.Tg)(f(M,R)).subscribe(y=(0,l._)(_,u=>_.next(m?m(M,u,R,T++):u),()=>{y=null,O()}))},()=>{D=!0,O()}))})}},96697:(N,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(983),t=n(39974),l=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,h)=>{let _=0;m.subscribe((0,l._)(h,y=>{++_<=f&&(h.next(y),f<=_&&h.complete())}))})}},55109:(N,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(983),t=n(39974),l=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,h)=>{let _=[];m.subscribe((0,l._)(h,y=>{_.push(y),f<_.length&&_.shift()},()=>{for(const y of _)h.next(y);h.complete()},void 0,()=>{_=null}))})}},56977:(N,b,n)=>{"use strict";n.d(b,{Q:()=>f});var i=n(39974),t=n(54360),l=n(58750),e=n(85343);function f(m){return(0,i.N)((h,_)=>{(0,l.Tg)(m).subscribe((0,t._)(_,()=>_.complete(),e.l)),!_.closed&&h.subscribe(_)})}},77048:(N,b,n)=>{"use strict";n.d(b,{v:()=>l});var i=n(39974),t=n(54360);function l(e,f=!1){return(0,i.N)((m,h)=>{let _=0;m.subscribe((0,t._)(h,y=>{const v=e(y,_++);(v||f)&&h.next(y),!v&&h.complete()}))})}},88141:(N,b,n)=>{"use strict";n.d(b,{M:()=>f});var i=n(98071),t=n(39974),l=n(54360),e=n(33669);function f(m,h,_){const y=(0,i.T)(m)||h||_?{next:m,error:h,complete:_}:m;return y?(0,t.N)((v,D)=>{var O;null===(O=y.subscribe)||void 0===O||O.call(y);let M=!0;v.subscribe((0,l._)(D,T=>{var R;null===(R=y.next)||void 0===R||R.call(y,T),D.next(T)},()=>{var T;M=!1,null===(T=y.complete)||void 0===T||T.call(y),D.complete()},T=>{var R;M=!1,null===(R=y.error)||void 0===R||R.call(y,T),D.error(T)},()=>{var T,R;M&&(null===(T=y.unsubscribe)||void 0===T||T.call(y)),null===(R=y.finalize)||void 0===R||R.call(y)}))}):e.D}},93774:(N,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(9350),t=n(39974),l=n(54360);function e(m=f){return(0,t.N)((h,_)=>{let y=!1;h.subscribe((0,l._)(_,v=>{y=!0,_.next(v)},()=>y?_.complete():_.error(m())))})}function f(){return new i.G}},56594:(N,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(19852),t=n(39974);const l=(f,m)=>(f.push(m),f);function e(){return(0,t.N)((f,m)=>{(0,i.T)(l,[])(f).subscribe(m)})}},53993:(N,b,n)=>{"use strict";n.d(b,{E:()=>h});var i=n(39974),t=n(54360),l=n(58750),e=n(33669),f=n(85343),m=n(9326);function h(..._){const y=(0,m.ms)(_);return(0,i.N)((v,D)=>{const O=_.length,M=new Array(O);let T=_.map(()=>!1),R=!1;for(let u=0;u<O;u++)(0,l.Tg)(_[u]).subscribe((0,t._)(D,w=>{M[u]=w,!R&&!T[u]&&(T[u]=!0,(R=T.every(e.D))&&(T=null))},f.l));v.subscribe((0,t._)(D,u=>{if(R){const w=[u,...M];D.next(y?y(...w):w)}}))})}},96780:(N,b,n)=>{"use strict";n.d(b,{R:()=>f});var i=n(18359);class t extends i.yU{constructor(h,_){super()}schedule(h,_=0){return this}}const l={setInterval(m,h,..._){const{delegate:y}=l;return y?.setInterval?y.setInterval(m,h,..._):setInterval(m,h,..._)},clearInterval(m){const{delegate:h}=l;return(h?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class f extends t{constructor(h,_){super(h,_),this.scheduler=h,this.work=_,this.pending=!1}schedule(h,_=0){var y;if(this.closed)return this;this.state=h;const v=this.id,D=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(D,v,_)),this.pending=!0,this.delay=_,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(D,this.id,_),this}requestAsyncId(h,_,y=0){return l.setInterval(h.flush.bind(h,this),y)}recycleAsyncId(h,_,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return _;null!=_&&l.clearInterval(_)}execute(h,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(h,_);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(h,_){let v,y=!1;try{this.work(h)}catch(D){y=!0,v=D||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:h,scheduler:_}=this,{actions:y}=_;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(y,this),null!=h&&(this.id=this.recycleAsyncId(_,h,null)),this.delay=null,super.unsubscribe()}}}},39687:(N,b,n)=>{"use strict";n.d(b,{q:()=>l});var i=n(86129);class t{constructor(f,m=t.now){this.schedulerActionCtor=f,this.now=m}schedule(f,m=0,h){return new this.schedulerActionCtor(this,f).schedule(h,m)}}t.now=i.U.now;class l extends t{constructor(f,m=t.now){super(f,m),this.actions=[],this._active=!1}flush(f){const{actions:m}=this;if(this._active)return void m.push(f);let h;this._active=!0;do{if(h=f.execute(f.state,f.delay))break}while(f=m.shift());if(this._active=!1,h){for(;f=m.shift();)f.unsubscribe();throw h}}}},25007:(N,b,n)=>{"use strict";n.d(b,{$:()=>T});var i=n(96780);let l,t=1;const e={};function f(u){return u in e&&(delete e[u],!0)}const m={setImmediate(u){const w=t++;return e[w]=!0,l||(l=Promise.resolve()),l.then(()=>f(w)&&u()),w},clearImmediate(u){f(u)}},{setImmediate:_,clearImmediate:y}=m,v={setImmediate(...u){const{delegate:w}=v;return(w?.setImmediate||_)(...u)},clearImmediate(u){const{delegate:w}=v;return(w?.clearImmediate||y)(u)},delegate:void 0};var O=n(39687);const T=new class M extends O.q{flush(w){this._active=!0;const C=this._scheduled;this._scheduled=void 0;const{actions:S}=this;let I;w=w||S.shift();do{if(I=w.execute(w.state,w.delay))break}while((w=S[0])&&w.id===C&&S.shift());if(this._active=!1,I){for(;(w=S[0])&&w.id===C&&S.shift();)w.unsubscribe();throw I}}}(class D extends i.R{constructor(w,C){super(w,C),this.scheduler=w,this.work=C}requestAsyncId(w,C,S=0){return null!==S&&S>0?super.requestAsyncId(w,C,S):(w.actions.push(this),w._scheduled||(w._scheduled=v.setImmediate(w.flush.bind(w,void 0))))}recycleAsyncId(w,C,S=0){var I;if(null!=S?S>0:this.delay>0)return super.recycleAsyncId(w,C,S);const{actions:L}=w;null!=C&&(null===(I=L[L.length-1])||void 0===I?void 0:I.id)!==C&&(v.clearImmediate(C),w._scheduled===C&&(w._scheduled=void 0))}})},43236:(N,b,n)=>{"use strict";n.d(b,{E:()=>l,b:()=>e});var i=n(96780);const l=new(n(39687).q)(i.R),e=l},86129:(N,b,n)=>{"use strict";n.d(b,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(N,b,n)=>{"use strict";n.d(b,{T:()=>f});var i=n(96780),l=n(39687);const f=new class e extends l.q{}(class t extends i.R{constructor(_,y){super(_,y),this.scheduler=_,this.work=y}schedule(_,y=0){return y>0?super.schedule(_,y):(this.delay=y,this.state=_,this.scheduler.flush(this),this)}execute(_,y){return y>0||this.closed?super.execute(_,y):this._execute(_,y)}requestAsyncId(_,y,v=0){return null!=v&&v>0||null==v&&this.delay>0?super.requestAsyncId(_,y,v):(_.flush(this),0)}})},19270:(N,b,n)=>{"use strict";n.d(b,{f:()=>i});const i={setTimeout(t,l,...e){const{delegate:f}=i;return f?.setTimeout?f.setTimeout(t,l,...e):setTimeout(t,l,...e)},clearTimeout(t){const{delegate:l}=i;return(l?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(N,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(N,b,n)=>{"use strict";n.d(b,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(N,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=(0,n(81853).L)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(N,b,n)=>{"use strict";n.d(b,{R0:()=>m,lI:()=>f,ms:()=>e});var i=n(98071),t=n(79470);function l(h){return h[h.length-1]}function e(h){return(0,i.T)(l(h))?h.pop():void 0}function f(h){return(0,t.m)(l(h))?h.pop():void 0}function m(h,_){return"number"==typeof l(h)?h.pop():_}},93073:(N,b,n)=>{"use strict";n.d(b,{D:()=>f});const{isArray:i}=Array,{getPrototypeOf:t,prototype:l,keys:e}=Object;function f(h){if(1===h.length){const _=h[0];if(i(_))return{args:_,keys:null};if(function m(h){return h&&"object"==typeof h&&t(h)===l}(_)){const y=e(_);return{args:y.map(v=>_[v]),keys:y}}}return{args:h,keys:null}}},42326:(N,b,n)=>{"use strict";n.d(b,{K:()=>t});const{isArray:i}=Array;function t(l){return 1===l.length&&i(l[0])?l[0]:l}},57908:(N,b,n)=>{"use strict";function i(t,l){if(t){const e=t.indexOf(l);0<=e&&t.splice(e,1)}}n.d(b,{o:()=>i})},81853:(N,b,n)=>{"use strict";function i(t){const e=t(f=>{Error.call(f),f.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(b,{L:()=>i})},58496:(N,b,n)=>{"use strict";function i(t,l){return t.reduce((e,f,m)=>(e[f]=l[m],e),{})}n.d(b,{e:()=>i})},49786:(N,b,n)=>{"use strict";n.d(b,{Y:()=>l,l:()=>e});var i=n(41026);let t=null;function l(f){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),f(),m){const{errorThrown:h,error:_}=t;if(t=null,h)throw _}}else f()}function e(f){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=f)}},45225:(N,b,n)=>{"use strict";function i(t,l,e,f=0,m=!1){const h=l.schedule(function(){e(),m?t.add(this.schedule(null,f)):this.unsubscribe()},f);if(t.add(h),!m)return h}n.d(b,{N:()=>i})},33669:(N,b,n)=>{"use strict";function i(t){return t}n.d(b,{D:()=>i})},47441:(N,b,n)=>{"use strict";n.d(b,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(N,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(98071);function t(l){return Symbol.asyncIterator&&(0,i.T)(l?.[Symbol.asyncIterator])}},98071:(N,b,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(b,{T:()=>i})},55055:(N,b,n)=>{"use strict";n.d(b,{l:()=>l});var i=n(3494),t=n(98071);function l(e){return(0,t.T)(e[i.s])}},85397:(N,b,n)=>{"use strict";n.d(b,{x:()=>l});var i=n(4761),t=n(98071);function l(e){return(0,t.T)(e?.[i.l])}},74402:(N,b,n)=>{"use strict";n.d(b,{A:()=>l});var i=n(71985),t=n(98071);function l(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(N,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(98071);function t(l){return(0,i.T)(l?.then)}},15196:(N,b,n)=>{"use strict";n.d(b,{C:()=>l,U:()=>e});var i=n(31635),t=n(98071);function l(f){return(0,i.AQ)(this,arguments,function*(){const h=f.getReader();try{for(;;){const{value:_,done:y}=yield(0,i.N3)(h.read());if(y)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(_)}}finally{h.releaseLock()}})}function e(f){return(0,t.T)(f?.getReader)}},79470:(N,b,n)=>{"use strict";n.d(b,{m:()=>t});var i=n(98071);function t(l){return l&&(0,i.T)(l.schedule)}},39974:(N,b,n)=>{"use strict";n.d(b,{N:()=>l,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function l(e){return f=>{if(t(f))return f.lift(function(m){try{return e(m,this)}catch(h){this.error(h)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(N,b,n)=>{"use strict";n.d(b,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(f){return(0,i.T)(m=>function l(f,m){return t(m)?f(...m):f(m)}(f,m))}},85343:(N,b,n)=>{"use strict";function i(){}n.d(b,{l:()=>i})},71203:(N,b,n)=>{"use strict";n.d(b,{F:()=>t,m:()=>l});var i=n(33669);function t(...e){return l(e)}function l(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((h,_)=>_(h),m)}}},45334:(N,b,n)=>{"use strict";n.d(b,{m:()=>l});var i=n(41026),t=n(19270);function l(e){t.f.setTimeout(()=>{const{onUnhandledError:f}=i.$;if(!f)throw e;f(e)})}},50591:(N,b,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(b,{L:()=>i})},36883:(N,b,n)=>{"use strict";n.d(b,{A:()=>O});var i,t=new Uint8Array(16);function l(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var h=[],_=0;_<256;++_)h.push((_+256).toString(16).substr(1));const v=function y(M){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=(h[M[T+0]]+h[M[T+1]]+h[M[T+2]]+h[M[T+3]]+"-"+h[M[T+4]]+h[M[T+5]]+"-"+h[M[T+6]]+h[M[T+7]]+"-"+h[M[T+8]]+h[M[T+9]]+"-"+h[M[T+10]]+h[M[T+11]]+h[M[T+12]]+h[M[T+13]]+h[M[T+14]]+h[M[T+15]]).toLowerCase();if(!function f(M){return"string"==typeof M&&e.test(M)}(R))throw TypeError("Stringified UUID is invalid");return R},O=function D(M,T,R){var u=(M=M||{}).random||(M.rng||l)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,T){R=R||0;for(var w=0;w<16;++w)T[R+w]=u[w];return T}return v(u)}},96935:()=>{"use strict";const N=globalThis;function b(Mt){return(N.__Zone_symbol_prefix||"__zone_symbol__")+Mt}const t=Object.getOwnPropertyDescriptor,l=Object.defineProperty,e=Object.getPrototypeOf,f=Object.create,m=Array.prototype.slice,h="addEventListener",_="removeEventListener",y=b(h),v=b(_),D="true",O="false",M=b("");function T(Mt,Ht){return Zone.current.wrap(Mt,Ht)}function R(Mt,Ht,Kt,Pt,Ct){return Zone.current.scheduleMacroTask(Mt,Ht,Kt,Pt,Ct)}const u=b,w=typeof window<"u",C=w?window:void 0,S=w&&C||globalThis,I="removeAttribute";function L(Mt,Ht){for(let Kt=Mt.length-1;Kt>=0;Kt--)"function"==typeof Mt[Kt]&&(Mt[Kt]=T(Mt[Kt],Ht+"_"+Kt));return Mt}function U(Mt){return!Mt||!1!==Mt.writable&&!("function"==typeof Mt.get&&typeof Mt.set>"u")}const W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,j=!("nw"in S)&&typeof S.process<"u"&&"[object process]"===S.process.toString(),G=!j&&!W&&!(!w||!C.HTMLElement),H=typeof S.process<"u"&&"[object process]"===S.process.toString()&&!W&&!(!w||!C.HTMLElement),V={},X=u("enable_beforeunload"),J=function(Mt){if(!(Mt=Mt||S.event))return;let Ht=V[Mt.type];Ht||(Ht=V[Mt.type]=u("ON_PROPERTY"+Mt.type));const Kt=this||Mt.target||S,Pt=Kt[Ht];let Ct;return G&&Kt===C&&"error"===Mt.type?(Ct=Pt&&Pt.call(this,Mt.message,Mt.filename,Mt.lineno,Mt.colno,Mt.error),!0===Ct&&Mt.preventDefault()):(Ct=Pt&&Pt.apply(this,arguments),"beforeunload"===Mt.type&&S[X]&&"string"==typeof Ct?Mt.returnValue=Ct:null!=Ct&&!Ct&&Mt.preventDefault()),Ct};function q(Mt,Ht,Kt){let Pt=t(Mt,Ht);if(!Pt&&Kt&&t(Kt,Ht)&&(Pt={enumerable:!0,configurable:!0}),!Pt||!Pt.configurable)return;const Ct=u("on"+Ht+"patched");if(Mt.hasOwnProperty(Ct)&&Mt[Ct])return;delete Pt.writable,delete Pt.value;const Qt=Pt.get,Et=Pt.set,Lt=Ht.slice(2);let it=V[Lt];it||(it=V[Lt]=u("ON_PROPERTY"+Lt)),Pt.set=function(Ne){let ke=this;!ke&&Mt===S&&(ke=S),ke&&("function"==typeof ke[it]&&ke.removeEventListener(Lt,J),Et&&Et.call(ke,null),ke[it]=Ne,"function"==typeof Ne&&ke.addEventListener(Lt,J,!1))},Pt.get=function(){let Ne=this;if(!Ne&&Mt===S&&(Ne=S),!Ne)return null;const ke=Ne[it];if(ke)return ke;if(Qt){let ze=Qt.call(this);if(ze)return Pt.set.call(this,ze),"function"==typeof Ne[I]&&Ne.removeAttribute(Ht),ze}return null},l(Mt,Ht,Pt),Mt[Ct]=!0}function Q(Mt,Ht,Kt){if(Ht)for(let Pt=0;Pt<Ht.length;Pt++)q(Mt,"on"+Ht[Pt],Kt);else{const Pt=[];for(const Ct in Mt)"on"==Ct.slice(0,2)&&Pt.push(Ct);for(let Ct=0;Ct<Pt.length;Ct++)q(Mt,Pt[Ct],Kt)}}const Y=u("originalInstance");function z(Mt){const Ht=S[Mt];if(!Ht)return;S[u(Mt)]=Ht,S[Mt]=function(){const Ct=L(arguments,Mt);switch(Ct.length){case 0:this[Y]=new Ht;break;case 1:this[Y]=new Ht(Ct[0]);break;case 2:this[Y]=new Ht(Ct[0],Ct[1]);break;case 3:this[Y]=new Ht(Ct[0],Ct[1],Ct[2]);break;case 4:this[Y]=new Ht(Ct[0],Ct[1],Ct[2],Ct[3]);break;default:throw new Error("Arg list too long.")}},se(S[Mt],Ht);const Kt=new Ht(function(){});let Pt;for(Pt in Kt)"XMLHttpRequest"===Mt&&"responseBlob"===Pt||function(Ct){"function"==typeof Kt[Ct]?S[Mt].prototype[Ct]=function(){return this[Y][Ct].apply(this[Y],arguments)}:l(S[Mt].prototype,Ct,{set:function(Qt){"function"==typeof Qt?(this[Y][Ct]=T(Qt,Mt+"."+Ct),se(this[Y][Ct],Qt)):this[Y][Ct]=Qt},get:function(){return this[Y][Ct]}})}(Pt);for(Pt in Ht)"prototype"!==Pt&&Ht.hasOwnProperty(Pt)&&(S[Mt][Pt]=Ht[Pt])}function Z(Mt,Ht,Kt){let Pt=Mt;for(;Pt&&!Pt.hasOwnProperty(Ht);)Pt=e(Pt);!Pt&&Mt[Ht]&&(Pt=Mt);const Ct=u(Ht);let Qt=null;if(Pt&&(!(Qt=Pt[Ct])||!Pt.hasOwnProperty(Ct))&&(Qt=Pt[Ct]=Pt[Ht],U(Pt&&t(Pt,Ht)))){const Lt=Kt(Qt,Ct,Ht);Pt[Ht]=function(){return Lt(this,arguments)},se(Pt[Ht],Qt)}return Qt}function oe(Mt,Ht,Kt){let Pt=null;function Ct(Qt){const Et=Qt.data;return Et.args[Et.cbIdx]=function(){Qt.invoke.apply(this,arguments)},Pt.apply(Et.target,Et.args),Qt}Pt=Z(Mt,Ht,Qt=>function(Et,Lt){const it=Kt(Et,Lt);return it.cbIdx>=0&&"function"==typeof Lt[it.cbIdx]?R(it.name,Lt[it.cbIdx],it,Ct):Qt.apply(Et,Lt)})}function se(Mt,Ht){Mt[u("OriginalDelegate")]=Ht}let de=!1,te=!1;function Ee(){if(de)return te;de=!0;try{const Mt=C.navigator.userAgent;(-1!==Mt.indexOf("MSIE ")||-1!==Mt.indexOf("Trident/")||-1!==Mt.indexOf("Edge/"))&&(te=!0)}catch{}return te}function be(Mt){return"function"==typeof Mt}function pe(Mt){return"number"==typeof Mt}let re=!1;if(typeof window<"u")try{const Mt=Object.defineProperty({},"passive",{get:function(){re=!0}});window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{re=!1}const ye={useG:!0},De={},nt={},mt=new RegExp("^"+M+"(\\w+)(true|false)$"),xe=u("propagationStopped");function ot(Mt,Ht){const Kt=(Ht?Ht(Mt):Mt)+O,Pt=(Ht?Ht(Mt):Mt)+D,Ct=M+Kt,Qt=M+Pt;De[Mt]={},De[Mt][O]=Ct,De[Mt][D]=Qt}function $e(Mt,Ht,Kt,Pt){const Ct=Pt&&Pt.add||h,Qt=Pt&&Pt.rm||_,Et=Pt&&Pt.listeners||"eventListeners",Lt=Pt&&Pt.rmAll||"removeAllListeners",it=u(Ct),Ne="."+Ct+":",ke="prependListener",ze="."+ke+":",Ue=function(fn,Cn,ss){if(fn.isRemoved)return;const us=fn.callback;let Vs;"object"==typeof us&&us.handleEvent&&(fn.callback=lt=>us.handleEvent(lt),fn.originalDelegate=us);try{fn.invoke(fn,Cn,[ss])}catch(lt){Vs=lt}const gt=fn.options;return gt&&"object"==typeof gt&&gt.once&&Cn[Qt].call(Cn,ss.type,fn.originalDelegate?fn.originalDelegate:fn.callback,gt),Vs};function St(fn,Cn,ss){if(!(Cn=Cn||Mt.event))return;const us=fn||Cn.target||Mt,Vs=us[De[Cn.type][ss?D:O]];if(Vs){const gt=[];if(1===Vs.length){const lt=Ue(Vs[0],us,Cn);lt&&gt.push(lt)}else{const lt=Vs.slice();for(let Yt=0;Yt<lt.length&&(!Cn||!0!==Cn[xe]);Yt++){const Pn=Ue(lt[Yt],us,Cn);Pn&&gt.push(Pn)}}if(1===gt.length)throw gt[0];for(let lt=0;lt<gt.length;lt++){const Yt=gt[lt];Ht.nativeScheduleMicroTask(()=>{throw Yt})}}}const Qe=function(fn){return St(this,fn,!1)},xt=function(fn){return St(this,fn,!0)};function _t(fn,Cn){if(!fn)return!1;let ss=!0;Cn&&void 0!==Cn.useG&&(ss=Cn.useG);const us=Cn&&Cn.vh;let Vs=!0;Cn&&void 0!==Cn.chkDup&&(Vs=Cn.chkDup);let gt=!1;Cn&&void 0!==Cn.rt&&(gt=Cn.rt);let lt=fn;for(;lt&&!lt.hasOwnProperty(Ct);)lt=e(lt);if(!lt&&fn[Ct]&&(lt=fn),!lt||lt[it])return!1;const Yt=Cn&&Cn.eventNameToString,Pn={},kn=lt[it]=lt[Ct],is=lt[u(Qt)]=lt[Qt],as=lt[u(Et)]=lt[Et],Ys=lt[u(Lt)]=lt[Lt];let gs;Cn&&Cn.prepend&&(gs=lt[u(Cn.prepend)]=lt[Cn.prepend]);const ri=ss?function(jt){if(!Pn.isExisting)return kn.call(Pn.target,Pn.eventName,Pn.capture?xt:Qe,Pn.options)}:function(jt){return kn.call(Pn.target,Pn.eventName,jt.invoke,Pn.options)},ft=ss?function(jt){if(!jt.isRemoved){const nn=De[jt.eventName];let Dn;nn&&(Dn=nn[jt.capture?D:O]);const Vn=Dn&&jt.target[Dn];if(Vn)for(let xn=0;xn<Vn.length;xn++)if(Vn[xn]===jt){Vn.splice(xn,1),jt.isRemoved=!0,jt.removeAbortListener&&(jt.removeAbortListener(),jt.removeAbortListener=null),0===Vn.length&&(jt.allRemoved=!0,jt.target[Dn]=null);break}}if(jt.allRemoved)return is.call(jt.target,jt.eventName,jt.capture?xt:Qe,jt.options)}:function(jt){return is.call(jt.target,jt.eventName,jt.invoke,jt.options)},Ke=Cn&&Cn.diff?Cn.diff:function(jt,nn){const Dn=typeof nn;return"function"===Dn&&jt.callback===nn||"object"===Dn&&jt.originalDelegate===nn},en=Zone[u("UNPATCHED_EVENTS")],at=Mt[u("PASSIVE_EVENTS")],vt=function(jt,nn,Dn,Vn,xn=!1,fs=!1){return function(){const Ms=this||Mt;let ys=arguments[0];Cn&&Cn.transferEventName&&(ys=Cn.transferEventName(ys));let ls=arguments[1];if(!ls)return jt.apply(this,arguments);if(j&&"uncaughtException"===ys)return jt.apply(this,arguments);let Ts=!1;if("function"!=typeof ls){if(!ls.handleEvent)return jt.apply(this,arguments);Ts=!0}if(us&&!us(jt,ls,Ms,arguments))return;const Mi=re&&!!at&&-1!==at.indexOf(ys),ji=function dt(jt){if("object"==typeof jt&&null!==jt){const nn={...jt};return jt.signal&&(nn.signal=jt.signal),nn}return jt}(function Ss(jt,nn){return!re&&"object"==typeof jt&&jt?!!jt.capture:re&&nn?"boolean"==typeof jt?{capture:jt,passive:!0}:jt?"object"==typeof jt&&!1!==jt.passive?{...jt,passive:!0}:jt:{passive:!0}:jt}(arguments[2],Mi)),Ai=ji?.signal;if(Ai?.aborted)return;if(en)for(let bn=0;bn<en.length;bn++)if(ys===en[bn])return Mi?jt.call(Ms,ys,ls,ji):jt.apply(this,arguments);const Fi=!!ji&&("boolean"==typeof ji||ji.capture),wr=!(!ji||"object"!=typeof ji)&&ji.once,Qi=Zone.current;let Is=De[ys];Is||(ot(ys,Yt),Is=De[ys]);const Hs=Is[Fi?D:O];let Di,$i=Ms[Hs],ao=!1;if($i){if(ao=!0,Vs)for(let bn=0;bn<$i.length;bn++)if(Ke($i[bn],ls))return}else $i=Ms[Hs]=[];const Ft=Ms.constructor.name,gn=nt[Ft];gn&&(Di=gn[ys]),Di||(Di=Ft+nn+(Yt?Yt(ys):ys)),Pn.options=ji,wr&&(Pn.options.once=!1),Pn.target=Ms,Pn.capture=Fi,Pn.eventName=ys,Pn.isExisting=ao;const tn=ss?ye:void 0;tn&&(tn.taskData=Pn),Ai&&(Pn.options.signal=void 0);const $t=Qi.scheduleEventTask(Di,ls,tn,Dn,Vn);if(Ai){Pn.options.signal=Ai;const bn=()=>$t.zone.cancelTask($t);jt.call(Ai,"abort",bn,{once:!0}),$t.removeAbortListener=()=>Ai.removeEventListener("abort",bn)}return Pn.target=null,tn&&(tn.taskData=null),wr&&(Pn.options.once=!0),!re&&"boolean"==typeof $t.options||($t.options=ji),$t.target=Ms,$t.capture=Fi,$t.eventName=ys,Ts&&($t.originalDelegate=ls),fs?$i.unshift($t):$i.push($t),xn?Ms:void 0}};return lt[Ct]=vt(kn,Ne,ri,ft,gt),gs&&(lt[ke]=vt(gs,ze,function(jt){return gs.call(Pn.target,Pn.eventName,jt.invoke,Pn.options)},ft,gt,!0)),lt[Qt]=function(){const jt=this||Mt;let nn=arguments[0];Cn&&Cn.transferEventName&&(nn=Cn.transferEventName(nn));const Dn=arguments[2],Vn=!!Dn&&("boolean"==typeof Dn||Dn.capture),xn=arguments[1];if(!xn)return is.apply(this,arguments);if(us&&!us(is,xn,jt,arguments))return;const fs=De[nn];let Ms;fs&&(Ms=fs[Vn?D:O]);const ys=Ms&&jt[Ms];if(ys)for(let ls=0;ls<ys.length;ls++){const Ts=ys[ls];if(Ke(Ts,xn))return ys.splice(ls,1),Ts.isRemoved=!0,0!==ys.length||(Ts.allRemoved=!0,jt[Ms]=null,Vn||"string"!=typeof nn)||(jt[M+"ON_PROPERTY"+nn]=null),Ts.zone.cancelTask(Ts),gt?jt:void 0}return is.apply(this,arguments)},lt[Et]=function(){const jt=this||Mt;let nn=arguments[0];Cn&&Cn.transferEventName&&(nn=Cn.transferEventName(nn));const Dn=[],Vn=Fe(jt,Yt?Yt(nn):nn);for(let xn=0;xn<Vn.length;xn++){const fs=Vn[xn];Dn.push(fs.originalDelegate?fs.originalDelegate:fs.callback)}return Dn},lt[Lt]=function(){const jt=this||Mt;let nn=arguments[0];if(nn){Cn&&Cn.transferEventName&&(nn=Cn.transferEventName(nn));const Dn=De[nn];if(Dn){const fs=jt[Dn[O]],Ms=jt[Dn[D]];if(fs){const ys=fs.slice();for(let ls=0;ls<ys.length;ls++){const Ts=ys[ls];this[Qt].call(this,nn,Ts.originalDelegate?Ts.originalDelegate:Ts.callback,Ts.options)}}if(Ms){const ys=Ms.slice();for(let ls=0;ls<ys.length;ls++){const Ts=ys[ls];this[Qt].call(this,nn,Ts.originalDelegate?Ts.originalDelegate:Ts.callback,Ts.options)}}}}else{const Dn=Object.keys(jt);for(let Vn=0;Vn<Dn.length;Vn++){const fs=mt.exec(Dn[Vn]);let Ms=fs&&fs[1];Ms&&"removeListener"!==Ms&&this[Lt].call(this,Ms)}this[Lt].call(this,"removeListener")}if(gt)return this},se(lt[Ct],kn),se(lt[Qt],is),Ys&&se(lt[Lt],Ys),as&&se(lt[Et],as),!0}let Zt=[];for(let fn=0;fn<Kt.length;fn++)Zt[fn]=_t(Kt[fn],Pt);return Zt}function Fe(Mt,Ht){if(!Ht){const Qt=[];for(let Et in Mt){const Lt=mt.exec(Et);let it=Lt&&Lt[1];if(it&&(!Ht||it===Ht)){const Ne=Mt[Et];if(Ne)for(let ke=0;ke<Ne.length;ke++)Qt.push(Ne[ke])}}return Qt}let Kt=De[Ht];Kt||(ot(Ht),Kt=De[Ht]);const Pt=Mt[Kt[O]],Ct=Mt[Kt[D]];return Pt?Ct?Pt.concat(Ct):Pt.slice():Ct?Ct.slice():[]}function st(Mt,Ht){const Kt=Mt.Event;Kt&&Kt.prototype&&Ht.patchMethod(Kt.prototype,"stopImmediatePropagation",Pt=>function(Ct,Qt){Ct[xe]=!0,Pt&&Pt.apply(Ct,Qt)})}const We=u("zoneTask");function Dt(Mt,Ht,Kt,Pt){let Ct=null,Qt=null;Kt+=Pt;const Et={};function Lt(Ne){const ke=Ne.data;ke.args[0]=function(){return Ne.invoke.apply(this,arguments)};const ze=Ct.apply(Mt,ke.args);return pe(ze)?ke.handleId=ze:(ke.handle=ze,ke.isRefreshable=be(ze.refresh)),Ne}function it(Ne){const{handle:ke,handleId:ze}=Ne.data;return Qt.call(Mt,ke??ze)}Ct=Z(Mt,Ht+=Pt,Ne=>function(ke,ze){if(be(ze[0])){const Ue={isRefreshable:!1,isPeriodic:"Interval"===Pt,delay:"Timeout"===Pt||"Interval"===Pt?ze[1]||0:void 0,args:ze},St=ze[0];ze[0]=function(){try{return St.apply(this,arguments)}finally{const{handle:ss,handleId:us,isPeriodic:Vs,isRefreshable:gt}=Ue;!Vs&&!gt&&(us?delete Et[us]:ss&&(ss[We]=null))}};const Qe=R(Ht,ze[0],Ue,Lt,it);if(!Qe)return Qe;const{handleId:xt,handle:_t,isRefreshable:Zt,isPeriodic:fn}=Qe.data;if(xt)Et[xt]=Qe;else if(_t&&(_t[We]=Qe,Zt&&!fn)){const Cn=_t.refresh;_t.refresh=function(){const{zone:ss,state:us}=Qe;return"notScheduled"===us?(Qe._state="scheduled",ss._updateTaskCount(Qe,1)):"running"===us&&(Qe._state="scheduling"),Cn.call(this)}}return _t??xt??Qe}return Ne.apply(Mt,ze)}),Qt=Z(Mt,Kt,Ne=>function(ke,ze){const Ue=ze[0];let St;pe(Ue)?(St=Et[Ue],delete Et[Ue]):(St=Ue?.[We],St?Ue[We]=null:St=Ue),St?.type?St.cancelFn&&St.zone.cancelTask(St):Ne.apply(Mt,ze)})}function ve(Mt,Ht,Kt){if(!Kt||0===Kt.length)return Ht;const Pt=Kt.filter(Qt=>Qt.target===Mt);if(!Pt||0===Pt.length)return Ht;const Ct=Pt[0].ignoreProperties;return Ht.filter(Qt=>-1===Ct.indexOf(Qt))}function Be(Mt,Ht,Kt,Pt){Mt&&Q(Mt,ve(Mt,Ht,Kt),Pt)}function pt(Mt){return Object.getOwnPropertyNames(Mt).filter(Ht=>Ht.startsWith("on")&&Ht.length>2).map(Ht=>Ht.substring(2))}function Wt(Mt,Ht,Kt,Pt,Ct){const Qt=Zone.__symbol__(Pt);if(Ht[Qt])return;const Et=Ht[Qt]=Ht[Pt];Ht[Pt]=function(Lt,it,Ne){return it&&it.prototype&&Ct.forEach(function(ke){const ze=`${Kt}.${Pt}::`+ke,Ue=it.prototype;try{if(Ue.hasOwnProperty(ke)){const St=Mt.ObjectGetOwnPropertyDescriptor(Ue,ke);St&&St.value?(St.value=Mt.wrapWithCurrentZone(St.value,ze),Mt._redefineProperty(it.prototype,ke,St)):Ue[ke]&&(Ue[ke]=Mt.wrapWithCurrentZone(Ue[ke],ze))}else Ue[ke]&&(Ue[ke]=Mt.wrapWithCurrentZone(Ue[ke],ze))}catch{}}),Et.call(Ht,Lt,it,Ne)},Mt.attachOriginToPatched(Ht[Pt],Et)}const ln=function i(){const Mt=globalThis,Ht=!0===Mt[b("forceDuplicateZoneCheck")];if(Mt.Zone&&(Ht||"function"!=typeof Mt.Zone.__symbol__))throw new Error("Zone already loaded.");return Mt.Zone??=function n(){const Mt=N.performance;function Ht(Ss){Mt&&Mt.mark&&Mt.mark(Ss)}function Kt(Ss,os){Mt&&Mt.measure&&Mt.measure(Ss,os)}Ht("Zone");let Pt=(()=>{class Ss{static{this.__symbol__=b}static assertZonePatched(){if(N.Promise!==Pn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let sn=Ss.current;for(;sn.parent;)sn=sn.parent;return sn}static get current(){return is.zone}static get currentTask(){return as}static __load_patch(sn,pn,Zn=!1){if(Pn.hasOwnProperty(sn)){const Rs=!0===N[b("forceDuplicateZoneCheck")];if(!Zn&&Rs)throw Error("Already loaded patch: "+sn)}else if(!N["__Zone_disable_"+sn]){const Rs="Zone:"+sn;Ht(Rs),Pn[sn]=pn(N,Ss,kn),Kt(Rs,Rs)}}get parent(){return this._parent}get name(){return this._name}constructor(sn,pn){this._parent=sn,this._name=pn?pn.name||"unnamed":"<root>",this._properties=pn&&pn.properties||{},this._zoneDelegate=new Qt(this,this._parent&&this._parent._zoneDelegate,pn)}get(sn){const pn=this.getZoneWith(sn);if(pn)return pn._properties[sn]}getZoneWith(sn){let pn=this;for(;pn;){if(pn._properties.hasOwnProperty(sn))return pn;pn=pn._parent}return null}fork(sn){if(!sn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,sn)}wrap(sn,pn){if("function"!=typeof sn)throw new Error("Expecting function got: "+sn);const Zn=this._zoneDelegate.intercept(this,sn,pn),Rs=this;return function(){return Rs.runGuarded(Zn,this,arguments,pn)}}run(sn,pn,Zn,Rs){is={parent:is,zone:this};try{return this._zoneDelegate.invoke(this,sn,pn,Zn,Rs)}finally{is=is.parent}}runGuarded(sn,pn=null,Zn,Rs){is={parent:is,zone:this};try{try{return this._zoneDelegate.invoke(this,sn,pn,Zn,Rs)}catch(ri){if(this._zoneDelegate.handleError(this,ri))throw ri}}finally{is=is.parent}}runTask(sn,pn,Zn){if(sn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(sn.zone||_t).name+"; Execution: "+this.name+")");const Rs=sn,{type:ri,data:{isPeriodic:ft=!1,isRefreshable:Gt=!1}={}}=sn;if(sn.state===Zt&&(ri===Yt||ri===lt))return;const Ke=sn.state!=ss;Ke&&Rs._transitionTo(ss,Cn);const en=as;as=Rs,is={parent:is,zone:this};try{ri==lt&&sn.data&&!ft&&!Gt&&(sn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Rs,pn,Zn)}catch(at){if(this._zoneDelegate.handleError(this,at))throw at}}finally{const at=sn.state;if(at!==Zt&&at!==Vs)if(ri==Yt||ft||Gt&&at===fn)Ke&&Rs._transitionTo(Cn,ss,fn);else{const dt=Rs._zoneDelegates;this._updateTaskCount(Rs,-1),Ke&&Rs._transitionTo(Zt,ss,Zt),Gt&&(Rs._zoneDelegates=dt)}is=is.parent,as=en}}scheduleTask(sn){if(sn.zone&&sn.zone!==this){let Zn=this;for(;Zn;){if(Zn===sn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${sn.zone.name}`);Zn=Zn.parent}}sn._transitionTo(fn,Zt);const pn=[];sn._zoneDelegates=pn,sn._zone=this;try{sn=this._zoneDelegate.scheduleTask(this,sn)}catch(Zn){throw sn._transitionTo(Vs,fn,Zt),this._zoneDelegate.handleError(this,Zn),Zn}return sn._zoneDelegates===pn&&this._updateTaskCount(sn,1),sn.state==fn&&sn._transitionTo(Cn,fn),sn}scheduleMicroTask(sn,pn,Zn,Rs){return this.scheduleTask(new Et(gt,sn,pn,Zn,Rs,void 0))}scheduleMacroTask(sn,pn,Zn,Rs,ri){return this.scheduleTask(new Et(lt,sn,pn,Zn,Rs,ri))}scheduleEventTask(sn,pn,Zn,Rs,ri){return this.scheduleTask(new Et(Yt,sn,pn,Zn,Rs,ri))}cancelTask(sn){if(sn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(sn.zone||_t).name+"; Execution: "+this.name+")");if(sn.state===Cn||sn.state===ss){sn._transitionTo(us,Cn,ss);try{this._zoneDelegate.cancelTask(this,sn)}catch(pn){throw sn._transitionTo(Vs,us),this._zoneDelegate.handleError(this,pn),pn}return this._updateTaskCount(sn,-1),sn._transitionTo(Zt,us),sn.runCount=-1,sn}}_updateTaskCount(sn,pn){const Zn=sn._zoneDelegates;-1==pn&&(sn._zoneDelegates=null);for(let Rs=0;Rs<Zn.length;Rs++)Zn[Rs]._updateTaskCount(sn.type,pn)}}return Ss})();const Ct={name:"",onHasTask:(Ss,os,sn,pn)=>Ss.hasTask(sn,pn),onScheduleTask:(Ss,os,sn,pn)=>Ss.scheduleTask(sn,pn),onInvokeTask:(Ss,os,sn,pn,Zn,Rs)=>Ss.invokeTask(sn,pn,Zn,Rs),onCancelTask:(Ss,os,sn,pn)=>Ss.cancelTask(sn,pn)};class Qt{get zone(){return this._zone}constructor(os,sn,pn){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=os,this._parentDelegate=sn,this._forkZS=pn&&(pn&&pn.onFork?pn:sn._forkZS),this._forkDlgt=pn&&(pn.onFork?sn:sn._forkDlgt),this._forkCurrZone=pn&&(pn.onFork?this._zone:sn._forkCurrZone),this._interceptZS=pn&&(pn.onIntercept?pn:sn._interceptZS),this._interceptDlgt=pn&&(pn.onIntercept?sn:sn._interceptDlgt),this._interceptCurrZone=pn&&(pn.onIntercept?this._zone:sn._interceptCurrZone),this._invokeZS=pn&&(pn.onInvoke?pn:sn._invokeZS),this._invokeDlgt=pn&&(pn.onInvoke?sn:sn._invokeDlgt),this._invokeCurrZone=pn&&(pn.onInvoke?this._zone:sn._invokeCurrZone),this._handleErrorZS=pn&&(pn.onHandleError?pn:sn._handleErrorZS),this._handleErrorDlgt=pn&&(pn.onHandleError?sn:sn._handleErrorDlgt),this._handleErrorCurrZone=pn&&(pn.onHandleError?this._zone:sn._handleErrorCurrZone),this._scheduleTaskZS=pn&&(pn.onScheduleTask?pn:sn._scheduleTaskZS),this._scheduleTaskDlgt=pn&&(pn.onScheduleTask?sn:sn._scheduleTaskDlgt),this._scheduleTaskCurrZone=pn&&(pn.onScheduleTask?this._zone:sn._scheduleTaskCurrZone),this._invokeTaskZS=pn&&(pn.onInvokeTask?pn:sn._invokeTaskZS),this._invokeTaskDlgt=pn&&(pn.onInvokeTask?sn:sn._invokeTaskDlgt),this._invokeTaskCurrZone=pn&&(pn.onInvokeTask?this._zone:sn._invokeTaskCurrZone),this._cancelTaskZS=pn&&(pn.onCancelTask?pn:sn._cancelTaskZS),this._cancelTaskDlgt=pn&&(pn.onCancelTask?sn:sn._cancelTaskDlgt),this._cancelTaskCurrZone=pn&&(pn.onCancelTask?this._zone:sn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Zn=pn&&pn.onHasTask;(Zn||sn&&sn._hasTaskZS)&&(this._hasTaskZS=Zn?pn:Ct,this._hasTaskDlgt=sn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,pn.onScheduleTask||(this._scheduleTaskZS=Ct,this._scheduleTaskDlgt=sn,this._scheduleTaskCurrZone=this._zone),pn.onInvokeTask||(this._invokeTaskZS=Ct,this._invokeTaskDlgt=sn,this._invokeTaskCurrZone=this._zone),pn.onCancelTask||(this._cancelTaskZS=Ct,this._cancelTaskDlgt=sn,this._cancelTaskCurrZone=this._zone))}fork(os,sn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,os,sn):new Pt(os,sn)}intercept(os,sn,pn){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,os,sn,pn):sn}invoke(os,sn,pn,Zn,Rs){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,os,sn,pn,Zn,Rs):sn.apply(pn,Zn)}handleError(os,sn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,os,sn)}scheduleTask(os,sn){let pn=sn;if(this._scheduleTaskZS)this._hasTaskZS&&pn._zoneDelegates.push(this._hasTaskDlgtOwner),pn=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,os,sn),pn||(pn=sn);else if(sn.scheduleFn)sn.scheduleFn(sn);else{if(sn.type!=gt)throw new Error("Task is missing scheduleFn.");Qe(sn)}return pn}invokeTask(os,sn,pn,Zn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,os,sn,pn,Zn):sn.callback.apply(pn,Zn)}cancelTask(os,sn){let pn;if(this._cancelTaskZS)pn=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,os,sn);else{if(!sn.cancelFn)throw Error("Task is not cancelable");pn=sn.cancelFn(sn)}return pn}hasTask(os,sn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,os,sn)}catch(pn){this.handleError(os,pn)}}_updateTaskCount(os,sn){const pn=this._taskCounts,Zn=pn[os],Rs=pn[os]=Zn+sn;if(Rs<0)throw new Error("More tasks executed then were scheduled.");0!=Zn&&0!=Rs||this.hasTask(this._zone,{microTask:pn.microTask>0,macroTask:pn.macroTask>0,eventTask:pn.eventTask>0,change:os})}}class Et{constructor(os,sn,pn,Zn,Rs,ri){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=os,this.source=sn,this.data=Zn,this.scheduleFn=Rs,this.cancelFn=ri,!pn)throw new Error("callback is not defined");this.callback=pn;const ft=this;this.invoke=os===Yt&&Zn&&Zn.useG?Et.invokeTask:function(){return Et.invokeTask.call(N,ft,this,arguments)}}static invokeTask(os,sn,pn){os||(os=this),Ys++;try{return os.runCount++,os.zone.runTask(os,sn,pn)}finally{1==Ys&&xt(),Ys--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Zt,fn)}_transitionTo(os,sn,pn){if(this._state!==sn&&this._state!==pn)throw new Error(`${this.type} '${this.source}': can not transition to '${os}', expecting state '${sn}'${pn?" or '"+pn+"'":""}, was '${this._state}'.`);this._state=os,os==Zt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Lt=b("setTimeout"),it=b("Promise"),Ne=b("then");let Ue,ke=[],ze=!1;function St(Ss){if(Ue||N[it]&&(Ue=N[it].resolve(0)),Ue){let os=Ue[Ne];os||(os=Ue.then),os.call(Ue,Ss)}else N[Lt](Ss,0)}function Qe(Ss){0===Ys&&0===ke.length&&St(xt),Ss&&ke.push(Ss)}function xt(){if(!ze){for(ze=!0;ke.length;){const Ss=ke;ke=[];for(let os=0;os<Ss.length;os++){const sn=Ss[os];try{sn.zone.runTask(sn,null,null)}catch(pn){kn.onUnhandledError(pn)}}}kn.microtaskDrainDone(),ze=!1}}const _t={name:"NO ZONE"},Zt="notScheduled",fn="scheduling",Cn="scheduled",ss="running",us="canceling",Vs="unknown",gt="microTask",lt="macroTask",Yt="eventTask",Pn={},kn={symbol:b,currentZoneFrame:()=>is,onUnhandledError:gs,microtaskDrainDone:gs,scheduleMicroTask:Qe,showUncaughtError:()=>!Pt[b("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:gs,patchMethod:()=>gs,bindArguments:()=>[],patchThen:()=>gs,patchMacroTask:()=>gs,patchEventPrototype:()=>gs,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>gs,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>gs,wrapWithCurrentZone:()=>gs,filterProperties:()=>[],attachOriginToPatched:()=>gs,_redefineProperty:()=>gs,patchCallbacks:()=>gs,nativeScheduleMicroTask:St};let is={parent:null,zone:new Pt(null,null)},as=null,Ys=0;function gs(){}return Kt("Zone","Zone"),Pt}(),Mt.Zone}();(function qt(Mt){(function In(Mt){Mt.__load_patch("ZoneAwarePromise",(Ht,Kt,Pt)=>{const Ct=Object.getOwnPropertyDescriptor,Qt=Object.defineProperty,Lt=Pt.symbol,it=[],Ne=!1!==Ht[Lt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],ke=Lt("Promise"),ze=Lt("then"),Ue="__creationTrace__";Pt.onUnhandledError=dt=>{if(Pt.showUncaughtError()){const vt=dt&&dt.rejection;vt?console.error("Unhandled Promise rejection:",vt instanceof Error?vt.message:vt,"; Zone:",dt.zone.name,"; Task:",dt.task&&dt.task.source,"; Value:",vt,vt instanceof Error?vt.stack:void 0):console.error(dt)}},Pt.microtaskDrainDone=()=>{for(;it.length;){const dt=it.shift();try{dt.zone.runGuarded(()=>{throw dt.throwOriginal?dt.rejection:dt})}catch(vt){Qe(vt)}}};const St=Lt("unhandledPromiseRejectionHandler");function Qe(dt){Pt.onUnhandledError(dt);try{const vt=Kt[St];"function"==typeof vt&&vt.call(this,dt)}catch{}}function xt(dt){return dt&&dt.then}function _t(dt){return dt}function Zt(dt){return ft.reject(dt)}const fn=Lt("state"),Cn=Lt("value"),ss=Lt("finally"),us=Lt("parentPromiseValue"),Vs=Lt("parentPromiseState"),gt="Promise.then",lt=null,Yt=!0,Pn=!1,kn=0;function is(dt,vt){return jt=>{try{Ss(dt,vt,jt)}catch(nn){Ss(dt,!1,nn)}}}const as=function(){let dt=!1;return function(jt){return function(){dt||(dt=!0,jt.apply(null,arguments))}}},Ys="Promise resolved with itself",gs=Lt("currentTaskTrace");function Ss(dt,vt,jt){const nn=as();if(dt===jt)throw new TypeError(Ys);if(dt[fn]===lt){let Dn=null;try{("object"==typeof jt||"function"==typeof jt)&&(Dn=jt&&jt.then)}catch(Vn){return nn(()=>{Ss(dt,!1,Vn)})(),dt}if(vt!==Pn&&jt instanceof ft&&jt.hasOwnProperty(fn)&&jt.hasOwnProperty(Cn)&&jt[fn]!==lt)sn(jt),Ss(dt,jt[fn],jt[Cn]);else if(vt!==Pn&&"function"==typeof Dn)try{Dn.call(jt,nn(is(dt,vt)),nn(is(dt,!1)))}catch(Vn){nn(()=>{Ss(dt,!1,Vn)})()}else{dt[fn]=vt;const Vn=dt[Cn];if(dt[Cn]=jt,dt[ss]===ss&&vt===Yt&&(dt[fn]=dt[Vs],dt[Cn]=dt[us]),vt===Pn&&jt instanceof Error){const xn=Kt.currentTask&&Kt.currentTask.data&&Kt.currentTask.data[Ue];xn&&Qt(jt,gs,{configurable:!0,enumerable:!1,writable:!0,value:xn})}for(let xn=0;xn<Vn.length;)pn(dt,Vn[xn++],Vn[xn++],Vn[xn++],Vn[xn++]);if(0==Vn.length&&vt==Pn){dt[fn]=kn;let xn=jt;try{throw new Error("Uncaught (in promise): "+function Et(dt){return dt&&dt.toString===Object.prototype.toString?(dt.constructor&&dt.constructor.name||"")+": "+JSON.stringify(dt):dt?dt.toString():Object.prototype.toString.call(dt)}(jt)+(jt&&jt.stack?"\n"+jt.stack:""))}catch(fs){xn=fs}Ne&&(xn.throwOriginal=!0),xn.rejection=jt,xn.promise=dt,xn.zone=Kt.current,xn.task=Kt.currentTask,it.push(xn),Pt.scheduleMicroTask()}}}return dt}const os=Lt("rejectionHandledHandler");function sn(dt){if(dt[fn]===kn){try{const vt=Kt[os];vt&&"function"==typeof vt&&vt.call(this,{rejection:dt[Cn],promise:dt})}catch{}dt[fn]=Pn;for(let vt=0;vt<it.length;vt++)dt===it[vt].promise&&it.splice(vt,1)}}function pn(dt,vt,jt,nn,Dn){sn(dt);const Vn=dt[fn],xn=Vn?"function"==typeof nn?nn:_t:"function"==typeof Dn?Dn:Zt;vt.scheduleMicroTask(gt,()=>{try{const fs=dt[Cn],Ms=!!jt&&ss===jt[ss];Ms&&(jt[us]=fs,jt[Vs]=Vn);const ys=vt.run(xn,void 0,Ms&&xn!==Zt&&xn!==_t?[]:[fs]);Ss(jt,!0,ys)}catch(fs){Ss(jt,!1,fs)}},jt)}const Rs=function(){},ri=Ht.AggregateError;class ft{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(vt){return vt instanceof ft?vt:Ss(new this(null),Yt,vt)}static reject(vt){return Ss(new this(null),Pn,vt)}static withResolvers(){const vt={};return vt.promise=new ft((jt,nn)=>{vt.resolve=jt,vt.reject=nn}),vt}static any(vt){if(!vt||"function"!=typeof vt[Symbol.iterator])return Promise.reject(new ri([],"All promises were rejected"));const jt=[];let nn=0;try{for(let xn of vt)nn++,jt.push(ft.resolve(xn))}catch{return Promise.reject(new ri([],"All promises were rejected"))}if(0===nn)return Promise.reject(new ri([],"All promises were rejected"));let Dn=!1;const Vn=[];return new ft((xn,fs)=>{for(let Ms=0;Ms<jt.length;Ms++)jt[Ms].then(ys=>{Dn||(Dn=!0,xn(ys))},ys=>{Vn.push(ys),nn--,0===nn&&(Dn=!0,fs(new ri(Vn,"All promises were rejected")))})})}static race(vt){let jt,nn,Dn=new this((fs,Ms)=>{jt=fs,nn=Ms});function Vn(fs){jt(fs)}function xn(fs){nn(fs)}for(let fs of vt)xt(fs)||(fs=this.resolve(fs)),fs.then(Vn,xn);return Dn}static all(vt){return ft.allWithCallback(vt)}static allSettled(vt){return(this&&this.prototype instanceof ft?this:ft).allWithCallback(vt,{thenCallback:nn=>({status:"fulfilled",value:nn}),errorCallback:nn=>({status:"rejected",reason:nn})})}static allWithCallback(vt,jt){let nn,Dn,Vn=new this((ys,ls)=>{nn=ys,Dn=ls}),xn=2,fs=0;const Ms=[];for(let ys of vt){xt(ys)||(ys=this.resolve(ys));const ls=fs;try{ys.then(Ts=>{Ms[ls]=jt?jt.thenCallback(Ts):Ts,xn--,0===xn&&nn(Ms)},Ts=>{jt?(Ms[ls]=jt.errorCallback(Ts),xn--,0===xn&&nn(Ms)):Dn(Ts)})}catch(Ts){Dn(Ts)}xn++,fs++}return xn-=2,0===xn&&nn(Ms),Vn}constructor(vt){const jt=this;if(!(jt instanceof ft))throw new Error("Must be an instanceof Promise.");jt[fn]=lt,jt[Cn]=[];try{const nn=as();vt&&vt(nn(is(jt,Yt)),nn(is(jt,Pn)))}catch(nn){Ss(jt,!1,nn)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ft}then(vt,jt){let nn=this.constructor?.[Symbol.species];(!nn||"function"!=typeof nn)&&(nn=this.constructor||ft);const Dn=new nn(Rs),Vn=Kt.current;return this[fn]==lt?this[Cn].push(Vn,Dn,vt,jt):pn(this,Vn,Dn,vt,jt),Dn}catch(vt){return this.then(null,vt)}finally(vt){let jt=this.constructor?.[Symbol.species];(!jt||"function"!=typeof jt)&&(jt=ft);const nn=new jt(Rs);nn[ss]=ss;const Dn=Kt.current;return this[fn]==lt?this[Cn].push(Dn,nn,vt,vt):pn(this,Dn,nn,vt,vt),nn}}ft.resolve=ft.resolve,ft.reject=ft.reject,ft.race=ft.race,ft.all=ft.all;const Gt=Ht[ke]=Ht.Promise;Ht.Promise=ft;const Ke=Lt("thenPatched");function en(dt){const vt=dt.prototype,jt=Ct(vt,"then");if(jt&&(!1===jt.writable||!jt.configurable))return;const nn=vt.then;vt[ze]=nn,dt.prototype.then=function(Dn,Vn){return new ft((fs,Ms)=>{nn.call(this,fs,Ms)}).then(Dn,Vn)},dt[Ke]=!0}return Pt.patchThen=en,Gt&&(en(Gt),Z(Ht,"fetch",dt=>function at(dt){return function(vt,jt){let nn=dt.apply(vt,jt);if(nn instanceof ft)return nn;let Dn=nn.constructor;return Dn[Ke]||en(Dn),nn}}(dt))),Promise[Kt.__symbol__("uncaughtPromiseErrors")]=it,ft})})(Mt),function Tt(Mt){Mt.__load_patch("toString",Ht=>{const Kt=Function.prototype.toString,Pt=u("OriginalDelegate"),Ct=u("Promise"),Qt=u("Error"),Et=function(){if("function"==typeof this){const ke=this[Pt];if(ke)return"function"==typeof ke?Kt.call(ke):Object.prototype.toString.call(ke);if(this===Promise){const ze=Ht[Ct];if(ze)return Kt.call(ze)}if(this===Error){const ze=Ht[Qt];if(ze)return Kt.call(ze)}}return Kt.call(this)};Et[Pt]=Kt,Function.prototype.toString=Et;const Lt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Lt.call(this)}})}(Mt),function It(Mt){Mt.__load_patch("util",(Ht,Kt,Pt)=>{const Ct=pt(Ht);Pt.patchOnProperties=Q,Pt.patchMethod=Z,Pt.bindArguments=L,Pt.patchMacroTask=oe;const Qt=Kt.__symbol__("BLACK_LISTED_EVENTS"),Et=Kt.__symbol__("UNPATCHED_EVENTS");Ht[Et]&&(Ht[Qt]=Ht[Et]),Ht[Qt]&&(Kt[Qt]=Kt[Et]=Ht[Qt]),Pt.patchEventPrototype=st,Pt.patchEventTarget=$e,Pt.isIEOrEdge=Ee,Pt.ObjectDefineProperty=l,Pt.ObjectGetOwnPropertyDescriptor=t,Pt.ObjectCreate=f,Pt.ArraySlice=m,Pt.patchClass=z,Pt.wrapWithCurrentZone=T,Pt.filterProperties=ve,Pt.attachOriginToPatched=se,Pt._redefineProperty=Object.defineProperty,Pt.patchCallbacks=Wt,Pt.getGlobalObjects=()=>({globalSources:nt,zoneSymbolEventNames:De,eventNames:Ct,isBrowser:G,isMix:H,isNode:j,TRUE_STR:D,FALSE_STR:O,ZONE_SYMBOL_PREFIX:M,ADD_EVENT_LISTENER_STR:h,REMOVE_EVENT_LISTENER_STR:_})})}(Mt)})(ln),function an(Mt){Mt.__load_patch("legacy",Ht=>{const Kt=Ht[Mt.__symbol__("legacyPatch")];Kt&&Kt()}),Mt.__load_patch("timers",Ht=>{const Pt="clear";Dt(Ht,"set",Pt,"Timeout"),Dt(Ht,"set",Pt,"Interval"),Dt(Ht,"set",Pt,"Immediate")}),Mt.__load_patch("requestAnimationFrame",Ht=>{Dt(Ht,"request","cancel","AnimationFrame"),Dt(Ht,"mozRequest","mozCancel","AnimationFrame"),Dt(Ht,"webkitRequest","webkitCancel","AnimationFrame")}),Mt.__load_patch("blocking",(Ht,Kt)=>{const Pt=["alert","prompt","confirm"];for(let Ct=0;Ct<Pt.length;Ct++)Z(Ht,Pt[Ct],(Et,Lt,it)=>function(Ne,ke){return Kt.current.run(Et,Ht,ke,it)})}),Mt.__load_patch("EventTarget",(Ht,Kt,Pt)=>{(function Ot(Mt,Ht){Ht.patchEventPrototype(Mt,Ht)})(Ht,Pt),function ct(Mt,Ht){if(Zone[Ht.symbol("patchEventTarget")])return;const{eventNames:Kt,zoneSymbolEventNames:Pt,TRUE_STR:Ct,FALSE_STR:Qt,ZONE_SYMBOL_PREFIX:Et}=Ht.getGlobalObjects();for(let it=0;it<Kt.length;it++){const Ne=Kt[it],Ue=Et+(Ne+Qt),St=Et+(Ne+Ct);Pt[Ne]={},Pt[Ne][Qt]=Ue,Pt[Ne][Ct]=St}const Lt=Mt.EventTarget;Lt&&Lt.prototype&&Ht.patchEventTarget(Mt,Ht,[Lt&&Lt.prototype])}(Ht,Pt);const Ct=Ht.XMLHttpRequestEventTarget;Ct&&Ct.prototype&&Pt.patchEventTarget(Ht,Pt,[Ct.prototype])}),Mt.__load_patch("MutationObserver",(Ht,Kt,Pt)=>{z("MutationObserver"),z("WebKitMutationObserver")}),Mt.__load_patch("IntersectionObserver",(Ht,Kt,Pt)=>{z("IntersectionObserver")}),Mt.__load_patch("FileReader",(Ht,Kt,Pt)=>{z("FileReader")}),Mt.__load_patch("on_property",(Ht,Kt,Pt)=>{!function dn(Mt,Ht){if(j&&!H||Zone[Mt.symbol("patchEvents")])return;const Kt=Ht.__Zone_ignore_on_properties;let Pt=[];if(G){const Ct=window;Pt=Pt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Qt=function le(){try{const Mt=C.navigator.userAgent;if(-1!==Mt.indexOf("MSIE ")||-1!==Mt.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Ct,ignoreProperties:["error"]}]:[];Be(Ct,pt(Ct),Kt&&Kt.concat(Qt),e(Ct))}Pt=Pt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Ct=0;Ct<Pt.length;Ct++){const Qt=Ht[Pt[Ct]];Qt&&Qt.prototype&&Be(Qt.prototype,pt(Qt.prototype),Kt)}}(Pt,Ht)}),Mt.__load_patch("customElements",(Ht,Kt,Pt)=>{!function kt(Mt,Ht){const{isBrowser:Kt,isMix:Pt}=Ht.getGlobalObjects();(Kt||Pt)&&Mt.customElements&&"customElements"in Mt&&Ht.patchCallbacks(Ht,Mt.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(Ht,Pt)}),Mt.__load_patch("XHR",(Ht,Kt)=>{!function Ne(ke){const ze=ke.XMLHttpRequest;if(!ze)return;const Ue=ze.prototype;let Qe=Ue[y],xt=Ue[v];if(!Qe){const kn=ke.XMLHttpRequestEventTarget;if(kn){const is=kn.prototype;Qe=is[y],xt=is[v]}}const _t="readystatechange",Zt="scheduled";function fn(kn){const is=kn.data,as=is.target;as[Et]=!1,as[it]=!1;const Ys=as[Qt];Qe||(Qe=as[y],xt=as[v]),Ys&&xt.call(as,_t,Ys);const gs=as[Qt]=()=>{if(as.readyState===as.DONE)if(!is.aborted&&as[Et]&&kn.state===Zt){const os=as[Kt.__symbol__("loadfalse")];if(0!==as.status&&os&&os.length>0){const sn=kn.invoke;kn.invoke=function(){const pn=as[Kt.__symbol__("loadfalse")];for(let Zn=0;Zn<pn.length;Zn++)pn[Zn]===kn&&pn.splice(Zn,1);!is.aborted&&kn.state===Zt&&sn.call(kn)},os.push(kn)}else kn.invoke()}else!is.aborted&&!1===as[Et]&&(as[it]=!0)};return Qe.call(as,_t,gs),as[Pt]||(as[Pt]=kn),Yt.apply(as,is.args),as[Et]=!0,kn}function Cn(){}function ss(kn){const is=kn.data;return is.aborted=!0,Pn.apply(is.target,is.args)}const us=Z(Ue,"open",()=>function(kn,is){return kn[Ct]=0==is[2],kn[Lt]=is[1],us.apply(kn,is)}),gt=u("fetchTaskAborting"),lt=u("fetchTaskScheduling"),Yt=Z(Ue,"send",()=>function(kn,is){if(!0===Kt.current[lt]||kn[Ct])return Yt.apply(kn,is);{const as={target:kn,url:kn[Lt],isPeriodic:!1,args:is,aborted:!1},Ys=R("XMLHttpRequest.send",Cn,as,fn,ss);kn&&!0===kn[it]&&!as.aborted&&Ys.state===Zt&&Ys.invoke()}}),Pn=Z(Ue,"abort",()=>function(kn,is){const as=function St(kn){return kn[Pt]}(kn);if(as&&"string"==typeof as.type){if(null==as.cancelFn||as.data&&as.data.aborted)return;as.zone.cancelTask(as)}else if(!0===Kt.current[gt])return Pn.apply(kn,is)})}(Ht);const Pt=u("xhrTask"),Ct=u("xhrSync"),Qt=u("xhrListener"),Et=u("xhrScheduled"),Lt=u("xhrURL"),it=u("xhrErrorBeforeScheduled")}),Mt.__load_patch("geolocation",Ht=>{Ht.navigator&&Ht.navigator.geolocation&&function B(Mt,Ht){const Kt=Mt.constructor.name;for(let Pt=0;Pt<Ht.length;Pt++){const Ct=Ht[Pt],Qt=Mt[Ct];if(Qt){if(!U(t(Mt,Ct)))continue;Mt[Ct]=(Lt=>{const it=function(){return Lt.apply(this,L(arguments,Kt+"."+Ct))};return se(it,Lt),it})(Qt)}}}(Ht.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Mt.__load_patch("PromiseRejectionEvent",(Ht,Kt)=>{function Pt(Ct){return function(Qt){Fe(Ht,Ct).forEach(Lt=>{const it=Ht.PromiseRejectionEvent;if(it){const Ne=new it(Ct,{promise:Qt.promise,reason:Qt.rejection});Lt.invoke(Ne)}})}}Ht.PromiseRejectionEvent&&(Kt[u("unhandledPromiseRejectionHandler")]=Pt("unhandledrejection"),Kt[u("rejectionHandledHandler")]=Pt("rejectionhandled"))}),Mt.__load_patch("queueMicrotask",(Ht,Kt,Pt)=>{!function Ie(Mt,Ht){Ht.patchMethod(Mt,"queueMicrotask",Kt=>function(Pt,Ct){Zone.current.scheduleMicroTask("queueMicrotask",Ct[0])})}(Ht,Pt)})}(ln)},48832:(N,b,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[87323,7323]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=48832,N.exports=t},32012:(N,b,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[20335,335]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=32012,N.exports=t},43562:(N,b,n)=>{var i={"./custom/app/footer/footer.component":[951,951]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43562,N.exports=t},30130:(N,b,n)=>{var i={"./custom/app/forbidden/forbidden.component":[50547,547]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=30130,N.exports=t},20991:(N,b,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[66520,6520],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[47435]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=20991,N.exports=t},16722:(N,b,n)=>{var i={"./custom/app/header/header.component":[75559,5559],"./dspace/app/header/header.component":[3018]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=16722,N.exports=t},52636:(N,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[59655,9655]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52636,N.exports=t},38815:(N,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[92531,2531]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=38815,N.exports=t},5452:(N,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[81917,1917]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=5452,N.exports=t},78373:(N,b,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[38072,8072]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=78373,N.exports=t},17026:(N,b,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[1739,1739]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=17026,N.exports=t},89979:(N,b,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[32890,2890]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=89979,N.exports=t},88289:(N,b,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[61754,1754]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=88289,N.exports=t},19318:(N,b,n)=>{var i={"./custom/app/navbar/navbar.component":[77069,7069],"./dspace/app/navbar/navbar.component":[89768]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=19318,N.exports=t},18400:N=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=18400,N.exports=b},46544:N=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=46544,N.exports=b},94826:(N,b,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[21797,1797]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94826,N.exports=t},94634:(N,b,n)=>{var i={"./custom/app/root/root.component":[83469,3469]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94634,N.exports=t},28754:(N,b,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[9323,9323]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=28754,N.exports=t},21133:(N,b,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[74892,4892]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=21133,N.exports=t},51808:(N,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[5789,5789]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=51808,N.exports=t},13361:(N,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[95208,5208]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13361,N.exports=t},60939:(N,b,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[84281,4281]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60939,N.exports=t},80882:(N,b,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[15733,5733]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=80882,N.exports=t},12706:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[73159,3159]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=12706,N.exports=t},27122:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[14899,4899]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=27122,N.exports=t},25074:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[2851,2851]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=25074,N.exports=t},61130:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[90627,627]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=61130,N.exports=t},11452:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[56303,6303]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=11452,N.exports=t},6122:(N,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[94189,4189]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=6122,N.exports=t},72834:(N,b,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[93015,3015]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=72834,N.exports=t},90331:(N,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[5924,5924]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=90331,N.exports=t},14651:(N,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[60360,360]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=14651,N.exports=t},37919:(N,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[37558,5177]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=37919,N.exports=t},97394:(N,b,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[1237,1237]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=97394,N.exports=t},54512:(N,b,n)=>{var i={"./custom/app/shared/loading/loading.component":[86905,2076,9286]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=54512,N.exports=t},43800:(N,b,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[74267,4267]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43800,N.exports=t},50822:(N,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[16953,6953]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=50822,N.exports=t},70295:(N,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[67830,7830]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=70295,N.exports=t},87596:(N,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[67635,7635]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=87596,N.exports=t},52504:(N,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[93463,3463]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52504,N.exports=t},45796:(N,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[14491,4491]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=45796,N.exports=t},4026:(N,b,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[69585,9585]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=4026,N.exports=t},71931:(N,b,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[6455,8836]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=71931,N.exports=t},8894:(N,b,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[16625,6625]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=8894,N.exports=t},79086:(N,b,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[54545,2076,4545]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=79086,N.exports=t},76142:(N,b,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[62645,2645]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=76142,N.exports=t},64565:(N,b,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[4072,4072]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=64565,N.exports=t},18527:(N,b,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[27826,7826]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=18527,N.exports=t},60911:(N,b,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[13622,3622]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60911,N.exports=t},98587:(N,b,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[26318,6318]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=98587,N.exports=t},13390:(N,b,n)=>{var i={"./custom/app/shared/search/search.component":[40488,8107]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13390,N.exports=t},572:(N,b,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[71859,1859]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=572,N.exports=t},18820:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t,l,e,f,m,h){var _=new Date(0);return _.setUTCFullYear(i,t,l),_.setUTCHours(e,f,m,h),_},N.exports=b.default},59573:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(e,f,m){var h=function l(e,f,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:f,timeZoneName:e})}(e,m.timeZone,m.locale);return h.formatToParts?function i(e,f){for(var m=e.formatToParts(f),h=m.length-1;h>=0;--h)if("timeZoneName"===m[h].type)return m[h].value}(h,f):function t(e,f){var m=e.format(f).replace(/\u200E/g,""),h=/ [\w-+ ]+$/.exec(m);return h?h[0].substr(1):""}(h,f)},N.exports=b.default},34898:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(T,R,u){var w,C,S;if(!T||(w=m.timezoneZ.exec(T)))return 0;if(w=m.timezoneHH.exec(T))return D(S=parseInt(w[1],10))?-S*e:NaN;if(w=m.timezoneHHMM.exec(T)){S=parseInt(w[1],10);var I=parseInt(w[2],10);return D(S,I)?(C=Math.abs(S)*e+I*f,S>0?-C:C):NaN}if(function M(T){if(O[T])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:T}),O[T]=!0,!0}catch{return!1}}(T)){R=new Date(R||Date.now());var L=u?R:function _(T){return(0,t.default)(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds())}(R),B=y(L,T),U=u?B:function v(T,R,u){var C=T.getTime()-R,S=y(new Date(C),u);if(R===S)return R;C-=S-R;var I=y(new Date(C),u);return S===I?S:Math.max(S,I)}(R,B,T);return-U}return NaN};var i=l(n(21771)),t=l(n(18820));function l(T){return T&&T.__esModule?T:{default:T}}var e=36e5,f=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function y(T,R){var u=(0,i.default)(T,R),w=(0,t.default)(u[0],u[1]-1,u[2],u[3]%24,u[4],u[5],0).getTime(),C=T.getTime(),S=C%1e3;return w-(C-(S>=0?S:1e3+S))}function D(T,R){return-23<=T&&T<=23&&(null==R||0<=R&&R<=59)}var O={};N.exports=b.default},85812:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,b.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,N.exports=b.default},21771:(N,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(m,h){var _=function f(m){if(!e[m]){var h=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===h||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===h?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(h);return _.formatToParts?function t(m,h){try{for(var _=m.formatToParts(h),y=[],v=0;v<_.length;v++){var D=i[_[v].type];D>=0&&(y[D]=parseInt(_[v].value,10))}return y}catch(O){if(O instanceof RangeError)return[NaN];throw O}}(_,m):function l(m,h){var _=m.format(h).replace(/\u200E/g,""),y=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(_);return[y[3],y[1],y[2],y[4],y[5],y[6]]}(_,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};N.exports=b.default},91490:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var i=l(n(59573)),t=l(n(34898));function l(O){return O&&O.__esModule?O:{default:O}}function m(O,M){var T=O?(0,t.default)(O,M,!0)/6e4:M.getTimezoneOffset();if(Number.isNaN(T))throw new RangeError("Invalid time zone specified: "+O);return T}function h(O,M){for(var T=O<0?"-":"",R=Math.abs(O).toString();R.length<M;)R="0"+R;return T+R}function _(O,M){var T=M||"",R=O>0?"-":"+",u=Math.abs(O);return R+h(Math.floor(u/60),2)+T+h(Math.floor(u%60),2)}function y(O,M){return O%60==0?(O>0?"-":"+")+h(Math.abs(O)/60,2):_(O,M)}b.default={X:function(O,M,T,R){var u=m(R.timeZone,R._originalDate||O);if(0===u)return"Z";switch(M){case"X":return y(u);case"XXXX":case"XX":return _(u);default:return _(u,":")}},x:function(O,M,T,R){var u=m(R.timeZone,R._originalDate||O);switch(M){case"x":return y(u);case"xxxx":case"xx":return _(u);default:return _(u,":")}},O:function(O,M,T,R){var u=m(R.timeZone,R._originalDate||O);switch(M){case"O":case"OO":case"OOO":return"GMT"+function v(O,M){var T=O>0?"-":"+",R=Math.abs(O),u=Math.floor(R/60),w=R%60;if(0===w)return T+String(u);var C=M||"";return T+String(u)+C+h(w,2)}(u,":");default:return"GMT"+_(u,":")}},z:function(O,M,T,R){var u=R._originalDate||O;switch(M){case"z":case"zz":case"zzz":return(0,i.default)("short",u,R);default:return(0,i.default)("long",u,R)}}},N.exports=b.default},38308:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(h,_,y){var v=String(_),D=y||{},O=v.match(f);if(O){var M=(0,l.default)(h,D);v=O.reduce(function(T,R){if("'"===R[0])return T;var u=T.indexOf(R),w="'"===T[u-1],C=T.replace(R,"'"+t.default[R[0]](M,R,null,D)+"'");return w?C.substring(0,u-1)+C.substring(u+1):C},v)}return(0,i.default)(h,v,D)};var i=e(n(24150)),t=e(n(91490)),l=e(n(64358));function e(h){return h&&h.__esModule?h:{default:h}}var f=/([xXOz]+)|''|'(''|[^'])+('|$)/g;N.exports=b.default},62628:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(m,h,_,y){var v=(0,i.default)(y);return v.timeZone=h,(0,t.default)((0,l.default)(m,h),_,v)};var i=e(n(88200)),t=e(n(38308)),l=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}N.exports=b.default},48493:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function l(e,f){return-(0,i.default)(e,f)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));N.exports=b.default},56106:(N,b,n)=>{"use strict";N.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function v(U,W){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===U)return new Date(NaN);var j=W||{},G=null==j.additionalDigits?_:(0,i.default)(j.additionalDigits);if(2!==G&&1!==G&&0!==G)throw new RangeError("additionalDigits must be 0, 1 or 2");if(U instanceof Date||"object"==typeof U&&"[object Date]"===Object.prototype.toString.call(U))return new Date(U.getTime());if("number"==typeof U||"[object Number]"===Object.prototype.toString.call(U))return new Date(U);if("string"!=typeof U&&"[object String]"!==Object.prototype.toString.call(U))return new Date(NaN);var H=function D(U){var G,W={},j=y.dateTimePattern.exec(U);if(j?(W.date=j[1],G=j[3]):(j=y.datePattern.exec(U))?(W.date=j[1],G=j[2]):(W.date=null,G=U),G){var H=y.timeZone.exec(G);H?(W.time=G.replace(H[1],""),W.timeZone=H[1].trim()):W.time=G}return W}(U),V=function O(U,W){var H,j=y.YYY[W],G=y.YYYYY[W];if(H=y.YYYY.exec(U)||G.exec(U)){var V=H[1];return{year:parseInt(V,10),restDateString:U.slice(V.length)}}if(H=y.YY.exec(U)||j.exec(U)){var X=H[1];return{year:100*parseInt(X,10),restDateString:U.slice(X.length)}}return{year:null}}(H.date,G),q=function M(U,W){if(null===W)return null;var j,G,H,V;if(0===U.length)return(G=new Date(0)).setUTCFullYear(W),G;if(j=y.MM.exec(U))return G=new Date(0),S(W,H=parseInt(j[1],10)-1)?(G.setUTCFullYear(W,H),G):new Date(NaN);if(j=y.DDD.exec(U)){G=new Date(0);var X=parseInt(j[1],10);return function I(U,W){if(W<1)return!1;var j=C(U);return!(j&&W>366||!j&&W>365)}(W,X)?(G.setUTCFullYear(W,0,X),G):new Date(NaN)}if(j=y.MMDD.exec(U)){G=new Date(0),H=parseInt(j[1],10)-1;var J=parseInt(j[2],10);return S(W,H,J)?(G.setUTCFullYear(W,H,J),G):new Date(NaN)}if(j=y.Www.exec(U))return L(0,V=parseInt(j[1],10)-1)?R(W,V):new Date(NaN);if(j=y.WwwD.exec(U)){V=parseInt(j[1],10)-1;var q=parseInt(j[2],10)-1;return L(0,V,q)?R(W,V,q):new Date(NaN)}return null}(V.restDateString,V.year);if(isNaN(q))return new Date(NaN);if(q){var z,Q=q.getTime(),Y=0;if(H.time&&(Y=function T(U){var W,j,G;if(W=y.HH.exec(U))return B(j=parseFloat(W[1].replace(",",".")))?j%24*m:NaN;if(W=y.HHMM.exec(U))return B(j=parseInt(W[1],10),G=parseFloat(W[2].replace(",",".")))?j%24*m+G*h:NaN;if(W=y.HHMMSS.exec(U)){j=parseInt(W[1],10),G=parseInt(W[2],10);var H=parseFloat(W[3].replace(",","."));return B(j,G,H)?j%24*m+G*h+1e3*H:NaN}return null}(H.time),isNaN(Y)))return new Date(NaN);if(H.timeZone||j.timeZone){if(z=(0,l.default)(H.timeZone||j.timeZone,new Date(Q+Y)),isNaN(z))return new Date(NaN)}else z=(0,t.default)(new Date(Q+Y)),z=(0,t.default)(new Date(Q+Y+z));return new Date(Q+Y+z)}return new Date(NaN)};var i=f(n(25167)),t=f(n(20059)),l=f(n(34898)),e=f(n(85812));function f(U){return U&&U.__esModule?U:{default:U}}var m=36e5,h=6e4,_=2,y={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function R(U,W,j){W=W||0,j=j||0;var G=new Date(0);G.setUTCFullYear(U,0,4);var V=7*W+j+1-(G.getUTCDay()||7);return G.setUTCDate(G.getUTCDate()+V),G}var u=[31,28,31,30,31,30,31,31,30,31,30,31],w=[31,29,31,30,31,30,31,31,30,31,30,31];function C(U){return U%400==0||U%4==0&&U%100!=0}function S(U,W,j){if(W<0||W>11)return!1;if(null!=j){if(j<1)return!1;var G=C(U);if(G&&j>w[W]||!G&&j>u[W])return!1}return!0}function L(U,W,j){return!(W<0||W>52||null!=j&&(j<0||j>6))}function B(U,W,j){return!(null!=U&&(U<0||U>=25)||null!=W&&(W<0||W>=60)||null!=j&&(j<0||j>=60))}N.exports=b.default},2589:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(f,m,h){var _=(0,t.default)(f,h),y=(0,i.default)(m,_,!0),v=new Date(_.getTime()-y),D=new Date(0);return D.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),D.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),D};var i=l(n(34898)),t=l(n(64358));function l(f){return f&&f.__esModule?f:{default:f}}N.exports=b.default},56743:(N,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(_,y,v){if("string"==typeof _&&!_.match(l.default)){var D=(0,i.default)(v);return D.timeZone=y,(0,t.default)(_,D)}var O=(0,t.default)(_,v),M=(0,f.default)(O.getFullYear(),O.getMonth(),O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds()).getTime(),T=(0,e.default)(y,new Date(M));return new Date(M+T)};var i=m(n(88200)),t=m(n(64358)),l=m(n(85812)),e=m(n(34898)),f=m(n(18820));function m(_){return _&&_.__esModule?_:{default:_}}N.exports=b.default},52165:()=>{var N,b;b=N||(N={}),function(n){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function f(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=l(b);function l(h,_){return function(y,v){Object.defineProperty(h,y,{configurable:!0,writable:!0,value:v}),_&&_(y,v)}}typeof i.Reflect<"u"&&(t=l(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,l="function"==typeof Symbol,e=l&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",f=l&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,h={__proto__:[]}instanceof Array,_=!m&&!h,y={create:m?function(){return In(Object.create(null))}:h?function(){return In({__proto__:null})}:function(){return In({})},has:_?function(Tt,Wt){return t.call(Tt,Wt)}:function(Tt,Wt){return Wt in Tt},get:_?function(Tt,Wt){return t.call(Tt,Wt)?Tt[Wt]:void 0}:function(Tt,Wt){return Tt[Wt]}},v=Object.getPrototypeOf(Function),D="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function pt(){var Tt={},Wt=[],It=function(){function Kt(Pt,Ct,Qt){this._index=0,this._keys=Pt,this._values=Ct,this._selector=Qt}return Kt.prototype["@@iterator"]=function(){return this},Kt.prototype[f]=function(){return this},Kt.prototype.next=function(){var Pt=this._index;if(Pt>=0&&Pt<this._keys.length){var Ct=this._selector(this._keys[Pt],this._values[Pt]);return Pt+1>=this._keys.length?(this._index=-1,this._keys=Wt,this._values=Wt):this._index++,{value:Ct,done:!1}}return{value:void 0,done:!0}},Kt.prototype.throw=function(Pt){throw this._index>=0&&(this._index=-1,this._keys=Wt,this._values=Wt),Pt},Kt.prototype.return=function(Pt){return this._index>=0&&(this._index=-1,this._keys=Wt,this._values=Wt),{value:Pt,done:!0}},Kt}();return function(){function Kt(){this._keys=[],this._values=[],this._cacheKey=Tt,this._cacheIndex=-2}return Object.defineProperty(Kt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Kt.prototype.has=function(Pt){return this._find(Pt,!1)>=0},Kt.prototype.get=function(Pt){var Ct=this._find(Pt,!1);return Ct>=0?this._values[Ct]:void 0},Kt.prototype.set=function(Pt,Ct){var Qt=this._find(Pt,!0);return this._values[Qt]=Ct,this},Kt.prototype.delete=function(Pt){var Ct=this._find(Pt,!1);if(Ct>=0){for(var Qt=this._keys.length,Et=Ct+1;Et<Qt;Et++)this._keys[Et-1]=this._keys[Et],this._values[Et-1]=this._values[Et];return this._keys.length--,this._values.length--,ot(Pt,this._cacheKey)&&(this._cacheKey=Tt,this._cacheIndex=-2),!0}return!1},Kt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Tt,this._cacheIndex=-2},Kt.prototype.keys=function(){return new It(this._keys,this._values,ln)},Kt.prototype.values=function(){return new It(this._keys,this._values,Mt)},Kt.prototype.entries=function(){return new It(this._keys,this._values,Ht)},Kt.prototype["@@iterator"]=function(){return this.entries()},Kt.prototype[f]=function(){return this.entries()},Kt.prototype._find=function(Pt,Ct){if(!ot(this._cacheKey,Pt)){this._cacheIndex=-1;for(var Qt=0;Qt<this._keys.length;Qt++)if(ot(this._keys[Qt],Pt)){this._cacheIndex=Qt;break}}return this._cacheIndex<0&&Ct&&(this._cacheIndex=this._keys.length,this._keys.push(Pt),this._values.push(void 0)),this._cacheIndex},Kt}();function ln(Kt,Pt){return Kt}function Mt(Kt,Pt){return Pt}function Ht(Kt,Pt){return[Kt,Pt]}}(),O="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function dn(){return function(){function Wt(){this._map=new D}return Object.defineProperty(Wt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Wt.prototype.has=function(It){return this._map.has(It)},Wt.prototype.add=function(It){return this._map.set(It,It),this},Wt.prototype.delete=function(It){return this._map.delete(It)},Wt.prototype.clear=function(){this._map.clear()},Wt.prototype.keys=function(){return this._map.keys()},Wt.prototype.values=function(){return this._map.keys()},Wt.prototype.entries=function(){return this._map.entries()},Wt.prototype["@@iterator"]=function(){return this.keys()},Wt.prototype[f]=function(){return this.keys()},Wt}()}(),M="function"==typeof WeakMap?WeakMap:function an(){var Tt=16,Wt=y.create(),It=qt();return function(){function Pt(){this._key=qt()}return Pt.prototype.has=function(Ct){var Qt=ln(Ct,!1);return void 0!==Qt&&y.has(Qt,this._key)},Pt.prototype.get=function(Ct){var Qt=ln(Ct,!1);return void 0!==Qt?y.get(Qt,this._key):void 0},Pt.prototype.set=function(Ct,Qt){return ln(Ct,!0)[this._key]=Qt,this},Pt.prototype.delete=function(Ct){var Qt=ln(Ct,!1);return void 0!==Qt&&delete Qt[this._key]},Pt.prototype.clear=function(){this._key=qt()},Pt}();function qt(){var Pt;do{Pt="@@WeakMap@@"+Kt()}while(y.has(Wt,Pt));return Wt[Pt]=!0,Pt}function ln(Pt,Ct){if(!t.call(Pt,It)){if(!Ct)return;Object.defineProperty(Pt,It,{value:y.create()})}return Pt[It]}function Mt(Pt,Ct){for(var Qt=0;Qt<Ct;++Qt)Pt[Qt]=255*Math.random()|0;return Pt}function Kt(){var Pt=function Ht(Pt){if("function"==typeof Uint8Array){var Ct=new Uint8Array(Pt);return typeof crypto<"u"?crypto.getRandomValues(Ct):typeof msCrypto<"u"?msCrypto.getRandomValues(Ct):Mt(Ct,Pt),Ct}return Mt(new Array(Pt),Pt)}(Tt);Pt[6]=79&Pt[6]|64,Pt[8]=191&Pt[8]|128;for(var Ct="",Qt=0;Qt<Tt;++Qt){var Et=Pt[Qt];(4===Qt||6===Qt||8===Qt)&&(Ct+="-"),Et<16&&(Ct+="0"),Ct+=Et.toString(16).toLowerCase()}return Ct}}(),T=l?Symbol.for("@reflect-metadata:registry"):void 0,R=function ct(){var Tt;return!se(T)&&le(i.Reflect)&&Object.isExtensible(i.Reflect)&&(Tt=i.Reflect[T]),se(Tt)&&(Tt=function kt(){var Tt;!se(T)&&typeof i.Reflect<"u"&&!(T in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(Tt=function ve(Tt){var Wt=Tt.defineMetadata,It=Tt.hasOwnMetadata,qt=Tt.getOwnMetadata,ln=Tt.getOwnMetadataKeys,Mt=Tt.deleteMetadata,Ht=new M;return{isProviderFor:function(Pt,Ct){var Qt=Ht.get(Pt);return!(se(Qt)||!Qt.has(Ct))||!!ln(Pt,Ct).length&&(se(Qt)&&(Qt=new O,Ht.set(Pt,Qt)),Qt.add(Ct),!0)},OrdinaryDefineOwnMetadata:Wt,OrdinaryHasOwnMetadata:It,OrdinaryGetOwnMetadata:qt,OrdinaryOwnMetadataKeys:ln,OrdinaryDeleteMetadata:Mt}}(i.Reflect));var Wt,It,qt,ln=new M,Mt={registerProvider:Ht,getProvider:Pt,setProvider:Qt};return Mt;function Ht(Et){if(!Object.isExtensible(Mt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case Tt===Et:break;case se(Wt):Wt=Et;break;case Wt===Et:break;case se(It):It=Et;break;case It===Et:break;default:void 0===qt&&(qt=new O),qt.add(Et)}}function Kt(Et,Lt){if(!se(Wt)){if(Wt.isProviderFor(Et,Lt))return Wt;if(!se(It)){if(It.isProviderFor(Et,Lt))return Wt;if(!se(qt))for(var it=Fe(qt);;){var Ne=Ie(it);if(!Ne)return;var ke=st(Ne);if(ke.isProviderFor(Et,Lt))return We(it),ke}}}if(!se(Tt)&&Tt.isProviderFor(Et,Lt))return Tt}function Pt(Et,Lt){var Ne,it=ln.get(Et);return se(it)||(Ne=it.get(Lt)),se(Ne)&&(se(Ne=Kt(Et,Lt))||(se(it)&&(it=new D,ln.set(Et,it)),it.set(Lt,Ne))),Ne}function Ct(Et){if(se(Et))throw new TypeError;return Wt===Et||It===Et||!se(qt)&&qt.has(Et)}function Qt(Et,Lt,it){if(!Ct(it))throw new Error("Metadata provider not registered.");var Ne=Pt(Et,Lt);if(Ne!==it){if(!se(Ne))return!1;var ke=ln.get(Et);se(ke)&&(ke=new D,ln.set(Et,ke)),ke.set(Lt,it)}return!0}}()),!se(T)&&le(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,T,{enumerable:!1,configurable:!1,writable:!1,value:Tt}),Tt}(),u=function Ot(Tt){var Wt=new M,It={isProviderFor:function(Ct,Qt){var Et=Wt.get(Ct);return!se(Et)&&Et.has(Qt)},OrdinaryDefineOwnMetadata:function Ht(Ct,Qt,Et,Lt){qt(Et,Lt,!0).set(Ct,Qt)},OrdinaryHasOwnMetadata:function ln(Ct,Qt,Et){var Lt=qt(Qt,Et,!1);return!se(Lt)&&pe(Lt.has(Ct))},OrdinaryGetOwnMetadata:function Mt(Ct,Qt,Et){var Lt=qt(Qt,Et,!1);if(!se(Lt))return Lt.get(Ct)},OrdinaryOwnMetadataKeys:function Kt(Ct,Qt){var Et=[],Lt=qt(Ct,Qt,!1);if(se(Lt))return Et;for(var Ne=Fe(Lt.keys()),ke=0;;){var ze=Ie(Ne);if(!ze)return Et.length=ke,Et;var Ue=st(ze);try{Et[ke]=Ue}catch(St){try{We(Ne)}finally{throw St}}ke++}},OrdinaryDeleteMetadata:function Pt(Ct,Qt,Et){var Lt=qt(Qt,Et,!1);if(se(Lt)||!Lt.delete(Ct))return!1;if(0===Lt.size){var it=Wt.get(Qt);se(it)||(it.delete(Et),0===it.size&&Wt.delete(it))}return!0}};return R.registerProvider(It),It;function qt(Ct,Qt,Et){var Lt=Wt.get(Ct),it=!1;if(se(Lt)){if(!Et)return;Lt=new D,Wt.set(Ct,Lt),it=!0}var Ne=Lt.get(Qt);if(se(Ne)){if(!Et)return;if(Ne=new D,Lt.set(Qt,Ne),!Tt.setProvider(Ct,Qt,It))throw Lt.delete(Qt),it&&Wt.delete(Ct),new Error("Wrong provider for target.")}return Ne}}(R);function X(Tt,Wt,It){if(J(Tt,Wt,It))return!0;var ln=Dt(Wt);return!de(ln)&&X(Tt,ln,It)}function J(Tt,Wt,It){var qt=Be(Wt,It,!1);return!se(qt)&&pe(qt.OrdinaryHasOwnMetadata(Tt,Wt,It))}function q(Tt,Wt,It){if(J(Tt,Wt,It))return Q(Tt,Wt,It);var ln=Dt(Wt);return de(ln)?void 0:q(Tt,ln,It)}function Q(Tt,Wt,It){var qt=Be(Wt,It,!1);if(!se(qt))return qt.OrdinaryGetOwnMetadata(Tt,Wt,It)}function Y(Tt,Wt,It,qt){Be(It,qt,!0).OrdinaryDefineOwnMetadata(Tt,Wt,It,qt)}function z(Tt,Wt){var It=Z(Tt,Wt),qt=Dt(Tt);if(null===qt)return It;var ln=z(qt,Wt);if(ln.length<=0)return It;if(It.length<=0)return ln;for(var Mt=new O,Ht=[],Kt=0,Pt=It;Kt<Pt.length;Kt++)Mt.has(Ct=Pt[Kt])||(Mt.add(Ct),Ht.push(Ct));for(var Et=0,Lt=ln;Et<Lt.length;Et++){var Ct;Mt.has(Ct=Lt[Et])||(Mt.add(Ct),Ht.push(Ct))}return Ht}function Z(Tt,Wt){var It=Be(Tt,Wt,!1);return It?It.OrdinaryOwnMetadataKeys(Tt,Wt):[]}function oe(Tt){if(null===Tt)return 1;switch(typeof Tt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Tt?1:6;default:return 6}}function se(Tt){return void 0===Tt}function de(Tt){return null===Tt}function le(Tt){return"object"==typeof Tt?null!==Tt:"function"==typeof Tt}function Ee(Tt,Wt){switch(oe(Tt)){case 0:case 1:case 2:case 3:case 4:case 5:return Tt}var It=3===Wt?"string":5===Wt?"number":"default",qt=$e(Tt,e);if(void 0!==qt){var ln=qt.call(Tt,It);if(le(ln))throw new TypeError;return ln}return function be(Tt,Wt){if("string"===Wt){var It=Tt.toString;if(nt(It)&&!le(qt=It.call(Tt)))return qt;if(nt(ln=Tt.valueOf)&&!le(qt=ln.call(Tt)))return qt}else{var ln;if(nt(ln=Tt.valueOf)&&!le(qt=ln.call(Tt)))return qt;var qt,Mt=Tt.toString;if(nt(Mt)&&!le(qt=Mt.call(Tt)))return qt}throw new TypeError}(Tt,"default"===It?"number":It)}function pe(Tt){return!!Tt}function ye(Tt){var Wt=Ee(Tt,3);return function te(Tt){return"symbol"==typeof Tt}(Wt)?Wt:function re(Tt){return""+Tt}(Wt)}function De(Tt){return Array.isArray?Array.isArray(Tt):Tt instanceof Object?Tt instanceof Array:"[object Array]"===Object.prototype.toString.call(Tt)}function nt(Tt){return"function"==typeof Tt}function mt(Tt){return"function"==typeof Tt}function ot(Tt,Wt){return Tt===Wt||Tt!=Tt&&Wt!=Wt}function $e(Tt,Wt){var It=Tt[Wt];if(null!=It){if(!nt(It))throw new TypeError;return It}}function Fe(Tt){var Wt=$e(Tt,f);if(!nt(Wt))throw new TypeError;var It=Wt.call(Tt);if(!le(It))throw new TypeError;return It}function st(Tt){return Tt.value}function Ie(Tt){var Wt=Tt.next();return!Wt.done&&Wt}function We(Tt){var Wt=Tt.return;Wt&&Wt.call(Tt)}function Dt(Tt){var Wt=Object.getPrototypeOf(Tt);if("function"!=typeof Tt||Tt===v||Wt!==v)return Wt;var It=Tt.prototype,qt=It&&Object.getPrototypeOf(It);if(null==qt||qt===Object.prototype)return Wt;var ln=qt.constructor;return"function"!=typeof ln||ln===Tt?Wt:ln}function Be(Tt,Wt,It){var qt=R.getProvider(Tt,Wt);if(!se(qt))return qt;if(It){if(R.setProvider(Tt,Wt,u))return u;throw new Error("Illegal state.")}}function In(Tt){return Tt.__=void 0,delete Tt.__,Tt}n("decorate",function w(Tt,Wt,It,qt){if(se(It)){if(!De(Tt))throw new TypeError;if(!mt(Wt))throw new TypeError;return function H(Tt,Wt){for(var It=Tt.length-1;It>=0;--It){var ln=(0,Tt[It])(Wt);if(!se(ln)&&!de(ln)){if(!mt(ln))throw new TypeError;Wt=ln}}return Wt}(Tt,Wt)}if(!De(Tt))throw new TypeError;if(!le(Wt))throw new TypeError;if(!le(qt)&&!se(qt)&&!de(qt))throw new TypeError;return de(qt)&&(qt=void 0),function V(Tt,Wt,It,qt){for(var ln=Tt.length-1;ln>=0;--ln){var Ht=(0,Tt[ln])(Wt,It,qt);if(!se(Ht)&&!de(Ht)){if(!le(Ht))throw new TypeError;qt=Ht}}return qt}(Tt,Wt,It=ye(It),qt)}),n("metadata",function C(Tt,Wt){return function It(qt,ln){if(!le(qt))throw new TypeError;if(!se(ln)&&!function xe(Tt){switch(oe(Tt)){case 3:case 4:return!0;default:return!1}}(ln))throw new TypeError;Y(Tt,Wt,qt,ln)}}),n("defineMetadata",function S(Tt,Wt,It,qt){if(!le(It))throw new TypeError;return se(qt)||(qt=ye(qt)),Y(Tt,Wt,It,qt)}),n("hasMetadata",function I(Tt,Wt,It){if(!le(Wt))throw new TypeError;return se(It)||(It=ye(It)),X(Tt,Wt,It)}),n("hasOwnMetadata",function L(Tt,Wt,It){if(!le(Wt))throw new TypeError;return se(It)||(It=ye(It)),J(Tt,Wt,It)}),n("getMetadata",function B(Tt,Wt,It){if(!le(Wt))throw new TypeError;return se(It)||(It=ye(It)),q(Tt,Wt,It)}),n("getOwnMetadata",function U(Tt,Wt,It){if(!le(Wt))throw new TypeError;return se(It)||(It=ye(It)),Q(Tt,Wt,It)}),n("getMetadataKeys",function W(Tt,Wt){if(!le(Tt))throw new TypeError;return se(Wt)||(Wt=ye(Wt)),z(Tt,Wt)}),n("getOwnMetadataKeys",function j(Tt,Wt){if(!le(Tt))throw new TypeError;return se(Wt)||(Wt=ye(Wt)),Z(Tt,Wt)}),n("deleteMetadata",function G(Tt,Wt,It){if(!le(Wt))throw new TypeError;if(se(It)||(It=ye(It)),!le(Wt))throw new TypeError;se(It)||(It=ye(It));var qt=Be(Wt,It,!1);return!se(qt)&&qt.OrdinaryDeleteMetadata(Tt,Wt,It)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=b)}()},24994:N=>{N.exports=function b(n){return n&&n.__esModule?n:{default:n}},N.exports.__esModule=!0,N.exports.default=N.exports},73738:N=>{function b(n){return N.exports=b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},N.exports.__esModule=!0,N.exports.default=N.exports,b(n)}N.exports=b,N.exports.__esModule=!0,N.exports.default=N.exports},82374:(N,b,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);N.exports=i.Reflect},79306:(N,b,n)=>{"use strict";var i=n(94901),t=n(16823),l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not a function")}},35548:(N,b,n)=>{"use strict";var i=n(33517),t=n(16823),l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not a constructor")}},73506:(N,b,n)=>{"use strict";var i=n(13925),t=String,l=TypeError;N.exports=function(e){if(i(e))return e;throw new l("Can't set "+t(e)+" as a prototype")}},28551:(N,b,n)=>{"use strict";var i=n(20034),t=String,l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not an object")}},15652:(N,b,n)=>{"use strict";var i=n(79039);N.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(N,b,n)=>{"use strict";var i=n(25397),t=n(35610),l=n(26198),e=function(f){return function(m,h,_){var y=i(m),v=l(y);if(0===v)return!f&&-1;var O,D=t(_,v);if(f&&h!=h){for(;v>D;)if((O=y[D++])!=O)return!0}else for(;v>D;D++)if((f||D in y)&&y[D]===h)return f||D||0;return!f&&-1}};N.exports={includes:e(!0),indexOf:e(!1)}},67680:(N,b,n)=>{"use strict";var i=n(79504);N.exports=i([].slice)},22195:(N,b,n)=>{"use strict";var i=n(79504),t=i({}.toString),l=i("".slice);N.exports=function(e){return l(t(e),8,-1)}},36955:(N,b,n)=>{"use strict";var i=n(92140),t=n(94901),l=n(22195),f=n(78227)("toStringTag"),m=Object,h="Arguments"===l(function(){return arguments}());N.exports=i?l:function(y){var v,D,O;return void 0===y?"Undefined":null===y?"Null":"string"==typeof(D=function(y,v){try{return y[v]}catch{}}(v=m(y),f))?D:h?l(v):"Object"===(O=l(v))&&t(v.callee)?"Arguments":O}},77740:(N,b,n)=>{"use strict";var i=n(39297),t=n(35031),l=n(77347),e=n(24913);N.exports=function(f,m,h){for(var _=t(m),y=e.f,v=l.f,D=0;D<_.length;D++){var O=_[D];!i(f,O)&&(!h||!i(h,O))&&y(f,O,v(m,O))}}},12211:(N,b,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(N,b,n)=>{"use strict";var i=n(43724),t=n(24913),l=n(6980);N.exports=i?function(e,f,m){return t.f(e,f,l(1,m))}:function(e,f,m){return e[f]=m,e}},6980:N=>{"use strict";N.exports=function(b,n){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:n}}},36840:(N,b,n)=>{"use strict";var i=n(94901),t=n(24913),l=n(50283),e=n(39433);N.exports=function(f,m,h,_){_||(_={});var y=_.enumerable,v=void 0!==_.name?_.name:m;if(i(h)&&l(h,v,_),_.global)y?f[m]=h:e(m,h);else{try{_.unsafe?f[m]&&(y=!0):delete f[m]}catch{}y?f[m]=h:t.f(f,m,{value:h,enumerable:!1,configurable:!_.nonConfigurable,writable:!_.nonWritable})}return f}},39433:(N,b,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;N.exports=function(l,e){try{t(i,l,{value:e,configurable:!0,writable:!0})}catch{i[l]=e}return e}},43724:(N,b,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(N,b,n)=>{"use strict";var i=n(44576),t=n(20034),l=i.document,e=t(l)&&t(l.createElement);N.exports=function(f){return e?l.createElement(f):{}}},88727:N=>{"use strict";N.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(N,b,n)=>{"use strict";var t=n(44576).navigator,l=t&&t.userAgent;N.exports=l?String(l):""},39519:(N,b,n)=>{"use strict";var h,_,i=n(44576),t=n(82839),l=i.process,e=i.Deno,f=l&&l.versions||e&&e.version,m=f&&f.v8;m&&(_=(h=m.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!_&&t&&(!(h=t.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=t.match(/Chrome\/(\d+)/))&&(_=+h[1]),N.exports=_},46518:(N,b,n)=>{"use strict";var i=n(44576),t=n(77347).f,l=n(66699),e=n(36840),f=n(39433),m=n(77740),h=n(92796);N.exports=function(_,y){var T,R,u,w,C,v=_.target,D=_.global,O=_.stat;if(T=D?i:O?i[v]||f(v,{}):i[v]&&i[v].prototype)for(R in y){if(w=y[R],u=_.dontCallGetSet?(C=t(T,R))&&C.value:T[R],!h(D?R:v+(O?".":"#")+R,_.forced)&&void 0!==u){if(typeof w==typeof u)continue;m(w,u)}(_.sham||u&&u.sham)&&l(w,"sham",!0),e(T,R,w,_)}}},79039:N=>{"use strict";N.exports=function(b){try{return!!b()}catch{return!0}}},92744:(N,b,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(N,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,l=t.apply,e=t.call;N.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(l):function(){return e.apply(l,arguments)})},40616:(N,b,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(N,b,n)=>{"use strict";var i=n(79504),t=n(79306),l=n(20034),e=n(39297),f=n(67680),m=n(40616),h=Function,_=i([].concat),y=i([].join),v={};N.exports=m?h.bind:function(M){var T=t(this),R=T.prototype,u=f(arguments,1),w=function(){var S=_(u,f(arguments));return this instanceof w?function(O,M,T){if(!e(v,M)){for(var R=[],u=0;u<M;u++)R[u]="a["+u+"]";v[M]=h("C,a","return new C("+y(R,",")+")")}return v[M](O,T)}(T,S.length,S):T.apply(M,S)};return l(R)&&(w.prototype=R),w}},69565:(N,b,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;N.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(N,b,n)=>{"use strict";var i=n(43724),t=n(39297),l=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,f=t(l,"name"),m=f&&"something"===function(){}.name,h=f&&(!i||i&&e(l,"name").configurable);N.exports={EXISTS:f,PROPER:m,CONFIGURABLE:h}},46706:(N,b,n)=>{"use strict";var i=n(79504),t=n(79306);N.exports=function(l,e,f){try{return i(t(Object.getOwnPropertyDescriptor(l,e)[f]))}catch{}}},79504:(N,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,l=t.call,e=i&&t.bind.bind(l,l);N.exports=i?e:function(f){return function(){return l.apply(f,arguments)}}},97751:(N,b,n)=>{"use strict";var i=n(44576),t=n(94901);N.exports=function(e,f){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][f]}},55966:(N,b,n)=>{"use strict";var i=n(79306),t=n(64117);N.exports=function(l,e){var f=l[e];return t(f)?void 0:i(f)}},44576:function(N){"use strict";var b=function(n){return n&&n.Math===Math&&n};N.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof global&&global)||b("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(N,b,n)=>{"use strict";var i=n(79504),t=n(48981),l=i({}.hasOwnProperty);N.exports=Object.hasOwn||function(f,m){return l(t(f),m)}},30421:N=>{"use strict";N.exports={}},20397:(N,b,n)=>{"use strict";var i=n(97751);N.exports=i("document","documentElement")},35917:(N,b,n)=>{"use strict";var i=n(43724),t=n(79039),l=n(4055);N.exports=!i&&!t(function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a})},47055:(N,b,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(22195),e=Object,f=i("".split);N.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===l(m)?f(m,""):e(m)}:e},33706:(N,b,n)=>{"use strict";var i=n(79504),t=n(94901),l=n(77629),e=i(Function.toString);t(l.inspectSource)||(l.inspectSource=function(f){return e(f)}),N.exports=l.inspectSource},91181:(N,b,n)=>{"use strict";var O,M,T,i=n(58622),t=n(44576),l=n(20034),e=n(66699),f=n(39297),m=n(77629),h=n(66119),_=n(30421),y="Object already initialized",v=t.TypeError;if(i||m.state){var w=m.state||(m.state=new(0,t.WeakMap));w.get=w.get,w.has=w.has,w.set=w.set,O=function(S,I){if(w.has(S))throw new v(y);return I.facade=S,w.set(S,I),I},M=function(S){return w.get(S)||{}},T=function(S){return w.has(S)}}else{var C=h("state");_[C]=!0,O=function(S,I){if(f(S,C))throw new v(y);return I.facade=S,e(S,C,I),I},M=function(S){return f(S,C)?S[C]:{}},T=function(S){return f(S,C)}}N.exports={set:O,get:M,has:T,enforce:function(S){return T(S)?M(S):O(S,{})},getterFor:function(S){return function(I){var L;if(!l(I)||(L=M(I)).type!==S)throw new v("Incompatible receiver, "+S+" required");return L}}}},94901:N=>{"use strict";var b="object"==typeof document&&document.all;N.exports=typeof b>"u"&&void 0!==b?function(n){return"function"==typeof n||n===b}:function(n){return"function"==typeof n}},33517:(N,b,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(94901),e=n(36955),f=n(97751),m=n(33706),h=function(){},_=f("Reflect","construct"),y=/^\s*(?:class|function)\b/,v=i(y.exec),D=!y.test(h),O=function(R){if(!l(R))return!1;try{return _(h,[],R),!0}catch{return!1}},M=function(R){if(!l(R))return!1;switch(e(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!v(y,m(R))}catch{return!0}};M.sham=!0,N.exports=!_||t(function(){var T;return O(O.call)||!O(Object)||!O(function(){T=!0})||T})?M:O},16575:(N,b,n)=>{"use strict";var i=n(39297);N.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(N,b,n)=>{"use strict";var i=n(79039),t=n(94901),l=/#|\.prototype\./,e=function(y,v){var D=m[f(y)];return D===_||D!==h&&(t(v)?i(v):!!v)},f=e.normalize=function(y){return String(y).replace(l,".").toLowerCase()},m=e.data={},h=e.NATIVE="N",_=e.POLYFILL="P";N.exports=e},64117:N=>{"use strict";N.exports=function(b){return null==b}},20034:(N,b,n)=>{"use strict";var i=n(94901);N.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(N,b,n)=>{"use strict";var i=n(20034);N.exports=function(t){return i(t)||null===t}},96395:N=>{"use strict";N.exports=!1},10757:(N,b,n)=>{"use strict";var i=n(97751),t=n(94901),l=n(1625),e=n(7040),f=Object;N.exports=e?function(m){return"symbol"==typeof m}:function(m){var h=i("Symbol");return t(h)&&l(h.prototype,f(m))}},26198:(N,b,n)=>{"use strict";var i=n(18014);N.exports=function(t){return i(t.length)}},50283:(N,b,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(94901),e=n(39297),f=n(43724),m=n(10350).CONFIGURABLE,h=n(33706),_=n(91181),y=_.enforce,v=_.get,D=String,O=Object.defineProperty,M=i("".slice),T=i("".replace),R=i([].join),u=f&&!t(function(){return 8!==O(function(){},"length",{value:8}).length}),w=String(String).split("String"),C=N.exports=function(S,I,L){"Symbol("===M(D(I),0,7)&&(I="["+T(D(I),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),L&&L.getter&&(I="get "+I),L&&L.setter&&(I="set "+I),(!e(S,"name")||m&&S.name!==I)&&(f?O(S,"name",{value:I,configurable:!0}):S.name=I),u&&L&&e(L,"arity")&&S.length!==L.arity&&O(S,"length",{value:L.arity});try{L&&e(L,"constructor")&&L.constructor?f&&O(S,"prototype",{writable:!1}):S.prototype&&(S.prototype=void 0)}catch{}var B=y(S);return e(B,"source")||(B.source=R(w,"string"==typeof I?I:"")),S};Function.prototype.toString=C(function(){return l(this)&&v(this).source||h(this)},"toString")},80741:N=>{"use strict";var b=Math.ceil,n=Math.floor;N.exports=Math.trunc||function(t){var l=+t;return(l>0?n:b)(l)}},2360:(N,b,n)=>{"use strict";var w,i=n(28551),t=n(96801),l=n(88727),e=n(30421),f=n(20397),m=n(4055),h=n(66119),v="prototype",D="script",O=h("IE_PROTO"),M=function(){},T=function(S){return"<"+D+">"+S+"</"+D+">"},R=function(S){S.write(T("")),S.close();var I=S.parentWindow.Object;return S=null,I},C=function(){try{w=new ActiveXObject("htmlfile")}catch{}C=typeof document<"u"?document.domain&&w?R(w):function(){var L,S=m("iframe"),I="java"+D+":";return S.style.display="none",f.appendChild(S),S.src=String(I),(L=S.contentWindow.document).open(),L.write(T("document.F=Object")),L.close(),L.F}():R(w);for(var S=l.length;S--;)delete C[v][l[S]];return C()};e[O]=!0,N.exports=Object.create||function(I,L){var B;return null!==I?(M[v]=i(I),B=new M,M[v]=null,B[O]=I):B=C(),void 0===L?B:t.f(B,L)}},96801:(N,b,n)=>{"use strict";var i=n(43724),t=n(48686),l=n(24913),e=n(28551),f=n(25397),m=n(71072);b.f=i&&!t?Object.defineProperties:function(_,y){e(_);for(var T,v=f(y),D=m(y),O=D.length,M=0;O>M;)l.f(_,T=D[M++],v[T]);return _}},24913:(N,b,n)=>{"use strict";var i=n(43724),t=n(35917),l=n(48686),e=n(28551),f=n(56969),m=TypeError,h=Object.defineProperty,_=Object.getOwnPropertyDescriptor,y="enumerable",v="configurable",D="writable";b.f=i?l?function(M,T,R){if(e(M),T=f(T),e(R),"function"==typeof M&&"prototype"===T&&"value"in R&&D in R&&!R[D]){var u=_(M,T);u&&u[D]&&(M[T]=R.value,R={configurable:v in R?R[v]:u[v],enumerable:y in R?R[y]:u[y],writable:!1})}return h(M,T,R)}:h:function(M,T,R){if(e(M),T=f(T),e(R),t)try{return h(M,T,R)}catch{}if("get"in R||"set"in R)throw new m("Accessors not supported");return"value"in R&&(M[T]=R.value),M}},77347:(N,b,n)=>{"use strict";var i=n(43724),t=n(69565),l=n(48773),e=n(6980),f=n(25397),m=n(56969),h=n(39297),_=n(35917),y=Object.getOwnPropertyDescriptor;b.f=i?y:function(D,O){if(D=f(D),O=m(O),_)try{return y(D,O)}catch{}if(h(D,O))return e(!t(l.f,D,O),D[O])}},38480:(N,b,n)=>{"use strict";var i=n(61828),l=n(88727).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(f){return i(f,l)}},33717:(N,b)=>{"use strict";b.f=Object.getOwnPropertySymbols},42787:(N,b,n)=>{"use strict";var i=n(39297),t=n(94901),l=n(48981),e=n(66119),f=n(12211),m=e("IE_PROTO"),h=Object,_=h.prototype;N.exports=f?h.getPrototypeOf:function(y){var v=l(y);if(i(v,m))return v[m];var D=v.constructor;return t(D)&&v instanceof D?D.prototype:v instanceof h?_:null}},34124:(N,b,n)=>{"use strict";var i=n(79039),t=n(20034),l=n(22195),e=n(15652),f=Object.isExtensible,m=i(function(){f(1)});N.exports=m||e?function(_){return!(!t(_)||e&&"ArrayBuffer"===l(_))&&(!f||f(_))}:f},1625:(N,b,n)=>{"use strict";var i=n(79504);N.exports=i({}.isPrototypeOf)},61828:(N,b,n)=>{"use strict";var i=n(79504),t=n(39297),l=n(25397),e=n(19617).indexOf,f=n(30421),m=i([].push);N.exports=function(h,_){var O,y=l(h),v=0,D=[];for(O in y)!t(f,O)&&t(y,O)&&m(D,O);for(;_.length>v;)t(y,O=_[v++])&&(~e(D,O)||m(D,O));return D}},71072:(N,b,n)=>{"use strict";var i=n(61828),t=n(88727);N.exports=Object.keys||function(e){return i(e,t)}},48773:(N,b)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);b.f=t?function(e){var f=i(this,e);return!!f&&f.enumerable}:n},52967:(N,b,n)=>{"use strict";var i=n(46706),t=n(20034),l=n(67750),e=n(73506);N.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,m={};try{(h=i(Object.prototype,"__proto__","set"))(m,[]),f=m instanceof Array}catch{}return function(y,v){return l(y),e(v),t(y)&&(f?h(y,v):y.__proto__=v),y}}():void 0)},53179:(N,b,n)=>{"use strict";var i=n(92140),t=n(36955);N.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(N,b,n)=>{"use strict";var i=n(69565),t=n(94901),l=n(20034),e=TypeError;N.exports=function(f,m){var h,_;if("string"===m&&t(h=f.toString)&&!l(_=i(h,f))||t(h=f.valueOf)&&!l(_=i(h,f))||"string"!==m&&t(h=f.toString)&&!l(_=i(h,f)))return _;throw new e("Can't convert object to primitive value")}},35031:(N,b,n)=>{"use strict";var i=n(97751),t=n(79504),l=n(38480),e=n(33717),f=n(28551),m=t([].concat);N.exports=i("Reflect","ownKeys")||function(_){var y=l.f(f(_)),v=e.f;return v?m(y,v(_)):y}},19167:(N,b,n)=>{"use strict";var i=n(44576);N.exports=i},67750:(N,b,n)=>{"use strict";var i=n(64117),t=TypeError;N.exports=function(l){if(i(l))throw new t("Can't call method on "+l);return l}},10687:(N,b,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");N.exports=function(f,m,h){f&&!h&&(f=f.prototype),f&&!t(f,e)&&i(f,e,{configurable:!0,value:m})}},66119:(N,b,n)=>{"use strict";var i=n(25745),t=n(33392),l=i("keys");N.exports=function(e){return l[e]||(l[e]=t(e))}},77629:(N,b,n)=>{"use strict";var i=n(96395),t=n(44576),l=n(39433),e="__core-js_shared__",f=N.exports=t[e]||l(e,{});(f.versions||(f.versions=[])).push({version:"3.40.0",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(N,b,n)=>{"use strict";var i=n(77629);N.exports=function(t,l){return i[t]||(i[t]=l||{})}},4495:(N,b,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;N.exports=!!Object.getOwnPropertySymbols&&!t(function(){var f=Symbol("symbol detection");return!e(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(N,b,n)=>{"use strict";var i=n(91291),t=Math.max,l=Math.min;N.exports=function(e,f){var m=i(e);return m<0?t(m+f,0):l(m,f)}},25397:(N,b,n)=>{"use strict";var i=n(47055),t=n(67750);N.exports=function(l){return i(t(l))}},91291:(N,b,n)=>{"use strict";var i=n(80741);N.exports=function(t){var l=+t;return l!=l||0===l?0:i(l)}},18014:(N,b,n)=>{"use strict";var i=n(91291),t=Math.min;N.exports=function(l){var e=i(l);return e>0?t(e,9007199254740991):0}},48981:(N,b,n)=>{"use strict";var i=n(67750),t=Object;N.exports=function(l){return t(i(l))}},72777:(N,b,n)=>{"use strict";var i=n(69565),t=n(20034),l=n(10757),e=n(55966),f=n(84270),m=n(78227),h=TypeError,_=m("toPrimitive");N.exports=function(y,v){if(!t(y)||l(y))return y;var O,D=e(y,_);if(D){if(void 0===v&&(v="default"),O=i(D,y,v),!t(O)||l(O))return O;throw new h("Can't convert object to primitive value")}return void 0===v&&(v="number"),f(y,v)}},56969:(N,b,n)=>{"use strict";var i=n(72777),t=n(10757);N.exports=function(l){var e=i(l,"string");return t(e)?e:e+""}},92140:(N,b,n)=>{"use strict";var l={};l[n(78227)("toStringTag")]="z",N.exports="[object z]"===String(l)},16823:N=>{"use strict";var b=String;N.exports=function(n){try{return b(n)}catch{return"Object"}}},33392:(N,b,n)=>{"use strict";var i=n(79504),t=0,l=Math.random(),e=i(1..toString);N.exports=function(f){return"Symbol("+(void 0===f?"":f)+")_"+e(++t+l,36)}},7040:(N,b,n)=>{"use strict";var i=n(4495);N.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(N,b,n)=>{"use strict";var i=n(43724),t=n(79039);N.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(N,b,n)=>{"use strict";var i=n(44576),t=n(94901),l=i.WeakMap;N.exports=t(l)&&/native code/.test(String(l))},78227:(N,b,n)=>{"use strict";var i=n(44576),t=n(25745),l=n(39297),e=n(33392),f=n(4495),m=n(7040),h=i.Symbol,_=t("wks"),y=m?h.for||h:h&&h.withoutSetter||e;N.exports=function(v){return l(_,v)||(_[v]=f&&l(h,v)?h[v]:y("Symbol."+v)),_[v]}},26099:(N,b,n)=>{"use strict";var i=n(92140),t=n(36840),l=n(53179);i||t(Object.prototype,"toString",l,{unsafe:!0})},39796:(N,b,n)=>{"use strict";var i=n(46518),t=n(18745),l=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(_,y,v){return t(l(_),y,e(v))}})},60825:(N,b,n)=>{"use strict";var i=n(46518),t=n(97751),l=n(18745),e=n(30566),f=n(35548),m=n(28551),h=n(20034),_=n(2360),y=n(79039),v=t("Reflect","construct"),D=Object.prototype,O=[].push,M=y(function(){function u(){}return!(v(function(){},[],u)instanceof u)}),T=!y(function(){v(function(){})}),R=M||T;i({target:"Reflect",stat:!0,forced:R,sham:R},{construct:function(w,C){f(w),m(C);var S=arguments.length<3?w:f(arguments[2]);if(T&&!M)return v(w,C,S);if(w===S){switch(C.length){case 0:return new w;case 1:return new w(C[0]);case 2:return new w(C[0],C[1]);case 3:return new w(C[0],C[1],C[2]);case 4:return new w(C[0],C[1],C[2],C[3])}var I=[null];return l(O,I,C),new(l(e,w,I))}var L=S.prototype,B=_(h(L)?L:D),U=l(w,B,C);return h(U)?U:B}})},87411:(N,b,n)=>{"use strict";var i=n(46518),t=n(43724),l=n(28551),e=n(56969),f=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(f.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(y,v,D){l(y);var O=e(v);l(D);try{return f.f(y,O,D),!0}catch{return!1}}})},21211:(N,b,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(f,m){var h=l(t(f),m);return!(h&&!h.configurable)&&delete f[m]}})},9065:(N,b,n)=>{"use strict";var i=n(46518),t=n(43724),l=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,h){return e.f(l(m),h)}})},86565:(N,b,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return l(t(m))}})},40888:(N,b,n)=>{"use strict";var i=n(46518),t=n(69565),l=n(20034),e=n(28551),f=n(16575),m=n(77347),h=n(42787);i({target:"Reflect",stat:!0},{get:function _(y,v){var O,M,D=arguments.length<3?y:arguments[2];return e(y)===D?y[v]:(O=m.f(y,v))?f(O)?O.value:void 0===O.get?void 0:t(O.get,D):l(M=h(y))?_(M,v,D):void 0}})},32812:(N,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(l,e){return e in l}})},84634:(N,b,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(f){return t(f),l(f)}})},71137:(N,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(N,b,n)=>{"use strict";var i=n(46518),t=n(97751),l=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){l(m);try{var h=t("Object","preventExtensions");return h&&h(m),!0}catch{return!1}}})},34873:(N,b,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,h){t(m),l(h);try{return e(m,h),!0}catch{return!1}}})},34268:(N,b,n)=>{"use strict";var i=n(46518),t=n(69565),l=n(28551),e=n(20034),f=n(16575),m=n(79039),h=n(24913),_=n(77347),y=n(42787),v=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var M=function(){},T=h.f(new M,"a",{configurable:!0});return!1!==Reflect.set(M.prototype,"a",1,T)})},{set:function D(M,T,R){var C,S,I,u=arguments.length<4?M:arguments[3],w=_.f(l(M),T);if(!w){if(e(S=y(M)))return D(S,T,R,u);w=v(0)}if(f(w)){if(!1===w.writable||!e(u))return!1;if(C=_.f(u,T)){if(C.get||C.set||!1===C.writable)return!1;C.value=R,h.f(u,T,C)}else h.f(u,T,v(0,R))}else{if(void 0===(I=w.set))return!1;t(I,u,R)}return!0}})},15472:(N,b,n)=>{"use strict";var i=n(46518),t=n(44576),l=n(10687);i({global:!0},{Reflect:{}}),l(t.Reflect,"Reflect",!0)},74523:(N,b,n)=>{"use strict";function i(l,e,f,m,h,_,y){try{var v=l[_](y),D=v.value}catch(O){return void f(O)}v.done?e(D):Promise.resolve(D).then(m,h)}function t(l){return function(){var e=this,f=arguments;return new Promise(function(m,h){var _=l.apply(e,f);function y(D){i(_,m,h,y,v,"next",D)}function v(D){i(_,m,h,y,v,"throw",D)}y(void 0)})}}n.d(b,{A:()=>t})},49969:(N,b,n)=>{"use strict";n.d(b,{FX:()=>G,If:()=>i,K2:()=>m,MA:()=>O,Os:()=>f,P:()=>T,hZ:()=>l,i0:()=>e,iF:()=>h,kY:()=>v,kp:()=>t,sf:()=>W,ui:()=>j,wk:()=>_});var i=function(H){return H[H.State=0]="State",H[H.Transition=1]="Transition",H[H.Sequence=2]="Sequence",H[H.Group=3]="Group",H[H.Animate=4]="Animate",H[H.Keyframes=5]="Keyframes",H[H.Style=6]="Style",H[H.Trigger=7]="Trigger",H[H.Reference=8]="Reference",H[H.AnimateChild=9]="AnimateChild",H[H.AnimateRef=10]="AnimateRef",H[H.Query=11]="Query",H[H.Stagger=12]="Stagger",H}(i||{});const t="*";function l(H,V){return{type:i.Trigger,name:H,definitions:V,options:{}}}function e(H,V=null){return{type:i.Animate,styles:V,timings:H}}function f(H,V=null){return{type:i.Group,steps:H,options:V}}function m(H,V=null){return{type:i.Sequence,steps:H,options:V}}function h(H){return{type:i.Style,styles:H,offset:null}}function _(H,V,X){return{type:i.State,name:H,styles:V,options:X}}function v(H,V,X=null){return{type:i.Transition,expr:H,animation:V,options:X}}function O(H=null){return{type:i.AnimateChild,options:H}}function T(H,V,X=null){return{type:i.Query,selector:H,animation:V,options:X}}class W{constructor(V=0,X=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=V+X}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}onStart(V){this._originalOnStartFns.push(V),this._onStartFns.push(V)}onDone(V){this._originalOnDoneFns.push(V),this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(V){this._position=this.totalTime?V*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(J=>J()),X.length=0}}class j{constructor(V){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=V;let X=0,J=0,q=0;const Q=this.players.length;0==Q?queueMicrotask(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++X==Q&&this._onFinish()}),Y.onDestroy(()=>{++J==Q&&this._onDestroy()}),Y.onStart(()=>{++q==Q&&this._onStart()})}),this.totalTime=this.players.reduce((Y,z)=>Math.max(Y,z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this.players.forEach(V=>V.init())}onStart(V){this._onStartFns.push(V)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(V=>V()),this._onStartFns=[])}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(V=>V.play())}pause(){this.players.forEach(V=>V.pause())}restart(){this.players.forEach(V=>V.restart())}finish(){this._onFinish(),this.players.forEach(V=>V.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(V=>V.destroy()),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this.players.forEach(V=>V.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(V){const X=V*this.totalTime;this.players.forEach(J=>{const q=J.totalTime?Math.min(1,X/J.totalTime):1;J.setPosition(q)})}getPosition(){const V=this.players.reduce((X,J)=>null===X||J.totalTime>X.totalTime?J:X,null);return null!=V?V.getPosition():0}beforeDestroy(){this.players.forEach(V=>{V.beforeDestroy&&V.beforeDestroy()})}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(J=>J()),X.length=0}}const G="!"},28203:(N,b,n)=>{"use strict";n.d(b,{dS:()=>h});var i=n(54438),t=n(60177);const l=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),f=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let h=(()=>{class v{constructor(O){this.value="ltr",this.change=new i.bkB,O&&(this.value=function m(v){const D=v?.toLowerCase()||"";return"auto"===D&&typeof navigator<"u"&&navigator?.language?f.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((O.body?O.body.dir:null)||(O.documentElement?O.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(M){return new(M||v)(i.KVO(l,8))}}static{this.\u0275prov=i.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},45024:(N,b,n)=>{"use strict";n.d(b,{CB:()=>M,qS:()=>m,y4:()=>h});var i=n(30017),e=(n(74402),n(7673),n(21413));n(54438);class m{}function h(u){return u&&"function"==typeof u.connect&&!(u instanceof i.G)}class M{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(w=!1,C,S=!0,I){this._multiple=w,this._emitChanges=S,this.compareWith=I,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,C&&C.length&&(w?C.forEach(L=>this._markSelected(L)):this._markSelected(C[0]),this._selectedToEmit.length=0)}select(...w){this._verifyValueAssignment(w),w.forEach(S=>this._markSelected(S));const C=this._hasQueuedChanges();return this._emitChangeEvent(),C}deselect(...w){this._verifyValueAssignment(w),w.forEach(S=>this._unmarkSelected(S));const C=this._hasQueuedChanges();return this._emitChangeEvent(),C}setSelection(...w){this._verifyValueAssignment(w);const C=this.selected,S=new Set(w);w.forEach(L=>this._markSelected(L)),C.filter(L=>!S.has(this._getConcreteValue(L,S))).forEach(L=>this._unmarkSelected(L));const I=this._hasQueuedChanges();return this._emitChangeEvent(),I}toggle(w){return this.isSelected(w)?this.deselect(w):this.select(w)}clear(w=!0){this._unmarkAll();const C=this._hasQueuedChanges();return w&&this._emitChangeEvent(),C}isSelected(w){return this._selection.has(this._getConcreteValue(w))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(w){this._multiple&&this.selected&&this._selected.sort(w)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(w){w=this._getConcreteValue(w),this.isSelected(w)||(this._multiple||this._unmarkAll(),this.isSelected(w)||this._selection.add(w),this._emitChanges&&this._selectedToEmit.push(w))}_unmarkSelected(w){w=this._getConcreteValue(w),this.isSelected(w)&&(this._selection.delete(w),this._emitChanges&&this._deselectedToEmit.push(w))}_unmarkAll(){this.isEmpty()||this._selection.forEach(w=>this._unmarkSelected(w))}_verifyValueAssignment(w){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(w,C){if(this.compareWith){C=C??this._selection;for(let S of C)if(this.compareWith(w,S))return S;return w}return w}}},52717:(N,b,n)=>{"use strict";n.d(b,{T1:()=>Jr,Fb:()=>Br,O7:()=>_l,RK:()=>xl,HD:()=>Ws});var i=n(54438),t=n(60177);function e(Me,_e=0){return function f(Me){return!isNaN(parseFloat(Me))&&!isNaN(Number(Me))}(Me)?Number(Me):_e}function _(Me){return Me instanceof i.aKT?Me.nativeElement:Me}var v=n(21413),D=n(7673),O=n(71985),M=n(33726),T=n(96780),R=n(18359);const u={schedule(Me){let _e=requestAnimationFrame,ae=cancelAnimationFrame;const{delegate:Se}=u;Se&&(_e=Se.requestAnimationFrame,ae=Se.cancelAnimationFrame);const tt=_e(At=>{ae=void 0,Me(At)});return new R.yU(()=>ae?.(tt))},requestAnimationFrame(...Me){const{delegate:_e}=u;return(_e?.requestAnimationFrame||requestAnimationFrame)(...Me)},cancelAnimationFrame(...Me){const{delegate:_e}=u;return(_e?.cancelAnimationFrame||cancelAnimationFrame)(...Me)},delegate:void 0};var C=n(39687);const I=new class S extends C.q{flush(_e){this._active=!0;const ae=this._scheduled;this._scheduled=void 0;const{actions:Se}=this;let tt;_e=_e||Se.shift();do{if(tt=_e.execute(_e.state,_e.delay))break}while((_e=Se[0])&&_e.id===ae&&Se.shift());if(this._active=!1,tt){for(;(_e=Se[0])&&_e.id===ae&&Se.shift();)_e.unsubscribe();throw tt}}}(class w extends T.R{constructor(_e,ae){super(_e,ae),this.scheduler=_e,this.work=ae}requestAsyncId(_e,ae,Se=0){return null!==Se&&Se>0?super.requestAsyncId(_e,ae,Se):(_e.actions.push(this),_e._scheduled||(_e._scheduled=u.requestAnimationFrame(()=>_e.flush(void 0))))}recycleAsyncId(_e,ae,Se=0){var tt;if(null!=Se?Se>0:this.delay>0)return super.recycleAsyncId(_e,ae,Se);const{actions:At}=_e;null!=ae&&(null===(tt=At[At.length-1])||void 0===tt?void 0:tt.id)!==ae&&(u.cancelAnimationFrame(ae),_e._scheduled=void 0)}});n(25007);var U=n(43236),W=n(39974),j=n(58750),G=n(54360),V=n(41584);function X(Me,_e=U.E){return function H(Me){return(0,W.N)((_e,ae)=>{let Se=!1,tt=null,At=null,un=!1;const On=()=>{if(At?.unsubscribe(),At=null,Se){Se=!1;const ds=tt;tt=null,ae.next(ds)}un&&ae.complete()},Xn=()=>{At=null,un&&ae.complete()};_e.subscribe((0,G._)(ae,ds=>{Se=!0,tt=ds,At||(0,j.Tg)(Me(ds)).subscribe(At=(0,G._)(ae,On,Xn))},()=>{un=!0,(!Se||!At||At.closed)&&ae.complete()}))})}(()=>(0,V.O)(Me,_e))}var J=n(5964);let q;try{q=typeof Intl<"u"&&Intl.v8BreakIterator}catch{q=!1}let se,ye,Q=(()=>{class Me{constructor(ae){this._platformId=ae,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!q)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function te(Me){return function de(){if(null==se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>se=!0}))}finally{se=se||!1}return se}()?Me:!!Me.capture}function nt(Me){if(function De(){if(null==ye){const Me=typeof document<"u"?document.head:null;ye=!(!Me||!Me.createShadowRoot&&!Me.attachShadow)}return ye}()){const _e=Me.getRootNode?Me.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&_e instanceof ShadowRoot)return _e}return null}function xe(Me){return Me.composedPath?Me.composedPath()[0]:Me.target}let ct=(()=>{class Me{constructor(ae,Se,tt){this._ngZone=ae,this._platform=Se,this._scrolled=new v.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=tt}register(ae){this.scrollContainers.has(ae)||this.scrollContainers.set(ae,ae.elementScrolled().subscribe(()=>this._scrolled.next(ae)))}deregister(ae){const Se=this.scrollContainers.get(ae);Se&&(Se.unsubscribe(),this.scrollContainers.delete(ae))}scrolled(ae=20){return this._platform.isBrowser?new O.c(Se=>{this._globalSubscription||this._addGlobalListener();const tt=ae>0?this._scrolled.pipe(X(ae)).subscribe(Se):this._scrolled.subscribe(Se);return this._scrolledCount++,()=>{tt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,D.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ae,Se)=>this.deregister(Se)),this._scrolled.complete()}ancestorScrolled(ae,Se){const tt=this.getAncestorScrollContainers(ae);return this.scrolled(Se).pipe((0,J.p)(At=>!At||tt.indexOf(At)>-1))}getAncestorScrollContainers(ae){const Se=[];return this.scrollContainers.forEach((tt,At)=>{this._scrollableContainsElement(At,ae)&&Se.push(At)}),Se}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ae,Se){let tt=_(Se),At=ae.getElementRef().nativeElement;do{if(tt==At)return!0}while(tt=tt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ae=this._getWindow();return(0,M.R)(ae.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.SKi),i.KVO(Q),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})(),Be=(()=>{class Me{constructor(ae,Se,tt){this._platform=ae,this._change=new v.B,this._changeListener=At=>{this._change.next(At)},this._document=tt,Se.runOutsideAngular(()=>{if(ae.isBrowser){const At=this._getWindow();At.addEventListener("resize",this._changeListener),At.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ae=this._getWindow();ae.removeEventListener("resize",this._changeListener),ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ae}getViewportRect(){const ae=this.getViewportScrollPosition(),{width:Se,height:tt}=this.getViewportSize();return{top:ae.top,left:ae.left,bottom:ae.top+tt,right:ae.left+Se,height:tt,width:Se}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ae=this._document,Se=this._getWindow(),tt=ae.documentElement,At=tt.getBoundingClientRect();return{top:-At.top||ae.body.scrollTop||Se.scrollY||tt.scrollTop||0,left:-At.left||ae.body.scrollLeft||Se.scrollX||tt.scrollLeft||0}}change(ae=20){return ae>0?this._change.pipe(X(ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ae.innerWidth,height:ae.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(Q),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();var cr=n(88141),Xo=(n(70152),n(96354)),hr=n(96697),Fn=n(40605),ts=n(57786),Ns=n(84412),zn=n(56977),yi=n(25558),Li=n(99172),tr=n(28203);function Ui(Me,_e,ae){for(let Se in _e)if(_e.hasOwnProperty(Se)){const tt=_e[Se];tt?Me.setProperty(Se,tt,ae?.has(Se)?"important":""):Me.removeProperty(Se)}return Me}function Ln(Me,_e){const ae=_e?"":"none";Ui(Me.style,{"touch-action":_e?"":"none","-webkit-user-drag":_e?"":"none","-webkit-tap-highlight-color":_e?"":"transparent","user-select":ae,"-ms-user-select":ae,"-webkit-user-select":ae,"-moz-user-select":ae})}function nr(Me,_e,ae){Ui(Me.style,{position:_e?"":"fixed",top:_e?"":"0",opacity:_e?"":"0",left:_e?"":"-999em"},ae)}function Or(Me,_e){return _e&&"none"!=_e?Me+" "+_e:Me}function fe(Me,_e){Me.style.width=`${_e.width}px`,Me.style.height=`${_e.height}px`,Me.style.transform=Je(_e.left,_e.top)}function Je(Me,_e){return`translate3d(${Math.round(Me)}px, ${Math.round(_e)}px, 0)`}function Re(Me){const _e=Me.getBoundingClientRect();return{top:_e.top,right:_e.right,bottom:_e.bottom,left:_e.left,width:_e.width,height:_e.height,x:_e.x,y:_e.y}}function Xe(Me,_e,ae){const{top:Se,bottom:tt,left:At,right:un}=Me;return ae>=Se&&ae<=tt&&_e>=At&&_e<=un}function wt(Me,_e,ae){Me.top+=_e,Me.bottom=Me.top+Me.height,Me.left+=ae,Me.right=Me.left+Me.width}function vn(Me,_e,ae,Se){const{top:tt,right:At,bottom:un,left:On,width:Xn,height:ds}=Me,vi=Xn*_e,Wi=ds*_e;return Se>tt-Wi&&Se<un+Wi&&ae>On-vi&&ae<At+vi}class wn{constructor(_e){this._document=_e,this.positions=new Map}clear(){this.positions.clear()}cache(_e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),_e.forEach(ae=>{this.positions.set(ae,{scrollPosition:{top:ae.scrollTop,left:ae.scrollLeft},clientRect:Re(ae)})})}handleScroll(_e){const ae=xe(_e),Se=this.positions.get(ae);if(!Se)return null;const tt=Se.scrollPosition;let At,un;if(ae===this._document){const ds=this.getViewportScrollPosition();At=ds.top,un=ds.left}else At=ae.scrollTop,un=ae.scrollLeft;const On=tt.top-At,Xn=tt.left-un;return this.positions.forEach((ds,vi)=>{ds.clientRect&&ae!==vi&&ae.contains(vi)&&wt(ds.clientRect,On,Xn)}),tt.top=At,tt.left=un,{top:On,left:Xn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ns(Me){const _e=Me.cloneNode(!0),ae=_e.querySelectorAll("[id]"),Se=Me.nodeName.toLowerCase();_e.removeAttribute("id");for(let tt=0;tt<ae.length;tt++)ae[tt].removeAttribute("id");return"canvas"===Se?qs(Me,_e):("input"===Se||"select"===Se||"textarea"===Se)&&$n(Me,_e),Us("canvas",Me,_e,qs),Us("input, textarea, select",Me,_e,$n),_e}function Us(Me,_e,ae,Se){const tt=_e.querySelectorAll(Me);if(tt.length){const At=ae.querySelectorAll(Me);for(let un=0;un<tt.length;un++)Se(tt[un],At[un])}}let As=0;function $n(Me,_e){"file"!==_e.type&&(_e.value=Me.value),"radio"===_e.type&&_e.name&&(_e.name=`mat-clone-${_e.name}-${As++}`)}function qs(Me,_e){const ae=_e.getContext("2d");if(ae)try{ae.drawImage(Me,0,0)}catch{}}function xi(Me,_e){const ae=Me.rootNodes;if(1===ae.length&&ae[0].nodeType===_e.ELEMENT_NODE)return ae[0];const Se=_e.createElement("div");return ae.forEach(tt=>Se.appendChild(tt)),Se}function Ii(Me){const _e=Me.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Me)*_e}function Xr(Me,_e){return Me.getPropertyValue(_e).split(",").map(Se=>Se.trim())}const mi=new Set(["position"]);class Kn{constructor(_e,ae,Se,tt,At,un,On,Xn,ds){this._document=_e,this._rootElement=ae,this._direction=Se,this._initialDomRect=tt,this._previewTemplate=At,this._previewClass=un,this._pickupPositionOnPage=On,this._initialTransform=Xn,this._zIndex=ds}attach(_e){this._preview=this._createPreview(),_e.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(_e){this._preview.style.transform=_e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(_e){this._preview.classList.add(_e)}getTransitionDuration(){return function dr(Me){const _e=getComputedStyle(Me),ae=Xr(_e,"transition-property"),Se=ae.find(On=>"transform"===On||"all"===On);if(!Se)return 0;const tt=ae.indexOf(Se),At=Xr(_e,"transition-duration"),un=Xr(_e,"transition-delay");return Ii(At[tt])+Ii(un[tt])}(this._preview)}addEventListener(_e,ae){this._preview.addEventListener(_e,ae)}removeEventListener(_e,ae){this._preview.removeEventListener(_e,ae)}_createPreview(){const _e=this._previewTemplate,ae=this._previewClass,Se=_e?_e.template:null;let tt;if(Se&&_e){const At=_e.matchSize?this._initialDomRect:null,un=_e.viewContainer.createEmbeddedView(Se,_e.context);un.detectChanges(),tt=xi(un,this._document),this._previewEmbeddedView=un,_e.matchSize?fe(tt,At):tt.style.transform=Je(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else tt=ns(this._rootElement),fe(tt,this._initialDomRect),this._initialTransform&&(tt.style.transform=this._initialTransform);return Ui(tt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},mi),Ln(tt,!1),tt.classList.add("cdk-drag-preview"),tt.setAttribute("popover","manual"),tt.setAttribute("dir",this._direction),ae&&(Array.isArray(ae)?ae.forEach(At=>tt.classList.add(At)):tt.classList.add(ae)),tt}}const bs=te({passive:!0}),Si=te({passive:!1}),Cr=te({passive:!1,capture:!0}),Fr=new Set(["position"]);class Ir{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(_e){_e!==this._disabled&&(this._disabled=_e,this._toggleNativeDragInteractions(),this._handles.forEach(ae=>Ln(ae,_e)))}constructor(_e,ae,Se,tt,At,un){this._config=ae,this._document=Se,this._ngZone=tt,this._viewportRuler=At,this._dragDropRegistry=un,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new v.B,this._pointerMoveSubscription=R.yU.EMPTY,this._pointerUpSubscription=R.yU.EMPTY,this._scrollSubscription=R.yU.EMPTY,this._resizeSubscription=R.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new v.B,this.started=new v.B,this.released=new v.B,this.ended=new v.B,this.entered=new v.B,this.exited=new v.B,this.dropped=new v.B,this.moved=this._moveEvents,this._pointerDown=On=>{if(this.beforeStarted.next(),this._handles.length){const Xn=this._getTargetHandle(On);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&this._initializeDragSequence(Xn,On)}else this.disabled||this._initializeDragSequence(this._rootElement,On)},this._pointerMove=On=>{const Xn=this._getPointerPositionOnPage(On);if(!this._hasStartedDragging){if(Math.abs(Xn.x-this._pickupPositionOnPage.x)+Math.abs(Xn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Qa=Date.now()>=this._dragStartTime+this._getDragStartDelay(On),Oa=this._dropContainer;if(!Qa)return void this._endDragSequence(On);(!Oa||!Oa.isDragging()&&!Oa.isReceiving())&&(On.cancelable&&On.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(On)))}return}On.cancelable&&On.preventDefault();const ds=this._getConstrainedPointerPosition(Xn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Xn,this._updatePointerDirectionDelta(ds),this._dropContainer)this._updateActiveDropContainer(ds,Xn);else{const vi=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Wi=this._activeTransform;Wi.x=ds.x-vi.x+this._passiveTransform.x,Wi.y=ds.y-vi.y+this._passiveTransform.y,this._applyRootElementTransform(Wi.x,Wi.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ds,event:On,distance:this._getDragDistance(ds),delta:this._pointerDirectionDelta})})},this._pointerUp=On=>{this._endDragSequence(On)},this._nativeDragStart=On=>{if(this._handles.length){const Xn=this._getTargetHandle(On);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&On.preventDefault()}else this.disabled||On.preventDefault()},this.withRootElement(_e).withParent(ae.parentDragRef||null),this._parentPositions=new wn(Se),un.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(_e){this._handles=_e.map(Se=>_(Se)),this._handles.forEach(Se=>Ln(Se,this.disabled)),this._toggleNativeDragInteractions();const ae=new Set;return this._disabledHandles.forEach(Se=>{this._handles.indexOf(Se)>-1&&ae.add(Se)}),this._disabledHandles=ae,this}withPreviewTemplate(_e){return this._previewTemplate=_e,this}withPlaceholderTemplate(_e){return this._placeholderTemplate=_e,this}withRootElement(_e){const ae=_(_e);return ae!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("mousedown",this._pointerDown,Si),ae.addEventListener("touchstart",this._pointerDown,bs),ae.addEventListener("dragstart",this._nativeDragStart,Si)}),this._initialTransform=void 0,this._rootElement=ae),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(_e){return this._boundaryElement=_e?_(_e):null,this._resizeSubscription.unsubscribe(),_e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(_e){return this._parentDragRef=_e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(_e){!this._disabledHandles.has(_e)&&this._handles.indexOf(_e)>-1&&(this._disabledHandles.add(_e),Ln(_e,!0))}enableHandle(_e){this._disabledHandles.has(_e)&&(this._disabledHandles.delete(_e),Ln(_e,this.disabled))}withDirection(_e){return this._direction=_e,this}_withDropContainer(_e){this._dropContainer=_e}getFreeDragPosition(){const _e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:_e.x,y:_e.y}}setFreeDragPosition(_e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=_e.x,this._passiveTransform.y=_e.y,this._dropContainer||this._applyRootElementTransform(_e.x,_e.y),this}withPreviewContainer(_e){return this._previewContainer=_e,this}_sortFromLastPointerPosition(){const _e=this._lastKnownPointerPosition;_e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(_e),_e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",fo,Cr)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(_e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:_e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(_e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const ae=this._getPointerPositionOnPage(_e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(ae),dropPoint:ae,event:_e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(_e){Xi(_e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const ae=this._getShadowRoot(),Se=this._dropContainer;if(ae&&this._ngZone.runOutsideAngular(()=>{ae.addEventListener("selectstart",fo,Cr)}),Se){const tt=this._rootElement,At=tt.parentNode,un=this._placeholder=this._createPlaceholderElement(),On=this._anchor=this._anchor||this._document.createComment("");At.insertBefore(On,tt),this._initialTransform=tt.style.transform||"",this._preview=new Kn(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(At,ae)),nr(tt,!1,Fr),this._document.body.appendChild(At.replaceChild(un,tt)),this.started.next({source:this,event:_e}),Se.start(),this._initialContainer=Se,this._initialIndex=Se.getItemIndex(this)}else this.started.next({source:this,event:_e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Se?Se.getScrollableParents():[])}_initializeDragSequence(_e,ae){this._parentDragRef&&ae.stopPropagation();const Se=this.isDragging(),tt=Xi(ae),At=!tt&&0!==ae.button,un=this._rootElement,On=xe(ae),Xn=!tt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ds=tt?function ha(Me){const _e=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!_e||-1!==_e.identifier||null!=_e.radiusX&&1!==_e.radiusX||null!=_e.radiusY&&1!==_e.radiusY)}(ae):function ua(Me){return 0===Me.buttons||0===Me.detail}(ae);if(On&&On.draggable&&"mousedown"===ae.type&&ae.preventDefault(),Se||At||Xn||ds)return;if(this._handles.length){const ma=un.style;this._rootElementTapHighlight=ma.webkitTapHighlightColor||"",ma.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ma=>this._updateOnScroll(ma)),this._boundaryElement&&(this._boundaryRect=Re(this._boundaryElement));const vi=this._previewTemplate;this._pickupPositionInElement=vi&&vi.template&&!vi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,_e,ae);const Wi=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(ae);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Wi.x,y:Wi.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,ae)}_cleanupDragArtifacts(_e){nr(this._rootElement,!0,Fr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const ae=this._dropContainer,Se=ae.getItemIndex(this),tt=this._getPointerPositionOnPage(_e),At=this._getDragDistance(tt),un=ae._isOverContainer(tt.x,tt.y);this.ended.next({source:this,distance:At,dropPoint:tt,event:_e}),this.dropped.next({item:this,currentIndex:Se,previousIndex:this._initialIndex,container:ae,previousContainer:this._initialContainer,isPointerOverContainer:un,distance:At,dropPoint:tt,event:_e}),ae.drop(this,Se,this._initialIndex,this._initialContainer,un,At,tt,_e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:_e,y:ae},{x:Se,y:tt}){let At=this._initialContainer._getSiblingContainerFromPosition(this,_e,ae);!At&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(_e,ae)&&(At=this._initialContainer),At&&At!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=At,this._dropContainer.enter(this,_e,ae,At===this._initialContainer&&At.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:At,currentIndex:At.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Se,tt),this._dropContainer._sortItem(this,_e,ae,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(_e,ae):this._applyPreviewTransform(_e-this._pickupPositionInElement.x,ae-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const _e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(_e.left,_e.top);const ae=this._preview.getTransitionDuration();return 0===ae?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Se=>{const tt=un=>{(!un||xe(un)===this._preview&&"transform"===un.propertyName)&&(this._preview?.removeEventListener("transitionend",tt),Se(),clearTimeout(At))},At=setTimeout(tt,1.5*ae);this._preview.addEventListener("transitionend",tt)}))}_createPlaceholderElement(){const _e=this._placeholderTemplate,ae=_e?_e.template:null;let Se;return ae?(this._placeholderRef=_e.viewContainer.createEmbeddedView(ae,_e.context),this._placeholderRef.detectChanges(),Se=xi(this._placeholderRef,this._document)):Se=ns(this._rootElement),Se.style.pointerEvents="none",Se.classList.add("cdk-drag-placeholder"),Se}_getPointerPositionInElement(_e,ae,Se){const tt=ae===this._rootElement?null:ae,At=tt?tt.getBoundingClientRect():_e,un=Xi(Se)?Se.targetTouches[0]:Se,On=this._getViewportScrollPosition();return{x:At.left-_e.left+(un.pageX-At.left-On.left),y:At.top-_e.top+(un.pageY-At.top-On.top)}}_getPointerPositionOnPage(_e){const ae=this._getViewportScrollPosition(),Se=Xi(_e)?_e.touches[0]||_e.changedTouches[0]||{pageX:0,pageY:0}:_e,tt=Se.pageX-ae.left,At=Se.pageY-ae.top;if(this._ownerSVGElement){const un=this._ownerSVGElement.getScreenCTM();if(un){const On=this._ownerSVGElement.createSVGPoint();return On.x=tt,On.y=At,On.matrixTransform(un.inverse())}}return{x:tt,y:At}}_getConstrainedPointerPosition(_e){const ae=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Se,y:tt}=this.constrainPosition?this.constrainPosition(_e,this,this._initialDomRect,this._pickupPositionInElement):_e;if("x"===this.lockAxis||"x"===ae?tt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===ae)&&(Se=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:At,y:un}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,On=this._boundaryRect,{width:Xn,height:ds}=this._getPreviewRect(),vi=On.top+un,Wi=On.bottom-(ds-un);Se=Ri(Se,On.left+At,On.right-(Xn-At)),tt=Ri(tt,vi,Wi)}return{x:Se,y:tt}}_updatePointerDirectionDelta(_e){const{x:ae,y:Se}=_e,tt=this._pointerDirectionDelta,At=this._pointerPositionAtLastDirectionChange,un=Math.abs(ae-At.x),On=Math.abs(Se-At.y);return un>this._config.pointerDirectionChangeThreshold&&(tt.x=ae>At.x?1:-1,At.x=ae),On>this._config.pointerDirectionChangeThreshold&&(tt.y=Se>At.y?1:-1,At.y=Se),tt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const _e=this._handles.length>0||!this.isDragging();_e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=_e,Ln(this._rootElement,_e))}_removeRootElementListeners(_e){_e.removeEventListener("mousedown",this._pointerDown,Si),_e.removeEventListener("touchstart",this._pointerDown,bs),_e.removeEventListener("dragstart",this._nativeDragStart,Si)}_applyRootElementTransform(_e,ae){const Se=Je(_e,ae),tt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=tt.transform&&"none"!=tt.transform?tt.transform:""),tt.transform=Or(Se,this._initialTransform)}_applyPreviewTransform(_e,ae){const Se=this._previewTemplate?.template?void 0:this._initialTransform,tt=Je(_e,ae);this._preview.setTransform(Or(tt,Se))}_getDragDistance(_e){const ae=this._pickupPositionOnPage;return ae?{x:_e.x-ae.x,y:_e.y-ae.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:_e,y:ae}=this._passiveTransform;if(0===_e&&0===ae||this.isDragging()||!this._boundaryElement)return;const Se=this._rootElement.getBoundingClientRect(),tt=this._boundaryElement.getBoundingClientRect();if(0===tt.width&&0===tt.height||0===Se.width&&0===Se.height)return;const At=tt.left-Se.left,un=Se.right-tt.right,On=tt.top-Se.top,Xn=Se.bottom-tt.bottom;tt.width>Se.width?(At>0&&(_e+=At),un>0&&(_e-=un)):_e=0,tt.height>Se.height?(On>0&&(ae+=On),Xn>0&&(ae-=Xn)):ae=0,(_e!==this._passiveTransform.x||ae!==this._passiveTransform.y)&&this.setFreeDragPosition({y:ae,x:_e})}_getDragStartDelay(_e){const ae=this.dragStartDelay;return"number"==typeof ae?ae:Xi(_e)?ae.touch:ae?ae.mouse:0}_updateOnScroll(_e){const ae=this._parentPositions.handleScroll(_e);if(ae){const Se=xe(_e);this._boundaryRect&&Se!==this._boundaryElement&&Se.contains(this._boundaryElement)&&wt(this._boundaryRect,ae.top,ae.left),this._pickupPositionOnPage.x+=ae.left,this._pickupPositionOnPage.y+=ae.top,this._dropContainer||(this._activeTransform.x-=ae.left,this._activeTransform.y-=ae.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=nt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(_e,ae){const Se=this._previewContainer||"global";if("parent"===Se)return _e;if("global"===Se){const tt=this._document;return ae||tt.fullscreenElement||tt.webkitFullscreenElement||tt.mozFullScreenElement||tt.msFullscreenElement||tt.body}return _(Se)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(_e){return this._handles.find(ae=>_e.target&&(_e.target===ae||ae.contains(_e.target)))}}function Ri(Me,_e,ae){return Math.max(_e,Math.min(ae,Me))}function Xi(Me){return"t"===Me.type[0]}function fo(Me){Me.preventDefault()}function Ws(Me,_e,ae){const Se=no(_e,Me.length-1),tt=no(ae,Me.length-1);if(Se===tt)return;const At=Me[Se],un=tt<Se?-1:1;for(let On=Se;On!==tt;On+=un)Me[On]=Me[On+un];Me[tt]=At}function no(Me,_e){return Math.max(0,Math.min(_e,Me))}class ur{constructor(_e,ae){this._element=_e,this._dragDropRegistry=ae,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(_e){this.withItems(_e)}sort(_e,ae,Se,tt){const At=this._itemPositions,un=this._getItemIndexFromPointerPosition(_e,ae,Se,tt);if(-1===un&&At.length>0)return null;const On="horizontal"===this.orientation,Xn=At.findIndex(Do=>Do.drag===_e),ds=At[un],Wi=ds.clientRect,ma=Xn>un?1:-1,Qa=this._getItemOffsetPx(At[Xn].clientRect,Wi,ma),Oa=this._getSiblingOffsetPx(Xn,At,ma),rc=At.slice();return Ws(At,Xn,un),At.forEach((Do,Lc)=>{if(rc[Lc]===Do)return;const xc=Do.drag===_e,sd=xc?Qa:Oa,$d=xc?_e.getPlaceholderElement():Do.drag.getRootElement();Do.offset+=sd,On?($d.style.transform=Or(`translate3d(${Math.round(Do.offset)}px, 0, 0)`,Do.initialTransform),wt(Do.clientRect,0,sd)):($d.style.transform=Or(`translate3d(0, ${Math.round(Do.offset)}px, 0)`,Do.initialTransform),wt(Do.clientRect,sd,0))}),this._previousSwap.overlaps=Xe(Wi,ae,Se),this._previousSwap.drag=ds.drag,this._previousSwap.delta=On?tt.x:tt.y,{previousIndex:Xn,currentIndex:un}}enter(_e,ae,Se,tt){const At=null==tt||tt<0?this._getItemIndexFromPointerPosition(_e,ae,Se):tt,un=this._activeDraggables,On=un.indexOf(_e),Xn=_e.getPlaceholderElement();let ds=un[At];if(ds===_e&&(ds=un[At+1]),!ds&&(null==At||-1===At||At<un.length-1)&&this._shouldEnterAsFirstChild(ae,Se)&&(ds=un[0]),On>-1&&un.splice(On,1),ds&&!this._dragDropRegistry.isDragging(ds)){const vi=ds.getRootElement();vi.parentElement.insertBefore(Xn,vi),un.splice(At,0,_e)}else _(this._element).appendChild(Xn),un.push(_e);Xn.style.transform="",this._cacheItemPositions()}withItems(_e){this._activeDraggables=_e.slice(),this._cacheItemPositions()}withSortPredicate(_e){this._sortPredicate=_e}reset(){this._activeDraggables.forEach(_e=>{const ae=_e.getRootElement();if(ae){const Se=this._itemPositions.find(tt=>tt.drag===_e)?.initialTransform;ae.style.transform=Se||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(_e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Se=>Se.drag===_e)}updateOnScroll(_e,ae){this._itemPositions.forEach(({clientRect:Se})=>{wt(Se,_e,ae)}),this._itemPositions.forEach(({drag:Se})=>{this._dragDropRegistry.isDragging(Se)&&Se._sortFromLastPointerPosition()})}_cacheItemPositions(){const _e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(ae=>{const Se=ae.getVisibleElement();return{drag:ae,offset:0,initialTransform:Se.style.transform||"",clientRect:Re(Se)}}).sort((ae,Se)=>_e?ae.clientRect.left-Se.clientRect.left:ae.clientRect.top-Se.clientRect.top)}_getItemOffsetPx(_e,ae,Se){const tt="horizontal"===this.orientation;let At=tt?ae.left-_e.left:ae.top-_e.top;return-1===Se&&(At+=tt?ae.width-_e.width:ae.height-_e.height),At}_getSiblingOffsetPx(_e,ae,Se){const tt="horizontal"===this.orientation,At=ae[_e].clientRect,un=ae[_e+-1*Se];let On=At[tt?"width":"height"]*Se;if(un){const Xn=tt?"left":"top",ds=tt?"right":"bottom";-1===Se?On-=un.clientRect[Xn]-At[ds]:On+=At[Xn]-un.clientRect[ds]}return On}_shouldEnterAsFirstChild(_e,ae){if(!this._activeDraggables.length)return!1;const Se=this._itemPositions,tt="horizontal"===this.orientation;if(Se[0].drag!==this._activeDraggables[0]){const un=Se[Se.length-1].clientRect;return tt?_e>=un.right:ae>=un.bottom}{const un=Se[0].clientRect;return tt?_e<=un.left:ae<=un.top}}_getItemIndexFromPointerPosition(_e,ae,Se,tt){const At="horizontal"===this.orientation,un=this._itemPositions.findIndex(({drag:On,clientRect:Xn})=>On!==_e&&((!tt||On!==this._previousSwap.drag||!this._previousSwap.overlaps||(At?tt.x:tt.y)!==this._previousSwap.delta)&&(At?ae>=Math.floor(Xn.left)&&ae<Math.floor(Xn.right):Se>=Math.floor(Xn.top)&&Se<Math.floor(Xn.bottom))));return-1!==un&&this._sortPredicate(un,_e)?un:-1}}var br=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.UP=1]="UP",Me[Me.DOWN=2]="DOWN",Me}(br||{}),Sr=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.LEFT=1]="LEFT",Me[Me.RIGHT=2]="RIGHT",Me}(Sr||{});class nd{constructor(_e,ae,Se,tt,At){this._dragDropRegistry=ae,this._ngZone=tt,this._viewportRuler=At,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new v.B,this.entered=new v.B,this.exited=new v.B,this.dropped=new v.B,this.sorted=new v.B,this.receivingStarted=new v.B,this.receivingStopped=new v.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.yU.EMPTY,this._verticalScrollDirection=br.NONE,this._horizontalScrollDirection=Sr.NONE,this._stopScrollTimers=new v.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Fn.Y)(0,I).pipe((0,zn.Q)(this._stopScrollTimers)).subscribe(()=>{const un=this._scrollNode,On=this.autoScrollStep;this._verticalScrollDirection===br.UP?un.scrollBy(0,-On):this._verticalScrollDirection===br.DOWN&&un.scrollBy(0,On),this._horizontalScrollDirection===Sr.LEFT?un.scrollBy(-On,0):this._horizontalScrollDirection===Sr.RIGHT&&un.scrollBy(On,0)})},this.element=_(_e),this._document=Se,this.withScrollableParents([this.element]),ae.registerDropContainer(this),this._parentPositions=new wn(Se),this._sortStrategy=new ur(this.element,ae),this._sortStrategy.withSortPredicate((un,On)=>this.sortPredicate(un,On,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(_e,ae,Se,tt){this._draggingStarted(),null==tt&&this.sortingDisabled&&(tt=this._draggables.indexOf(_e)),this._sortStrategy.enter(_e,ae,Se,tt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:_e,container:this,currentIndex:this.getItemIndex(_e)})}exit(_e){this._reset(),this.exited.next({item:_e,container:this})}drop(_e,ae,Se,tt,At,un,On,Xn={}){this._reset(),this.dropped.next({item:_e,currentIndex:ae,previousIndex:Se,container:this,previousContainer:tt,isPointerOverContainer:At,distance:un,dropPoint:On,event:Xn})}withItems(_e){const ae=this._draggables;return this._draggables=_e,_e.forEach(Se=>Se._withDropContainer(this)),this.isDragging()&&(ae.filter(tt=>tt.isDragging()).every(tt=>-1===_e.indexOf(tt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(_e){return this._sortStrategy.direction=_e,this}connectedTo(_e){return this._siblings=_e.slice(),this}withOrientation(_e){return this._sortStrategy.orientation=_e,this}withScrollableParents(_e){const ae=_(this.element);return this._scrollableElements=-1===_e.indexOf(ae)?[ae,..._e]:_e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(_e){return this._isDragging?this._sortStrategy.getItemIndex(_e):this._draggables.indexOf(_e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(_e,ae,Se,tt){if(this.sortingDisabled||!this._domRect||!vn(this._domRect,.05,ae,Se))return;const At=this._sortStrategy.sort(_e,ae,Se,tt);At&&this.sorted.next({previousIndex:At.previousIndex,currentIndex:At.currentIndex,container:this,item:_e})}_startScrollingIfNecessary(_e,ae){if(this.autoScrollDisabled)return;let Se,tt=br.NONE,At=Sr.NONE;if(this._parentPositions.positions.forEach((un,On)=>{On===this._document||!un.clientRect||Se||vn(un.clientRect,.05,_e,ae)&&([tt,At]=function Xa(Me,_e,ae,Se,tt){const At=na(_e,tt),un=Al(_e,Se);let On=br.NONE,Xn=Sr.NONE;if(At){const ds=Me.scrollTop;At===br.UP?ds>0&&(On=br.UP):Me.scrollHeight-ds>Me.clientHeight&&(On=br.DOWN)}if(un){const ds=Me.scrollLeft;"rtl"===ae?un===Sr.RIGHT?ds<0&&(Xn=Sr.RIGHT):Me.scrollWidth+ds>Me.clientWidth&&(Xn=Sr.LEFT):un===Sr.LEFT?ds>0&&(Xn=Sr.LEFT):Me.scrollWidth-ds>Me.clientWidth&&(Xn=Sr.RIGHT)}return[On,Xn]}(On,un.clientRect,this._sortStrategy.direction,_e,ae),(tt||At)&&(Se=On))}),!tt&&!At){const{width:un,height:On}=this._viewportRuler.getViewportSize(),Xn={width:un,height:On,top:0,right:un,bottom:On,left:0};tt=na(Xn,ae),At=Al(Xn,_e),Se=window}Se&&(tt!==this._verticalScrollDirection||At!==this._horizontalScrollDirection||Se!==this._scrollNode)&&(this._verticalScrollDirection=tt,this._horizontalScrollDirection=At,this._scrollNode=Se,(tt||At)&&Se?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const _e=_(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=_e.msScrollSnapType||_e.scrollSnapType||"",_e.scrollSnapType=_e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const _e=_(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(_e).clientRect}_reset(){this._isDragging=!1;const _e=_(this.element).style;_e.scrollSnapType=_e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(ae=>ae._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(_e,ae){return null!=this._domRect&&Xe(this._domRect,_e,ae)}_getSiblingContainerFromPosition(_e,ae,Se){return this._siblings.find(tt=>tt._canReceive(_e,ae,Se))}_canReceive(_e,ae,Se){if(!this._domRect||!Xe(this._domRect,ae,Se)||!this.enterPredicate(_e,this))return!1;const tt=this._getShadowRoot().elementFromPoint(ae,Se);if(!tt)return!1;const At=_(this.element);return tt===At||At.contains(tt)}_startReceiving(_e,ae){const Se=this._activeSiblings;!Se.has(_e)&&ae.every(tt=>this.enterPredicate(tt,this)||this._draggables.indexOf(tt)>-1)&&(Se.add(_e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:_e,receiver:this,items:ae}))}_stopReceiving(_e){this._activeSiblings.delete(_e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:_e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_e=>{if(this.isDragging()){const ae=this._parentPositions.handleScroll(_e);ae&&this._sortStrategy.updateOnScroll(ae.top,ae.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const _e=nt(_(this.element));this._cachedShadowRoot=_e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const _e=this._sortStrategy.getActiveItemsSnapshot().filter(ae=>ae.isDragging());this._siblings.forEach(ae=>ae._startReceiving(this,_e))}}function na(Me,_e){const{top:ae,bottom:Se,height:tt}=Me,At=.05*tt;return _e>=ae-At&&_e<=ae+At?br.UP:_e>=Se-At&&_e<=Se+At?br.DOWN:br.NONE}function Al(Me,_e){const{left:ae,right:Se,width:tt}=Me,At=.05*tt;return _e>=ae-At&&_e<=ae+At?Sr.LEFT:_e>=Se-At&&_e<=Se+At?Sr.RIGHT:Sr.NONE}const Xs=te({passive:!1,capture:!0}),sc=new Set;let wl=(()=>{class Me{static{this.\u0275fac=function(Se){return new(Se||Me)}}static{this.\u0275cmp=i.VBU({type:Me,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Se,tt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return Me})(),mo=(()=>{class Me{constructor(ae,Se){this._ngZone=ae,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=tt=>tt.isDragging(),this.pointerMove=new v.B,this.pointerUp=new v.B,this.scroll=new v.B,this._preventDefaultWhileDragging=tt=>{this._activeDragInstances.length>0&&tt.preventDefault()},this._persistentTouchmoveListener=tt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&tt.preventDefault(),this.pointerMove.next(tt))},this._document=Se}registerDropContainer(ae){this._dropInstances.has(ae)||this._dropInstances.add(ae)}registerDragItem(ae){this._dragInstances.add(ae),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Xs)})}removeDropContainer(ae){this._dropInstances.delete(ae)}removeDragItem(ae){this._dragInstances.delete(ae),this.stopDragging(ae),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Xs)}startDragging(ae,Se){if(!(this._activeDragInstances.indexOf(ae)>-1)&&(this._loadResets(),this._activeDragInstances.push(ae),1===this._activeDragInstances.length)){const tt=Se.type.startsWith("touch");this._globalListeners.set(tt?"touchend":"mouseup",{handler:At=>this.pointerUp.next(At),options:!0}).set("scroll",{handler:At=>this.scroll.next(At),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Xs}),tt||this._globalListeners.set("mousemove",{handler:At=>this.pointerMove.next(At),options:Xs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((At,un)=>{this._document.addEventListener(un,At.handler,At.options)})})}}stopDragging(ae){const Se=this._activeDragInstances.indexOf(ae);Se>-1&&(this._activeDragInstances.splice(Se,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(ae){return this._activeDragInstances.indexOf(ae)>-1}scrolled(ae){const Se=[this.scroll];return ae&&ae!==this._document&&Se.push(new O.c(tt=>this._ngZone.runOutsideAngular(()=>{const un=On=>{this._activeDragInstances.length&&tt.next(On)};return ae.addEventListener("scroll",un,!0),()=>{ae.removeEventListener("scroll",un,!0)}}))),(0,ts.h)(...Se)}ngOnDestroy(){this._dragInstances.forEach(ae=>this.removeDragItem(ae)),this._dropInstances.forEach(ae=>this.removeDropContainer(ae)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((ae,Se)=>{this._document.removeEventListener(Se,ae.handler,ae.options)}),this._globalListeners.clear()}_loadResets(){if(!sc.has(this._appRef)){sc.add(this._appRef);const ae=(0,i.a0P)(wl,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{sc.delete(this._appRef),0===sc.size&&ae.destroy()})}}static{this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ps={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let sa=(()=>{class Me{constructor(ae,Se,tt,At){this._document=ae,this._ngZone=Se,this._viewportRuler=tt,this._dragDropRegistry=At}createDrag(ae,Se=Ps){return new Ir(ae,Se,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(ae){return new nd(ae,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(Be),i.KVO(mo))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ji=new i.nKC("CDK_DRAG_PARENT"),si=new i.nKC("CdkDragHandle");let Br=(()=>{class Me{get disabled(){return this._disabled}set disabled(ae){this._disabled=ae,this._stateChanges.next(this)}constructor(ae,Se){this.element=ae,this._parentDrag=Se,this._stateChanges=new v.B,this._disabled=!1,Se?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(Ji,12))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:si,useExisting:Me}]),i.GFd]})}}return Me})();const Ta=new i.nKC("CDK_DRAG_CONFIG"),Ja=new i.nKC("CdkDropList");let Jr=(()=>{class Me{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(ae){this._disabled=ae,this._dragRef.disabled=this._disabled}constructor(ae,Se,tt,At,un,On,Xn,ds,vi,Wi,ma){this.element=ae,this.dropContainer=Se,this._ngZone=At,this._viewContainerRef=un,this._dir=Xn,this._changeDetectorRef=vi,this._selfHandle=Wi,this._parentDrag=ma,this._destroyed=new v.B,this._handles=new Ns.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new O.c(Qa=>{const Oa=this._dragRef.moved.pipe((0,Xo.T)(rc=>({source:this,pointerPosition:rc.pointerPosition,event:rc.event,delta:rc.delta,distance:rc.distance}))).subscribe(Qa);return()=>{Oa.unsubscribe()}}),this._dragRef=ds.createDrag(ae,{dragStartThreshold:On&&null!=On.dragStartThreshold?On.dragStartThreshold:5,pointerDirectionChangeThreshold:On&&null!=On.pointerDirectionChangeThreshold?On.pointerDirectionChangeThreshold:5,zIndex:On?.zIndex}),this._dragRef.data=this,Me._dragInstances.push(this),On&&this._assignDefaults(On),Se&&(this._dragRef._withDropContainer(Se._dropListRef),Se.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(ae){this._dragRef.setFreeDragPosition(ae)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,hr.s)(1),(0,zn.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(ae){const Se=ae.rootElementSelector,tt=ae.freeDragPosition;Se&&!Se.firstChange&&this._updateRootElement(),tt&&!tt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const ae=Me._dragInstances.indexOf(this);ae>-1&&Me._dragInstances.splice(ae,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(ae){const Se=this._handles.getValue();Se.push(ae),this._handles.next(Se)}_removeHandle(ae){const Se=this._handles.getValue(),tt=Se.indexOf(ae);tt>-1&&(Se.splice(tt,1),this._handles.next(Se))}_setPreviewTemplate(ae){this._previewTemplate=ae}_resetPreviewTemplate(ae){ae===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(ae){this._placeholderTemplate=ae}_resetPlaceholderTemplate(ae){ae===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const ae=this.element.nativeElement;let Se=ae;this.rootElementSelector&&(Se=void 0!==ae.closest?ae.closest(this.rootElementSelector):ae.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Se||ae)}_getBoundaryElement(){const ae=this.boundaryElement;return ae?"string"==typeof ae?this.element.nativeElement.closest(ae):_(ae):null}_syncInputs(ae){ae.beforeStarted.subscribe(()=>{if(!ae.isDragging()){const Se=this._dir,tt=this.dragStartDelay,At=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,un=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.dragStartDelay="object"==typeof tt&&tt?tt:e(tt),ae.constrainPosition=this.constrainPosition,ae.previewClass=this.previewClass,ae.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(At).withPreviewTemplate(un).withPreviewContainer(this.previewContainer||"global"),Se&&ae.withDirection(Se.value)}}),ae.beforeStarted.pipe((0,hr.s)(1)).subscribe(()=>{if(this._parentDrag)return void ae.withParent(this._parentDrag._dragRef);let Se=this.element.nativeElement.parentElement;for(;Se;){if(Se.classList.contains("cdk-drag")){ae.withParent(Me._dragInstances.find(tt=>tt.element.nativeElement===Se)?._dragRef||null);break}Se=Se.parentElement}})}_handleEvents(ae){ae.started.subscribe(Se=>{this.started.emit({source:this,event:Se.event}),this._changeDetectorRef.markForCheck()}),ae.released.subscribe(Se=>{this.released.emit({source:this,event:Se.event})}),ae.ended.subscribe(Se=>{this.ended.emit({source:this,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event}),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Se=>{this.entered.emit({container:Se.container.data,item:this,currentIndex:Se.currentIndex})}),ae.exited.subscribe(Se=>{this.exited.emit({container:Se.container.data,item:this})}),ae.dropped.subscribe(Se=>{this.dropped.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,previousContainer:Se.previousContainer.data,container:Se.container.data,isPointerOverContainer:Se.isPointerOverContainer,item:this,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event})})}_assignDefaults(ae){const{lockAxis:Se,dragStartDelay:tt,constrainPosition:At,previewClass:un,boundaryElement:On,draggingDisabled:Xn,rootElementSelector:ds,previewContainer:vi}=ae;this.disabled=Xn??!1,this.dragStartDelay=tt||0,Se&&(this.lockAxis=Se),At&&(this.constrainPosition=At),un&&(this.previewClass=un),On&&(this.boundaryElement=On),ds&&(this.rootElementSelector=ds),vi&&(this.previewContainer=vi)}_setupHandlesListener(){this._handles.pipe((0,cr.M)(ae=>{const Se=ae.map(tt=>tt.element);this._selfHandle&&this.rootElementSelector&&Se.push(this.element),this._dragRef.withHandles(Se)}),(0,yi.n)(ae=>(0,ts.h)(...ae.map(Se=>Se._stateChanges.pipe((0,Li.Z)(Se))))),(0,zn.Q)(this._destroyed)).subscribe(ae=>{const Se=this._dragRef,tt=ae.element.nativeElement;ae.disabled?Se.disableHandle(tt):Se.enableHandle(tt)})}static{this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(Ja,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(Ta,8),i.rXU(tr.dS,8),i.rXU(sa),i.rXU(i.gRc),i.rXU(si,10),i.rXU(Ji,12))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Se,tt){2&Se&&i.AVh("cdk-drag-disabled",tt.disabled)("cdk-drag-dragging",tt._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:Ji,useExisting:Me}]),i.GFd,i.OA$]})}}return Me})();const Ll=new i.nKC("CdkDropListGroup");let xl=(()=>{class Me{constructor(){this._items=new Set,this.disabled=!1}ngOnDestroy(){this._items.clear()}static{this.\u0275fac=function(Se){return new(Se||Me)}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListGroupDisabled","disabled",i.L39]},exportAs:["cdkDropListGroup"],standalone:!0,features:[i.Jv_([{provide:Ll,useExisting:Me}]),i.GFd]})}}return Me})(),Ua=0,_l=(()=>{class Me{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(ae){this._dropListRef.disabled=this._disabled=ae}constructor(ae,Se,tt,At,un,On,Xn){this.element=ae,this._changeDetectorRef=tt,this._scrollDispatcher=At,this._dir=un,this._group=On,this._destroyed=new v.B,this.connectedTo=[],this.id="cdk-drop-list-"+Ua++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Se.createDropList(ae),this._dropListRef.data=this,Xn&&this._assignDefaults(Xn),this._dropListRef.enterPredicate=(ds,vi)=>this.enterPredicate(ds.data,vi.data),this._dropListRef.sortPredicate=(ds,vi,Wi)=>this.sortPredicate(ds,vi.data,Wi.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Me._dropLists.push(this),On&&On._items.add(this)}addItem(ae){this._unsortedItems.add(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(ae){this._unsortedItems.delete(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((ae,Se)=>ae._dragRef.getVisibleElement().compareDocumentPosition(Se._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const ae=Me._dropLists.indexOf(this);ae>-1&&Me._dropLists.splice(ae,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ae){this._dir&&this._dir.change.pipe((0,Li.Z)(this._dir.value),(0,zn.Q)(this._destroyed)).subscribe(Se=>ae.withDirection(Se)),ae.beforeStarted.subscribe(()=>{const Se=function m(Me){return Array.isArray(Me)?Me:[Me]}(this.connectedTo).map(tt=>"string"==typeof tt?Me._dropLists.find(un=>un.id===tt):tt);if(this._group&&this._group._items.forEach(tt=>{-1===Se.indexOf(tt)&&Se.push(tt)}),!this._scrollableParentsResolved){const tt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(At=>At.getElementRef().nativeElement);this._dropListRef.withScrollableParents(tt),this._scrollableParentsResolved=!0}ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.sortingDisabled=this.sortingDisabled,ae.autoScrollDisabled=this.autoScrollDisabled,ae.autoScrollStep=e(this.autoScrollStep,2),ae.connectedTo(Se.filter(tt=>tt&&tt!==this).map(tt=>tt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ae){ae.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Se=>{this.entered.emit({container:this,item:Se.item.data,currentIndex:Se.currentIndex})}),ae.exited.subscribe(Se=>{this.exited.emit({container:this,item:Se.item.data}),this._changeDetectorRef.markForCheck()}),ae.sorted.subscribe(Se=>{this.sorted.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,container:this,item:Se.item.data})}),ae.dropped.subscribe(Se=>{this.dropped.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,previousContainer:Se.previousContainer.data,container:Se.container.data,item:Se.item.data,isPointerOverContainer:Se.isPointerOverContainer,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event}),this._changeDetectorRef.markForCheck()}),(0,ts.h)(ae.receivingStarted,ae.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(ae){const{lockAxis:Se,draggingDisabled:tt,sortingDisabled:At,listAutoScrollDisabled:un,listOrientation:On}=ae;this.disabled=tt??!1,this.sortingDisabled=At??!1,this.autoScrollDisabled=un??!1,this.orientation=On||"vertical",Se&&(this.lockAxis=Se)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(ae=>ae._dragRef))}static{this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(sa),i.rXU(i.gRc),i.rXU(ct),i.rXU(tr.dS,8),i.rXU(Ll,12),i.rXU(Ta,8))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Se,tt){2&Se&&(i.BMQ("id",tt.id),i.AVh("cdk-drop-list-disabled",tt.disabled)("cdk-drop-list-dragging",tt._dropListRef.isDragging())("cdk-drop-list-receiving",tt._dropListRef.isReceiving()))},inputs:{connectedTo:[i.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[i.Mj6.None,"cdkDropListData","data"],orientation:[i.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[i.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[i.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[i.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[i.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:Ll,useValue:void 0},{provide:Ja,useExisting:Me}]),i.GFd]})}}return Me})()},64109:(N,b,n)=>{"use strict";n.d(b,{Dc:()=>Q,Hy:()=>J,NL:()=>U,Sz:()=>w,XW:()=>O,aI:()=>X,xn:()=>W});var i=n(45024),t=n(74402),l=n(21413),e=n(84412),f=n(7673),_=(n(96697),n(5964),n(56977)),y=n(54438),v=n(28203);class D{constructor(){this.expansionModel=new i.CB(!0)}toggle(z){this.expansionModel.toggle(this._trackByValue(z))}expand(z){this.expansionModel.select(this._trackByValue(z))}collapse(z){this.expansionModel.deselect(this._trackByValue(z))}isExpanded(z){return this.expansionModel.isSelected(this._trackByValue(z))}toggleDescendants(z){this.expansionModel.isSelected(this._trackByValue(z))?this.collapseDescendants(z):this.expandDescendants(z)}collapseAll(){this.expansionModel.clear()}expandDescendants(z){let Z=[z];Z.push(...this.getDescendants(z)),this.expansionModel.select(...Z.map(oe=>this._trackByValue(oe)))}collapseDescendants(z){let Z=[z];Z.push(...this.getDescendants(z)),this.expansionModel.deselect(...Z.map(oe=>this._trackByValue(oe)))}_trackByValue(z){return this.trackBy?this.trackBy(z):z}}class O extends D{constructor(z,Z,oe){super(),this.getLevel=z,this.isExpandable=Z,this.options=oe,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(z){const oe=[];for(let se=this.dataNodes.indexOf(z)+1;se<this.dataNodes.length&&this.getLevel(z)<this.getLevel(this.dataNodes[se]);se++)oe.push(this.dataNodes[se]);return oe}expandAll(){this.expansionModel.select(...this.dataNodes.map(z=>this._trackByValue(z)))}}const T=new y.nKC("CDK_TREE_NODE_OUTLET_NODE");let R=(()=>{class Y{constructor(Z,oe){this.viewContainer=Z,this._node=oe}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(y.c1b),y.rXU(T,8))}}static{this.\u0275dir=y.FsC({type:Y,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return Y})();class u{constructor(z){this.$implicit=z}}let w=(()=>{class Y{constructor(Z){this.template=Z}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(y.C4Q))}}static{this.\u0275dir=y.FsC({type:Y,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[y.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return Y})(),U=(()=>{class Y{get dataSource(){return this._dataSource}set dataSource(Z){this._dataSource!==Z&&this._switchDataSource(Z)}constructor(Z,oe){this._differs=Z,this._changeDetectorRef=oe,this._onDestroy=new l.B,this._levels=new Map,this.viewChange=new e.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Z=this._nodeDefs.filter(oe=>!oe.when);this._defaultNodeDef=Z[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Z){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Z||this._nodeOutlet.viewContainer.clear(),this._dataSource=Z,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Z;(0,i.y4)(this._dataSource)?Z=this._dataSource.connect(this):(0,t.A)(this._dataSource)?Z=this._dataSource:Array.isArray(this._dataSource)&&(Z=(0,f.of)(this._dataSource)),Z&&(this._dataSubscription=Z.pipe((0,_.Q)(this._onDestroy)).subscribe(oe=>this.renderNodeChanges(oe)))}renderNodeChanges(Z,oe=this._dataDiffer,se=this._nodeOutlet.viewContainer,de){const te=oe.diff(Z);te&&(te.forEachOperation((le,Ee,be)=>{if(null==le.previousIndex)this.insertNode(Z[be],be,se,de);else if(null==be)se.remove(Ee),this._levels.delete(le.item);else{const pe=se.get(Ee);se.move(pe,be)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Z,oe){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(de=>de.when&&de.when(oe,Z))||this._defaultNodeDef}insertNode(Z,oe,se,de){const te=this._getNodeDef(Z,oe),le=new u(Z);le.level=this.treeControl.getLevel?this.treeControl.getLevel(Z):typeof de<"u"&&this._levels.has(de)?this._levels.get(de)+1:0,this._levels.set(Z,le.level),(se||this._nodeOutlet.viewContainer).createEmbeddedView(te.template,le,oe),W.mostRecentTreeNode&&(W.mostRecentTreeNode.data=Z)}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(y._q3),y.rXU(y.gRc))}}static{this.\u0275cmp=y.VBU({type:Y,selectors:[["cdk-tree"]],contentQueries:function(oe,se,de){if(1&oe&&y.wni(de,w,5),2&oe){let te;y.mGM(te=y.lsd())&&(se._nodeDefs=te)}},viewQuery:function(oe,se){if(1&oe&&y.GBs(R,7),2&oe){let de;y.mGM(de=y.lsd())&&(se._nodeOutlet=de.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[y.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(oe,se){1&oe&&y.eu8(0,0)},dependencies:[R],encapsulation:2})}}return Y})(),W=(()=>{class Y{get role(){return"treeitem"}set role(Z){this._elementRef.nativeElement.setAttribute("role",Z)}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(Z){Z!==this._data&&(this._data=Z,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(Z,oe){this._elementRef=Z,this._tree=oe,this._destroyed=new l.B,this._dataChanges=new l.B,Y.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function j(Y){let z=Y.parentElement;for(;z&&!G(z);)z=z.parentElement;return z?z.classList.contains("cdk-nested-tree-node")?(0,y.Udg)(z.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){Y.mostRecentTreeNode===this&&(Y.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(y.aKT),y.rXU(U))}}static{this.\u0275dir=y.FsC({type:Y,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(oe,se){2&oe&&y.BMQ("aria-expanded",se.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}}return Y})();function G(Y){const z=Y.classList;return!(!z?.contains("cdk-nested-tree-node")&&!z?.contains("cdk-tree"))}const V=/([A-Za-z%]+)$/;let X=(()=>{class Y{get level(){return this._level}set level(Z){this._setLevelInput(Z)}get indent(){return this._indent}set indent(Z){this._setIndentInput(Z)}constructor(Z,oe,se,de){this._treeNode=Z,this._tree=oe,this._element=se,this._dir=de,this._destroyed=new l.B,this.indentUnits="px",this._indent=40,this._setPadding(),de&&de.change.pipe((0,_.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Z._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Z=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,oe=null==this._level?Z:this._level;return"number"==typeof oe?`${oe*this._indent}${this.indentUnits}`:null}_setPadding(Z=!1){const oe=this._paddingIndent();if(oe!==this._currentPadding||Z){const se=this._element.nativeElement,de=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",te="paddingLeft"===de?"paddingRight":"paddingLeft";se.style[de]=oe||"",se.style[te]="",this._currentPadding=oe}}_setLevelInput(Z){this._level=isNaN(Z)?null:Z,this._setPadding()}_setIndentInput(Z){let oe=Z,se="px";if("string"==typeof Z){const de=Z.split(V);oe=de[0],se=de[1]||se}this.indentUnits=se,this._indent=(0,y.Udg)(oe),this._setPadding()}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(W),y.rXU(U),y.rXU(y.aKT),y.rXU(v.dS,8))}}static{this.\u0275dir=y.FsC({type:Y,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[y.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",y.Udg],indent:[y.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[y.GFd]})}}return Y})(),J=(()=>{class Y{constructor(Z,oe){this._tree=Z,this._treeNode=oe,this.recursive=!1}_toggle(Z){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Z.stopPropagation()}static{this.\u0275fac=function(oe){return new(oe||Y)(y.rXU(U),y.rXU(W))}}static{this.\u0275dir=y.FsC({type:Y,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(oe,se){1&oe&&y.bIt("click",function(te){return se._toggle(te)})},inputs:{recursive:[y.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",y.L39]},standalone:!0,features:[y.GFd]})}}return Y})(),Q=(()=>{class Y{static{this.\u0275fac=function(oe){return new(oe||Y)}}static{this.\u0275mod=y.$C({type:Y})}static{this.\u0275inj=y.G2t({})}}return Y})()},60177:(N,b,n)=>{"use strict";n.d(b,{AJ:()=>Tr,B3:()=>Qi,GH:()=>$t,Jj:()=>tn,MD:()=>xo,N0:()=>Tn,OI:()=>at,PV:()=>Wn,QT:()=>l,Sm:()=>u,Sq:()=>jt,T3:()=>Is,UE:()=>zr,VF:()=>f,Vy:()=>yo,XO:()=>Y,Xr:()=>qe,YU:()=>en,Yq:()=>dn,ZD:()=>e,_b:()=>ft,aZ:()=>C,bT:()=>Vn,cH:()=>H,e1:()=>Ts,fw:()=>w,hb:()=>T,hj:()=>y,kB:()=>R,lG:()=>co,oV:()=>G,pM:()=>jt,qQ:()=>h,rd:()=>Q,tL:()=>z,ux:()=>ls,vh:()=>pi});var i=n(54438);let t=null;function l(){return t}function e(fe){t??=fe}class f{}const h=new i.nKC("");let _=(()=>{class fe{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>(0,i.WQX)(v),providedIn:"platform"})}}return fe})();const y=new i.nKC("");let v=(()=>{class fe extends _{constructor(){super(),this._doc=(0,i.WQX)(h),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(Re){const Xe=l().getGlobalEventTarget(this._doc,"window");return Xe.addEventListener("popstate",Re,!1),()=>Xe.removeEventListener("popstate",Re)}onHashChange(Re){const Xe=l().getGlobalEventTarget(this._doc,"window");return Xe.addEventListener("hashchange",Re,!1),()=>Xe.removeEventListener("hashchange",Re)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Re){this._location.pathname=Re}pushState(Re,Xe,wt){this._history.pushState(Re,Xe,wt)}replaceState(Re,Xe,wt){this._history.replaceState(Re,Xe,wt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>new fe,providedIn:"platform"})}}return fe})();function D(fe,Je){if(0==fe.length)return Je;if(0==Je.length)return fe;let Re=0;return fe.endsWith("/")&&Re++,Je.startsWith("/")&&Re++,2==Re?fe+Je.substring(1):1==Re?fe+Je:fe+"/"+Je}function O(fe){const Je=fe.match(/#|\?|$/),Re=Je&&Je.index||fe.length;return fe.slice(0,Re-("/"===fe[Re-1]?1:0))+fe.slice(Re)}function M(fe){return fe&&"?"!==fe[0]?"?"+fe:fe}let T=(()=>{class fe{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>(0,i.WQX)(u),providedIn:"root"})}}return fe})();const R=new i.nKC("");let u=(()=>{class fe extends T{constructor(Re,Xe){super(),this._platformLocation=Re,this._removeListenerFns=[],this._baseHref=Xe??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(h).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return D(this._baseHref,Re)}path(Re=!1){const Xe=this._platformLocation.pathname+M(this._platformLocation.search),wt=this._platformLocation.hash;return wt&&Re?`${Xe}${wt}`:Xe}pushState(Re,Xe,wt,vn){const wn=this.prepareExternalUrl(wt+M(vn));this._platformLocation.pushState(Re,Xe,wn)}replaceState(Re,Xe,wt,vn){const wn=this.prepareExternalUrl(wt+M(vn));this._platformLocation.replaceState(Re,Xe,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.KVO(_),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),w=(()=>{class fe extends T{constructor(Re,Xe){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=Xe&&(this._baseHref=Xe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){const Xe=this._platformLocation.hash??"#";return Xe.length>0?Xe.substring(1):Xe}prepareExternalUrl(Re){const Xe=D(this._baseHref,Re);return Xe.length>0?"#"+Xe:Xe}pushState(Re,Xe,wt,vn){let wn=this.prepareExternalUrl(wt+M(vn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.pushState(Re,Xe,wn)}replaceState(Re,Xe,wt,vn){let wn=this.prepareExternalUrl(wt+M(vn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.replaceState(Re,Xe,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.KVO(_),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac})}}return fe})(),C=(()=>{class fe{constructor(Re){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Re;const Xe=this._locationStrategy.getBaseHref();this._basePath=function B(fe){if(new RegExp("^(https?:)?//").test(fe)){const[,Re]=fe.split(/\/\/[^\/]+/);return Re}return fe}(O(L(Xe))),this._locationStrategy.onPopState(wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:wt.state,type:wt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Re=!1){return this.normalize(this._locationStrategy.path(Re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Re,Xe=""){return this.path()==this.normalize(Re+M(Xe))}normalize(Re){return fe.stripTrailingSlash(function I(fe,Je){if(!fe||!Je.startsWith(fe))return Je;const Re=Je.substring(fe.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:Je}(this._basePath,L(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._locationStrategy.prepareExternalUrl(Re)}go(Re,Xe="",wt=null){this._locationStrategy.pushState(wt,"",Re,Xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+M(Xe)),wt)}replaceState(Re,Xe="",wt=null){this._locationStrategy.replaceState(wt,"",Re,Xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+M(Xe)),wt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Re=0){this._locationStrategy.historyGo?.(Re)}onUrlChange(Re){return this._urlChangeListeners.push(Re),this._urlChangeSubscription??=this.subscribe(Xe=>{this._notifyUrlChangeListeners(Xe.url,Xe.state)}),()=>{const Xe=this._urlChangeListeners.indexOf(Re);this._urlChangeListeners.splice(Xe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Re="",Xe){this._urlChangeListeners.forEach(wt=>wt(Re,Xe))}subscribe(Re,Xe,wt){return this._subject.subscribe({next:Re,error:Xe,complete:wt})}static{this.normalizeQueryParams=M}static{this.joinWithSlash=D}static{this.stripTrailingSlash=O}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.KVO(T))}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>function S(){return new C((0,i.KVO)(T))}(),providedIn:"root"})}}return fe})();function L(fe){return fe.replace(/\/index.html$/,"")}var G=function(fe){return fe[fe.Format=0]="Format",fe[fe.Standalone=1]="Standalone",fe}(G||{}),H=function(fe){return fe[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe}(H||{}),V=function(fe){return fe[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe}(V||{});const X={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Q(fe,Je,Re){const Xe=(0,i.H5H)(fe),vn=Fe([Xe[i.KH2.DayPeriodsFormat],Xe[i.KH2.DayPeriodsStandalone]],Je);return Fe(vn,Re)}function Y(fe,Je,Re){const Xe=(0,i.H5H)(fe),vn=Fe([Xe[i.KH2.DaysFormat],Xe[i.KH2.DaysStandalone]],Je);return Fe(vn,Re)}function z(fe,Je,Re){const Xe=(0,i.H5H)(fe),vn=Fe([Xe[i.KH2.MonthsFormat],Xe[i.KH2.MonthsStandalone]],Je);return Fe(vn,Re)}function de(fe,Je){return Fe((0,i.H5H)(fe)[i.KH2.DateFormat],Je)}function te(fe,Je){return Fe((0,i.H5H)(fe)[i.KH2.TimeFormat],Je)}function le(fe,Je){return Fe((0,i.H5H)(fe)[i.KH2.DateTimeFormat],Je)}function Ee(fe,Je){const Re=(0,i.H5H)(fe),Xe=Re[i.KH2.NumberSymbols][Je];if(typeof Xe>"u"){if(Je===X.CurrencyDecimal)return Re[i.KH2.NumberSymbols][X.Decimal];if(Je===X.CurrencyGroup)return Re[i.KH2.NumberSymbols][X.Group]}return Xe}function mt(fe){if(!fe[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${fe[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fe(fe,Je){for(let Re=Je;Re>-1;Re--)if(typeof fe[Re]<"u")return fe[Re];throw new Error("Locale data API: locale data undefined")}function st(fe){const[Je,Re]=fe.split(":");return{hours:+Je,minutes:+Re}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ct={},Ot=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ve=function(fe){return fe[fe.Short=0]="Short",fe[fe.ShortGMT=1]="ShortGMT",fe[fe.Long=2]="Long",fe[fe.Extended=3]="Extended",fe}(ve||{}),Be=function(fe){return fe[fe.FullYear=0]="FullYear",fe[fe.Month=1]="Month",fe[fe.Date=2]="Date",fe[fe.Hours=3]="Hours",fe[fe.Minutes=4]="Minutes",fe[fe.Seconds=5]="Seconds",fe[fe.FractionalSeconds=6]="FractionalSeconds",fe[fe.Day=7]="Day",fe}(Be||{}),pt=function(fe){return fe[fe.DayPeriods=0]="DayPeriods",fe[fe.Days=1]="Days",fe[fe.Months=2]="Months",fe[fe.Eras=3]="Eras",fe}(pt||{});function dn(fe,Je,Re,Xe){let wt=function Qe(fe){if(_t(fe))return fe;if("number"==typeof fe&&!isNaN(fe))return new Date(fe);if("string"==typeof fe){if(fe=fe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(fe)){const[wt,vn=1,wn=1]=fe.split("-").map(ns=>+ns);return an(wt,vn-1,wn)}const Re=parseFloat(fe);if(!isNaN(fe-Re))return new Date(Re);let Xe;if(Xe=fe.match(kt))return function xt(fe){const Je=new Date(0);let Re=0,Xe=0;const wt=fe[8]?Je.setUTCFullYear:Je.setFullYear,vn=fe[8]?Je.setUTCHours:Je.setHours;fe[9]&&(Re=Number(fe[9]+fe[10]),Xe=Number(fe[9]+fe[11])),wt.call(Je,Number(fe[1]),Number(fe[2])-1,Number(fe[3]));const wn=Number(fe[4]||0)-Re,ns=Number(fe[5]||0)-Xe,Us=Number(fe[6]||0),As=Math.floor(1e3*parseFloat("0."+(fe[7]||0)));return vn.call(Je,wn,ns,Us,As),Je}(Xe)}const Je=new Date(fe);if(!_t(Je))throw new Error(`Unable to convert "${fe}" into a date`);return Je}(fe);Je=In(Re,Je)||Je;let ns,wn=[];for(;Je;){if(ns=Ot.exec(Je),!ns){wn.push(Je);break}{wn=wn.concat(ns.slice(1));const $n=wn.pop();if(!$n)break;Je=$n}}let Us=wt.getTimezoneOffset();Xe&&(Us=ze(Xe,Us),wt=function St(fe,Je,Re){const Xe=Re?-1:1,wt=fe.getTimezoneOffset();return function Ue(fe,Je){return(fe=new Date(fe.getTime())).setMinutes(fe.getMinutes()+Je),fe}(fe,Xe*(ze(Je,wt)-wt))}(wt,Xe,!0));let As="";return wn.forEach($n=>{const qs=function ke(fe){if(Ne[fe])return Ne[fe];let Je;switch(fe){case"G":case"GG":case"GGG":Je=Mt(pt.Eras,H.Abbreviated);break;case"GGGG":Je=Mt(pt.Eras,H.Wide);break;case"GGGGG":Je=Mt(pt.Eras,H.Narrow);break;case"y":Je=qt(Be.FullYear,1,0,!1,!0);break;case"yy":Je=qt(Be.FullYear,2,0,!0,!0);break;case"yyy":Je=qt(Be.FullYear,3,0,!1,!0);break;case"yyyy":Je=qt(Be.FullYear,4,0,!1,!0);break;case"Y":Je=it(1);break;case"YY":Je=it(2,!0);break;case"YYY":Je=it(3);break;case"YYYY":Je=it(4);break;case"M":case"L":Je=qt(Be.Month,1,1);break;case"MM":case"LL":Je=qt(Be.Month,2,1);break;case"MMM":Je=Mt(pt.Months,H.Abbreviated);break;case"MMMM":Je=Mt(pt.Months,H.Wide);break;case"MMMMM":Je=Mt(pt.Months,H.Narrow);break;case"LLL":Je=Mt(pt.Months,H.Abbreviated,G.Standalone);break;case"LLLL":Je=Mt(pt.Months,H.Wide,G.Standalone);break;case"LLLLL":Je=Mt(pt.Months,H.Narrow,G.Standalone);break;case"w":Je=Lt(1);break;case"ww":Je=Lt(2);break;case"W":Je=Lt(1,!0);break;case"d":Je=qt(Be.Date,1);break;case"dd":Je=qt(Be.Date,2);break;case"c":case"cc":Je=qt(Be.Day,1);break;case"ccc":Je=Mt(pt.Days,H.Abbreviated,G.Standalone);break;case"cccc":Je=Mt(pt.Days,H.Wide,G.Standalone);break;case"ccccc":Je=Mt(pt.Days,H.Narrow,G.Standalone);break;case"cccccc":Je=Mt(pt.Days,H.Short,G.Standalone);break;case"E":case"EE":case"EEE":Je=Mt(pt.Days,H.Abbreviated);break;case"EEEE":Je=Mt(pt.Days,H.Wide);break;case"EEEEE":Je=Mt(pt.Days,H.Narrow);break;case"EEEEEE":Je=Mt(pt.Days,H.Short);break;case"a":case"aa":case"aaa":Je=Mt(pt.DayPeriods,H.Abbreviated);break;case"aaaa":Je=Mt(pt.DayPeriods,H.Wide);break;case"aaaaa":Je=Mt(pt.DayPeriods,H.Narrow);break;case"b":case"bb":case"bbb":Je=Mt(pt.DayPeriods,H.Abbreviated,G.Standalone,!0);break;case"bbbb":Je=Mt(pt.DayPeriods,H.Wide,G.Standalone,!0);break;case"bbbbb":Je=Mt(pt.DayPeriods,H.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":Je=Mt(pt.DayPeriods,H.Abbreviated,G.Format,!0);break;case"BBBB":Je=Mt(pt.DayPeriods,H.Wide,G.Format,!0);break;case"BBBBB":Je=Mt(pt.DayPeriods,H.Narrow,G.Format,!0);break;case"h":Je=qt(Be.Hours,1,-12);break;case"hh":Je=qt(Be.Hours,2,-12);break;case"H":Je=qt(Be.Hours,1);break;case"HH":Je=qt(Be.Hours,2);break;case"m":Je=qt(Be.Minutes,1);break;case"mm":Je=qt(Be.Minutes,2);break;case"s":Je=qt(Be.Seconds,1);break;case"ss":Je=qt(Be.Seconds,2);break;case"S":Je=qt(Be.FractionalSeconds,1);break;case"SS":Je=qt(Be.FractionalSeconds,2);break;case"SSS":Je=qt(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Je=Kt(ve.Short);break;case"ZZZZZ":Je=Kt(ve.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Je=Kt(ve.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Je=Kt(ve.Long);break;default:return null}return Ne[fe]=Je,Je}($n);As+=qs?qs(wt,Re,Us):"''"===$n?"'":$n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),As}function an(fe,Je,Re){const Xe=new Date(0);return Xe.setFullYear(fe,Je,Re),Xe.setHours(0,0,0),Xe}function In(fe,Je){const Re=function q(fe){return(0,i.H5H)(fe)[i.KH2.LocaleId]}(fe);if(ct[Re]??={},ct[Re][Je])return ct[Re][Je];let Xe="";switch(Je){case"shortDate":Xe=de(fe,V.Short);break;case"mediumDate":Xe=de(fe,V.Medium);break;case"longDate":Xe=de(fe,V.Long);break;case"fullDate":Xe=de(fe,V.Full);break;case"shortTime":Xe=te(fe,V.Short);break;case"mediumTime":Xe=te(fe,V.Medium);break;case"longTime":Xe=te(fe,V.Long);break;case"fullTime":Xe=te(fe,V.Full);break;case"short":const wt=In(fe,"shortTime"),vn=In(fe,"shortDate");Xe=Tt(le(fe,V.Short),[wt,vn]);break;case"medium":const wn=In(fe,"mediumTime"),ns=In(fe,"mediumDate");Xe=Tt(le(fe,V.Medium),[wn,ns]);break;case"long":const Us=In(fe,"longTime"),As=In(fe,"longDate");Xe=Tt(le(fe,V.Long),[Us,As]);break;case"full":const $n=In(fe,"fullTime"),qs=In(fe,"fullDate");Xe=Tt(le(fe,V.Full),[$n,qs])}return Xe&&(ct[Re][Je]=Xe),Xe}function Tt(fe,Je){return Je&&(fe=fe.replace(/\{([^}]+)}/g,function(Re,Xe){return null!=Je&&Xe in Je?Je[Xe]:Re})),fe}function Wt(fe,Je,Re="-",Xe,wt){let vn="";(fe<0||wt&&fe<=0)&&(wt?fe=1-fe:(fe=-fe,vn=Re));let wn=String(fe);for(;wn.length<Je;)wn="0"+wn;return Xe&&(wn=wn.slice(wn.length-Je)),vn+wn}function qt(fe,Je,Re=0,Xe=!1,wt=!1){return function(vn,wn){let ns=function ln(fe,Je){switch(fe){case Be.FullYear:return Je.getFullYear();case Be.Month:return Je.getMonth();case Be.Date:return Je.getDate();case Be.Hours:return Je.getHours();case Be.Minutes:return Je.getMinutes();case Be.Seconds:return Je.getSeconds();case Be.FractionalSeconds:return Je.getMilliseconds();case Be.Day:return Je.getDay();default:throw new Error(`Unknown DateType value "${fe}".`)}}(fe,vn);if((Re>0||ns>-Re)&&(ns+=Re),fe===Be.Hours)0===ns&&-12===Re&&(ns=12);else if(fe===Be.FractionalSeconds)return function It(fe,Je){return Wt(fe,3).substring(0,Je)}(ns,Je);const Us=Ee(wn,X.MinusSign);return Wt(ns,Je,Us,Xe,wt)}}function Mt(fe,Je,Re=G.Format,Xe=!1){return function(wt,vn){return function Ht(fe,Je,Re,Xe,wt,vn){switch(Re){case pt.Months:return z(Je,wt,Xe)[fe.getMonth()];case pt.Days:return Y(Je,wt,Xe)[fe.getDay()];case pt.DayPeriods:const wn=fe.getHours(),ns=fe.getMinutes();if(vn){const As=function xe(fe){const Je=(0,i.H5H)(fe);return mt(Je),(Je[i.KH2.ExtraData][2]||[]).map(Xe=>"string"==typeof Xe?st(Xe):[st(Xe[0]),st(Xe[1])])}(Je),$n=function ot(fe,Je,Re){const Xe=(0,i.H5H)(fe);mt(Xe);const vn=Fe([Xe[i.KH2.ExtraData][0],Xe[i.KH2.ExtraData][1]],Je)||[];return Fe(vn,Re)||[]}(Je,wt,Xe),qs=As.findIndex(xi=>{if(Array.isArray(xi)){const[Ii,dr]=xi,Xr=wn>=Ii.hours&&ns>=Ii.minutes,mi=wn<dr.hours||wn===dr.hours&&ns<dr.minutes;if(Ii.hours<dr.hours){if(Xr&&mi)return!0}else if(Xr||mi)return!0}else if(xi.hours===wn&&xi.minutes===ns)return!0;return!1});if(-1!==qs)return $n[qs]}return Q(Je,wt,Xe)[wn<12?0:1];case pt.Eras:return function Z(fe,Je){return Fe((0,i.H5H)(fe)[i.KH2.Eras],Je)}(Je,Xe)[fe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(wt,vn,fe,Je,Re,Xe)}}function Kt(fe){return function(Je,Re,Xe){const wt=-1*Xe,vn=Ee(Re,X.MinusSign),wn=wt>0?Math.floor(wt/60):Math.ceil(wt/60);switch(fe){case ve.Short:return(wt>=0?"+":"")+Wt(wn,2,vn)+Wt(Math.abs(wt%60),2,vn);case ve.ShortGMT:return"GMT"+(wt>=0?"+":"")+Wt(wn,1,vn);case ve.Long:return"GMT"+(wt>=0?"+":"")+Wt(wn,2,vn)+":"+Wt(Math.abs(wt%60),2,vn);case ve.Extended:return 0===Xe?"Z":(wt>=0?"+":"")+Wt(wn,2,vn)+":"+Wt(Math.abs(wt%60),2,vn);default:throw new Error(`Unknown zone width "${fe}"`)}}}const Pt=0,Ct=4;function Et(fe){const Je=fe.getDay(),Re=0===Je?-3:Ct-Je;return an(fe.getFullYear(),fe.getMonth(),fe.getDate()+Re)}function Lt(fe,Je=!1){return function(Re,Xe){let wt;if(Je){const vn=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,wn=Re.getDate();wt=1+Math.floor((wn+vn)/7)}else{const vn=Et(Re),wn=function Qt(fe){const Je=an(fe,Pt,1).getDay();return an(fe,0,1+(Je<=Ct?Ct:Ct+7)-Je)}(vn.getFullYear()),ns=vn.getTime()-wn.getTime();wt=1+Math.round(ns/6048e5)}return Wt(wt,fe,Ee(Xe,X.MinusSign))}}function it(fe,Je=!1){return function(Re,Xe){return Wt(Et(Re).getFullYear(),fe,Ee(Xe,X.MinusSign),Je)}}const Ne={};function ze(fe,Je){fe=fe.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+fe)/6e4;return isNaN(Re)?Je:Re}function _t(fe){return fe instanceof Date&&!isNaN(fe.valueOf())}function ft(fe,Je){Je=encodeURIComponent(Je);for(const Re of fe.split(";")){const Xe=Re.indexOf("="),[wt,vn]=-1==Xe?[Re,""]:[Re.slice(0,Xe),Re.slice(Xe+1)];if(wt.trim()===Je)return decodeURIComponent(vn)}return null}const Gt=/\s+/,Ke=[];let en=(()=>{class fe{constructor(Re,Xe){this._ngEl=Re,this._renderer=Xe,this.initialClasses=Ke,this.stateMap=new Map}set klass(Re){this.initialClasses=null!=Re?Re.trim().split(Gt):Ke}set ngClass(Re){this.rawClass="string"==typeof Re?Re.trim().split(Gt):Re}ngDoCheck(){for(const Xe of this.initialClasses)this._updateState(Xe,!0);const Re=this.rawClass;if(Array.isArray(Re)||Re instanceof Set)for(const Xe of Re)this._updateState(Xe,!0);else if(null!=Re)for(const Xe of Object.keys(Re))this._updateState(Xe,!!Re[Xe]);this._applyStateDiff()}_updateState(Re,Xe){const wt=this.stateMap.get(Re);void 0!==wt?(wt.enabled!==Xe&&(wt.changed=!0,wt.enabled=Xe),wt.touched=!0):this.stateMap.set(Re,{enabled:Xe,changed:!0,touched:!0})}_applyStateDiff(){for(const Re of this.stateMap){const Xe=Re[0],wt=Re[1];wt.changed?(this._toggleClass(Xe,wt.enabled),wt.changed=!1):wt.touched||(wt.enabled&&this._toggleClass(Xe,!1),this.stateMap.delete(Xe)),wt.touched=!1}}_toggleClass(Re,Xe){(Re=Re.trim()).length>0&&Re.split(Gt).forEach(wt=>{Xe?this._renderer.addClass(this._ngEl.nativeElement,wt):this._renderer.removeClass(this._ngEl.nativeElement,wt)})}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return fe})(),at=(()=>{class fe{constructor(Re){this._viewContainerRef=Re,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Re){return void 0!==Re.ngComponentOutletNgModule||void 0!==Re.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Re){return void 0!==Re.ngComponentOutlet||void 0!==Re.ngComponentOutletContent||void 0!==Re.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Re)}ngOnChanges(Re){if(this._needToReCreateComponentInstance(Re)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Xe=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Re)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,dt(Xe)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(dt(Xe)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Xe,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Re of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Re,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Re){for(const[Xe,wt]of this._inputsUsed)wt?(Re.setInput(Xe,this.ngComponentOutletInputs[Xe]),this._inputsUsed.set(Xe,!1)):(Re.setInput(Xe,void 0),this._inputsUsed.delete(Xe))}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return fe})();function dt(fe){return fe.get(i.Vns).injector}class vt{constructor(Je,Re,Xe,wt){this.$implicit=Je,this.ngForOf=Re,this.index=Xe,this.count=wt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class fe{set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}constructor(Re,Xe,wt){this._viewContainer=Re,this._template=Xe,this._differs=wt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const Xe=this._viewContainer;Re.forEachOperation((wt,vn,wn)=>{if(null==wt.previousIndex)Xe.createEmbeddedView(this._template,new vt(wt.item,this._ngForOf,-1,-1),null===wn?void 0:wn);else if(null==wn)Xe.remove(null===vn?void 0:vn);else if(null!==vn){const ns=Xe.get(vn);Xe.move(ns,wn),nn(ns,wt)}});for(let wt=0,vn=Xe.length;wt<vn;wt++){const ns=Xe.get(wt).context;ns.index=wt,ns.count=vn,ns.ngForOf=this._ngForOf}Re.forEachIdentityChange(wt=>{nn(Xe.get(wt.currentIndex),wt)})}static ngTemplateContextGuard(Re,Xe){return!0}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return fe})();function nn(fe,Je){fe.context.$implicit=Je.item}let Vn=(()=>{class fe{constructor(Re,Xe){this._viewContainer=Re,this._context=new xn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Xe}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){fs("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){fs("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,Xe){return!0}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return fe})();class xn{constructor(){this.$implicit=null,this.ngIf=null}}function fs(fe,Je){if(Je&&!Je.createEmbeddedView)throw new Error(`${fe} must be a TemplateRef, but received '${(0,i.Tbb)(Je)}'.`)}class ys{constructor(Je,Re){this._viewContainerRef=Je,this._templateRef=Re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Je){Je&&!this._created?this.create():!Je&&this._created&&this.destroy()}}let ls=(()=>{class fe{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Re){this._ngSwitch=Re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Re){this._defaultViews.push(Re)}_matchCase(Re){const Xe=Re===this._ngSwitch;return this._lastCasesMatched||=Xe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Xe}_updateDefaultCases(Re){if(this._defaultViews.length>0&&Re!==this._defaultUsed){this._defaultUsed=Re;for(const Xe of this._defaultViews)Xe.enforceState(Re)}}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return fe})(),Ts=(()=>{class fe{constructor(Re,Xe,wt){this.ngSwitch=wt,wt._addCase(),this._view=new ys(Re,Xe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ls,9))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return fe})(),Qi=(()=>{class fe{constructor(Re,Xe,wt){this._ngEl=Re,this._differs=Xe,this._renderer=wt,this._ngStyle=null,this._differ=null}set ngStyle(Re){this._ngStyle=Re,!this._differ&&Re&&(this._differ=this._differs.find(Re).create())}ngDoCheck(){if(this._differ){const Re=this._differ.diff(this._ngStyle);Re&&this._applyChanges(Re)}}_setStyle(Re,Xe){const[wt,vn]=Re.split("."),wn=-1===wt.indexOf("-")?void 0:i.czy.DashCase;null!=Xe?this._renderer.setStyle(this._ngEl.nativeElement,wt,vn?`${Xe}${vn}`:Xe,wn):this._renderer.removeStyle(this._ngEl.nativeElement,wt,wn)}_applyChanges(Re){Re.forEachRemovedItem(Xe=>this._setStyle(Xe.key,null)),Re.forEachAddedItem(Xe=>this._setStyle(Xe.key,Xe.currentValue)),Re.forEachChangedItem(Xe=>this._setStyle(Xe.key,Xe.currentValue))}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return fe})(),Is=(()=>{class fe{constructor(Re){this._viewContainerRef=Re,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Re){if(this._shouldRecreateView(Re)){const Xe=this._viewContainerRef;if(this._viewRef&&Xe.remove(Xe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const wt=this._createContextForwardProxy();this._viewRef=Xe.createEmbeddedView(this.ngTemplateOutlet,wt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Re){return!!Re.ngTemplateOutlet||!!Re.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Re,Xe,wt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Xe,wt),get:(Re,Xe,wt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Xe,wt)}})}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return fe})();function $i(fe,Je){return new i.wOt(2100,!1)}class ao{createSubscription(Je,Re){return(0,i.O8t)(()=>Je.subscribe({next:Re,error:Xe=>{throw Xe}}))}dispose(Je){(0,i.O8t)(()=>Je.unsubscribe())}}class Di{createSubscription(Je,Re){return Je.then(Re,Xe=>{throw Xe})}dispose(Je){}}const Ft=new Di,gn=new ao;let tn=(()=>{class fe{constructor(Re){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Re}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Re){if(!this._obj){if(Re)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Re)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,Xe=>this._updateLatestValue(Re,Xe))}_selectStrategy(Re){if((0,i.jNT)(Re))return Ft;if((0,i.zjR)(Re))return gn;throw $i()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,Xe){Re===this._obj&&(this._latestValue=Xe,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:fe,pure:!1,standalone:!0})}}return fe})(),$t=(()=>{class fe{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw $i();return Re.toLowerCase()}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:fe,pure:!0,standalone:!0})}}return fe})();const bn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Wn=(()=>{class fe{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw $i();return Re.replace(bn,Xe=>Xe[0].toUpperCase()+Xe.slice(1).toLowerCase())}static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:fe,pure:!0,standalone:!0})}}return fe})();const Ci=new i.nKC(""),ar=new i.nKC("");let pi=(()=>{class fe{constructor(Re,Xe,wt){this.locale=Re,this.defaultTimezone=Xe,this.defaultOptions=wt}transform(Re,Xe,wt,vn){if(null==Re||""===Re||Re!=Re)return null;try{return dn(Re,Xe??this.defaultOptions?.dateFormat??"mediumDate",vn||this.locale,wt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wn){throw $i()}}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.xe9,16),i.rXU(Ci,24),i.rXU(ar,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:fe,pure:!0,standalone:!0})}}return fe})(),co=(()=>{class fe{constructor(Re){this.differs=Re,this.keyValues=[],this.compareFn=kr}transform(Re,Xe=kr){if(!Re||!(Re instanceof Map)&&"object"!=typeof Re)return null;this.differ??=this.differs.find(Re).create();const wt=this.differ.diff(Re),vn=Xe!==this.compareFn;return wt&&(this.keyValues=[],wt.forEachItem(wn=>{this.keyValues.push(function Io(fe,Je){return{key:fe,value:Je}}(wn.key,wn.currentValue))})),(wt||vn)&&(this.keyValues.sort(Xe),this.compareFn=Xe),this.keyValues}static{this.\u0275fac=function(Xe){return new(Xe||fe)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:fe,pure:!1,standalone:!0})}}return fe})();function kr(fe,Je){const Re=fe.key,Xe=Je.key;if(Re===Xe)return 0;if(void 0===Re)return 1;if(void 0===Xe)return-1;if(null===Re)return 1;if(null===Xe)return-1;if("string"==typeof Re&&"string"==typeof Xe)return Re<Xe?-1:1;if("number"==typeof Re&&"number"==typeof Xe)return Re-Xe;if("boolean"==typeof Re&&"boolean"==typeof Xe)return Re<Xe?-1:1;const wt=String(Re),vn=String(Xe);return wt==vn?0:wt<vn?-1:1}let xo=(()=>{class fe{static{this.\u0275fac=function(Xe){return new(Xe||fe)}}static{this.\u0275mod=i.$C({type:fe})}static{this.\u0275inj=i.G2t({})}}return fe})();const Tr="browser",ho="server";function zr(fe){return fe===Tr}function yo(fe){return fe===ho}let qe=(()=>{class fe{static{this.\u0275prov=(0,i.jDH)({token:fe,providedIn:"root",factory:()=>zr((0,i.WQX)(i.Agw))?new rt((0,i.WQX)(h),window):new Bt})}}return fe})();class rt{constructor(Je,Re){this.document=Je,this.window=Re,this.offset=()=>[0,0]}setOffset(Je){this.offset=Array.isArray(Je)?()=>Je:Je}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Je){this.window.scrollTo(Je[0],Je[1])}scrollToAnchor(Je){const Re=function Nt(fe,Je){const Re=fe.getElementById(Je)||fe.getElementsByName(Je)[0];if(Re)return Re;if("function"==typeof fe.createTreeWalker&&fe.body&&"function"==typeof fe.body.attachShadow){const Xe=fe.createTreeWalker(fe.body,NodeFilter.SHOW_ELEMENT);let wt=Xe.currentNode;for(;wt;){const vn=wt.shadowRoot;if(vn){const wn=vn.getElementById(Je)||vn.querySelector(`[name="${Je}"]`);if(wn)return wn}wt=Xe.nextNode()}}return null}(this.document,Je);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(Je){this.window.history.scrollRestoration=Je}scrollToElement(Je){const Re=Je.getBoundingClientRect(),Xe=Re.left+this.window.pageXOffset,wt=Re.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(Xe-vn[0],wt-vn[1])}}class Bt{setOffset(Je){}getScrollPosition(){return[0,0]}scrollToPosition(Je){}scrollToAnchor(Je){}setHistoryScrollRestoration(Je){}}class Tn{}},21626:(N,b,n)=>{"use strict";n.d(b,{$R:()=>Ue,$m:()=>Rs,B3:()=>Et,Lr:()=>R,Nl:()=>U,Qq:()=>te,Sx:()=>xt,a7:()=>ot,cS:()=>Z,yz:()=>oe}),n(74523);var t=n(54438),l=n(7673),e=n(71985),f=n(22806),m=n(70274),h=n(5964),_=n(96354),y=n(70980),v=n(25558),D=n(88141),O=n(60177);class M{}class T{}class R{constructor(Gt){this.normalizedNames=new Map,this.lazyUpdate=null,Gt?"string"==typeof Gt?this.lazyInit=()=>{this.headers=new Map,Gt.split("\n").forEach(Ke=>{const en=Ke.indexOf(":");if(en>0){const at=Ke.slice(0,en),dt=at.toLowerCase(),vt=Ke.slice(en+1).trim();this.maybeSetNormalizedName(at,dt),this.headers.has(dt)?this.headers.get(dt).push(vt):this.headers.set(dt,[vt])}})}:typeof Headers<"u"&&Gt instanceof Headers?(this.headers=new Map,Gt.forEach((Ke,en)=>{this.setHeaderEntries(en,Ke)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Gt).forEach(([Ke,en])=>{this.setHeaderEntries(Ke,en)})}:this.headers=new Map}has(Gt){return this.init(),this.headers.has(Gt.toLowerCase())}get(Gt){this.init();const Ke=this.headers.get(Gt.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Gt){return this.init(),this.headers.get(Gt.toLowerCase())||null}append(Gt,Ke){return this.clone({name:Gt,value:Ke,op:"a"})}set(Gt,Ke){return this.clone({name:Gt,value:Ke,op:"s"})}delete(Gt,Ke){return this.clone({name:Gt,value:Ke,op:"d"})}maybeSetNormalizedName(Gt,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,Gt)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Gt=>this.applyUpdate(Gt)),this.lazyUpdate=null))}copyFrom(Gt){Gt.init(),Array.from(Gt.headers.keys()).forEach(Ke=>{this.headers.set(Ke,Gt.headers.get(Ke)),this.normalizedNames.set(Ke,Gt.normalizedNames.get(Ke))})}clone(Gt){const Ke=new R;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([Gt]),Ke}applyUpdate(Gt){const Ke=Gt.name.toLowerCase();switch(Gt.op){case"a":case"s":let en=Gt.value;if("string"==typeof en&&(en=[en]),0===en.length)return;this.maybeSetNormalizedName(Gt.name,Ke);const at=("a"===Gt.op?this.headers.get(Ke):void 0)||[];at.push(...en),this.headers.set(Ke,at);break;case"d":const dt=Gt.value;if(dt){let vt=this.headers.get(Ke);if(!vt)return;vt=vt.filter(jt=>-1===dt.indexOf(jt)),0===vt.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,vt)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}setHeaderEntries(Gt,Ke){const en=(Array.isArray(Ke)?Ke:[Ke]).map(dt=>dt.toString()),at=Gt.toLowerCase();this.headers.set(at,en),this.maybeSetNormalizedName(Gt,at)}forEach(Gt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>Gt(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class w{encodeKey(Gt){return L(Gt)}encodeValue(Gt){return L(Gt)}decodeKey(Gt){return decodeURIComponent(Gt)}decodeValue(Gt){return decodeURIComponent(Gt)}}const S=/%(\d[a-f0-9])/gi,I={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L(ft){return encodeURIComponent(ft).replace(S,(Gt,Ke)=>I[Ke]??Gt)}function B(ft){return`${ft}`}class U{constructor(Gt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Gt.encoder||new w,Gt.fromString){if(Gt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function C(ft,Gt){const Ke=new Map;return ft.length>0&&ft.replace(/^\?/,"").split("&").forEach(at=>{const dt=at.indexOf("="),[vt,jt]=-1==dt?[Gt.decodeKey(at),""]:[Gt.decodeKey(at.slice(0,dt)),Gt.decodeValue(at.slice(dt+1))],nn=Ke.get(vt)||[];nn.push(jt),Ke.set(vt,nn)}),Ke}(Gt.fromString,this.encoder)}else Gt.fromObject?(this.map=new Map,Object.keys(Gt.fromObject).forEach(Ke=>{const en=Gt.fromObject[Ke],at=Array.isArray(en)?en.map(B):[B(en)];this.map.set(Ke,at)})):this.map=null}has(Gt){return this.init(),this.map.has(Gt)}get(Gt){this.init();const Ke=this.map.get(Gt);return Ke?Ke[0]:null}getAll(Gt){return this.init(),this.map.get(Gt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Gt,Ke){return this.clone({param:Gt,value:Ke,op:"a"})}appendAll(Gt){const Ke=[];return Object.keys(Gt).forEach(en=>{const at=Gt[en];Array.isArray(at)?at.forEach(dt=>{Ke.push({param:en,value:dt,op:"a"})}):Ke.push({param:en,value:at,op:"a"})}),this.clone(Ke)}set(Gt,Ke){return this.clone({param:Gt,value:Ke,op:"s"})}delete(Gt,Ke){return this.clone({param:Gt,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(Gt=>{const Ke=this.encoder.encodeKey(Gt);return this.map.get(Gt).map(en=>Ke+"="+this.encoder.encodeValue(en)).join("&")}).filter(Gt=>""!==Gt).join("&")}clone(Gt){const Ke=new U({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(Gt),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Gt=>this.map.set(Gt,this.cloneFrom.map.get(Gt))),this.updates.forEach(Gt=>{switch(Gt.op){case"a":case"s":const Ke=("a"===Gt.op?this.map.get(Gt.param):void 0)||[];Ke.push(B(Gt.value)),this.map.set(Gt.param,Ke);break;case"d":if(void 0===Gt.value){this.map.delete(Gt.param);break}{let en=this.map.get(Gt.param)||[];const at=en.indexOf(B(Gt.value));-1!==at&&en.splice(at,1),en.length>0?this.map.set(Gt.param,en):this.map.delete(Gt.param)}}}),this.cloneFrom=this.updates=null)}}class j{constructor(){this.map=new Map}set(Gt,Ke){return this.map.set(Gt,Ke),this}get(Gt){return this.map.has(Gt)||this.map.set(Gt,Gt.defaultValue()),this.map.get(Gt)}delete(Gt){return this.map.delete(Gt),this}has(Gt){return this.map.has(Gt)}keys(){return this.map.keys()}}function H(ft){return typeof ArrayBuffer<"u"&&ft instanceof ArrayBuffer}function V(ft){return typeof Blob<"u"&&ft instanceof Blob}function X(ft){return typeof FormData<"u"&&ft instanceof FormData}class q{constructor(Gt,Ke,en,at){let dt;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Gt.toUpperCase(),function G(ft){switch(ft){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==en?en:null,dt=at):dt=en,dt&&(this.reportProgress=!!dt.reportProgress,this.withCredentials=!!dt.withCredentials,dt.responseType&&(this.responseType=dt.responseType),dt.headers&&(this.headers=dt.headers),dt.context&&(this.context=dt.context),dt.params&&(this.params=dt.params),this.transferCache=dt.transferCache),this.headers??=new R,this.context??=new j,this.params){const vt=this.params.toString();if(0===vt.length)this.urlWithParams=Ke;else{const jt=Ke.indexOf("?");this.urlWithParams=Ke+(-1===jt?"?":jt<Ke.length-1?"&":"")+vt}}else this.params=new U,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:"string"==typeof this.body||H(this.body)||V(this.body)||X(this.body)||function J(ft){return typeof URLSearchParams<"u"&&ft instanceof URLSearchParams}(this.body)?this.body:this.body instanceof U?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X(this.body)?null:V(this.body)?this.body.type||null:H(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof U?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Gt={}){const Ke=Gt.method||this.method,en=Gt.url||this.url,at=Gt.responseType||this.responseType,dt=Gt.transferCache??this.transferCache,vt=void 0!==Gt.body?Gt.body:this.body,jt=Gt.withCredentials??this.withCredentials,nn=Gt.reportProgress??this.reportProgress;let Dn=Gt.headers||this.headers,Vn=Gt.params||this.params;const xn=Gt.context??this.context;return void 0!==Gt.setHeaders&&(Dn=Object.keys(Gt.setHeaders).reduce((fs,Ms)=>fs.set(Ms,Gt.setHeaders[Ms]),Dn)),Gt.setParams&&(Vn=Object.keys(Gt.setParams).reduce((fs,Ms)=>fs.set(Ms,Gt.setParams[Ms]),Vn)),new q(Ke,en,vt,{params:Vn,headers:Dn,context:xn,reportProgress:nn,responseType:at,withCredentials:jt,transferCache:dt})}}var Q=function(ft){return ft[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft}(Q||{});class Y{constructor(Gt,Ke=se.Ok,en="OK"){this.headers=Gt.headers||new R,this.status=void 0!==Gt.status?Gt.status:Ke,this.statusText=Gt.statusText||en,this.url=Gt.url||null,this.ok=this.status>=200&&this.status<300}}class z extends Y{constructor(Gt={}){super(Gt),this.type=Q.ResponseHeader}clone(Gt={}){return new z({headers:Gt.headers||this.headers,status:void 0!==Gt.status?Gt.status:this.status,statusText:Gt.statusText||this.statusText,url:Gt.url||this.url||void 0})}}class Z extends Y{constructor(Gt={}){super(Gt),this.type=Q.Response,this.body=void 0!==Gt.body?Gt.body:null}clone(Gt={}){return new Z({body:void 0!==Gt.body?Gt.body:this.body,headers:Gt.headers||this.headers,status:void 0!==Gt.status?Gt.status:this.status,statusText:Gt.statusText||this.statusText,url:Gt.url||this.url||void 0})}}class oe extends Y{constructor(Gt){super(Gt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Gt.url||"(unknown url)"}`:`Http failure response for ${Gt.url||"(unknown url)"}: ${Gt.status} ${Gt.statusText}`,this.error=Gt.error||null}}var se=function(ft){return ft[ft.Continue=100]="Continue",ft[ft.SwitchingProtocols=101]="SwitchingProtocols",ft[ft.Processing=102]="Processing",ft[ft.EarlyHints=103]="EarlyHints",ft[ft.Ok=200]="Ok",ft[ft.Created=201]="Created",ft[ft.Accepted=202]="Accepted",ft[ft.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",ft[ft.NoContent=204]="NoContent",ft[ft.ResetContent=205]="ResetContent",ft[ft.PartialContent=206]="PartialContent",ft[ft.MultiStatus=207]="MultiStatus",ft[ft.AlreadyReported=208]="AlreadyReported",ft[ft.ImUsed=226]="ImUsed",ft[ft.MultipleChoices=300]="MultipleChoices",ft[ft.MovedPermanently=301]="MovedPermanently",ft[ft.Found=302]="Found",ft[ft.SeeOther=303]="SeeOther",ft[ft.NotModified=304]="NotModified",ft[ft.UseProxy=305]="UseProxy",ft[ft.Unused=306]="Unused",ft[ft.TemporaryRedirect=307]="TemporaryRedirect",ft[ft.PermanentRedirect=308]="PermanentRedirect",ft[ft.BadRequest=400]="BadRequest",ft[ft.Unauthorized=401]="Unauthorized",ft[ft.PaymentRequired=402]="PaymentRequired",ft[ft.Forbidden=403]="Forbidden",ft[ft.NotFound=404]="NotFound",ft[ft.MethodNotAllowed=405]="MethodNotAllowed",ft[ft.NotAcceptable=406]="NotAcceptable",ft[ft.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",ft[ft.RequestTimeout=408]="RequestTimeout",ft[ft.Conflict=409]="Conflict",ft[ft.Gone=410]="Gone",ft[ft.LengthRequired=411]="LengthRequired",ft[ft.PreconditionFailed=412]="PreconditionFailed",ft[ft.PayloadTooLarge=413]="PayloadTooLarge",ft[ft.UriTooLong=414]="UriTooLong",ft[ft.UnsupportedMediaType=415]="UnsupportedMediaType",ft[ft.RangeNotSatisfiable=416]="RangeNotSatisfiable",ft[ft.ExpectationFailed=417]="ExpectationFailed",ft[ft.ImATeapot=418]="ImATeapot",ft[ft.MisdirectedRequest=421]="MisdirectedRequest",ft[ft.UnprocessableEntity=422]="UnprocessableEntity",ft[ft.Locked=423]="Locked",ft[ft.FailedDependency=424]="FailedDependency",ft[ft.TooEarly=425]="TooEarly",ft[ft.UpgradeRequired=426]="UpgradeRequired",ft[ft.PreconditionRequired=428]="PreconditionRequired",ft[ft.TooManyRequests=429]="TooManyRequests",ft[ft.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",ft[ft.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",ft[ft.InternalServerError=500]="InternalServerError",ft[ft.NotImplemented=501]="NotImplemented",ft[ft.BadGateway=502]="BadGateway",ft[ft.ServiceUnavailable=503]="ServiceUnavailable",ft[ft.GatewayTimeout=504]="GatewayTimeout",ft[ft.HttpVersionNotSupported=505]="HttpVersionNotSupported",ft[ft.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",ft[ft.InsufficientStorage=507]="InsufficientStorage",ft[ft.LoopDetected=508]="LoopDetected",ft[ft.NotExtended=510]="NotExtended",ft[ft.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",ft}(se||{});function de(ft,Gt){return{body:Gt,headers:ft.headers,context:ft.context,observe:ft.observe,params:ft.params,reportProgress:ft.reportProgress,responseType:ft.responseType,withCredentials:ft.withCredentials,transferCache:ft.transferCache}}let te=(()=>{class ft{constructor(Ke){this.handler=Ke}request(Ke,en,at={}){let dt;if(Ke instanceof q)dt=Ke;else{let nn,Dn;nn=at.headers instanceof R?at.headers:new R(at.headers),at.params&&(Dn=at.params instanceof U?at.params:new U({fromObject:at.params})),dt=new q(Ke,en,void 0!==at.body?at.body:null,{headers:nn,context:at.context,params:Dn,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials,transferCache:at.transferCache})}const vt=(0,l.of)(dt).pipe((0,m.H)(nn=>this.handler.handle(nn)));if(Ke instanceof q||"events"===at.observe)return vt;const jt=vt.pipe((0,h.p)(nn=>nn instanceof Z));switch(at.observe||"body"){case"body":switch(dt.responseType){case"arraybuffer":return jt.pipe((0,_.T)(nn=>{if(null!==nn.body&&!(nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return nn.body}));case"blob":return jt.pipe((0,_.T)(nn=>{if(null!==nn.body&&!(nn.body instanceof Blob))throw new Error("Response is not a Blob.");return nn.body}));case"text":return jt.pipe((0,_.T)(nn=>{if(null!==nn.body&&"string"!=typeof nn.body)throw new Error("Response is not a string.");return nn.body}));default:return jt.pipe((0,_.T)(nn=>nn.body))}case"response":return jt;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(Ke,en={}){return this.request("DELETE",Ke,en)}get(Ke,en={}){return this.request("GET",Ke,en)}head(Ke,en={}){return this.request("HEAD",Ke,en)}jsonp(Ke,en){return this.request("JSONP",Ke,{params:(new U).append(en,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,en={}){return this.request("OPTIONS",Ke,en)}patch(Ke,en,at={}){return this.request("PATCH",Ke,de(at,en))}post(Ke,en,at={}){return this.request("POST",Ke,de(at,en))}put(Ke,en,at={}){return this.request("PUT",Ke,de(at,en))}static{this.\u0275fac=function(en){return new(en||ft)(t.KVO(M))}}static{this.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();function nt(ft,Gt){return Gt(ft)}function mt(ft,Gt){return(Ke,en)=>Gt.intercept(Ke,{handle:at=>ft(at,en)})}const ot=new t.nKC(""),$e=new t.nKC(""),Fe=new t.nKC(""),st=new t.nKC("");function Ie(){let ft=null;return(Gt,Ke)=>{null===ft&&(ft=((0,t.WQX)(ot,{optional:!0})??[]).reduceRight(mt,nt));const en=(0,t.WQX)(t.TgB),at=en.add();return ft(Gt,Ke).pipe((0,y.j)(()=>en.remove(at)))}}let kt=(()=>{class ft extends M{constructor(Ke,en){super(),this.backend=Ke,this.injector=en,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB);const at=(0,t.WQX)(st,{optional:!0});this.backend=at??Ke}handle(Ke){if(null===this.chain){const at=Array.from(new Set([...this.injector.get($e),...this.injector.get(Fe,[])]));this.chain=at.reduceRight((dt,vt)=>function xe(ft,Gt,Ke){return(en,at)=>(0,t.N4e)(Ke,()=>Gt(en,dt=>ft(dt,at)))}(dt,vt,this.injector),nt)}const en=this.pendingTasks.add();return this.chain(Ke,at=>this.backend.handle(at)).pipe((0,y.j)(()=>this.pendingTasks.remove(en)))}static{this.\u0275fac=function(en){return new(en||ft)(t.KVO(T),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();const qt=/^\)\]\}',?\n/;let Mt=(()=>{class ft{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new t.wOt(-2800,!1);const en=this.xhrFactory;return(en.\u0275loadImpl?(0,f.H)(en.\u0275loadImpl()):(0,l.of)(null)).pipe((0,v.n)(()=>new e.c(dt=>{const vt=en.build();if(vt.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(vt.withCredentials=!0),Ke.headers.forEach((ls,Ts)=>vt.setRequestHeader(ls,Ts.join(","))),Ke.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const ls=Ke.detectContentTypeHeader();null!==ls&&vt.setRequestHeader("Content-Type",ls)}if(Ke.responseType){const ls=Ke.responseType.toLowerCase();vt.responseType="json"!==ls?ls:"text"}const jt=Ke.serializeBody();let nn=null;const Dn=()=>{if(null!==nn)return nn;const ls=vt.statusText||"OK",Ts=new R(vt.getAllResponseHeaders()),Mi=function ln(ft){return"responseURL"in ft&&ft.responseURL?ft.responseURL:/^X-Request-URL:/m.test(ft.getAllResponseHeaders())?ft.getResponseHeader("X-Request-URL"):null}(vt)||Ke.url;return nn=new z({headers:Ts,status:vt.status,statusText:ls,url:Mi}),nn},Vn=()=>{let{headers:ls,status:Ts,statusText:Mi,url:ji}=Dn(),Ai=null;Ts!==se.NoContent&&(Ai=typeof vt.response>"u"?vt.responseText:vt.response),0===Ts&&(Ts=Ai?se.Ok:0);let Fi=Ts>=200&&Ts<300;if("json"===Ke.responseType&&"string"==typeof Ai){const wr=Ai;Ai=Ai.replace(qt,"");try{Ai=""!==Ai?JSON.parse(Ai):null}catch(Qi){Ai=wr,Fi&&(Fi=!1,Ai={error:Qi,text:Ai})}}Fi?(dt.next(new Z({body:Ai,headers:ls,status:Ts,statusText:Mi,url:ji||void 0})),dt.complete()):dt.error(new oe({error:Ai,headers:ls,status:Ts,statusText:Mi,url:ji||void 0}))},xn=ls=>{const{url:Ts}=Dn(),Mi=new oe({error:ls,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:Ts||void 0});dt.error(Mi)};let fs=!1;const Ms=ls=>{fs||(dt.next(Dn()),fs=!0);let Ts={type:Q.DownloadProgress,loaded:ls.loaded};ls.lengthComputable&&(Ts.total=ls.total),"text"===Ke.responseType&&vt.responseText&&(Ts.partialText=vt.responseText),dt.next(Ts)},ys=ls=>{let Ts={type:Q.UploadProgress,loaded:ls.loaded};ls.lengthComputable&&(Ts.total=ls.total),dt.next(Ts)};return vt.addEventListener("load",Vn),vt.addEventListener("error",xn),vt.addEventListener("timeout",xn),vt.addEventListener("abort",xn),Ke.reportProgress&&(vt.addEventListener("progress",Ms),null!==jt&&vt.upload&&vt.upload.addEventListener("progress",ys)),vt.send(jt),dt.next({type:Q.Sent}),()=>{vt.removeEventListener("error",xn),vt.removeEventListener("abort",xn),vt.removeEventListener("load",Vn),vt.removeEventListener("timeout",xn),Ke.reportProgress&&(vt.removeEventListener("progress",Ms),null!==jt&&vt.upload&&vt.upload.removeEventListener("progress",ys)),vt.readyState!==vt.DONE&&vt.abort()}})))}static{this.\u0275fac=function(en){return new(en||ft)(t.KVO(O.N0))}}static{this.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();const Ht=new t.nKC(""),Pt=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Qt=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Et{}let Lt=(()=>{class ft{constructor(Ke,en,at){this.doc=Ke,this.platform=en,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}static{this.\u0275fac=function(en){return new(en||ft)(t.KVO(O.qQ),t.KVO(t.Agw),t.KVO(Pt))}}static{this.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();function it(ft,Gt){const Ke=ft.url.toLowerCase();if(!(0,t.WQX)(Ht)||"GET"===ft.method||"HEAD"===ft.method||Ke.startsWith("http://")||Ke.startsWith("https://"))return Gt(ft);const en=(0,t.WQX)(Et).getToken(),at=(0,t.WQX)(Qt);return null!=en&&!ft.headers.has(at)&&(ft=ft.clone({headers:ft.headers.set(at,en)})),Gt(ft)}var ke=function(ft){return ft[ft.Interceptors=0]="Interceptors",ft[ft.LegacyInterceptors=1]="LegacyInterceptors",ft[ft.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ft[ft.NoXsrfProtection=3]="NoXsrfProtection",ft[ft.JsonpSupport=4]="JsonpSupport",ft[ft.RequestsMadeViaParent=5]="RequestsMadeViaParent",ft[ft.Fetch=6]="Fetch",ft}(ke||{});function Ue(...ft){const Gt=[te,Mt,kt,{provide:M,useExisting:kt},{provide:T,useExisting:Mt},{provide:$e,useValue:it,multi:!0},{provide:Ht,useValue:!0},{provide:Et,useClass:Lt}];for(const Ke of ft)Gt.push(...Ke.\u0275providers);return(0,t.EmA)(Gt)}const Qe=new t.nKC("");function xt(){return function ze(ft,Gt){return{\u0275kind:ft,\u0275providers:Gt}}(ke.LegacyInterceptors,[{provide:Qe,useFactory:Ie},{provide:$e,useExisting:Qe,multi:!0}])}const lt="b",Yt="h",Pn="s",kn="st",is="u",as="rt",Ys=new t.nKC(""),gs=["GET","HEAD"];function Ss(ft,Gt){const{isCacheActive:Ke,...en}=(0,t.WQX)(Ys),{transferCache:at,method:dt}=ft;if(!Ke||"POST"===dt&&!en.includePostRequests&&!at||"POST"!==dt&&!gs.includes(dt)||!1===at||!1===en.filter?.(ft))return Gt(ft);const vt=(0,t.WQX)(t.pJN),jt=function pn(ft){const{params:Gt,method:Ke,responseType:en,url:at}=ft,dt=sn(Gt);let vt=ft.serializeBody();vt instanceof URLSearchParams?vt=sn(vt):"string"!=typeof vt&&(vt="");const nn=function Zn(ft){let Gt=0;for(const Ke of ft)Gt=Math.imul(31,Gt)+Ke.charCodeAt(0)|0;return Gt+=2147483648,Gt.toString()}([Ke,en,at,vt,dt].join("|"));return(0,t.zw6)(nn)}(ft),nn=vt.get(jt,null);let Dn=en.includeHeaders;if("object"==typeof at&&at.includeHeaders&&(Dn=at.includeHeaders),nn){const{[lt]:xn,[as]:fs,[Yt]:Ms,[Pn]:ys,[kn]:ls,[is]:Ts}=nn;let Mi=xn;switch(fs){case"arraybuffer":Mi=(new TextEncoder).encode(xn).buffer;break;case"blob":Mi=new Blob([xn])}let ji=new R(Ms);return(0,l.of)(new Z({body:Mi,headers:ji,status:ys,statusText:ls,url:Ts}))}const Vn=(0,O.Vy)((0,t.WQX)(t.Agw));return Gt(ft).pipe((0,D.M)(xn=>{xn instanceof Z&&Vn&&vt.set(jt,{[lt]:xn.body,[Yt]:os(xn.headers,Dn),[Pn]:xn.status,[kn]:xn.statusText,[is]:xn.url||"",[as]:ft.responseType})}))}function os(ft,Gt){if(!Gt)return{};const Ke={};for(const en of Gt){const at=ft.getAll(en);null!==at&&(Ke[en]=at)}return Ke}function sn(ft){return[...ft.keys()].sort().map(Gt=>`${Gt}=${ft.getAll(Gt)}`).join("&")}function Rs(ft){return[{provide:Ys,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...ft})},{provide:Fe,useValue:Ss,multi:!0,deps:[t.pJN,Ys]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Gt=(0,t.WQX)(t.o8S),Ke=(0,t.WQX)(Ys);return()=>{(0,t.zuW)(Gt).then(()=>{Ke.isCacheActive=!1})}}}]}},54438:(N,b,n)=>{"use strict";function t(r,a){return Object.is(r,a)}n.d(b,{bc$:()=>iT,iLQ:()=>n0,sZ2:()=>bc,hnV:()=>Cb,o8S:()=>ed,BIS:()=>yl,gRc:()=>Ki,Ql9:()=>p,OM3:()=>Wh,Ocv:()=>Bn,abz:()=>ud,Z63:()=>qi,aKT:()=>jl,uvJ:()=>Rt,zcH:()=>ka,bkB:()=>gc,y_5:()=>zr,$GK:()=>$t,nKC:()=>at,zZn:()=>ja,_q3:()=>MP,MKu:()=>IP,xe9:()=>ms,Co$:()=>$E,Vns:()=>Ad,SKi:()=>go,Xx1:()=>yo,Agw:()=>Dg,PLl:()=>V0,rOR:()=>nf,sFG:()=>xO,_9s:()=>eE,czy:()=>vf,WPN:()=>Td,kdw:()=>Ea,C4Q:()=>Uh,NYb:()=>_P,giA:()=>yb,pJN:()=>fd,RxE:()=>jd,c1b:()=>Xf,gXe:()=>hr,mal:()=>f_,Af3:()=>fe,tdH:()=>BO,L39:()=>sw,EWP:()=>ow,a0P:()=>hw,Ol2:()=>x_,w6W:()=>vM,QZP:()=>p2,SmG:()=>Sb,Rfq:()=>it,oKB:()=>Os,WQX:()=>xs,naY:()=>Ib,Hps:()=>O_,QuC:()=>po,EmA:()=>Bo,zw6:()=>kc,v7R:()=>fw,Udg:()=>iw,HJs:()=>pw,N4e:()=>nr,vPA:()=>TE,O8t:()=>aw,An2:()=>Vf,H3F:()=>cb,H8p:()=>Yr,KH2:()=>Yu,TgB:()=>Iu,wOt:()=>We,WHO:()=>_b,e01:()=>vb,lNU:()=>Ie,h9k:()=>oy,$MX:()=>hf,ZF7:()=>_i,Kcf:()=>jr,e5t:()=>dT,UyX:()=>cT,cWb:()=>$c,osQ:()=>q0,H5H:()=>oa,Zy3:()=>Dt,mq5:()=>x1,JZv:()=>ln,TL3:()=>V2,LfX:()=>pn,plB:()=>Jc,jNT:()=>e0,zjR:()=>Eb,ngT:()=>bl,TL$:()=>Ga,Tbb:()=>Ct,zUL:()=>Et,rcV:()=>Mr,zuW:()=>Tb,M8M:()=>K2,Vt3:()=>tm,Mj6:()=>Gr,GFd:()=>GE,OA$:()=>Lc,Jv_:()=>SS,aNF:()=>PS,R7$:()=>Zg,BMQ:()=>Q_,HbH:()=>_1,ZvI:()=>b1,STu:()=>Ep,ZBM:()=>D1,AVh:()=>gp,vxM:()=>bp,wni:()=>mC,VBU:()=>No,FsC:()=>Ba,jDH:()=>gs,G2t:()=>os,$C:()=>Fo,EJ8:()=>Ca,rXU:()=>pu,nrm:()=>mv,eu8:()=>A1,bVm:()=>_v,qex:()=>gv,k0s:()=>Em,j41:()=>fv,RV6:()=>Cm,xGo:()=>b0,Mr5:()=>vv,pXf:()=>iC,nnv:()=>oC,uP7:()=>Ov,KVO:()=>lr,kS0:()=>tf,QTQ:()=>My,bIt:()=>Np,lsd:()=>vC,XpG:()=>cC,nI1:()=>Wv,bMT:()=>WC,i5U:()=>KC,brH:()=>xS,SdG:()=>uC,NAR:()=>dC,Y8G:()=>av,FS9:()=>Mv,Mz_:()=>Am,FCK:()=>Iv,lJ4:()=>AS,eq3:()=>FC,l_i:()=>BC,sMw:()=>UC,ziG:()=>wS,s1E:()=>LS,mGM:()=>_C,sdS:()=>Av,Dyx:()=>Rc,Z7z:()=>S1,fX1:()=>I1,Njj:()=>Yp,EBC:()=>Kg,tSv:()=>uy,eBV:()=>zp,npT:()=>ay,f$h:()=>Gg,B4B:()=>Vg,n$t:()=>ly,xc7:()=>cv,DNE:()=>Pu,C5r:()=>HC,EFF:()=>PC,JRh:()=>wv,SpI:()=>Lm,Lme:()=>xm,E5c:()=>Il,LHq:()=>Lv,DH7:()=>TS,mxI:()=>Nv,R50:()=>xC,GBs:()=>gC}),n(74523);let l=null,e=!1,f=1;const m=Symbol("SIGNAL");function h(r){const a=l;return l=r,a}const D={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(r){if(e)throw new Error("");if(null===l)return;l.consumerOnSignalRead(r);const a=l.nextProducerIndex++;j(l),a<l.producerNode.length&&l.producerNode[a]!==r&&W(l)&&U(l.producerNode[a],l.producerIndexOfThis[a]),l.producerNode[a]!==r&&(l.producerNode[a]=r,l.producerIndexOfThis[a]=W(l)?B(r,l,a):0),l.producerLastReadVersion[a]=r.version}function T(r){if((!W(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==f)){if(!r.producerMustRecompute(r)&&!I(r))return r.dirty=!1,void(r.lastCleanEpoch=f);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=f}}function R(r){if(void 0===r.liveConsumerNode)return;const a=e;e=!0;try{for(const c of r.liveConsumerNode)c.dirty||w(c)}finally{e=a}}function u(){return!1!==l?.consumerAllowSignalWrites}function w(r){r.dirty=!0,R(r),r.consumerMarkedDirty?.(r)}function C(r){return r&&(r.nextProducerIndex=0),h(r)}function S(r,a){if(h(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(W(r))for(let c=r.nextProducerIndex;c<r.producerNode.length;c++)U(r.producerNode[c],r.producerIndexOfThis[c]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function I(r){j(r);for(let a=0;a<r.producerNode.length;a++){const c=r.producerNode[a],g=r.producerLastReadVersion[a];if(g!==c.version||(T(c),g!==c.version))return!0}return!1}function L(r){if(j(r),W(r))for(let a=0;a<r.producerNode.length;a++)U(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function B(r,a,c){if(G(r),j(r),0===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)r.producerIndexOfThis[g]=B(r.producerNode[g],r,g);return r.liveConsumerIndexOfThis.push(c),r.liveConsumerNode.push(a)-1}function U(r,a){if(G(r),j(r),1===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)U(r.producerNode[g],r.producerIndexOfThis[g]);const c=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[c],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[c],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const g=r.liveConsumerIndexOfThis[a],P=r.liveConsumerNode[a];j(P),P.producerIndexOfThis[g]=a}}function W(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function j(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function G(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const V=Symbol("UNSET"),X=Symbol("COMPUTING"),J=Symbol("ERRORED"),q={...D,value:V,dirty:!0,error:null,equal:t,producerMustRecompute:r=>r.value===V||r.value===X,producerRecomputeValue(r){if(r.value===X)throw new Error("Detected cycle in computations.");const a=r.value;r.value=X;const c=C(r);let g;try{g=r.computation()}catch(P){g=J,r.error=P}finally{S(r,c)}a!==V&&a!==J&&g!==J&&r.equal(a,g)?r.value=a:(r.value=g,r.version++)}};let Y=function Q(){throw new Error};function z(){Y()}let oe=null;function le(r,a){u()||z(),r.equal(r.value,a)||(r.value=a,function pe(r){r.version++,function M(){f++}(),R(r),oe?.()}(r))}const be={...D,equal:t,value:void 0};const ye=()=>{},De={...D,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:ye};var mt=n(21413),xe=n(18359),ot=n(84412),$e=n(96354),Fe=n(61594);const Ie="https://g.co/ng/security#xss";class We extends Error{constructor(a,c){super(Dt(a,c)),this.code=a}}function Dt(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}function pt(r){return{toString:r}.toString()}const an="__parameters__";function It(r,a,c){return pt(()=>{const g=function Wt(r){return function(...c){if(r){const g=r(...c);for(const P in g)this[P]=g[P]}}}(a);function P(...F){if(this instanceof P)return g.apply(this,F),this;const K=new P(...F);return ne.annotation=K,ne;function ne(ge,we,Ze){const bt=ge.hasOwnProperty(an)?ge[an]:Object.defineProperty(ge,an,{value:[]})[an];for(;bt.length<=Ze;)bt.push(null);return(bt[Ze]=bt[Ze]||[]).push(K),ge}}return c&&(P.prototype=Object.create(c.prototype)),P.prototype.ngMetadataName=r,P.annotationCls=P,P})}const ln=globalThis;function Kt(r){for(let a in r)if(r[a]===Kt)return a;throw Error("Could not find renamed property on target object.")}function Pt(r,a){for(const c in a)a.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(r[c]=a[c])}function Ct(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ct).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Qt(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}function Et(r,a=100){if(!r||a<1||r.length<=a)return r;if(1==a)return r.substring(0,1)+"...";const c=Math.round(a/2);return r.substring(0,c)+"..."+r.substring(r.length-c)}const Lt=Kt({__forward_ref__:Kt});function it(r){return r.__forward_ref__=it,r.toString=function(){return Ct(this())},r}function Ne(r){return ke(r)?r():r}function ke(r){return"function"==typeof r&&r.hasOwnProperty(Lt)&&r.__forward_ref__===it}function xt(r,a,c){r!=a&&function Yt(r,a,c,g){throw new Error(`ASSERTION ERROR: ${r}`+(null==g?"":` [Expected=> ${c} ${g} ${a} <=Actual]`))}(c,r,a,"==")}function gs(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function os(r){return{providers:r.providers||[],imports:r.imports||[]}}function sn(r){return Zn(r,ft)||Zn(r,Ke)}function pn(r){return null!==sn(r)}function Zn(r,a){return r.hasOwnProperty(a)?r[a]:null}function ri(r){return r&&(r.hasOwnProperty(Gt)||r.hasOwnProperty(en))?r[Gt]:null}const ft=Kt({\u0275prov:Kt}),Gt=Kt({\u0275inj:Kt}),Ke=Kt({ngInjectableDef:Kt}),en=Kt({ngInjectorDef:Kt});class at{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=gs({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ls(r){return r&&!!r.\u0275providers}const Ts=Kt({\u0275cmp:Kt}),Mi=Kt({\u0275dir:Kt}),ji=Kt({\u0275pipe:Kt}),Ai=Kt({\u0275mod:Kt}),Fi=Kt({\u0275fac:Kt}),wr=Kt({__NG_ELEMENT_ID__:Kt}),Qi=Kt({__NG_ENV_ID__:Kt});function Is(r){return"string"==typeof r?r:null==r?"":String(r)}function tn(r,a){throw new We(-201,!1)}var $t=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}($t||{});let bn;function Wn(){return bn}function _s(r){const a=bn;return bn=r,a}function oi(r,a,c){const g=sn(r);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:c&$t.Optional?null:void 0!==a?a:void tn()}const pi={},Bi="__NG_DI_FLAG__",lo="ngTempTokenPath",Lr=/\n/gm,co="__source";let kr;function wi(r){const a=kr;return kr=r,a}function Lo(r,a=$t.Default){if(void 0===kr)throw new We(-203,!1);return null===kr?oi(r,void 0,a):kr.get(r,a&$t.Optional?null:void 0,a)}function lr(r,a=$t.Default){return(Wn()||Lo)(Ne(r),a)}function xs(r,a=$t.Default){return lr(r,to(a))}function to(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function xo(r){const a=[];for(let c=0;c<r.length;c++){const g=Ne(r[c]);if(Array.isArray(g)){if(0===g.length)throw new We(900,!1);let P,F=$t.Default;for(let K=0;K<g.length;K++){const ne=g[K],ge=ho(ne);"number"==typeof ge?-1===ge?P=ne.token:F|=ge:P=ne}a.push(lr(P,F))}else a.push(lr(g))}return a}function Tr(r,a){return r[Bi]=a,r.prototype[Bi]=a,r}function ho(r){return r[Bi]}const zr=Tr(It("Inject",r=>({token:r})),-1),yo=Tr(It("Optional"),8),Ea=Tr(It("SkipSelf"),4);function qe(r,a){return r.hasOwnProperty(Fi)?r[Fi]:null}function Bt(r,a){r.forEach(c=>Array.isArray(c)?Bt(c,a):a(c))}function Tn(r,a,c){a>=r.length?r.push(c):r.splice(a,0,c)}function Qn(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function ui(r,a,c){let g=zi(r,a);return g>=0?r[1|g]=c:(g=~g,function di(r,a,c,g){let P=r.length;if(P==a)r.push(c,g);else if(1===P)r.push(g,r[0]),r[0]=c;else{for(P--,r.push(r[P-1],r[P]);P>a;)r[P]=r[P-2],P--;r[a]=c,r[a+1]=g}}(r,g,a,c)),g}function Zs(r,a){const c=zi(r,a);if(c>=0)return r[1|c]}function zi(r,a){return function Er(r,a,c){let g=0,P=r.length>>c;for(;P!==g;){const F=g+(P-g>>1),K=r[F<<c];if(a===K)return F<<c;K>a?P=F:g=F+1}return~(P<<c)}(r,a,1)}const Zi={},$s=[],qi=new at(""),Vr=new at("",-1),cr=new at("");class gr{get(a,c=pi){if(c===pi){const g=new Error(`NullInjectorError: No provider for ${Ct(a)}!`);throw g.name="NullInjectorError",g}return c}}var Xo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Xo||{}),hr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(hr||{}),Gr=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Gr||{});function la(r,a,c){let g=r.length;for(;;){const P=r.indexOf(a,c);if(-1===P)return P;if(0===P||r.charCodeAt(P-1)<=32){const F=a.length;if(P+F===g||r.charCodeAt(P+F)<=32)return P}c=P+1}}function Ve(r,a,c){let g=0;for(;g<c.length;){const P=c[g];if("number"==typeof P){if(0!==P)break;g++;const F=c[g++],K=c[g++],ne=c[g++];r.setAttribute(a,K,ne,F)}else{const F=P,K=c[++g];ie(F)?r.setProperty(a,F,K):r.setAttribute(a,F,K),g++}}return g}function Ye(r){return 3===r||4===r||6===r}function ie(r){return 64===r.charCodeAt(0)}function Ge(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let c=-1;for(let g=0;g<a.length;g++){const P=a[g];"number"==typeof P?c=P:0===c||me(r,c,P,null,-1===c||2===c?a[++g]:null)}}return r}function me(r,a,c,g,P){let F=0,K=r.length;if(-1===a)K=-1;else for(;F<r.length;){const ne=r[F++];if("number"==typeof ne){if(ne===a){K=-1;break}if(ne>a){K=F-1;break}}}for(;F<r.length;){const ne=r[F];if("number"==typeof ne)break;if(ne===c){if(null===g)return void(null!==P&&(r[F+1]=P));if(g===r[F+1])return void(r[F+2]=P)}F++,null!==g&&F++,null!==P&&F++}-1!==K&&(r.splice(K,0,a),F=K+1),r.splice(F++,0,c),null!==g&&r.splice(F++,0,g),null!==P&&r.splice(F++,0,P)}const yt="ng-template";function zt(r,a,c,g){let P=0;if(g){for(;P<a.length&&"string"==typeof a[P];P+=2)if("class"===a[P]&&-1!==la(a[P+1].toLowerCase(),c,0))return!0}else if(En(r))return!1;if(P=a.indexOf(1,P),P>-1){let F;for(;++P<a.length&&"string"==typeof(F=a[P]);)if(F.toLowerCase()===c)return!0}return!1}function En(r){return 4===r.type&&r.value!==yt}function Yn(r,a,c){return a===(4!==r.type||c?r.value:yt)}function cs(r,a,c){let g=4;const P=r.attrs,F=null!==P?function bi(r){for(let a=0;a<r.length;a++)if(Ye(r[a]))return a;return r.length}(P):0;let K=!1;for(let ne=0;ne<a.length;ne++){const ge=a[ne];if("number"!=typeof ge){if(!K)if(4&g){if(g=2|1&g,""!==ge&&!Yn(r,ge,c)||""===ge&&1===a.length){if(ws(g))return!1;K=!0}}else if(8&g){if(null===P||!zt(r,P,ge,c)){if(ws(g))return!1;K=!0}}else{const we=a[++ne],Ze=Yi(ge,P,En(r),c);if(-1===Ze){if(ws(g))return!1;K=!0;continue}if(""!==we){let bt;if(bt=Ze>F?"":P[Ze+1].toLowerCase(),2&g&&we!==bt){if(ws(g))return!1;K=!0}}}}else{if(!K&&!ws(g)&&!ws(ge))return!1;if(K&&ws(ge))continue;K=!1,g=ge|1&g}}return ws(g)||K}function ws(r){return!(1&r)}function Yi(r,a,c,g){if(null===a)return-1;let P=0;if(g||!c){let F=!1;for(;P<a.length;){const K=a[P];if(K===r)return P;if(3===K||6===K)F=!0;else{if(1===K||2===K){let ne=a[++P];for(;"string"==typeof ne;)ne=a[++P];continue}if(4===K)break;if(0===K){P+=4;continue}}P+=F?1:2}return-1}return function Jo(r,a){let c=r.indexOf(4);if(c>-1)for(c++;c<r.length;){const g=r[c];if("number"==typeof g)return-1;if(g===a)return c;c++}return-1}(a,r)}function Vi(r,a,c=!1){for(let g=0;g<a.length;g++)if(cs(r,a[g],c))return!0;return!1}function So(r,a){e:for(let c=0;c<a.length;c++){const g=a[c];if(r.length===g.length){for(let P=0;P<r.length;P++)if(r[P]!==g[P])continue e;return!0}}return!1}function Eo(r,a){return r?":not("+a.trim()+")":a}function Co(r){let a=r[0],c=1,g=2,P="",F=!1;for(;c<r.length;){let K=r[c];if("string"==typeof K)if(2&g){const ne=r[++c];P+="["+K+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&g?P+="."+K:4&g&&(P+=" "+K);else""!==P&&!ws(K)&&(a+=Eo(F,P),P=""),g=K,F=F||!ws(g);c++}return""!==P&&(a+=Eo(F,P)),a}function No(r){return pt(()=>{const a=da(r),c={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Xo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||hr.Emulated,styles:r.styles||$s,_:null,schemas:r.schemas||null,tView:null,id:""};ua(c);const g=r.dependencies;return c.directiveDefs=ha(g,!1),c.pipeDefs=ha(g,!0),c.id=function hl(r){let a=0;const c=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const P of c)a=Math.imul(31,a)+P.charCodeAt(0)|0;return a+=2147483648,"c"+a}(c),c})}function Fa(r){return ni(r)||er(r)}function Qo(r){return null!==r}function Fo(r){return pt(()=>({type:r.type,bootstrap:r.bootstrap||$s,declarations:r.declarations||$s,imports:r.imports||$s,exports:r.exports||$s,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ca(r,a){if(null==r)return Zi;const c={};for(const g in r)if(r.hasOwnProperty(g)){const P=r[g];let F,K,ne=Gr.None;Array.isArray(P)?(ne=P[0],F=P[1],K=P[2]??F):(F=P,K=P),a?(c[F]=ne!==Gr.None?[g,ne]:g,a[F]=K):c[F]=g}return c}function Ba(r){return pt(()=>{const a=da(r);return ua(a),a})}function Ca(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ni(r){return r[Ts]||null}function er(r){return r[Mi]||null}function pr(r){return r[ji]||null}function po(r){const a=ni(r)||er(r)||pr(r);return null!==a&&a.standalone}function ps(r,a){const c=r[Ai]||null;if(!c&&!0===a)throw new Error(`Type ${Ct(r)} does not have '\u0275mod' property.`);return c}function da(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||Zi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||$s,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ca(r.inputs,a),outputs:ca(r.outputs),debugInfo:null}}function ua(r){r.features?.forEach(a=>a(r))}function ha(r,a){if(!r)return null;const c=a?pr:Fa;return()=>("function"==typeof r?r():r).map(g=>c(g)).filter(Qo)}function Bo(r){return{\u0275providers:r}}function Os(...r){return{\u0275providers:Uo(0,r),\u0275fromNgModule:!0}}function Uo(r,...a){const c=[],g=new Set;let P;const F=K=>{c.push(K)};return Bt(a,K=>{const ne=K;fa(ne,F,[],g)&&(P||=[],P.push(ne))}),void 0!==P&&pa(P,F),c}function pa(r,a){for(let c=0;c<r.length;c++){const{ngModule:g,providers:P}=r[c];Nr(P,F=>{a(F,g)})}}function fa(r,a,c,g){if(!(r=Ne(r)))return!1;let P=null,F=ri(r);const K=!F&&ni(r);if(F||K){if(K&&!K.standalone)return!1;P=r}else{const ge=r.ngModule;if(F=ri(ge),!F)return!1;P=ge}const ne=g.has(P);if(K){if(ne)return!1;if(g.add(P),K.dependencies){const ge="function"==typeof K.dependencies?K.dependencies():K.dependencies;for(const we of ge)fa(we,a,c,g)}}else{if(!F)return!1;{if(null!=F.imports&&!ne){let we;g.add(P);try{Bt(F.imports,Ze=>{fa(Ze,a,c,g)&&(we||=[],we.push(Ze))})}finally{}void 0!==we&&pa(we,a)}if(!ne){const we=qe(P)||(()=>new P);a({provide:P,useFactory:we,deps:$s},P),a({provide:cr,useValue:P,multi:!0},P),a({provide:qi,useValue:()=>lr(P),multi:!0},P)}const ge=F.providers;if(null!=ge&&!ne){const we=r;Nr(ge,Ze=>{a(Ze,we)})}}}return P!==r&&void 0!==r.providers}function Nr(r,a){for(let c of r)ls(c)&&(c=c.\u0275providers),Array.isArray(c)?Nr(c,a):a(c)}const Zo=Kt({provide:String,useValue:Kt});function pl(r){return null!==r&&"object"==typeof r&&Zo in r}function jo(r){return"function"==typeof r}const Yr=new at(""),ea={},ta={};let Vt;function on(){return void 0===Vt&&(Vt=new gr),Vt}class Rt{}class Mn extends Rt{get destroyed(){return this._destroyed}constructor(a,c,g,P){super(),this.parent=c,this.source=g,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ln(a,K=>this.processProvider(K)),this.records.set(Vr,yi(void 0,this)),P.has("environment")&&this.records.set(Rt,yi(void 0,this));const F=this.records.get(Yr);null!=F&&"string"==typeof F.value&&this.scopes.add(F.value),this.injectorDefTypes=new Set(this.get(cr,$s,$t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=h(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of c)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),h(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=wi(this),g=_s(void 0);try{return a()}finally{wi(c),_s(g)}}get(a,c=pi,g=$t.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Qi))return a[Qi](this);g=to(g);const F=wi(this),K=_s(void 0);try{if(!(g&$t.SkipSelf)){let ge=this.records.get(a);if(void 0===ge){const we=function Ui(r){return"function"==typeof r||"object"==typeof r&&r instanceof at}(a)&&sn(a);ge=we&&this.injectableDefInScope(we)?yi(Fn(a),ea):null,this.records.set(a,ge)}if(null!=ge)return this.hydrate(a,ge)}return(g&$t.Self?on():this.parent).get(a,c=g&$t.Optional&&c===pi?null:c)}catch(ne){if("NullInjectorError"===ne.name){if((ne[lo]=ne[lo]||[]).unshift(Ct(a)),F)throw ne;return function zo(r,a,c,g){const P=r[lo];throw a[co]&&P.unshift(a[co]),r.message=function vo(r,a,c,g=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let P=Ct(a);if(Array.isArray(a))P=a.map(Ct).join(" -> ");else if("object"==typeof a){let F=[];for(let K in a)if(a.hasOwnProperty(K)){let ne=a[K];F.push(K+":"+("string"==typeof ne?JSON.stringify(ne):Ct(ne)))}P=`{${F.join(", ")}}`}return`${c}${g?"("+g+")":""}[${P}]: ${r.replace(Lr,"\n  ")}`}("\n"+r.message,P,c,g),r.ngTokenPath=P,r[lo]=null,r}(ne,a,"R3InjectorError",this.source)}throw ne}finally{_s(K),wi(F)}}resolveInjectorInitializers(){const a=h(null),c=wi(this),g=_s(void 0);try{const F=this.get(qi,$s,$t.Self);for(const K of F)K()}finally{wi(c),_s(g),h(a)}}toString(){const a=[],c=this.records;for(const g of c.keys())a.push(Ct(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(a){let c=jo(a=Ne(a))?a:Ne(a&&a.provide);const g=function Ns(r){return pl(r)?yi(void 0,r.useValue):yi(zn(r),ea)}(a);if(!jo(a)&&!0===a.multi){let P=this.records.get(c);P||(P=yi(void 0,ea,!0),P.factory=()=>xo(P.multi),this.records.set(c,P)),c=a,P.multi.push(a)}this.records.set(c,g)}hydrate(a,c){const g=h(null);try{return c.value===ea&&(c.value=ta,c.value=c.factory()),"object"==typeof c.value&&c.value&&function tr(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}finally{h(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Ne(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Fn(r){const a=sn(r),c=null!==a?a.factory:qe(r);if(null!==c)return c;if(r instanceof at)throw new We(204,!1);if(r instanceof Function)return function ts(r){if(r.length>0)throw new We(204,!1);const c=function Rs(r){return r&&(r[ft]||r[Ke])||null}(r);return null!==c?()=>c.factory(r):()=>new r}(r);throw new We(204,!1)}function zn(r,a,c){let g;if(jo(r)){const P=Ne(r);return qe(P)||Fn(P)}if(pl(r))g=()=>Ne(r.useValue);else if(function qo(r){return!(!r||!r.useFactory)}(r))g=()=>r.useFactory(...xo(r.deps||[]));else if(function bo(r){return!(!r||!r.useExisting)}(r))g=()=>lr(Ne(r.useExisting));else{const P=Ne(r&&(r.useClass||r.provide));if(!function Li(r){return!!r.deps}(r))return qe(P)||Fn(P);g=()=>new P(...xo(r.deps))}return g}function yi(r,a,c=!1){return{factory:r,value:a,multi:c?[]:void 0}}function Ln(r,a){for(const c of r)Array.isArray(c)?Ln(c,a):c&&ls(c)?Ln(c.\u0275providers,a):a(c)}function nr(r,a){r instanceof Mn&&r.assertNotDestroyed();const g=wi(r),P=_s(void 0);try{return a()}finally{wi(g),_s(P)}}function Or(){return void 0!==Wn()||null!=function uo(){return kr}()}function fe(r){if(!Or())throw new We(-203,!1)}const mi=0,Kn=1,bs=2,Si=3,Cr=4,_r=5,Fr=6,Ir=7,Ri=8,Xi=9,fo=10,Ws=11,ba=12,Da=13,no=14,ur=15,ml=16,gl=17,br=18,Sr=19,nd=20,na=21,Al=22,Xa=23,Xs=25,sc=1,wl=6,mo=7,sa=9,Ji=10;var ic=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(ic||{});function si(r){return Array.isArray(r)&&"object"==typeof r[sc]}function Br(r){return Array.isArray(r)&&!0===r[sc]}function Ta(r){return!!(4&r.flags)}function Po(r){return r.componentOffset>-1}function Ja(r){return!(1&~r.flags)}function Jr(r){return!!r.template}function Ll(r){return!!(512&r[bs])}class rc{constructor(a,c,g){this.previousValue=a,this.currentValue=c,this.firstChange=g}isFirstChange(){return this.firstChange}}function Do(r,a,c,g){null!==a?a.applyValueToInputSignal(a,g):r[c]=g}function Lc(){return xc}function xc(r){return r.type.prototype.ngOnChanges&&(r.setInput=$d),sd}function sd(){const r=Kd(this),a=r?.current;if(a){const c=r.previous;if(c===Zi)r.previous=a;else for(let g in a)c[g]=a[g];r.current=null,this.ngOnChanges(a)}}function $d(r,a,c,g,P){const F=this.declaredInputs[g],K=Kd(r)||function Qu(r,a){return r[Wd]=a}(r,{previous:Zi,current:null}),ne=K.current||(K.current={}),ge=K.previous,we=ge[F];ne[F]=new rc(we&&we.currentValue,c,ge===Zi),Do(r,a,P,c)}Lc.ngInherit=!0;const Wd="__ngSimpleChanges__";function Kd(r){return r[Wd]||null}const Za=function(r,a,c){};let Wp=!1;function Gi(r){for(;Array.isArray(r);)r=r[mi];return r}function $r(r,a){return Gi(a[r])}function To(r,a){return Gi(a[r.index])}function ai(r,a){return r.data[a]}function ia(r,a){return r[a]}function Qr(r,a){const c=a[r];return si(c)?c:c[mi]}function Kp(r){return!(128&~r[bs])}function vr(r,a){return null==a?null:r[a]}function Ls(r){r[gl]=0}function zd(r){1024&r[bs]||(r[bs]|=1024,Kp(r)&&Bs(r))}function Zr(r){return!!(9216&r[bs]||r[Xa]?.dirty)}function oc(r){r[fo].changeDetectionScheduler?.notify(1),Zr(r)?Bs(r):64&r[bs]&&(function js(){return Wp}()?(r[bs]|=1024,Bs(r)):r[fo].changeDetectionScheduler?.notify())}function Bs(r){r[fo].changeDetectionScheduler?.notify();let a=Ia(r);for(;null!==a&&!(8192&a[bs])&&(a[bs]|=8192,Kp(a));)a=Ia(a)}function Nl(r,a){if(!(256&~r[bs]))throw new We(911,!1);null===r[na]&&(r[na]=[]),r[na].push(a)}function Ia(r){const a=r[Si];return Br(a)?a[Si]:a}const ei={lFrame:Pr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qm(){return ei.bindingsEnabled}function rd(){return null!==ei.skipHydrationRootTNode}function Sn(){return ei.lFrame.lView}function Ti(){return ei.lFrame.tView}function zp(r){return ei.lFrame.contextLView=r,r[Ri]}function Yp(r){return ei.lFrame.contextLView=null,r}function sr(){let r=Fc();for(;null!==r&&64===r.type;)r=r.parent;return r}function Fc(){return ei.lFrame.currentTNode}function od(){const r=ei.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}function ir(r,a){const c=ei.lFrame;c.currentTNode=r,c.isParent=a}function ad(){return ei.lFrame.isParent}function ld(){ei.lFrame.isParent=!1}function ko(){const r=ei.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function k(){return ei.lFrame.bindingIndex}function A(){return ei.lFrame.bindingIndex++}function $(r){const a=ei.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,c}function Le(r){ei.lFrame.inI18n=r}function Xt(r,a){const c=ei.lFrame;c.bindingIndex=c.bindingRootIndex=r,Rn(a)}function Rn(r){ei.lFrame.currentDirectiveIndex=r}function qn(){return ei.lFrame.currentQueryIndex}function Ds(r){ei.lFrame.currentQueryIndex=r}function vs(r){const a=r[Kn];return 2===a.type?a.declTNode:1===a.type?r[_r]:null}function Js(r,a,c){if(c&$t.SkipSelf){let P=a,F=r;for(;!(P=P.parent,null!==P||c&$t.Host||(P=vs(F),null===P||(F=F[no],10&P.type))););if(null===P)return!1;a=P,r=F}const g=ei.lFrame=Pi();return g.currentTNode=a,g.lView=r,!0}function rr(r){const a=Pi(),c=r[Kn];ei.lFrame=a,a.currentTNode=c.firstChild,a.lView=r,a.tView=c,a.contextLView=r,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Pi(){const r=ei.lFrame,a=null===r?null:r.child;return null===a?Pr(r):a}function Pr(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function Kr(){const r=ei.lFrame;return ei.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Oo=Kr;function cd(){const r=Kr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function so(){return ei.lFrame.selectedIndex}function lc(r){ei.lFrame.selectedIndex=r}function yr(){const r=ei.lFrame;return ai(r.tView,r.selectedIndex)}function u0(){return ei.lFrame.currentNamespace}let h0=!0;function nh(){return h0}function cc(r){h0=r}function Qp(r,a){for(let c=a.directiveStart,g=a.directiveEnd;c<g;c++){const F=r.data[c].type.prototype,{ngAfterContentInit:K,ngAfterContentChecked:ne,ngAfterViewInit:ge,ngAfterViewChecked:we,ngOnDestroy:Ze}=F;K&&(r.contentHooks??=[]).push(-c,K),ne&&((r.contentHooks??=[]).push(c,ne),(r.contentCheckHooks??=[]).push(c,ne)),ge&&(r.viewHooks??=[]).push(-c,ge),we&&((r.viewHooks??=[]).push(c,we),(r.viewCheckHooks??=[]).push(c,we)),null!=Ze&&(r.destroyHooks??=[]).push(c,Ze)}}function Zp(r,a,c){p0(r,a,3,c)}function tg(r,a,c,g){(3&r[bs])===c&&p0(r,a,c,g)}function ng(r,a){let c=r[bs];(3&c)===a&&(c&=16383,c+=1,r[bs]=c)}function p0(r,a,c,g){const F=g??-1,K=a.length-1;let ne=0;for(let ge=void 0!==g?65535&r[gl]:0;ge<K;ge++)if("number"==typeof a[ge+1]){if(ne=a[ge],null!=g&&ne>=g)break}else a[ge]<0&&(r[gl]+=65536),(ne<F||-1==F)&&(Fs(r,c,a,ge),r[gl]=(4294901760&r[gl])+ge+2),ge++}function f0(r,a){Za(4,r,a);const c=h(null);try{a.call(r)}finally{h(c),Za(5,r,a)}}function Fs(r,a,c,g){const P=c[g]<0,F=c[g+1],ne=r[P?-c[g]:c[g]];P?r[bs]>>14<r[gl]>>16&&(3&r[bs])===a&&(r[bs]+=16384,f0(ne,F)):f0(ne,F)}const Bl=-1;class dc{constructor(a,c,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=g}}function og(r){return r!==Bl}function Bc(r){return 32767&r}function sh(r,a){let c=function kD(r){return r>>16}(r),g=a;for(;c>0;)g=g[no],c--;return g}let Ei=!0;function qp(r){const a=Ei;return Ei=r,a}const _0=255,v0=5;let ih=0;const Ul={};function rh(r,a){const c=ag(r,a);if(-1!==c)return c;const g=a[Kn];g.firstCreatePass&&(r.injectorIndex=a.length,dd(g.data,r),dd(a,null),dd(g.blueprint,null));const P=oh(r,a),F=r.injectorIndex;if(og(P)){const K=Bc(P),ne=sh(P,a),ge=ne[Kn].data;for(let we=0;we<8;we++)a[F+we]=ne[K+we]|ge[K+we]}return a[F+8]=P,F}function dd(r,a){r.push(0,0,0,0,0,0,0,0,a)}function ag(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function oh(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let c=0,g=null,P=a;for(;null!==P;){if(g=D0(P),null===g)return Bl;if(c++,P=P[no],-1!==g.injectorIndex)return g.injectorIndex|c<<16}return Bl}function lg(r,a,c){!function VD(r,a,c){let g;"string"==typeof c?g=c.charCodeAt(0)||0:c.hasOwnProperty(wr)&&(g=c[wr]),null==g&&(g=c[wr]=ih++);const P=g&_0;a.data[r+(P>>v0)]|=1<<P}(r,a,c)}function y0(r,a,c){if(c&$t.Optional||void 0!==r)return r;tn()}function Sa(r,a,c,g){if(c&$t.Optional&&void 0===g&&(g=null),!(c&($t.Self|$t.Host))){const P=r[Xi],F=_s(void 0);try{return P?P.get(a,g,c&$t.Optional):oi(a,g,c&$t.Optional)}finally{_s(F)}}return y0(g,0,c)}function $D(r,a,c,g=$t.Default,P){if(null!==r){if(2048&a[bs]&&!(g&$t.Self)){const K=function cg(r,a,c,g,P){let F=r,K=a;for(;null!==F&&null!==K&&2048&K[bs]&&!(512&K[bs]);){const ne=E0(F,K,c,g|$t.Self,Ul);if(ne!==Ul)return ne;let ge=F.parent;if(!ge){const we=K[nd];if(we){const Ze=we.get(c,Ul,g);if(Ze!==Ul)return Ze}ge=D0(K),K=K[no]}F=ge}return P}(r,a,c,g,Ul);if(K!==Ul)return K}const F=E0(r,a,c,g,Ul);if(F!==Ul)return F}return Sa(a,c,g,P)}function E0(r,a,c,g,P){const F=function WD(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(wr)?r[wr]:void 0;return"number"==typeof a?a>=0?a&_0:KD:a}(c);if("function"==typeof F){if(!Js(a,r,g))return g&$t.Host?y0(P,0,g):Sa(a,c,g,P);try{let K;if(K=F(g),null!=K||g&$t.Optional)return K;tn()}finally{Oo()}}else if("number"==typeof F){let K=null,ne=ag(r,a),ge=Bl,we=g&$t.Host?a[ur][_r]:null;for((-1===ne||g&$t.SkipSelf)&&(ge=-1===ne?oh(r,a):a[ne+8],ge!==Bl&&C0(g,!1)?(K=a[Kn],ne=Bc(ge),a=sh(ge,a)):ne=-1);-1!==ne;){const Ze=a[Kn];if(Jd(F,ne,Ze.data)){const bt=ah(ne,a,c,K,g,we);if(bt!==Ul)return bt}ge=a[ne+8],ge!==Bl&&C0(g,a[Kn].data[ne+8]===we)&&Jd(F,ne,a)?(K=Ze,ne=Bc(ge),a=sh(ge,a)):ne=-1}}return P}function ah(r,a,c,g,P,F){const K=a[Kn],ne=K.data[r+8],Ze=ef(ne,K,c,null==g?Po(ne)&&Ei:g!=K&&!!(3&ne.type),P&$t.Host&&F===ne);return null!==Ze?uc(a,K,Ze,ne):Ul}function ef(r,a,c,g,P){const F=r.providerIndexes,K=a.data,ne=1048575&F,ge=r.directiveStart,Ze=F>>20,Jt=P?ne+Ze:r.directiveEnd;for(let rn=g?ne:ne+Ze;rn<Jt;rn++){const mn=K[rn];if(rn<ge&&c===mn||rn>=ge&&mn.type===c)return rn}if(P){const rn=K[ge];if(rn&&Jr(rn)&&rn.type===c)return ge}return null}function uc(r,a,c,g){let P=r[c];const F=a.data;if(function sg(r){return r instanceof dc}(P)){const K=P;K.resolving&&function Di(r,a){throw a&&a.join(" > "),new We(-200,r)}(function Hs(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Is(r)}(F[c]));const ne=qp(K.canSeeViewProviders);K.resolving=!0;const we=K.injectImpl?_s(K.injectImpl):null;Js(r,g,$t.Default);try{P=r[c]=K.factory(void 0,F,r,g),a.firstCreatePass&&c>=g.directiveStart&&function jD(r,a,c){const{ngOnChanges:g,ngOnInit:P,ngDoCheck:F}=a.type.prototype;if(g){const K=xc(a);(c.preOrderHooks??=[]).push(r,K),(c.preOrderCheckHooks??=[]).push(r,K)}P&&(c.preOrderHooks??=[]).push(0-r,P),F&&((c.preOrderHooks??=[]).push(r,F),(c.preOrderCheckHooks??=[]).push(r,F))}(c,F[c],a)}finally{null!==we&&_s(we),qp(ne),K.resolving=!1,Oo()}}return P}function Jd(r,a,c){return!!(c[a+(r>>v0)]&1<<r)}function C0(r,a){return!(r&$t.Self||r&$t.Host&&a)}class Mo{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,g){return $D(this._tNode,this._lView,a,to(g),c)}}function KD(){return new Mo(sr(),Sn())}function b0(r){return pt(()=>{const a=r.prototype.constructor,c=a[Fi]||qa(a),g=Object.prototype;let P=Object.getPrototypeOf(r.prototype).constructor;for(;P&&P!==g;){const F=P[Fi]||qa(P);if(F&&F!==c)return F;P=Object.getPrototypeOf(P)}return F=>new F})}function qa(r){return ke(r)?()=>{const a=qa(Ne(r));return a&&a()}:qe(r)}function D0(r){const a=r[Kn],c=a.type;return 2===c?a.declTNode:1===c?r[_r]:null}function tf(r){return function GD(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const c=r.attrs;if(c){const g=c.length;let P=0;for(;P<g;){const F=c[P];if(Ye(F))break;if(0===F)P+=2;else if("number"==typeof F)for(P++;P<g&&"string"==typeof c[P];)P++;else{if(F===a)return c[P+1];P+=2}}}return null}(sr(),r)}function hg(r,a=null,c=null,g){const P=pg(r,a,c,g);return P.resolveInjectorInitializers(),P}function pg(r,a=null,c=null,g,P=new Set){const F=[c||$s,Os(r)];return g=g||("object"==typeof r?void 0:Ct(r)),new Mn(F,a||on(),g||null,P)}let ja=(()=>{class r{static{this.THROW_IF_NOT_FOUND=pi}static{this.NULL=new gr}static create(c,g){if(Array.isArray(c))return hg({name:""},g,c,"");{const P=c.name??"";return hg({name:P},c.parent,c.providers,P)}}static{this.\u0275prov=gs({token:r,providedIn:"any",factory:()=>lr(Vr)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function mg(r){return r.ngOriginalError}class ka{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&mg(a);for(;c&&mg(c);)c=mg(c);return c||null}}const S0=new at("",{providedIn:"root",factory:()=>xs(ka).handleError.bind(void 0)});let ud=(()=>{class r{static{this.__NG_ELEMENT_ID__=gg}static{this.__NG_ENV_ID__=c=>c}}return r})();class JD extends ud{constructor(a){super(),this._lView=a}onDestroy(a){return Nl(this._lView,a),()=>function eh(r,a){if(null===r[na])return;const c=r[na].indexOf(a);-1!==c&&r[na].splice(c,1)}(this._lView,a)}}function gg(){return new JD(Sn())}function Ur(){return fc(sr(),Sn())}function fc(r,a){return new jl(To(r,a))}let jl=(()=>{class r{constructor(c){this.nativeElement=c}static{this.__NG_ELEMENT_ID__=Ur}}return r})();function Vo(r){return r instanceof jl?r.nativeElement:r}function mc(r){return a=>{setTimeout(r,void 0,a)}}const gc=class R0 extends mt.B{constructor(a=!1){super(),this.destroyRef=void 0,this.__isAsync=a,Or()&&(this.destroyRef=xs(ud,{optional:!0})??void 0)}emit(a){const c=h(null);try{super.next(a)}finally{h(c)}}subscribe(a,c,g){let P=a,F=c||(()=>null),K=g;if(a&&"object"==typeof a){const ge=a;P=ge.next?.bind(ge),F=ge.error?.bind(ge),K=ge.complete?.bind(ge)}this.__isAsync&&(F=mc(F),P&&(P=mc(P)),K&&(K=mc(K)));const ne=super.subscribe({next:P,error:F,complete:K});return a instanceof xe.yU&&a.add(ne),ne}};function QD(){return this._results[Symbol.iterator]()}class nf{get changes(){return this._changes??=new gc}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const c=nf.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=QD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){this.dirty=!1;const g=function Nt(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function rt(r,a,c){if(r.length!==a.length)return!1;for(let g=0;g<r.length;g++){let P=r[g],F=a[g];if(c&&(P=c(P),F=c(F)),F!==P)return!1}return!0}(this._results,g,c))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const Uc="ngSkipHydration",lR="ngskiphydration";function _g(r){const a=r.mergedAttrs;if(null===a)return!1;for(let c=0;c<a.length;c+=2){const g=a[c];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===lR)return!0}return!1}function A0(r){return r.hasAttribute(Uc)}function sf(r){return!(128&~r.flags)}const _c=new Map;let w0=0;const kl="__ngContext__";function Rr(r,a){si(a)?(r[kl]=a[Sr],function ZD(r){_c.set(r[Sr],r)}(a)):r[kl]=a}function N0(r){return qd(r[ba])}function F0(r){return qd(r[Cr])}function qd(r){for(;null!==r&&!Br(r);)r=r[Cr];return r}let lf;function Ga(r){lf=r}function Wl(){if(void 0!==lf)return lf;if(typeof document<"u")return document;throw new We(210,!1)}const bc=new at("",{providedIn:"root",factory:()=>k0}),k0="ng",V0=new at(""),Dg=new at("",{providedIn:"platform",factory:()=>"unknown"}),iT=new at(""),yl=new at("",{providedIn:"root",factory:()=>Wl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function kc(r){return r}function rT(){const r=new fd;return"browser"===xs(Dg)&&(r.store=function md(r,a){const c=r.getElementById(a+"-state");if(c?.textContent)try{return JSON.parse(c.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(Wl(),xs(bc))),r}let fd=(()=>{class r{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=gs({token:r,providedIn:"root",factory:rT})}get(c,g){return void 0!==this.store[c]?this.store[c]:g}set(c,g){this.store[c]=g}remove(c){delete this.store[c]}hasKey(c){return this.store.hasOwnProperty(c)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(c,g){this.onSerializeCallbacks[c]=g}toJson(){for(const c in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(c))try{this.store[c]=this.onSerializeCallbacks[c]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return r})();const Tg="h",Og="b";var Ra=function(r){return r.FirstChild="f",r.NextSibling="n",r}(Ra||{});const Mg="e",Ig="t",fh="c",cf="x",gd="r",_d="i",Sg="n",mh="d",Kl="__nghData__",eu="ngh",Pg="nghm";let Rg=()=>null;function oT(r,a,c=!1){let g=r.getAttribute(eu);if(null==g)return null;const[P,F]=g.split("|");if(g=c?F:P,!g)return null;const ne=c?P:F?`|${F}`:"";let ge={};if(""!==g){const Ze=a.get(fd,null,{optional:!0});null!==Ze&&(ge=Ze.get(Kl,[])[Number(g)])}const we={data:ge,firstChild:r.firstChild??null};return c&&(we.firstChild=r,Dc(we,0,r.nextSibling)),ne?r.setAttribute(eu,ne):r.removeAttribute(eu),we}function Ag(r,a,c=!1){return Rg(r,a,c)}function W0(r){let a=r._lView;return 2===a[Kn].type?null:(Ll(a)&&(a=a[Xs]),a)}function Dc(r,a,c){r.segmentHeads??={},r.segmentHeads[a]=c}function Wa(r,a){return r.segmentHeads?.[a]??null}function J0(r,a){return r.data[fh]?.[a]??null}function Vc(r,a){const c=J0(r,a)??[];let g=0;for(let P of c)g+=P[gd]*(P[cf]??1);return g}function _h(r,a){if(typeof r.disconnectedNodes>"u"){const c=r.data[mh];r.disconnectedNodes=c?new Set(c):null}return!!r.disconnectedNodes?.has(a)}const vh=new at(""),Z0=new at("",{providedIn:"root",factory:()=>!1}),nu=new at("");let vd,xg;function yd(r){return function Lg(){if(void 0===vd&&(vd=null,ln.trustedTypes))try{vd=ln.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return vd}()?.createHTML(r)||r}function su(){if(void 0===xg&&(xg=null,ln.trustedTypes))try{xg=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return xg}function Ng(r){return su()?.createHTML(r)||r}function Ks(r){return su()?.createScriptURL(r)||r}class Un{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}class iu extends Un{getTypeName(){return"HTML"}}class Hn extends Un{getTypeName(){return"Style"}}class Oi extends Un{getTypeName(){return"Script"}}class Go extends Un{getTypeName(){return"URL"}}class Dr extends Un{getTypeName(){return"ResourceURL"}}function Mr(r){return r instanceof Un?r.changingThisBreaksApplicationSecurity:r}function _i(r,a){const c=function yh(r){return r instanceof Un&&r.getTypeName()||null}(r);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Ie})`)}return c===a}function jr(r){return new iu(r)}function $c(r){return new Hn(r)}function cT(r){return new Oi(r)}function q0(r){return new Go(r)}function dT(r){return new Dr(r)}function ey(r){const a=new hT(r);return function pT(){try{return!!(new window.DOMParser).parseFromString(yd(""),"text/html")}catch{return!1}}()?new uT(a):a}class uT{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(yd(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class hT{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=yd(a),c}}const Eh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hf(r){return(r=String(r)).match(Eh)?r:"unsafe:"+r}function tl(r){const a={};for(const c of r.split(","))a[c]=!0;return a}function Hl(...r){const a={};for(const c of r)for(const g in c)c.hasOwnProperty(g)&&(a[g]=!0);return a}const ty=tl("area,br,col,hr,img,wbr"),Fg=tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ny=tl("rp,rt"),Bg=Hl(ty,Hl(Fg,tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hl(ny,tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hl(ny,Fg)),Ed=tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=Hl(Ed,tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Aa=tl("script,style,template");class zl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,g=!0,P=[];for(;c;)if(c.nodeType===Node.ELEMENT_NODE?g=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,g&&c.firstChild)P.push(c),c=Dd(c);else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let F=bd(c);if(F){c=F;break}c=P.pop()}return this.buf.join("")}startElement(a){const c=sy(a).toLowerCase();if(!Bg.hasOwnProperty(c))return this.sanitizedSomething=!0,!Aa.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const g=a.attributes;for(let P=0;P<g.length;P++){const F=g.item(P),K=F.name,ne=K.toLowerCase();if(!Wc.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let ge=F.value;Ed[ne]&&(ge=hf(ge)),this.buf.push(" ",K,'="',ry(ge),'"')}return this.buf.push(">"),!0}endElement(a){const c=sy(a).toLowerCase();Bg.hasOwnProperty(c)&&!ty.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(ry(a))}}function bd(r){const a=r.nextSibling;if(a&&r!==a.previousSibling)throw iy(a);return a}function Dd(r){const a=r.firstChild;if(a&&function Cd(r,a){return(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,a))throw iy(a);return a}function sy(r){const a=r.nodeName;return"string"==typeof a?a:"FORM"}function iy(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const fT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mT=/([^\#-~ |!])/g;function ry(r){return r.replace(/&/g,"&amp;").replace(fT,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(mT,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pf;function oy(r,a){let c=null;try{pf=pf||ey(r);let g=a?String(a):"";c=pf.getInertBodyElement(g);let P=5,F=g;do{if(0===P)throw new Error("Failed to sanitize html because the input is unstable");P--,g=F,F=c.innerHTML,c=pf.getInertBodyElement(g)}while(g!==F);return yd((new zl).sanitizeChildren(jg(c)||c))}finally{if(c){const g=jg(c)||c;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function jg(r){return"content"in r&&function gT(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Td=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Td||{});function ay(r){const a=Ch();return a?Ng(a.sanitize(Td.HTML,r)||""):_i(r,"HTML")?Ng(Mr(r)):oy(Wl(),Is(r))}function Vg(r){const a=Ch();return a?a.sanitize(Td.URL,r)||"":_i(r,"URL")?Mr(r):hf(Is(r))}function Gg(r){const a=Ch();if(a)return Ks(a.sanitize(Td.RESOURCE_URL,r)||"");if(_i(r,"ResourceURL"))return Ks(Mr(r));throw new We(904,!1)}function ly(r,a,c){return function Ro(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?Gg:Vg}(a,c)(r)}function Ch(){const r=Sn();return r&&r[fo].sanitizer}const yT=/^>|^->|<!--|-->|--!>|<!-$/g,ET=/(<|>)/g,bh="\u200b$1\u200b";function uy(r){return r.ownerDocument.defaultView}function Kg(r){return r.ownerDocument}function Ka(r){return r instanceof Function?r():r}function El(r){return"browser"===(r??xs(ja)).get(Dg)}var vf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(vf||{});let Th;function zg(r,a){return Th(r,a)}function lu(r,a,c,g,P){if(null!=g){let F,K=!1;Br(g)?F=g:si(g)&&(K=!0,g=g[mi]);const ne=Gi(g);0===r&&null!==c?null==P?wa(a,c,ne):uu(a,c,ne,P||null,!0):1===r&&null!==c?uu(a,c,ne,P||null,!0):2===r?hu(a,ne,K):3===r&&a.destroyNode(ne),null!=F&&function UT(r,a,c,g,P){const F=c[mo];F!==Gi(c)&&lu(a,r,g,F,P);for(let ne=Ji;ne<c.length;ne++){const ge=c[ne];Mf(ge[Kn],ge,r,a,g,F)}}(a,r,F,c,P)}}function Yg(r,a){return r.createText(a)}function yf(r,a,c){r.setValue(a,c)}function cu(r,a){return r.createComment(function cy(r){return r.replace(yT,a=>a.replace(ET,bh))}(a))}function Ef(r,a,c){return r.createElement(a,c)}function my(r,a){a[fo].changeDetectionScheduler?.notify(1),Mf(r,a,a[Ws],2,null,null)}function gy(r,a){const c=r[sa],g=c.indexOf(a);c.splice(g,1)}function Oh(r,a){if(r.length<=Ji)return;const c=Ji+a,g=r[c];if(g){const P=g[ml];null!==P&&P!==r&&gy(P,g),a>0&&(r[c-1][Cr]=g[Cr]);const F=Qn(r,Ji+a);!function AT(r,a){my(r,a),a[mi]=null,a[_r]=null}(g[Kn],g);const K=F[br];null!==K&&K.detachView(F[Kn]),g[Si]=null,g[Cr]=null,g[bs]&=-129}return g}function Od(r,a){if(!(256&a[bs])){const c=a[Ws];c.destroyNode&&Mf(r,a,c,3,null,null),function Cf(r){let a=r[ba];if(!a)return Xg(r[Kn],r);for(;a;){let c=null;if(si(a))c=a[ba];else{const g=a[Ji];g&&(c=g)}if(!c){for(;a&&!a[Cr]&&a!==r;)si(a)&&Xg(a[Kn],a),a=a[Si];null===a&&(a=r),si(a)&&Xg(a[Kn],a),c=a&&a[Cr]}a=c}}(a)}}function Xg(r,a){if(256&a[bs])return;const c=h(null);try{a[bs]&=-129,a[bs]|=256,a[Xa]&&L(a[Xa]),function xT(r,a){let c;if(null!=r&&null!=(c=r.destroyHooks))for(let g=0;g<c.length;g+=2){const P=a[c[g]];if(!(P instanceof dc)){const F=c[g+1];if(Array.isArray(F))for(let K=0;K<F.length;K+=2){const ne=P[F[K]],ge=F[K+1];Za(4,ne,ge);try{ge.call(ne)}finally{Za(5,ne,ge)}}else{Za(4,P,F);try{F.call(P)}finally{Za(5,P,F)}}}}}(r,a),function Df(r,a){const c=r.cleanup,g=a[Ir];if(null!==c)for(let F=0;F<c.length-1;F+=2)if("string"==typeof c[F]){const K=c[F+3];K>=0?g[K]():g[-K].unsubscribe(),F+=2}else c[F].call(g[c[F+1]]);null!==g&&(a[Ir]=null);const P=a[na];if(null!==P){a[na]=null;for(let F=0;F<P.length;F++)(0,P[F])()}}(r,a),1===a[Kn].type&&a[Ws].destroy();const g=a[ml];if(null!==g&&Br(a[Si])){g!==a[Si]&&gy(g,a);const P=a[br];null!==P&&P.detachView(r)}!function cR(r){_c.delete(r[Sr])}(a)}finally{h(c)}}function du(r,a,c){return Tc(r,a.parent,c)}function Tc(r,a,c){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return c[mi];{const{componentOffset:P}=g;if(P>-1){const{encapsulation:F}=r.data[g.directiveStart+P];if(F===hr.None||F===hr.Emulated)return null}return To(g,c)}}function uu(r,a,c,g,P){r.insertBefore(a,c,g,P)}function wa(r,a,c){r.appendChild(a,c)}function Wr(r,a,c,g,P){null!==g?uu(r,a,c,g,P):wa(r,a,c)}function Mh(r,a){return r.parentNode(a)}function vy(r,a,c){return Ey(r,a,c)}function yy(r,a,c){return 40&r.type?To(r,c):null}let Jg,Ey=yy;function Cy(r,a){Ey=r,Jg=a}function Tf(r,a,c,g){const P=du(r,g,a),F=a[Ws],ne=vy(g.parent||a[_r],g,a);if(null!=P)if(Array.isArray(c))for(let ge=0;ge<c.length;ge++)Wr(F,P,c[ge],ne,!1);else Wr(F,P,c,ne,!1);void 0!==Jg&&Jg(F,g,a,c,P)}function Ih(r,a){if(null!==a){const c=a.type;if(3&c)return To(a,r);if(4&c)return Of(-1,r[a.index]);if(8&c){const g=a.child;if(null!==g)return Ih(r,g);{const P=r[a.index];return Br(P)?Of(-1,P):Gi(P)}}if(32&c)return zg(a,r)()||Gi(r[a.index]);{const g=nl(r,a);return null!==g?Array.isArray(g)?g[0]:Ih(Ia(r[ur]),g):Ih(r,a.next)}}return null}function nl(r,a){return null!==a?r[ur][_r].projection[a.projection]:null}function Of(r,a){const c=Ji+r+1;if(c<a.length){const g=a[c],P=g[Kn].firstChild;if(null!==P)return Ih(g,P)}return a[mo]}function hu(r,a,c){const g=Mh(r,a);g&&function _y(r,a,c,g){r.removeChild(a,c,g)}(r,g,a,c)}function by(r){r.textContent=""}function Qg(r,a,c,g,P,F,K){for(;null!=c;){const ne=g[c.index],ge=c.type;if(K&&0===a&&(ne&&Rr(Gi(ne),g),c.flags|=2),32&~c.flags)if(8&ge)Qg(r,a,c.child,g,P,F,!1),lu(a,r,P,ne,F);else if(32&ge){const we=zg(c,g);let Ze;for(;Ze=we();)lu(a,r,P,Ze,F);lu(a,r,P,ne,F)}else 16&ge?Dy(r,a,g,c,P,F):lu(a,r,P,ne,F);c=K?c.projectionNext:c.next}}function Mf(r,a,c,g,P,F){Qg(c,g,r.firstChild,a,P,F,!1)}function Dy(r,a,c,g,P,F){const K=c[ur],ge=K[_r].projection[g.projection];if(Array.isArray(ge))for(let we=0;we<ge.length;we++)lu(a,r,P,ge[we],F);else{let we=ge;const Ze=K[Si];sf(g)&&(we.flags|=128),Qg(r,a,we,Ze,P,F,!0)}}function Ty(r,a,c){""===c?r.removeAttribute(a,"class"):r.setAttribute(a,"class",c)}function Oy(r,a,c){const{mergedAttrs:g,classes:P,styles:F}=c;null!==g&&Ve(r,a,g),null!==P&&Ty(r,a,P),null!==F&&function Sh(r,a,c){r.setAttribute(a,"style",c)}(r,a,F)}const hi={};function Zg(r=1){qg(Ti(),Sn(),so()+r,!1)}function qg(r,a,c,g){if(!g)if(3&~a[bs]){const F=r.preOrderHooks;null!==F&&tg(a,F,0,c)}else{const F=r.preOrderCheckHooks;null!==F&&Zp(a,F,c)}lc(c)}function pu(r,a=$t.Default){const c=Sn();return null===c?lr(r,a):$D(sr(),c,Ne(r),a)}function My(){throw new Error("invalid")}function Iy(r,a,c,g,P,F){const K=h(null);try{let ne=null;P&Gr.SignalBased&&(ne=a[g][m]),null!==ne&&void 0!==ne.transformFn&&(F=ne.transformFn(F)),P&Gr.HasDecoratorInputTransform&&(F=r.inputTransforms[g].call(a,F)),null!==r.setInput?r.setInput(a,ne,F,c,g):Do(a,ne,g,F)}finally{h(K)}}function If(r,a,c,g,P,F,K,ne,ge,we,Ze){const bt=a.blueprint.slice();return bt[mi]=P,bt[bs]=204|g,(null!==we||r&&2048&r[bs])&&(bt[bs]|=2048),Ls(bt),bt[Si]=bt[no]=r,bt[Ri]=c,bt[fo]=K||r&&r[fo],bt[Ws]=ne||r&&r[Ws],bt[Xi]=ge||r&&r[Xi]||null,bt[_r]=F,bt[Sr]=function Zd(){return w0++}(),bt[Fr]=Ze,bt[nd]=we,bt[ur]=2==a.type?r[ur]:bt,bt}function fu(r,a,c,g,P){let F=r.data[a];if(null===F)F=Md(r,a,c,g,P),function Ce(){return ei.lFrame.inI18n}()&&(F.flags|=32);else if(64&F.type){F.type=c,F.value=g,F.attrs=P;const K=od();F.injectorIndex=null===K?-1:K.injectorIndex}return ir(F,!0),F}function Md(r,a,c,g,P){const F=Fc(),K=ad(),ge=r.data[a]=function Rf(r,a,c,g,P,F){let K=a?a.injectorIndex:-1,ne=0;return rd()&&(ne|=128),{type:c,index:g,insertBeforeIndex:null,injectorIndex:K,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ne,providerIndexes:0,value:P,attrs:F,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,K?F:F&&F.parent,c,a,g,P);return null===r.firstChild&&(r.firstChild=ge),null!==F&&(K?null==F.child&&null!==ge.parent&&(F.child=ge):null===F.next&&(F.next=ge,ge.prev=F)),ge}function Ph(r,a,c,g){if(0===c)return-1;const P=a.length;for(let F=0;F<c;F++)a.push(g),r.blueprint.push(g),r.data.push(null);return P}function Sy(r,a,c,g,P){const F=so(),K=2&g;try{lc(-1),K&&a.length>Xs&&qg(r,a,Xs,!1),Za(K?2:0,P),c(g,P)}finally{lc(F),Za(K?3:1,P)}}function mu(r,a,c){if(Ta(a)){const g=h(null);try{const F=a.directiveEnd;for(let K=a.directiveStart;K<F;K++){const ne=r.data[K];ne.contentQueries&&ne.contentQueries(1,c[K],K)}}finally{h(g)}}}function Sf(r,a,c){Qm()&&(function Ah(r,a,c,g){const P=c.directiveStart,F=c.directiveEnd;Po(c)&&function eO(r,a,c){const g=To(a,r),P=Py(c);let K=16;c.signals?K=4096:c.onPush&&(K=64);const ne=Lf(r,If(r,P,null,K,g,a,null,r[fo].rendererFactory.createRenderer(g,c),null,null,null));r[a.index]=ne}(a,c,r.data[P+c.componentOffset]),r.firstCreatePass||rh(c,a),Rr(g,a);const K=c.initialInputs;for(let ne=P;ne<F;ne++){const ge=r.data[ne],we=uc(a,r,ne,c);Rr(we,a),null!==K&&tO(0,ne-P,we,ge,0,K),Jr(ge)&&(Qr(c.index,a)[Ri]=uc(a,r,ne,c))}}(r,a,c,To(c,a)),!(64&~c.flags)&&Ly(r,a,c))}function Pf(r,a,c=To){const g=a.localNames;if(null!==g){let P=a.index+1;for(let F=0;F<g.length;F+=2){const K=g[F+1],ne=-1===K?c(a,r):r[K];r[P++]=ne}}}function Py(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=e_(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function e_(r,a,c,g,P,F,K,ne,ge,we,Ze){const bt=Xs+g,Jt=bt+P,rn=function VT(r,a){const c=[];for(let g=0;g<a;g++)c.push(g<r?null:hi);return c}(bt,Jt),mn="function"==typeof we?we():we;return rn[Kn]={type:r,blueprint:rn,template:c,queries:null,viewQuery:ne,declTNode:a,data:rn.slice().fill(null,bt),bindingStartIndex:bt,expandoStartIndex:Jt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof F?F():F,pipeRegistry:"function"==typeof K?K():K,firstChild:null,schemas:ge,consts:mn,incompleteFirstPass:!1,ssrId:Ze}}let Ry=()=>null;function Rh(r){A0(r)?by(r):function H0(r){const a=Wl(),c=a.createNodeIterator(r,NodeFilter.SHOW_COMMENT,{acceptNode(F){const K=function K0(r){return r.textContent?.replace(/\s/gm,"")}(F);return"ngetn"===K||"ngtns"===K?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const P=[];for(;g=c.nextNode();)P.push(g);for(const F of P)"ngetn"===F.textContent?F.replaceWith(a.createTextNode("")):F.remove()}(r)}function Oc(r,a,c,g,P){for(let F in a){if(!a.hasOwnProperty(F))continue;const K=a[F];if(void 0===K)continue;g??={};let ne,ge=Gr.None;Array.isArray(K)?(ne=K[0],ge=K[1]):ne=K;let we=F;if(null!==P){if(!P.hasOwnProperty(F))continue;we=P[F]}0===r?t_(g,c,we,ne,ge):t_(g,c,we,ne)}return g}function t_(r,a,c,g,P){let F;r.hasOwnProperty(c)?(F=r[c]).push(a,g):F=r[c]=[a,g],void 0!==P&&F.push(P)}function La(r,a,c,g,P,F,K,ne){const ge=To(a,c);let Ze,we=a.inputs;!ne&&null!=we&&(Ze=we[g])?(_u(r,c,Ze,g,P),Po(a)&&function zT(r,a){const c=Qr(a,r);16&c[bs]||(c[bs]|=64)}(c,a.index)):3&a.type&&(g=function HT(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(g),P=null!=K?K(P,a.value||"",g):P,F.setProperty(ge,g,P))}function n_(r,a,c,g){if(Qm()){const P=null===g?null:{"":-1},F=function Af(r,a){const c=r.directiveRegistry;let g=null,P=null;if(c)for(let F=0;F<c.length;F++){const K=c[F];if(Vi(a,K.selectors,!1))if(g||(g=[]),Jr(K))if(null!==K.findHostDirectiveDefs){const ne=[];P=P||new Map,K.findHostDirectiveDefs(K,ne,P),g.unshift(...ne,K),wf(r,a,ne.length)}else g.unshift(K),wf(r,a,0);else P=P||new Map,K.findHostDirectiveDefs?.(K,g,P),g.push(K)}return null===g?null:[g,P]}(r,c);let K,ne;null===F?K=ne=null:[K,ne]=F,null!==K&&wy(r,a,c,K,P,ne),P&&function xy(r,a,c){if(a){const g=r.localNames=[];for(let P=0;P<a.length;P+=2){const F=c[a[P+1]];if(null==F)throw new We(-301,!1);g.push(a[P],F)}}}(c,g,P)}c.mergedAttrs=Ge(c.mergedAttrs,c.attrs)}function wy(r,a,c,g,P,F){for(let we=0;we<g.length;we++)lg(rh(c,a),r,g[we].type);!function ZT(r,a,c){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+c,r.providerIndexes=a}(c,r.data.length,g.length);for(let we=0;we<g.length;we++){const Ze=g[we];Ze.providersResolver&&Ze.providersResolver(Ze)}let K=!1,ne=!1,ge=Ph(r,a,g.length,null);for(let we=0;we<g.length;we++){const Ze=g[we];c.mergedAttrs=Ge(c.mergedAttrs,Ze.hostAttrs),qT(r,c,a,ge,Ze),Ny(ge,Ze,P),null!==Ze.contentQueries&&(c.flags|=4),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(c.flags|=64);const bt=Ze.type.prototype;!K&&(bt.ngOnChanges||bt.ngOnInit||bt.ngDoCheck)&&((r.preOrderHooks??=[]).push(c.index),K=!0),!ne&&(bt.ngOnChanges||bt.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(c.index),ne=!0),ge++}!function Ay(r,a,c){const P=a.directiveEnd,F=r.data,K=a.attrs,ne=[];let ge=null,we=null;for(let Ze=a.directiveStart;Ze<P;Ze++){const bt=F[Ze],Jt=c?c.get(bt):null,mn=Jt?Jt.outputs:null;ge=Oc(0,bt.inputs,Ze,ge,Jt?Jt.inputs:null),we=Oc(1,bt.outputs,Ze,we,mn);const An=null===ge||null===K||En(a)?null:nO(ge,Ze,K);ne.push(An)}null!==ge&&(ge.hasOwnProperty("class")&&(a.flags|=8),ge.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=ne,a.inputs=ge,a.outputs=we}(r,c,F)}function Ly(r,a,c){const g=c.directiveStart,P=c.directiveEnd,F=c.index,K=function yn(){return ei.lFrame.currentDirectiveIndex}();try{lc(F);for(let ne=g;ne<P;ne++){const ge=r.data[ne],we=a[ne];Rn(ne),(null!==ge.hostBindings||0!==ge.hostVars||null!==ge.hostAttrs)&&QT(ge,we)}}finally{lc(-1),Rn(K)}}function QT(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function wf(r,a,c){a.componentOffset=c,(r.components??=[]).push(a.index)}function Ny(r,a,c){if(c){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)c[a.exportAs[g]]=r;Jr(a)&&(c[""]=r)}}function qT(r,a,c,g,P){r.data[g]=P;const F=P.factory||(P.factory=qe(P.type)),K=new dc(F,Jr(P),pu);r.blueprint[g]=K,c[g]=K,function XT(r,a,c,g,P){const F=P.hostBindings;if(F){let K=r.hostBindingOpCodes;null===K&&(K=r.hostBindingOpCodes=[]);const ne=~a.index;(function JT(r){let a=r.length;for(;a>0;){const c=r[--a];if("number"==typeof c&&c<0)return c}return 0})(K)!=ne&&K.push(ne),K.push(c,g,F)}}(r,a,g,Ph(r,c,P.hostVars,hi),P)}function s_(r,a,c,g,P,F,K){if(null==F)r.removeAttribute(a,P,c);else{const ne=null==K?Is(F):K(F,g||"",P);r.setAttribute(a,P,ne,c)}}function tO(r,a,c,g,P,F){const K=F[a];if(null!==K)for(let ne=0;ne<K.length;)Iy(g,c,K[ne++],K[ne++],K[ne++],K[ne++])}function nO(r,a,c){let g=null,P=0;for(;P<c.length;){const F=c[P];if(0!==F)if(5!==F){if("number"==typeof F)break;if(r.hasOwnProperty(F)){null===g&&(g=[]);const K=r[F];for(let ne=0;ne<K.length;ne+=3)if(K[ne]===a){g.push(F,K[ne+1],K[ne+2],c[P+1]);break}}P+=2}else P+=2;else P+=4}return g}function Fy(r,a,c,g){return[r,!0,0,a,null,g,null,c,null,null]}function By(r,a){const c=r.contentQueries;if(null!==c){const g=h(null);try{for(let P=0;P<c.length;P+=2){const K=c[P+1];if(-1!==K){const ne=r.data[K];Ds(c[P]),ne.contentQueries(2,a[K],K)}}}finally{h(g)}}}function Lf(r,a){return r[ba]?r[Da][Cr]=a:r[ba]=a,r[Da]=a,a}function i_(r,a,c){Ds(0);const g=h(null);try{a(r,c)}finally{h(g)}}function Uy(r){return r[Ir]||(r[Ir]=[])}function gu(r){return r.cleanup||(r.cleanup=[])}function xf(r,a){const c=r[Xi],g=c?c.get(ka,null):null;g&&g.handleError(a)}function _u(r,a,c,g,P){for(let F=0;F<c.length;){const K=c[F++],ne=c[F++],ge=c[F++];Iy(r.data[K],a[K],g,ne,ge,P)}}function Xl(r,a,c){const g=$r(a,r);yf(r[Ws],g,c)}function ky(r,a){const c=Qr(a,r),g=c[Kn];!function Vy(r,a){for(let c=a.length;c<r.blueprint.length;c++)a.push(r.blueprint[c])}(g,c);const P=c[mi];null!==P&&null===c[Fr]&&(c[Fr]=Ag(P,c[Xi])),r_(g,c,c[Ri])}function r_(r,a,c){rr(a);try{const g=r.viewQuery;null!==g&&i_(1,g,c);const P=r.template;null!==P&&Sy(r,a,P,1,c),r.firstCreatePass&&(r.firstCreatePass=!1),a[br]?.finishViewCreation(r),r.staticContentQueries&&By(r,a),r.staticViewQueries&&i_(2,r.viewQuery,c);const F=r.components;null!==F&&function sO(r,a){for(let c=0;c<a.length;c++)ky(r,a[c])}(a,F)}catch(g){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),g}finally{a[bs]&=-5,cd()}}function wh(r,a,c,g){const P=h(null);try{const F=a.tView,ge=If(r,F,c,4096&r[bs]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);ge[ml]=r[a.index];const Ze=r[br];return null!==Ze&&(ge[br]=Ze.createEmbeddedView(F)),r_(F,ge,c),ge}finally{h(P)}}function Gy(r,a){const c=Ji+a;if(c<r.length)return r[c]}function vu(r,a){return!a||null===a.firstChild||sf(r)}function Lh(r,a,c,g=!0){const P=a[Kn];if(function bf(r,a,c,g){const P=Ji+g,F=c.length;g>0&&(c[P-1][Cr]=a),g<F-Ji?(a[Cr]=c[P],Tn(c,Ji+g,a)):(c.push(a),a[Cr]=null),a[Si]=c;const K=a[ml];null!==K&&c!==K&&function LT(r,a){const c=r[sa];a[ur]!==a[Si][Si][ur]&&(r[bs]|=ic.HasTransplantedViews),null===c?r[sa]=[a]:c.push(a)}(K,a);const ne=a[br];null!==ne&&ne.insertView(r),oc(a),a[bs]|=128}(P,a,r,c),g){const K=Of(c,r),ne=a[Ws],ge=Mh(ne,r[mo]);null!==ge&&function wT(r,a,c,g,P,F){g[mi]=P,g[_r]=a,Mf(r,g,c,1,P,F)}(P,r[_r],ne,a,ge,K)}const F=a[Fr];null!==F&&null!==F.firstChild&&(F.firstChild=null)}function o_(r,a){const c=Oh(r,a);return void 0!==c&&Od(c[Kn],c),c}function xh(r,a,c,g,P=!1){for(;null!==c;){const F=a[c.index];null!==F&&g.push(Gi(F)),Br(F)&&$y(F,g);const K=c.type;if(8&K)xh(r,a,c.child,g);else if(32&K){const ne=zg(c,a);let ge;for(;ge=ne();)g.push(ge)}else if(16&K){const ne=nl(a,c);if(Array.isArray(ne))g.push(...ne);else{const ge=Ia(a[ur]);xh(ge[Kn],ge,ne,g,!0)}}c=P?c.projectionNext:c.next}return g}function $y(r,a){for(let c=Ji;c<r.length;c++){const g=r[c],P=g[Kn].firstChild;null!==P&&xh(g[Kn],g,P,a)}r[mo]!==r[mi]&&a.push(r[mo])}let Wy=[];const oO={...D,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Bs(r.lView)},consumerOnSignalRead(){this.lView[Xa]=this}},Ky=100;function Id(r,a=!0,c=0){const g=r[fo],P=g.rendererFactory;P.begin?.();try{!function aO(r,a){a_(r,a);let c=0;for(;Zr(r);){if(c===Ky)throw new We(103,!1);c++,a_(r,1)}}(r,c)}catch(K){throw a&&xf(r,K),K}finally{P.end?.(),g.inlineEffectRunner?.flush()}}function lO(r,a,c,g){const P=a[bs];if(!(256&~P))return;a[fo].inlineEffectRunner?.flush(),rr(a);let K=null,ne=null;(function Nf(r){return 2!==r.type})(r)&&(ne=function iO(r){return r[Xa]??function rO(r){const a=Wy.pop()??Object.create(oO);return a.lView=r,a}(r)}(a),K=C(ne));try{Ls(a),function ue(r){return ei.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==c&&Sy(r,a,c,2,g);const ge=!(3&~P);if(ge){const bt=r.preOrderCheckHooks;null!==bt&&Zp(a,bt,null)}else{const bt=r.preOrderHooks;null!==bt&&tg(a,bt,0,null),ng(a,0)}if(function Ff(r){for(let a=N0(r);null!==a;a=F0(a)){if(!(a[bs]&ic.HasTransplantedViews))continue;const c=a[sa];for(let g=0;g<c.length;g++){zd(c[g])}}}(a),Hy(a,0),null!==r.contentQueries&&By(r,a),ge){const bt=r.contentCheckHooks;null!==bt&&Zp(a,bt)}else{const bt=r.contentHooks;null!==bt&&tg(a,bt,1),ng(a,1)}!function kT(r,a){const c=r.hostBindingOpCodes;if(null!==c)try{for(let g=0;g<c.length;g++){const P=c[g];if(P<0)lc(~P);else{const F=P,K=c[++g],ne=c[++g];Xt(K,F),ne(2,a[F])}}}finally{lc(-1)}}(r,a);const we=r.components;null!==we&&xa(a,we,0);const Ze=r.viewQuery;if(null!==Ze&&i_(2,Ze,g),ge){const bt=r.viewCheckHooks;null!==bt&&Zp(a,bt)}else{const bt=r.viewHooks;null!==bt&&tg(a,bt,2),ng(a,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[Al]){for(const bt of a[Al])bt();a[Al]=null}a[bs]&=-73}catch(ge){throw Bs(a),ge}finally{null!==ne&&(S(ne,K),function Nh(r){r.lView[Xa]!==r&&(r.lView=null,Wy.push(r))}(ne)),cd()}}function Hy(r,a){for(let c=N0(r);null!==c;c=F0(c))for(let g=Ji;g<c.length;g++)Fh(c[g],a)}function cO(r,a,c){Fh(Qr(a,r),c)}function Fh(r,a){Kp(r)&&a_(r,a)}function a_(r,a){const g=r[Kn],P=r[bs],F=r[Xa];let K=!!(0===a&&16&P);if(K||=!!(64&P&&0===a),K||=!!(1024&P),K||=!(!F?.dirty||!I(F)),F&&(F.dirty=!1),r[bs]&=-9217,K)lO(g,r,g.template,r[Ri]);else if(8192&P){Hy(r,1);const ne=g.components;null!==ne&&xa(r,ne,1)}}function xa(r,a,c){for(let g=0;g<a.length;g++)cO(r,a[g],c)}function Bh(r){for(r[fo].changeDetectionScheduler?.notify();r;){r[bs]|=64;const a=Ia(r);if(Ll(r)&&!a)return r;r=a}return null}class Sd{get rootNodes(){const a=this._lView,c=a[Kn];return xh(c,a,c.firstChild,[])}constructor(a,c,g=!0){this._lView=a,this._cdRefInjectingView=c,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ri]}set context(a){this._lView[Ri]=a}get destroyed(){return!(256&~this._lView[bs])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Si];if(Br(a)){const c=a[8],g=c?c.indexOf(this):-1;g>-1&&(Oh(a,g),Qn(c,g))}this._attachedToViewContainer=!1}Od(this._lView[Kn],this._lView)}onDestroy(a){Nl(this._lView,a)}markForCheck(){Bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[bs]&=-129}reattach(){oc(this._lView),this._lView[bs]|=128}detectChanges(){this._lView[bs]|=1024,Id(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,my(this._lView[Kn],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=a,oc(this._lView)}}let Uh=(()=>{class r{static{this.__NG_ELEMENT_ID__=hO}}return r})();const dO=Uh,uO=class extends dO{constructor(a,c,g){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,g){const P=wh(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:c,dehydratedView:g});return new Sd(P)}};function hO(){return Bf(sr(),Sn())}function Bf(r,a){return 4&r.type?new uO(a,r,fc(r,a)):null}function Yy(r){const a=r[wl]??[],g=r[Si][Ws];for(const P of a)CO(P,g);r[wl]=$s}function CO(r,a){let c=0,g=r.firstChild;if(g){const P=r.data[gd];for(;c<P;){const F=g.nextSibling;hu(a,g,!1),g=F,c++}}}function Xy(r){Yy(r);for(let a=Ji;a<r.length;a++)Uf(r[a])}function Uf(r){!function bO(r){const a=r[Fr]?.i18nNodes;if(a){const c=r[Ws];for(const g of a.values())hu(c,g,!1);r[Fr].i18nNodes=void 0}}(r);const a=r[Kn];for(let c=Xs;c<a.bindingStartIndex;c++)Br(r[c])?Xy(r[c]):si(r[c])&&Uf(r[c])}const TO=new RegExp(`^(\\d+)*(${Og}|${Tg})*(.*)`);function Pd(r){return r.index-Xs}function Gh(r,a,c,g){const P=Pd(g);let F=function MO(r,a){const c=r.i18nNodes;if(c){const g=c.get(a);return g&&c.delete(a),g}return null}(r,P);if(!F){const K=r.data[Sg];if(K?.[P])F=function SO(r,a){const[c,...g]=function jf(r){const a=r.match(TO),[c,g,P,F]=a,K=g?parseInt(g,10):P,ne=[];for(const[ge,we,Ze]of F.matchAll(/(f|n)(\d*)/g)){const bt=parseInt(Ze,10)||1;ne.push(we,bt)}return[K,...ne]}(r);let P;return P=c===Tg?a[ur][mi]:c===Og?function Hg(r){return r.ownerDocument.body}(a[ur][mi]):Gi(a[Number(c)+Xs]),function IO(r,a){let c=r;for(let g=0;g<a.length;g+=2){const P=a[g],F=a[g+1];for(let K=0;K<F;K++)switch(P){case Ra.FirstChild:c=c.firstChild;break;case Ra.NextSibling:c=c.nextSibling}}return c}(P,g)}(K[P],c);else if(a.firstChild===g)F=r.firstChild;else{const ne=null===g.prev,ge=g.prev??g.parent;if(function Jy(r){return!r.prev&&8===r.parent?.type}(g))F=Wa(r,Pd(g.parent));else{let we=To(ge,c);if(ne)F=we.firstChild;else{const Ze=Pd(ge),bt=Wa(r,Ze);F=2===ge.type&&bt?kf(Vc(r,Ze)+1,bt):we.nextSibling}}}}return F}function kf(r,a){let c=a;for(let g=0;g<r;g++)c=c.nextSibling;return c}let Ic=()=>null;function RO(r,a){const c=r[wl];return a&&null!==c&&0!==c.length?c[0].data[_d]===a?c.shift():(Yy(r),null):null}function Eu(r,a){return Ic(r,a)}class Vf{}class Zy{}class qy{}class LO{resolveComponentFactory(a){throw function wO(r){const a=Error(`No component factory found for ${Ct(r)}.`);return a.ngComponent=r,a}(a)}}let Wh=(()=>{class r{static{this.NULL=new LO}}return r})();class eE{}let xO=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function NO(){const r=Sn(),c=Qr(sr().index,r);return(si(c)?c:r)[Ws]}()}}return r})(),FO=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>null})}}return r})();const u_={};function BO(r,a){if(null!==function _(){return l}())throw new We(-602,!1)}const Kh=new Set;function bl(r){Kh.has(r)||(Kh.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function tE(...r){}class go{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!g&&c,P.shouldCoalesceRunChangeDetection=g,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function UO(){const r="function"==typeof ln.requestAnimationFrame;let a=ln[r?"requestAnimationFrame":"setTimeout"],c=ln[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g);const P=c[Zone.__symbol__("OriginalDelegate")];P&&(c=P)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function jO(r){const a=()=>{!function nE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ln,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,h_(r),r.isCheckStableRunning=!0,$f(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),h_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,g,P,F,K,ne)=>{if(function kO(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(ne))return c.invokeTask(P,F,K,ne);try{return sE(r),c.invokeTask(P,F,K,ne)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===F.type||r.shouldCoalesceRunChangeDetection)&&a(),iE(r)}},onInvoke:(c,g,P,F,K,ne,ge)=>{try{return sE(r),c.invoke(P,F,K,ne,ge)}finally{r.shouldCoalesceRunChangeDetection&&a(),iE(r)}},onHasTask:(c,g,P,F)=>{c.hasTask(P,F),g===P&&("microTask"==F.change?(r._hasPendingMicrotasks=F.microTask,h_(r),$f(r)):"macroTask"==F.change&&(r.hasPendingMacrotasks=F.macroTask))},onHandleError:(c,g,P,F)=>(c.handleError(P,F),r.runOutsideAngular(()=>r.onError.emit(F)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new We(909,!1)}run(a,c,g){return this._inner.run(a,c,g)}runTask(a,c,g,P){const F=this._inner,K=F.scheduleEventTask("NgZoneEvent: "+P,a,Gf,tE,tE);try{return F.runTask(K,c,g)}finally{F.cancelTask(K)}}runGuarded(a,c,g){return this._inner.runGuarded(a,c,g)}runOutsideAngular(a){return this._outer.run(a)}}const Gf={};function $f(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function h_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function sE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function iE(r){r._nesting--,$f(r)}var Dl=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Dl||{});const oE={destroy(){}};function f_(r,a){!a&&fe();const c=a?.injector??xs(ja);if(!El(c))return oE;bl("NgAfterNextRender");const g=c.get(Hh),P=g.handler??=new aE,F=a?.phase??Dl.MixedReadWrite,K=()=>{P.unregister(ge),ne()},ne=c.get(ud).onDestroy(K),ge=nr(c,()=>new m_(F,()=>{K(),r()}));return P.register(ge),{destroy:K}}class m_{constructor(a,c){this.phase=a,this.callbackFn=c,this.zone=xs(go),this.errorHandler=xs(ka,{optional:!0}),xs(Vf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class aE{constructor(){this.executingCallbacks=!1,this.buckets={[Dl.EarlyRead]:new Set,[Dl.Write]:new Set,[Dl.MixedReadWrite]:new Set,[Dl.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const c of a)c.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);this.deferredCallbacks.clear()}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let Hh=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of c)g()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>new r})}}return r})();function Jc(r){return!!ps(r)}function Hf(r,a,c){let g=c?r.styles:null,P=c?r.classes:null,F=0;if(null!==a)for(let K=0;K<a.length;K++){const ne=a[K];"number"==typeof ne?F=ne:1==F?P=Qt(P,ne):2==F&&(g=Qt(g,ne+": "+a[++K]+";"))}c?r.styles=g:r.stylesWithoutHost=g,c?r.classes=P:r.classesWithoutHost=P}class cE extends Wh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=ni(a);return new Xh(c,this.ngModule)}}function dE(r){const a=[];for(const c in r){if(!r.hasOwnProperty(c))continue;const g=r[c];void 0!==g&&a.push({propName:Array.isArray(g)?g[0]:g,templateName:c})}return a}class zf{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,g){g=to(g);const P=this.injector.get(a,u_,g);return P!==u_||c===u_?P:this.parentInjector.get(a,c,g)}}class Xh extends qy{get inputs(){const a=this.componentDef,c=a.inputTransforms,g=dE(a.inputs);if(null!==c)for(const P of g)c.hasOwnProperty(P.propName)&&(P.transform=c[P.propName]);return g}get outputs(){return dE(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ul(r){return r.map(Co).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,g,P){const F=h(null);try{let K=(P=P||this.ngModule)instanceof Rt?P:P?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const ne=K?new zf(a,K):a,ge=ne.get(eE,null);if(null===ge)throw new We(407,!1);const we=ne.get(FO,null),Jt={rendererFactory:ge,sanitizer:we,inlineEffectRunner:null,afterRenderEventManager:ne.get(Hh,null),changeDetectionScheduler:ne.get(Vf,null)},rn=ge.createRenderer(null,this.componentDef),mn=this.componentDef.selectors[0][0]||"div",An=g?function GT(r,a,c,g){const F=g.get(Z0,!1)||c===hr.ShadowDom,K=r.selectRootElement(a,F);return function $T(r){Ry(r)}(K),K}(rn,g,this.componentDef.encapsulation,ne):Ef(rn,mn,function Yh(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(mn));let Jn=512;this.componentDef.signals?Jn|=4096:this.componentDef.onPush||(Jn|=16);let hs=null;null!==An&&(hs=Ag(An,ne,!0));const jn=e_(0,null,null,1,0,null,null,null,null,null,null),ii=If(null,jn,null,Jn,null,null,Jt,rn,ne,null,hs);let or,Ar;rr(ii);try{const Ho=this.componentDef;let dl,Ym=null;Ho.findHostDirectiveDefs?(dl=[],Ym=new Map,Ho.findHostDirectiveDefs(Ho,dl,Ym),dl.push(Ho)):dl=[Ho];const f2=function WO(r,a){const c=r[Kn],g=Xs;return r[g]=a,fu(c,g,2,"#host",null)}(ii,An),mw=function uE(r,a,c,g,P,F,K){const ne=P[Kn];!function KO(r,a,c,g){for(const P of r)a.mergedAttrs=Ge(a.mergedAttrs,P.hostAttrs);null!==a.mergedAttrs&&(Hf(a,a.mergedAttrs,!0),null!==c&&Oy(g,c,a))}(g,r,a,K);let ge=null;null!==a&&(ge=Ag(a,P[Xi]));const we=F.rendererFactory.createRenderer(a,c);let Ze=16;c.signals?Ze=4096:c.onPush&&(Ze=64);const bt=If(P,Py(c),null,Ze,P[r.index],r,F,we,null,null,ge);return ne.firstCreatePass&&wf(ne,r,g.length-1),Lf(P,bt),P[r.index]=bt}(f2,An,Ho,dl,ii,Jt,rn);Ar=ai(jn,Xs),An&&function zO(r,a,c,g){if(g)Ve(r,c,["ng-version","17.3.12"]);else{const{attrs:P,classes:F}=function nc(r){const a=[],c=[];let g=1,P=2;for(;g<r.length;){let F=r[g];if("string"==typeof F)2===P?""!==F&&a.push(F,r[++g]):8===P&&c.push(F);else{if(!ws(P))break;P=F}g++}return{attrs:a,classes:c}}(a.selectors[0]);P&&Ve(r,c,P),F&&F.length>0&&Ty(r,c,F.join(" "))}}(rn,Ho,An,g),void 0!==c&&function YO(r,a,c){const g=r.projection=[];for(let P=0;P<a.length;P++){const F=c[P];g.push(null!=F?Array.from(F):null)}}(Ar,this.ngContentSelectors,c),or=function HO(r,a,c,g,P,F){const K=sr(),ne=P[Kn],ge=To(K,P);wy(ne,P,K,c,null,g);for(let Ze=0;Ze<c.length;Ze++)Rr(uc(P,ne,K.directiveStart+Ze,K),P);Ly(ne,P,K),ge&&Rr(ge,P);const we=uc(P,ne,K.directiveStart+K.componentOffset,K);if(r[Ri]=P[Ri]=we,null!==F)for(const Ze of F)Ze(we,a);return mu(ne,K,P),we}(mw,Ho,dl,Ym,ii,[XO]),r_(jn,ii,null)}finally{cd()}return new Yf(this.componentType,or,fc(Ar,ii),ii,Ar)}finally{h(F)}}}class Yf extends Zy{constructor(a,c,g,P,F){super(),this.location=g,this._rootLView=P,this._tNode=F,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Sd(P,void 0,!1),this.componentType=a}setInput(a,c){const g=this._tNode.inputs;let P;if(null!==g&&(P=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const F=this._rootLView;_u(F[Kn],F,P,a,c),this.previousInputValues.set(a,c),Bh(Qr(this._tNode.index,F))}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function XO(){const r=sr();Qp(Sn()[Kn],r)}let Xf=(()=>{class r{static{this.__NG_ELEMENT_ID__=JO}}return r})();function JO(){return v_(sr(),Sn())}const Jh=Xf,hE=class extends Jh{constructor(a,c,g){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=g}get element(){return fc(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const a=oh(this._hostTNode,this._hostLView);if(og(a)){const c=sh(a,this._hostLView),g=Bc(a);return new Mo(c[Kn].data[g+8],c)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=pE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(a,c,g){let P,F;"number"==typeof g?P=g:null!=g&&(P=g.index,F=g.injector);const K=Eu(this._lContainer,a.ssrId),ne=a.createEmbeddedViewImpl(c||{},F,K);return this.insertImpl(ne,P,vu(this._hostTNode,K)),ne}createComponent(a,c,g,P,F){const K=a&&!function ns(r){return"function"==typeof r}(a);let ne;if(K)ne=c;else{const mn=c||{};ne=mn.index,g=mn.injector,P=mn.projectableNodes,F=mn.environmentInjector||mn.ngModuleRef}const ge=K?a:new Xh(ni(a)),we=g||this.parentInjector;if(!F&&null==ge.ngModule){const An=(K?we:this.parentInjector).get(Rt,null);An&&(F=An)}const Ze=ni(ge.componentType??{}),bt=Eu(this._lContainer,Ze?.id??null),rn=ge.create(we,P,bt?.firstChild??null,F);return this.insertImpl(rn.hostView,ne,vu(this._hostTNode,bt)),rn}insert(a,c){return this.insertImpl(a,c,!0)}insertImpl(a,c,g){const P=a._lView;if(function Ma(r){return Br(r[Si])}(P)){const ne=this.indexOf(a);if(-1!==ne)this.detach(ne);else{const ge=P[Si],we=new hE(ge,ge[_r],ge[Si]);we.detach(we.indexOf(a))}}const F=this._adjustIndex(c),K=this._lContainer;return Lh(K,P,F,g),a.attachToViewContainerRef(),Tn(bu(K),F,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=pE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),g=Oh(this._lContainer,c);g&&(Qn(bu(this._lContainer),c),Od(g[Kn],g))}detach(a){const c=this._adjustIndex(a,-1),g=Oh(this._lContainer,c);return g&&null!=Qn(bu(this._lContainer),c)?new Sd(g):null}_adjustIndex(a,c=0){return a??this.length+c}};function pE(r){return r[8]}function bu(r){return r[8]||(r[8]=[])}function v_(r,a){let c;const g=a[r.index];return Br(g)?c=g:(c=Fy(g,a,null,r),a[r.index]=c,Lf(a,c)),mE(c,a,r,g),new hE(c,r,a)}let mE=_E,y_=()=>!1;function _E(r,a,c,g){if(r[mo])return;let P;P=8&c.type?Gi(g):function fE(r,a){const c=r[Ws],g=c.createComment(""),P=To(a,r);return uu(c,Mh(c,P),g,function FT(r,a){return r.nextSibling(a)}(c,P),!1),g}(a,c),r[mo]=P}function QO(r,a,c){if(r[mo]&&r[wl])return!0;const g=c[Fr],P=a.index-Xs;if(!g||function hh(r){if(sf(r))return!0;let a=r.parent;for(;a;){if(sf(r)||_g(a))return!0;a=a.parent}return!1}(a)||_h(g,P))return!1;const K=Wa(g,P),ne=g.data[fh]?.[P],[ge,we]=function Xc(r,a){const c=[];for(const g of a)for(let P=0;P<(g[cf]??1);P++){const F={data:g,firstChild:null};g[gd]>0&&(F.firstChild=r,r=kf(g[gd],r)),c.push(F)}return[r,c]}(K,ne);return r[mo]=ge,r[wl]=we,!0}function ZO(r,a,c,g){y_(r,c,a)||_E(r,a,c,g)}class E_{constructor(a){this.queryList=a,this.matches=null}clone(){return new E_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rd{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const g=null!==a.contentQueries?a.contentQueries[0]:c.length,P=[];for(let F=0;F<g;F++){const K=c.getByIndex(F);P.push(this.queries[K.indexInDeclarationView].clone())}return new Rd(P)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==T_(a,c).matches&&this.queries[c].setDirty()}}class vE{constructor(a,c,g=null){this.flags=c,this.read=g,this.predicate="string"==typeof a?function Jf(r){return r.split(",").map(a=>a.trim())}(a):a}}class C_{constructor(a=[]){this.queries=a}elementStart(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let g=0;g<this.length;g++){const P=null!==c?c.length:0,F=this.getByIndex(g).embeddedTView(a,P);F&&(F.indexInDeclarationView=g,null!==c?c.push(F):c=[F])}return null!==c?new C_(c):null}template(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Du{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Du(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const c=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==c;)g=g.parent;return c===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const g=this.metadata.predicate;if(Array.isArray(g))for(let P=0;P<g.length;P++){const F=g[P];this.matchTNodeWithReadOption(a,c,yE(c,F)),this.matchTNodeWithReadOption(a,c,ef(c,a,F,!1,!1))}else g===Uh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ef(c,a,g,!1,!1))}matchTNodeWithReadOption(a,c,g){if(null!==g){const P=this.metadata.read;if(null!==P)if(P===jl||P===Xf||P===Uh&&4&c.type)this.addMatch(c.index,-2);else{const F=ef(c,a,P,!1,!1);null!==F&&this.addMatch(c.index,F)}else this.addMatch(c.index,g)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function yE(r,a){const c=r.localNames;if(null!==c)for(let g=0;g<c.length;g+=2)if(c[g]===a)return c[g+1];return null}function tM(r,a,c,g){return-1===c?function eM(r,a){return 11&r.type?fc(r,a):4&r.type?Bf(r,a):null}(a,r):-2===c?function nM(r,a,c){return c===jl?fc(a,r):c===Uh?Bf(a,r):c===Xf?v_(a,r):void 0}(r,a,g):uc(r,r[Kn],c,a)}function EE(r,a,c,g){const P=a[br].queries[g];if(null===P.matches){const F=r.data,K=c.matches,ne=[];for(let ge=0;null!==K&&ge<K.length;ge+=2){const we=K[ge];ne.push(we<0?null:tM(a,F[we],K[ge+1],c.metadata.read))}P.matches=ne}return P.matches}function b_(r,a,c,g){const P=r.queries.getByIndex(c),F=P.matches;if(null!==F){const K=EE(r,a,P,c);for(let ne=0;ne<F.length;ne+=2){const ge=F[ne];if(ge>0)g.push(K[ne/2]);else{const we=F[ne+1],Ze=a[-ge];for(let bt=Ji;bt<Ze.length;bt++){const Jt=Ze[bt];Jt[ml]===Jt[Si]&&b_(Jt[Kn],Jt,we,g)}if(null!==Ze[sa]){const bt=Ze[sa];for(let Jt=0;Jt<bt.length;Jt++){const rn=bt[Jt];b_(rn[Kn],rn,we,g)}}}}}return g}function Tu(r,a,c){const g=new nf(!(4&~c));return function KT(r,a,c,g){const P=Uy(a);P.push(c),r.firstCreatePass&&gu(r).push(g,P.length-1)}(r,a,g,g.destroy),(a[br]??=new Rd).queries.push(new E_(g))-1}function DE(r,a,c){null===r.queries&&(r.queries=new C_),r.queries.track(new Du(a,c))}function T_(r,a){return r.queries.getByIndex(a)}function Qh(r,a){const c=r[Kn],g=T_(c,a);return g.crossesNgTemplate?b_(c,r,a,[]):EE(c,r,g,a)}function O_(r){return"function"==typeof r&&void 0!==r[m]}function TE(r,a){bl("NgSignals");const c=function se(r){const a=Object.create(be);a.value=r;const c=()=>(O(a),a.value);return c[m]=a,c}(r),g=c[m];return a?.equal&&(g.equal=a.equal),c.set=P=>le(g,P),c.update=P=>function Ee(r,a){u()||z(),le(r,a(r.value))}(g,P),c.asReadonly=OE.bind(c),c}function OE(){const r=this[m];if(void 0===r.readonlyFn){const a=()=>this();a[m]=r,r.readonlyFn=a}return r.readonlyFn}function ME(r){return O_(r)&&"function"==typeof r.set}function tm(r){let a=function BE(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),c=!0;const g=[r];for(;a;){let P;if(Jr(r))P=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new We(903,!1);P=a.\u0275dir}if(P){if(c){g.push(P);const K=r;K.inputs=nm(r.inputs),K.inputTransforms=nm(r.inputTransforms),K.declaredInputs=nm(r.declaredInputs),K.outputs=nm(r.outputs);const ne=P.hostBindings;ne&&pM(r,ne);const ge=P.viewQuery,we=P.contentQueries;if(ge&&uM(r,ge),we&&hM(r,we),cM(r,P),Pt(r.outputs,P.outputs),Jr(P)&&P.data.animation){const Ze=r.data;Ze.animation=(Ze.animation||[]).concat(P.data.animation)}}const F=P.features;if(F)for(let K=0;K<F.length;K++){const ne=F[K];ne&&ne.ngInherit&&ne(r),ne===tm&&(c=!1)}}a=Object.getPrototypeOf(a)}!function dM(r){let a=0,c=null;for(let g=r.length-1;g>=0;g--){const P=r[g];P.hostVars=a+=P.hostVars,P.hostAttrs=Ge(P.hostAttrs,c=Ge(c,P.hostAttrs))}}(g)}function cM(r,a){for(const c in a.inputs){if(!a.inputs.hasOwnProperty(c)||r.inputs.hasOwnProperty(c))continue;const g=a.inputs[c];if(void 0!==g&&(r.inputs[c]=g,r.declaredInputs[c]=a.declaredInputs[c],null!==a.inputTransforms)){const P=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(P))continue;r.inputTransforms??={},r.inputTransforms[P]=a.inputTransforms[P]}}}function nm(r){return r===Zi?{}:r===$s?[]:r}function uM(r,a){const c=r.viewQuery;r.viewQuery=c?(g,P)=>{a(g,P),c(g,P)}:a}function hM(r,a){const c=r.contentQueries;r.contentQueries=c?(g,P,F)=>{a(g,P,F),c(g,P,F)}:a}function pM(r,a){const c=r.hostBindings;r.hostBindings=c?(g,P)=>{a(g,P),c(g,P)}:a}function GE(r){const a=r.inputConfig,c={};for(const g in a)if(a.hasOwnProperty(g)){const P=a[g];Array.isArray(P)&&P[3]&&(c[g]=P[3])}r.inputTransforms=c}class Ad{}class $E{}function vM(r,a){return new Mu(r,a??null,[])}class Mu extends Ad{constructor(a,c,g){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cE(this);const P=ps(a);this._bootstrapComponents=Ka(P.bootstrap),this._r3Injector=pg(a,c,[{provide:Ad,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver},...g],Ct(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class qh extends $E{constructor(a){super(),this.moduleType=a}create(a){return new Mu(this.moduleType,a,[])}}class WE extends Ad{constructor(a){super(),this.componentFactoryResolver=new cE(this),this.instance=null;const c=new Mn([...a.providers,{provide:Ad,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver}],a.parent||on(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function x_(r,a,c=null){return new WE({providers:r,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let Iu=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function F_(r){return!!tp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function tp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function il(r,a,c){return r[a]=c}function np(r,a){return r[a]}function io(r,a,c){return!Object.is(r[a],c)&&(r[a]=c,!0)}function wd(r,a,c,g){const P=io(r,a,c);return io(r,a+1,g)||P}function Su(r,a,c,g,P){const F=wd(r,a,c,g);return io(r,a+2,P)||F}function rl(r,a,c,g,P,F){const K=wd(r,a,c,g);return wd(r,a+2,P,F)||K}function ip(r){return!(32&~r.flags)}function Pu(r,a,c,g,P,F,K,ne){const ge=Sn(),we=Ti(),Ze=r+Xs,bt=we.firstCreatePass?function bM(r,a,c,g,P,F,K,ne,ge){const we=a.consts,Ze=fu(a,r,4,K||null,vr(we,ne));n_(a,c,Ze,vr(we,ge)),Qp(a,Ze);const bt=Ze.tView=e_(2,Ze,g,P,F,a.directiveRegistry,a.pipeRegistry,null,a.schemas,we,null);return null!==a.queries&&(a.queries.template(a,Ze),bt.queries=a.queries.embeddedTView(Ze)),Ze}(Ze,we,ge,a,c,g,P,F,K):we.data[Ze];ir(bt,!1);const Jt=zE(we,ge,bt,r);nh()&&Tf(we,ge,Jt,bt),Rr(Jt,ge);const rn=Fy(Jt,ge,Jt,bt);return ge[Ze]=rn,Lf(ge,rn),function gE(r,a,c){return y_(r,a,c)}(rn,bt,ge),Ja(bt)&&Sf(we,ge,bt),null!=K&&Pf(ge,bt,ne),Pu}let zE=YE;function YE(r,a,c,g){return cc(!0),a[Ws].createComment("")}function DM(r,a,c,g){const P=a[Fr],F=!P||rd()||ip(c)||_h(P,g);if(cc(F),F)return YE(0,a);const K=P.data[Ig]?.[g]??null;null!==K&&null!==c.tView&&null===c.tView.ssrId&&(c.tView.ssrId=K);const ne=Gh(P,r,a,c);return Dc(P,g,ne),kf(Vc(P,g),ne)}function Q_(r,a,c,g){const P=Sn();return io(P,A(),a)&&(Ti(),function Yl(r,a,c,g,P,F){const K=To(r,a);s_(a[Ws],K,F,r.value,c,g,P)}(yr(),P,r,a,c,g)),Q_}function ju(r,a,c,g){return io(r,A(),c)?a+Is(c)+g:hi}function ku(r,a,c,g,P,F){const ne=wd(r,k(),c,P);return $(2),ne?a+Is(c)+g+Is(P)+F:hi}function um(r,a){return r<<17|a<<2}function Qc(r){return r>>17&32767}function pm(r){return 2|r}function xd(r){return(131068&r)>>2}function ev(r,a){return-131069&r|a<<2}function tv(r){return 1|r}function mp(r,a,c,g){const P=r[c+1],F=null===a;let K=g?Qc(P):xd(P),ne=!1;for(;0!==K&&(!1===ne||F);){const we=r[K+1];sv(r[K],a)&&(ne=!0,r[K+1]=g?tv(we):pm(we)),K=g?Qc(we):xd(we)}ne&&(r[c+1]=g?pm(P):tv(P))}function sv(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&zi(r,a)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iv(r){return r.substring(_o.key,_o.keyEnd)}function p1(r,a){const c=_o.textEnd;return c===a?-1:(a=_o.keyEnd=function aI(r,a,c){for(;a<c&&r.charCodeAt(a)>32;)a++;return a}(r,_o.key=a,c),Ku(r,a,c))}function Ku(r,a,c){for(;a<c&&r.charCodeAt(a)<=32;)a++;return a}function av(r,a,c){const g=Sn();return io(g,A(),a)&&La(Ti(),yr(),g,r,a,g[Ws],c,!1),av}function lv(r,a,c,g,P){const K=P?"class":"style";_u(r,c,a.inputs[K],K,g)}function cv(r,a,c){return Ml(r,a,c,!1),cv}function gp(r,a){return Ml(r,a,null,!0),gp}function _1(r){Ql(pI,Ya,r,!0)}function Ya(r,a){for(let c=function oI(r){return function f1(r){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=r.length}(r),p1(r,Ku(r,0,_o.textEnd))}(a);c>=0;c=p1(a,c))ui(r,iv(a),!0)}function Ml(r,a,c,g){const P=Sn(),F=Ti(),K=$(2);F.firstUpdatePass&&y1(F,r,K,g),a!==hi&&io(P,K,a)&&E1(F,F.data[so()],P,P[Ws],r,P[K+1]=function mI(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=Ct(Mr(r)))),r}(a,c),g,K)}function Ql(r,a,c,g){const P=Ti(),F=$(2);P.firstUpdatePass&&y1(P,null,F,g);const K=Sn();if(c!==hi&&io(K,F,c)){const ne=P.data[so()];if(C1(ne,g)&&!v1(P,F)){let ge=g?ne.classesWithoutHost:ne.stylesWithoutHost;null!==ge&&(c=Qt(ge,c||"")),lv(P,ne,K,c,g)}else!function fI(r,a,c,g,P,F,K,ne){P===hi&&(P=$s);let ge=0,we=0,Ze=0<P.length?P[0]:null,bt=0<F.length?F[0]:null;for(;null!==Ze||null!==bt;){const Jt=ge<P.length?P[ge+1]:void 0,rn=we<F.length?F[we+1]:void 0;let An,mn=null;Ze===bt?(ge+=2,we+=2,Jt!==rn&&(mn=bt,An=rn)):null===bt||null!==Ze&&Ze<bt?(ge+=2,mn=Ze):(we+=2,mn=bt,An=rn),null!==mn&&E1(r,a,c,g,mn,An,K,ne),Ze=ge<P.length?P[ge]:null,bt=we<F.length?F[we]:null}}(P,ne,K,K[Ws],K[F+1],K[F+1]=function hI(r,a,c){if(null==c||""===c)return $s;const g=[],P=Mr(c);if(Array.isArray(P))for(let F=0;F<P.length;F++)r(g,P[F],!0);else if("object"==typeof P)for(const F in P)P.hasOwnProperty(F)&&r(g,F,P[F]);else"string"==typeof P&&a(g,P);return g}(r,a,c),g,F)}}function v1(r,a){return a>=r.expandoStartIndex}function y1(r,a,c,g){const P=r.data;if(null===P[c+1]){const F=P[so()],K=v1(r,c);C1(F,g)&&null===a&&!K&&(a=!1),a=function Nd(r,a,c,g){const P=function Gn(r){const a=ei.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let F=g?a.residualClasses:a.residualStyles;if(null===P)0===(g?a.classBindings:a.styleBindings)&&(c=_p(c=dv(null,r,a,c,g),a.attrs,g),F=null);else{const K=a.directiveStylingLast;if(-1===K||r[K]!==P)if(c=dv(P,r,a,c,g),null===F){let ge=function dI(r,a,c){const g=c?a.classBindings:a.styleBindings;if(0!==xd(g))return r[Qc(g)]}(r,a,g);void 0!==ge&&Array.isArray(ge)&&(ge=dv(null,r,a,ge[1],g),ge=_p(ge,a.attrs,g),function uI(r,a,c,g){r[Qc(c?a.classBindings:a.styleBindings)]=g}(r,a,g,ge))}else F=function mm(r,a,c){let g;const P=a.directiveEnd;for(let F=1+a.directiveStylingLast;F<P;F++)g=_p(g,r[F].hostAttrs,c);return _p(g,a.attrs,c)}(r,a,g)}return void 0!==F&&(g?a.residualClasses=F:a.residualStyles=F),c}(P,F,a,g),function sI(r,a,c,g,P,F){let K=F?a.classBindings:a.styleBindings,ne=Qc(K),ge=xd(K);r[g]=c;let Ze,we=!1;if(Array.isArray(c)?(Ze=c[1],(null===Ze||zi(c,Ze)>0)&&(we=!0)):Ze=c,P)if(0!==ge){const Jt=Qc(r[ne+1]);r[g+1]=um(Jt,ne),0!==Jt&&(r[Jt+1]=ev(r[Jt+1],g)),r[ne+1]=function hm(r,a){return 131071&r|a<<17}(r[ne+1],g)}else r[g+1]=um(ne,0),0!==ne&&(r[ne+1]=ev(r[ne+1],g)),ne=g;else r[g+1]=um(ge,0),0===ne?ne=g:r[ge+1]=ev(r[ge+1],g),ge=g;we&&(r[g+1]=pm(r[g+1])),mp(r,Ze,g,!0),mp(r,Ze,g,!1),function iI(r,a,c,g,P){const F=P?r.residualClasses:r.residualStyles;null!=F&&"string"==typeof a&&zi(F,a)>=0&&(c[g+1]=tv(c[g+1]))}(a,Ze,r,g,F),K=um(ne,ge),F?a.classBindings=K:a.styleBindings=K}(P,F,a,c,K,g)}}function dv(r,a,c,g,P){let F=null;const K=c.directiveEnd;let ne=c.directiveStylingLast;for(-1===ne?ne=c.directiveStart:ne++;ne<K&&(F=a[ne],g=_p(g,F.hostAttrs,P),F!==r);)ne++;return null!==r&&(c.directiveStylingLast=ne),g}function _p(r,a,c){const g=c?1:2;let P=-1;if(null!==a)for(let F=0;F<a.length;F++){const K=a[F];"number"==typeof K?P=K:P===g&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ui(r,K,!!c||a[++F]))}return void 0===r?null:r}function pI(r,a,c){const g=String(a);""!==g&&!g.includes(" ")&&ui(r,g,c)}function E1(r,a,c,g,P,F,K,ne){if(!(3&a.type))return;const ge=r.data,we=ge[ne+1],Ze=function tI(r){return!(1&~r)}(we)?yp(ge,a,c,P,xd(we),K):void 0;Fd(Ze)||(Fd(F)||function eI(r){return!(2&~r)}(we)&&(F=yp(ge,null,c,P,ne,K)),function jT(r,a,c,g,P){if(a)P?r.addClass(c,g):r.removeClass(c,g);else{let F=-1===g.indexOf("-")?void 0:vf.DashCase;null==P?r.removeStyle(c,g,F):("string"==typeof P&&P.endsWith("!important")&&(P=P.slice(0,-10),F|=vf.Important),r.setStyle(c,g,P,F))}}(g,K,$r(so(),c),P,F))}function yp(r,a,c,g,P,F){const K=null===a;let ne;for(;P>0;){const ge=r[P],we=Array.isArray(ge),Ze=we?ge[1]:ge,bt=null===Ze;let Jt=c[P+1];Jt===hi&&(Jt=bt?$s:void 0);let rn=bt?Zs(Jt,g):Ze===g?Jt:void 0;if(we&&!Fd(rn)&&(rn=Zs(ge,g)),Fd(rn)&&(ne=rn,K))return ne;const mn=r[P+1];P=K?Qc(mn):xd(mn)}if(null!==a){let ge=F?a.residualClasses:a.residualStyles;null!=ge&&(ne=Zs(ge,g))}return ne}function Fd(r){return void 0!==r}function C1(r,a){return!!(r.flags&(a?8:16))}function b1(r,a,c){Ql(ui,Ya,ju(Sn(),r,a,c),!0)}function Ep(r,a,c,g,P){Ql(ui,Ya,ku(Sn(),r,a,c,g,P),!0)}function D1(r,a,c,g,P,F,K,ne,ge,we,Ze){Ql(ui,Ya,function $u(r,a,c,g,P,F,K,ne,ge,we,Ze,bt){const Jt=k();let rn=rl(r,Jt,c,P,K,ge);return rn=io(r,Jt+4,Ze)||rn,$(5),rn?a+Is(c)+g+Is(P)+F+Is(K)+ne+Is(ge)+we+Is(Ze)+bt:hi}(Sn(),r,a,c,g,P,F,K,ne,ge,we,Ze),!0)}class vm{destroy(a){}updateValue(a,c){}swap(a,c){const g=Math.min(a,c),P=Math.max(a,c),F=this.detach(P);if(P-g>1){const K=this.detach(g);this.attach(g,F),this.attach(P,K)}else this.attach(g,F)}move(a,c){this.attach(c,this.detach(a))}}function uv(r,a,c,g,P){return r===c&&Object.is(a,g)?1:Object.is(P(r,a),P(c,g))?-1:0}function Hu(r,a,c,g){return!(void 0===a||!a.has(g)||(r.attach(c,a.get(g)),a.delete(g),0))}function O1(r,a,c,g,P){if(Hu(r,a,g,c(g,P)))r.updateValue(g,P);else{const F=r.create(g,P);r.attach(g,F)}}function Cp(r,a,c,g){const P=new Set;for(let F=a;F<=c;F++)P.add(g(F,r.at(F)));return P}class M1{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const c=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(c)?(this.kvMap.set(a,this._vMap.get(c)),this._vMap.delete(c)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,c){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const P=this._vMap;for(;P.has(g);)g=P.get(g);P.set(g,c)}else this.kvMap.set(a,c)}forEach(a){for(let[c,g]of this.kvMap)if(a(g,c),void 0!==this._vMap){const P=this._vMap;for(;P.has(g);)g=P.get(g),a(g,c)}}}function bp(r,a,c){bl("NgControlFlow");const g=Sn(),P=A(),F=hv(g,Xs+r);if(io(g,P,a)){const ne=h(null);try{if(o_(F,0),-1!==a){const ge=pv(g[Kn],Xs+a),we=Eu(F,ge.tView.ssrId);Lh(F,wh(g,ge,c,{dehydratedView:we}),0,vu(ge,we))}}finally{h(ne)}}else{const ne=Gy(F,0);void 0!==ne&&(ne[Ri]=c)}}class CI{constructor(a,c,g){this.lContainer=a,this.$implicit=c,this.$index=g}get $count(){return this.lContainer.length-Ji}}function I1(r,a){return a}class bI{constructor(a,c,g){this.hasEmptyBlock=a,this.trackByFn=c,this.liveCollection=g}}function S1(r,a,c,g,P,F,K,ne,ge,we,Ze,bt,Jt){bl("NgControlFlow");const rn=void 0!==ge,mn=Sn(),An=ne?K.bind(mn[ur][Ri]):K,Jn=new bI(rn,An);mn[Xs+r]=Jn,Pu(r+1,a,c,g,P,F),rn&&Pu(r+2,ge,we,Ze,bt,Jt)}class P1 extends vm{constructor(a,c,g){super(),this.lContainer=a,this.hostLView=c,this.templateTNode=g,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ji}at(a){return this.getLView(a)[Ri].$implicit}attach(a,c){const g=c[Fr];this.needsIndexUpdate||=a!==this.length,Lh(this.lContainer,c,a,vu(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function nA(r,a){return Oh(r,a)}(this.lContainer,a)}create(a,c){const g=Eu(this.lContainer,this.templateTNode.tView.ssrId);return wh(this.hostLView,this.templateTNode,new CI(this.lContainer,c,a),{dehydratedView:g})}destroy(a){Od(a[Kn],a)}updateValue(a,c){this.getLView(a)[Ri].$implicit=c}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[Ri].$index=a}getLView(a){return function sA(r,a){return Gy(r,a)}(this.lContainer,a)}}function Rc(r){const a=h(null),c=so();try{const g=Sn(),P=g[Kn],F=g[c];if(void 0===F.liveCollection){const ne=c+1,ge=hv(g,ne),we=pv(P,ne);F.liveCollection=new P1(ge,g,we)}else F.liveCollection.reset();const K=F.liveCollection;if(function EI(r,a,c){let g,P,F=0,K=r.length-1;if(Array.isArray(a)){let ne=a.length-1;for(;F<=K&&F<=ne;){const ge=r.at(F),we=a[F],Ze=uv(F,ge,F,we,c);if(0!==Ze){Ze<0&&r.updateValue(F,we),F++;continue}const bt=r.at(K),Jt=a[ne],rn=uv(K,bt,ne,Jt,c);if(0!==rn){rn<0&&r.updateValue(K,Jt),K--,ne--;continue}const mn=c(F,ge),An=c(K,bt),Jn=c(F,we);if(Object.is(Jn,An)){const hs=c(ne,Jt);Object.is(hs,mn)?(r.swap(F,K),r.updateValue(K,Jt),ne--,K--):r.move(K,F),r.updateValue(F,we),F++}else if(g??=new M1,P??=Cp(r,F,K,c),Hu(r,g,F,Jn))r.updateValue(F,we),F++,K++;else if(P.has(Jn))g.set(mn,r.detach(F)),K--;else{const hs=r.create(F,a[F]);r.attach(F,hs),F++,K++}}for(;F<=ne;)O1(r,g,c,F,a[F]),F++}else if(null!=a){const ne=a[Symbol.iterator]();let ge=ne.next();for(;!ge.done&&F<=K;){const we=r.at(F),Ze=ge.value,bt=uv(F,we,F,Ze,c);if(0!==bt)bt<0&&r.updateValue(F,Ze),F++,ge=ne.next();else{g??=new M1,P??=Cp(r,F,K,c);const Jt=c(F,Ze);if(Hu(r,g,F,Jt))r.updateValue(F,Ze),F++,K++,ge=ne.next();else if(P.has(Jt)){const rn=c(F,we);g.set(rn,r.detach(F)),K--}else r.attach(F,r.create(F,Ze)),F++,K++,ge=ne.next()}}for(;!ge.done;)O1(r,g,c,r.length,ge.value),ge=ne.next()}for(;F<=K;)r.destroy(r.detach(K--));g?.forEach(ne=>{r.destroy(ne)})}(K,r,F.trackByFn),K.updateIndexes(),F.hasEmptyBlock){const ne=A(),ge=0===K.length;if(io(g,ne,ge)){const we=c+2,Ze=hv(g,we);if(ge){const bt=pv(P,we),Jt=Eu(Ze,bt.tView.ssrId);Lh(Ze,wh(g,bt,void 0,{dehydratedView:Jt}),0,vu(bt,Jt))}else o_(Ze,0)}}}finally{h(a)}}function hv(r,a){return r[a]}function pv(r,a){return ai(r,a)}function fv(r,a,c,g){const P=Sn(),F=Ti(),K=Xs+r,ne=P[Ws],ge=F.firstCreatePass?function iA(r,a,c,g,P,F){const K=a.consts,ge=fu(a,r,2,g,vr(K,P));return n_(a,c,ge,vr(K,F)),null!==ge.attrs&&Hf(ge,ge.attrs,!1),null!==ge.mergedAttrs&&Hf(ge,ge.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ge),ge}(K,F,P,a,c,g):F.data[K],we=R1(F,P,ge,ne,a,r);P[K]=we;const Ze=Ja(ge);return ir(ge,!0),Oy(ne,we,ge),!ip(ge)&&nh()&&Tf(F,P,we,ge),0===function th(){return ei.lFrame.elementDepthCount}()&&Rr(we,P),function c0(){ei.lFrame.elementDepthCount++}(),Ze&&(Sf(F,P,ge),mu(F,ge,P)),null!==g&&Pf(P,ge),fv}function Em(){let r=sr();ad()?ld():(r=r.parent,ir(r,!1));const a=r;(function Yd(r){return ei.skipHydrationRootTNode===r})(a)&&function qm(){ei.skipHydrationRootTNode=null}(),function Jm(){ei.lFrame.elementDepthCount--}();const c=Ti();return c.firstCreatePass&&(Qp(c,r),Ta(r)&&c.queries.elementEnd(r)),null!=a.classesWithoutHost&&function m0(r){return!!(8&r.flags)}(a)&&lv(c,a,Sn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function g0(r){return!!(16&r.flags)}(a)&&lv(c,a,Sn(),a.stylesWithoutHost,!1),Em}function mv(r,a,c,g){return fv(r,a,c,g),Em(),mv}let R1=(r,a,c,g,P,F)=>(cc(!0),Ef(g,P,u0()));function rA(r,a,c,g,P,F){const K=a[Fr],ne=!K||rd()||ip(c)||_h(K,F);if(cc(ne),ne)return Ef(g,P,u0());const ge=Gh(K,r,a,c);return J0(K,F)&&Dc(K,F,ge.nextSibling),K&&(_g(c)||A0(ge))&&Po(c)&&(function Zm(r){ei.skipHydrationRootTNode=r}(c),by(ge)),ge}function gv(r,a,c){const g=Sn(),P=Ti(),F=r+Xs,K=P.firstCreatePass?function aA(r,a,c,g,P){const F=a.consts,K=vr(F,g),ne=fu(a,r,8,"ng-container",K);return null!==K&&Hf(ne,K,!0),n_(a,c,ne,vr(F,P)),null!==a.queries&&a.queries.elementStart(a,ne),ne}(F,P,g,a,c):P.data[F];ir(K,!0);const ne=DI(P,g,K,r);return g[F]=ne,nh()&&Tf(P,g,ne,K),Rr(ne,g),Ja(K)&&(Sf(P,g,K),mu(P,K,g)),null!=c&&Pf(g,K),gv}function _v(){let r=sr();const a=Ti();return ad()?ld():(r=r.parent,ir(r,!1)),a.firstCreatePass&&(Qp(a,r),Ta(r)&&a.queries.elementEnd(r)),_v}function A1(r,a,c){return gv(r,a,c),_v(),A1}let DI=(r,a,c,g)=>(cc(!0),cu(a[Ws],""));function w1(r,a,c,g){let P;const F=a[Fr],K=!F||rd()||ip(c);if(cc(K),K)return cu(a[Ws],"");const ne=Gh(F,r,a,c),ge=function gh(r,a){const c=r.data;let g=c[Mg]?.[a]??null;return null===g&&c[fh]?.[a]&&(g=Vc(r,a)),g}(F,g);return Dc(F,g,ne),P=kf(ge,ne),P}function Cm(){return Sn()}function vv(r,a,c){const g=Sn();return io(g,A(),a)&&La(Ti(),yr(),g,r,a,g[Ws],c,!0),vv}const Bd=void 0;var MI=["en",[["a","p"],["AM","PM"],Bd],[["AM","PM"],Bd,Bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bd,"{1} 'at' {0}",Bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OI(r){const c=Math.floor(Math.abs(r)),g=r.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===g?1:5}];let zu={};function oa(r){const a=function Tp(r){return r.toLowerCase().replace(/_/g,"-")}(r);let c=N1(a);if(c)return c;const g=a.split("-")[0];if(c=N1(g),c)return c;if("en"===g)return MI;throw new We(701,!1)}function x1(r){return oa(r)[Yu.PluralCase]}function N1(r){return r in zu||(zu[r]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[r]),zu[r]}var Yu=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Yu||{});const II=["zero","one","two","few","many"],Ac="en-US",bm={marker:"element"},Dm={marker:"ICU"};var Ao=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ao||{});let F1=Ac;function Op(r,a,c){const g=a.insertBeforeIndex,P=Array.isArray(g)?g[0]:g;return null===P?yy(r,0,c):Gi(c[P])}function U1(r,a,c,g,P){const F=a.insertBeforeIndex;if(Array.isArray(F)){let K=g,ne=null;if(3&a.type||(ne=K,K=P),null!==K&&-1===a.componentOffset)for(let ge=1;ge<F.length;ge++)uu(r,K,c[F[ge]],ne,!1)}}function Zc(r,a){if(r.push(a),r.length>1)for(let c=r.length-2;c>=0;c--){const g=r[c];Tm(g)||Om(g,a)&&null===RI(g)&&AI(g,a.index)}}function Tm(r){return!(64&r.type)}function Om(r,a){return Tm(a)||r.index>a.index}function RI(r){const a=r.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function AI(r,a){const c=r.insertBeforeIndex;Array.isArray(c)?c[0]=a:(Cy(Op,U1),r.insertBeforeIndex=a)}function Mp(r,a){const c=r.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function LI(r,a,c){const g=Md(r,c,64,null,null);return Zc(a,g),g}function al(r,a){const c=a[r.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function xI(r){return r>>>17}function k1(r){return(131070&r)>>>1}let Ip=0,Sp=0;function UI(r,a,c){const g=r[Ws];switch(c){case Node.COMMENT_NODE:return cu(g,a);case Node.TEXT_NODE:return Yg(g,a);case Node.ELEMENT_NODE:return Ef(g,a,null)}}let Pp=(r,a,c,g)=>(cc(!0),UI(r,c,g));function jI(r,a,c,g){return cc(!0),UI(r,c,g)}function V1(r,a,c,g){const P=c[Ws];let K,F=null;for(let ne=0;ne<a.length;ne++){const ge=a[ne];if("string"==typeof ge){const we=a[++ne];null===c[we]&&(c[we]=Pp(c,we,ge,Node.TEXT_NODE))}else if("number"==typeof ge)switch(1&ge){case 0:const we=xI(ge);let Ze,bt;if(null===F&&(F=we,K=Mh(P,g)),we===F?(Ze=g,bt=K):(Ze=null,bt=Gi(c[we])),null!==bt){const An=k1(ge);uu(P,bt,c[An],Ze,!1);const hs=Mp(r,An);if(null!==hs&&"object"==typeof hs){const jn=al(hs,c);null!==jn&&V1(r,hs.create[jn],c,c[hs.anchorIdx])}}break;case 1:const rn=a[++ne],mn=a[++ne];s_(P,$r(ge>>>1,c),null,null,rn,mn,null)}else switch(ge){case Dm:const we=a[++ne],Ze=a[++ne];null===c[Ze]&&Rr(c[Ze]=Pp(c,Ze,we,Node.COMMENT_NODE),c);break;case bm:const bt=a[++ne],Jt=a[++ne];null===c[Jt]&&Rr(c[Jt]=Pp(c,Jt,bt,Node.ELEMENT_NODE),c)}}}function G1(r,a,c,g,P){for(let F=0;F<c.length;F++){const K=c[F],ne=c[++F];if(K&P){let ge="";for(let we=F+1;we<=F+ne;we++){const Ze=c[we];if("string"==typeof Ze)ge+=Ze;else if("number"==typeof Ze)if(Ze<0)ge+=Is(a[g-Ze]);else{const bt=Ze>>>2;switch(3&Ze){case 1:const Jt=c[++we],rn=c[++we],mn=r.data[bt];"string"==typeof mn?s_(a[Ws],a[bt],null,mn,Jt,ge,rn):La(r,mn,a,Jt,ge,a[Ws],rn,!1);break;case 0:const An=a[bt];null!==An&&yf(a[Ws],An,ge);break;case 2:GI(r,Mp(r,bt),a,ge);break;case 3:$1(r,Mp(r,bt),g,a)}}}}else{const ge=c[F+1];if(ge>0&&!(3&~ge)){const Ze=Mp(r,ge>>>2);a[Ze.currentCaseLViewIndex]<0&&$1(r,Ze,g,a)}}F+=ne}}function $1(r,a,c,g){let P=g[a.currentCaseLViewIndex];if(null!==P){let F=Ip;P<0&&(P=g[a.currentCaseLViewIndex]=~P,F=-1),G1(r,g,a.update[P],c,F)}}function GI(r,a,c,g){const P=function $I(r,a){let c=r.cases.indexOf(a);if(-1===c)switch(r.type){case 1:{const g=function Ev(r,a){const c=x1(a)(parseInt(r,10)),g=II[c];return void 0!==g?g:"other"}(a,function PI(){return F1}());c=r.cases.indexOf(g),-1===c&&"other"!==g&&(c=r.cases.indexOf("other"));break}case 0:c=r.cases.indexOf("other")}return-1===c?null:c}(a,g);if(al(a,c)!==P&&(W1(r,a,c),c[a.currentCaseLViewIndex]=null===P?null:~P,null!==P)){const K=c[a.anchorIdx];K&&V1(r,a.create[P],c,K)}}function W1(r,a,c){let g=al(a,c);if(null!==g){const P=a.remove[g];for(let F=0;F<P.length;F++){const K=P[F];if(K>0){const ne=$r(K,c);null!==ne&&hu(c[Ws],ne)}else W1(r,Mp(r,~K),c)}}}function WI(){const r=[];let c,g,a=-1;function F(ne,ge){a=0;const we=al(ne,ge);g=null!==we?ne.remove[we]:$s}function K(){if(a<g.length){const ne=g[a++];return ne>0?c[ne]:(r.push(a,g),F(c[Kn].data[~ne],c),K())}return 0===r.length?null:(g=r.pop(),a=r.pop(),K())}return function P(ne,ge){for(c=ge;r.length;)r.pop();return F(ne.value,ge),K}}const Im=/\ufffd(\d+):?\d*\ufffd/gi,HI=/\ufffd(\d+)\ufffd/,H1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Rp="\ufffd",zI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ap=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,pA=/\uE500/g;function z1(r,a,c,g,P,F,K){const ne=Ph(r,g,1,null);let ge=ne<<Ao.SHIFT,we=od();a===we&&(we=null),null===we&&(ge|=Ao.APPEND_EAGERLY),K&&(ge|=Ao.COMMENT,function RT(r){void 0===Th&&(Th=r())}(WI)),P.push(ge,null===F?"":F);const Ze=Md(r,ne,K?32:1,null===F?"":F,null);Zc(c,Ze);const bt=Ze.index;return ir(Ze,!1),null!==we&&a!==we&&function wI(r,a){let c=r.insertBeforeIndex;null===c?(Cy(Op,U1),c=r.insertBeforeIndex=[null,a]):(xt(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(we,bt),Ze}function JI(r,a,c,g,P,F,K,ne){const ge=ne.match(Im),Ze=z1(a,c,g,K,P,ge?null:ne,!1).index;ge&&wp(F,ne,Ze,null,0,null),r.push({kind:0,index:Ze})}function wp(r,a,c,g,P,F){const K=r.length,ne=K+1;r.push(null,null);const ge=K+2,we=a.split(Im);let Ze=0;for(let bt=0;bt<we.length;bt++){const Jt=we[bt];if(1&bt){const rn=P+parseInt(Jt,10);r.push(-1-rn),Ze|=Y1(rn)}else""!==Jt&&r.push(Jt)}return r.push(c<<2|(g?1:0)),g&&r.push(g,F),r[K]=Ze,r[ne]=r.length-ge,Ze}function Y1(r){return 1<<Math.min(r,31)}function X1(r){let a,F,c="",g=0,P=!1;for(;null!==(a=zI.exec(r));)P?a[0]===`${Rp}/*${F}${Rp}`&&(g=a.index,P=!1):(c+=r.substring(g,a.index+a[0].length),F=a[1],P=!0);return c+=r.slice(g),c}function xp(r,a,c,g,P,F,K){let ne=0;const ge={type:F.type,currentCaseLViewIndex:Ph(a,c,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function nS(r,a,c){r.push(Y1(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(g,F,K),function j1(r,a,c){const g=r.data[a];null===g?r.data[a]=c:g.value=c}(a,K,ge);const we=F.values,Ze=[];for(let bt=0;bt<we.length;bt++){const Jt=we[bt],rn=[];for(let An=0;An<Jt.length;An++){const Jn=Jt[An];if("string"!=typeof Jn){const hs=rn.push(Jn)-1;Jt[An]=`\x3c!--\ufffd${hs}\ufffd--\x3e`}}const mn=[];Ze.push(mn),ne=eS(mn,a,ge,c,g,P,F.cases[bt],Jt.join(""),rn)|ne}ne&&function Q1(r,a,c){r.push(a,1,c<<2|3)}(g,ne,K),r.push({kind:3,index:K,cases:Ze,currentCaseLViewIndex:ge.currentCaseLViewIndex})}function Sm(r){const a=[],c=[];let g=1,P=0;const F=Cv(r=r.replace(H1,function(K,ne,ge){return g="select"===ge?0:1,P=parseInt(ne.slice(1),10),""}));for(let K=0;K<F.length;){let ne=F[K++].trim();1===g&&(ne=ne.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ne.length&&a.push(ne);const ge=Cv(F[K++]);a.length>c.length&&c.push(ge)}return{type:g,mainBinding:P,cases:a,values:c}}function Cv(r){if(!r)return[];let a=0;const c=[],g=[],P=/[{}]/g;let F;for(P.lastIndex=0;F=P.exec(r);){const ne=F.index;if("}"==F[0]){if(c.pop(),0==c.length){const ge=r.substring(a,ne);H1.test(ge)?g.push(Sm(ge)):g.push(ge),a=ne+1}}else{if(0==c.length){const ge=r.substring(a,ne);g.push(ge),a=ne+1}c.push("{")}}const K=r.substring(a);return g.push(K),g}function eS(r,a,c,g,P,F,K,ne,ge){const we=[],Ze=[],bt=[];c.cases.push(K),c.create.push(we),c.remove.push(Ze),c.update.push(bt);const rn=ey(Wl()).getInertBodyElement(ne),mn=jg(rn)||rn;return mn?bv(r,a,c,g,P,we,Ze,bt,mn,F,ge,0):0}function bv(r,a,c,g,P,F,K,ne,ge,we,Ze,bt){let Jt=0,rn=ge.firstChild;for(;rn;){const mn=Ph(a,g,1,null);switch(rn.nodeType){case Node.ELEMENT_NODE:const An=rn,Jn=An.tagName.toLowerCase();if(Bg.hasOwnProperty(Jn)){Dv(F,bm,Jn,we,mn),a.data[mn]=Jn;const or=An.attributes;for(let Ho=0;Ho<or.length;Ho++){const dl=or.item(Ho),Ym=dl.name.toLowerCase();dl.value.match(Im)?Wc.hasOwnProperty(Ym)&&wp(ne,dl.value,mn,dl.name,0,Ed[Ym]?hf:null):Z1(F,mn,dl)}const Ar={kind:1,index:mn,children:[]};r.push(Ar),Jt=bv(Ar.children,a,c,g,P,F,K,ne,rn,mn,Ze,bt+1)|Jt,J1(K,mn,bt)}break;case Node.TEXT_NODE:const hs=rn.textContent||"",jn=hs.match(Im);Dv(F,null,jn?"":hs,we,mn),J1(K,mn,bt),jn&&(Jt=wp(ne,hs,mn,null,0,null)|Jt),r.push({kind:0,index:mn});break;case Node.COMMENT_NODE:const ii=HI.exec(rn.textContent||"");if(ii){const Ar=Ze[parseInt(ii[1],10)];Dv(F,Dm,"",we,mn),xp(r,a,g,P,we,Ar,mn),tS(K,mn,bt)}}rn=rn.nextSibling}return Jt}function J1(r,a,c){0===c&&r.push(a)}function tS(r,a,c){0===c&&(r.push(~a),r.push(a))}function Dv(r,a,c,g,P){null!==a&&r.push(a),r.push(c,P,function NI(r,a,c){return r|a<<17|c<<1}(0,g,P))}function Z1(r,a,c){r.push(a<<1|1,c.name,c.value)}function nC(r,a,c=-1){const g=Ti(),P=Sn(),F=Xs+r,K=vr(g.consts,a),ne=od();g.firstCreatePass&&function XI(r,a,c,g,P,F){const K=od(),ne=[],ge=[],we=[[]],Ze=[[]];P=function qI(r,a){if(function ZI(r){return-1===r}(a))return X1(r);{const c=r.indexOf(`:${a}${Rp}`)+2+a.toString().length,g=r.search(new RegExp(`${Rp}\\/\\*\\d+:${a}${Rp}`));return X1(r.substring(c,g))}}(P,F);const bt=function YI(r){return r.replace(pA," ")}(P).split(Ap);for(let Jt=0;Jt<bt.length;Jt++){let rn=bt[Jt];if(1&Jt){const mn=47===rn.charCodeAt(0),An=rn.charCodeAt(mn?1:0),Jn=Xs+Number.parseInt(rn.substring(mn?2:1));if(mn)we.shift(),Ze.shift(),ir(od(),!1);else{const hs=LI(r,we[0],Jn);we.unshift([]),ir(hs,!0);const jn={kind:2,index:Jn,children:[],type:35===An?0:1};Ze[0].push(jn),Ze.unshift(jn.children)}}else{const mn=Cv(rn);for(let An=0;An<mn.length;An++){let Jn=mn[An];if(1&An){const hs=Jn;if("object"!=typeof hs)throw new Error(`Unable to parse ICU expression in "${P}" message.`);const ii=z1(r,K,we[0],c,ne,"",!0).index;xp(Ze[0],r,c,ge,a,hs,ii)}else""!==Jn&&JI(Ze[0],r,K,we[0],ne,ge,c,Jn)}}}r.data[g]={create:ne,update:ge,ast:Ze[0]}}(g,null===ne?0:ne.index,P,F,K,c),2===g.type?P[ur][bs]|=32:P[bs]|=32;const ge=g.data[F],Ze=Tc(g,ne===P[_r]?null:ne,P);(function VI(r,a,c,g){const P=r[Ws];for(let F=0;F<a.length;F++){const K=a[F++],we=(K&Ao.APPEND_EAGERLY)===Ao.APPEND_EAGERLY,Ze=K>>>Ao.SHIFT;let bt=r[Ze],Jt=!1;null===bt&&(bt=r[Ze]=Pp(r,Ze,a[F],(K&Ao.COMMENT)===Ao.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Jt=nh()),we&&null!==c&&Jt&&uu(P,c,bt,g,!1)}})(P,ge.create,Ze,ne&&8&ne.type?P[ne.index]:null),Le(!0)}function iC(r,a,c){nC(r,a,c),function sC(){Le(!1)}()}function Ov(r){return function FI(r){r&&(Ip|=1<<Math.min(Sp,31)),Sp++}(io(Sn(),A(),r)),Ov}function oC(r){!function BI(r,a,c){if(Sp>0){const g=r.data[c];G1(r,a,Array.isArray(g)?g:g.update,k()-Sp-1,Ip)}Ip=0,Sp=0}(Ti(),Sn(),r+Xs)}function Np(r,a,c,g){const P=Sn(),F=Ti(),K=sr();return Bp(F,P,P[Ws],K,r,a,g),Np}function Bp(r,a,c,g,P,F,K){const ne=Ja(g),we=r.firstCreatePass&&gu(r),Ze=a[Ri],bt=Uy(a);let Jt=!0;if(3&g.type||K){const An=To(g,a),Jn=K?K(An):An,hs=bt.length,jn=K?or=>K(Gi(or[g.index])):g.index;let ii=null;if(!K&&ne&&(ii=function lS(r,a,c,g){const P=r.cleanup;if(null!=P)for(let F=0;F<P.length-1;F+=2){const K=P[F];if(K===c&&P[F+1]===g){const ne=a[Ir],ge=P[F+2];return ne.length>ge?ne[ge]:null}"string"==typeof K&&(F+=2)}return null}(r,a,P,g.index)),null!==ii)(ii.__ngLastListenerFn__||ii).__ngNextListenerFn__=F,ii.__ngLastListenerFn__=F,Jt=!1;else{F=aC(g,a,Ze,F,!1);const or=c.listen(Jn,P,F);bt.push(F,or),we&&we.push(P,jn,hs,hs+1)}}else F=aC(g,a,Ze,F,!1);const rn=g.outputs;let mn;if(Jt&&null!==rn&&(mn=rn[P])){const An=mn.length;if(An)for(let Jn=0;Jn<An;Jn+=2){const Ar=a[mn[Jn]][mn[Jn+1]].subscribe(F),Ho=bt.length;bt.push(F,Ar),we&&we.push(P,g.index,Ho,-(Ho+1))}}}function Rm(r,a,c,g){const P=h(null);try{return Za(6,a,c),!1!==c(g)}catch(F){return xf(r,F),!1}finally{Za(7,a,c),h(P)}}function aC(r,a,c,g,P){return function F(K){if(K===Function)return g;Bh(r.componentOffset>-1?Qr(r.index,a):a);let ge=Rm(a,c,g,K),we=F.__ngNextListenerFn__;for(;we;)ge=Rm(a,c,we,K)&&ge,we=we.__ngNextListenerFn__;return P&&!1===ge&&K.preventDefault(),ge}}function cC(r=1){return function Jp(r){return(ei.lFrame.contextLView=function gi(r,a){for(;r>0;)a=a[no],r--;return a}(r,ei.lFrame.contextLView))[Ri]}(r)}function cS(r,a){let c=null;const g=function xr(r){const a=r.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(r);for(let P=0;P<a.length;P++){const F=a[P];if("*"!==F){if(null===g?Vi(r,F,!0):So(g,F))return P}else c=P}return c}function dC(r){const a=Sn()[ur][_r];if(!a.projection){const g=a.projection=function Es(r,a){const c=[];for(let g=0;g<r;g++)c.push(a);return c}(r?r.length:1,null),P=g.slice();let F=a.child;for(;null!==F;){const K=r?cS(F,r):0;null!==K&&(P[K]?P[K].projectionNext=F:g[K]=F,P[K]=F),F=F.next}}}function uC(r,a=0,c){const g=Sn(),P=Ti(),F=fu(P,Xs+r,16,null,c||null);null===F.projection&&(F.projection=a),ld(),(!g[Fr]||rd())&&32&~F.flags&&function BT(r,a,c){Dy(a[Ws],0,a,c,du(r,c,a),vy(c.parent||a[_r],c,a))}(P,g,F)}function Mv(r,a,c){return Am(r,"",a,"",c),Mv}function Am(r,a,c,g,P){const F=Sn(),K=ju(F,a,c,g);return K!==hi&&La(Ti(),yr(),F,r,K,F[Ws],P,!1),Am}function Iv(r,a,c,g,P,F,K){const ne=Sn(),ge=ku(ne,a,c,g,P,F);return ge!==hi&&La(Ti(),yr(),ne,r,ge,ne[Ws],K,!1),Iv}function mC(r,a,c,g){!function bE(r,a,c,g){const P=Ti();if(P.firstCreatePass){const F=sr();DE(P,new vE(a,c,g),F.index),function Qf(r,a){const c=r.contentQueries||(r.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(r.queries.length-1,a)}(P,r),!(2&~c)&&(P.staticContentQueries=!0)}return Tu(P,Sn(),c)}(r,a,c,g)}function gC(r,a,c){!function CE(r,a,c){const g=Ti();return g.firstCreatePass&&(DE(g,new vE(r,a,c),-1),!(2&~a)&&(g.staticViewQueries=!0)),Tu(g,Sn(),a)}(r,a,c)}function _C(r){const a=Sn(),c=Ti(),g=qn();Ds(g+1);const P=T_(c,g);if(r.dirty&&function id(r){return!(4&~r[bs])}(a)===!(2&~P.metadata.flags)){if(null===P.matches)r.reset([]);else{const F=Qh(a,g);r.reset(F,Vo),r.notifyOnChanges()}return!0}return!1}function vC(){return function D_(r,a){return r[br].queries[a].queryList}(Sn(),qn())}function Av(r){return ia(function eg(){return ei.lFrame.contextLView}(),Xs+r)}function PC(r,a=""){const c=Sn(),g=Ti(),P=r+Xs,F=g.firstCreatePass?fu(g,P,1,a,null):g.data[P],K=RC(g,c,F,a,r);c[P]=K,nh()&&Tf(g,c,K,F),ir(F,!1)}let RC=(r,a,c,g,P)=>(cc(!0),Yg(a[Ws],g));function bS(r,a,c,g,P){const F=a[Fr],K=!F||rd()||ip(c)||_h(F,P);return cc(K),K?Yg(a[Ws],g):Gh(F,r,a,c)}function wv(r){return Lm("",r,""),wv}function Lm(r,a,c){const g=Sn(),P=ju(g,r,a,c);return P!==hi&&Xl(g,so(),P),Lm}function xm(r,a,c,g,P){const F=Sn(),K=ku(F,r,a,c,g,P);return K!==hi&&Xl(F,so(),K),xm}function Il(r,a,c,g,P,F,K){const ne=Sn(),ge=function Vu(r,a,c,g,P,F,K,ne){const we=Su(r,k(),c,P,K);return $(3),we?a+Is(c)+g+Is(P)+F+Is(K)+ne:hi}(ne,r,a,c,g,P,F,K);return ge!==hi&&Xl(ne,so(),ge),Il}function Lv(r,a,c,g,P,F,K,ne,ge){const we=Sn(),Ze=function Gu(r,a,c,g,P,F,K,ne,ge,we){const bt=rl(r,k(),c,P,K,ge);return $(4),bt?a+Is(c)+g+Is(P)+F+Is(K)+ne+Is(ge)+we:hi}(we,r,a,c,g,P,F,K,ne,ge);return Ze!==hi&&Xl(we,so(),Ze),Lv}function xC(r,a,c){ME(a)&&(a=a());const g=Sn();return io(g,A(),a)&&La(Ti(),yr(),g,r,a,g[Ws],c,!1),xC}function TS(r,a){const c=ME(r);return c&&r.set(a),c}function Nv(r,a){const c=Sn(),g=Ti(),P=sr();return Bp(g,c,c[Ws],P,r,a),Nv}function Fv(r,a,c,g,P){if(r=Ne(r),Array.isArray(r))for(let F=0;F<r.length;F++)Fv(r[F],a,c,g,P);else{const F=Ti(),K=Sn(),ne=sr();let ge=jo(r)?r:Ne(r.provide);const we=zn(r),Ze=1048575&ne.providerIndexes,bt=ne.directiveStart,Jt=ne.providerIndexes>>20;if(jo(r)||!r.multi){const rn=new dc(we,P,pu),mn=Uv(ge,a,P?Ze:Ze+Jt,bt);-1===mn?(lg(rh(ne,K),F,ge),Bv(F,r,a.length),a.push(ge),ne.directiveStart++,ne.directiveEnd++,P&&(ne.providerIndexes+=1048576),c.push(rn),K.push(rn)):(c[mn]=rn,K[mn]=rn)}else{const rn=Uv(ge,a,Ze+Jt,bt),mn=Uv(ge,a,Ze,Ze+Jt),Jn=mn>=0&&c[mn];if(P&&!Jn||!P&&!(rn>=0&&c[rn])){lg(rh(ne,K),F,ge);const hs=function mA(r,a,c,g,P){const F=new dc(r,c,pu);return F.multi=[],F.index=a,F.componentProviders=0,NC(F,P,g&&!c),F}(P?IS:MS,c.length,P,g,we);!P&&Jn&&(c[mn].providerFactory=hs),Bv(F,r,a.length,0),a.push(ge),ne.directiveStart++,ne.directiveEnd++,P&&(ne.providerIndexes+=1048576),c.push(hs),K.push(hs)}else Bv(F,r,rn>-1?rn:mn,NC(c[P?mn:rn],we,!P&&g));!P&&g&&Jn&&c[mn].componentProviders++}}}function Bv(r,a,c,g){const P=jo(a),F=function fl(r){return!!r.useClass}(a);if(P||F){const ge=(F?Ne(a.useClass):a).prototype.ngOnDestroy;if(ge){const we=r.destroyHooks||(r.destroyHooks=[]);if(!P&&a.multi){const Ze=we.indexOf(c);-1===Ze?we.push(c,[g,ge]):we[Ze+1].push(g,ge)}else we.push(c,ge)}}}function NC(r,a,c){return c&&r.componentProviders++,r.multi.push(a)-1}function Uv(r,a,c,g){for(let P=c;P<g;P++)if(a[P]===r)return P;return-1}function MS(r,a,c,g){return jv(this.multi,[])}function IS(r,a,c,g){const P=this.multi;let F;if(this.providerFactory){const K=this.providerFactory.componentProviders,ne=uc(c,c[Kn],this.providerFactory.index,g);F=ne.slice(0,K),jv(P,F);for(let ge=K;ge<ne.length;ge++)F.push(ne[ge])}else F=[],jv(P,F);return F}function jv(r,a){for(let c=0;c<r.length;c++)a.push((0,r[c])());return a}function SS(r,a=[]){return c=>{c.providersResolver=(g,P)=>function OS(r,a,c){const g=Ti();if(g.firstCreatePass){const P=Jr(r);Fv(c,g.data,g.blueprint,P,!0),Fv(a,g.data,g.blueprint,P,!1)}}(g,P?P(r):r,a)}}let gA=(()=>{class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const g=Uo(0,c.type),P=g.length>0?x_([g],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,P)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=gs({token:r,providedIn:"environment",factory:()=>new r(lr(Rt))})}}return r})();function PS(r){bl("NgStandalone"),r.getStandaloneInjector=a=>a.get(gA).getOrCreateStandaloneInjector(r)}function AS(r,a,c){const g=ko()+r,P=Sn();return P[g]===hi?il(P,g,c?a.call(c):a()):np(P,g)}function FC(r,a,c,g){return Vv(Sn(),ko(),r,a,c,g)}function BC(r,a,c,g,P){return Gv(Sn(),ko(),r,a,c,g,P)}function UC(r,a,c,g,P,F){return VC(Sn(),ko(),r,a,c,g,P,F)}function wS(r,a,c,g,P,F,K){return function $v(r,a,c,g,P,F,K,ne,ge){const we=a+c;return rl(r,we,P,F,K,ne)?il(r,we+4,ge?g.call(ge,P,F,K,ne):g(P,F,K,ne)):Up(r,we+4)}(Sn(),ko(),r,a,c,g,P,F,K)}function LS(r,a,c,g,P,F,K,ne){const ge=ko()+r,we=Sn(),Ze=rl(we,ge,c,g,P,F);return io(we,ge+4,K)||Ze?il(we,ge+5,ne?a.call(ne,c,g,P,F,K):a(c,g,P,F,K)):np(we,ge+5)}function Up(r,a){const c=r[a];return c===hi?void 0:c}function Vv(r,a,c,g,P,F){const K=a+c;return io(r,K,P)?il(r,K+1,F?g.call(F,P):g(P)):Up(r,K+1)}function Gv(r,a,c,g,P,F,K){const ne=a+c;return wd(r,ne,P,F)?il(r,ne+2,K?g.call(K,P,F):g(P,F)):Up(r,ne+2)}function VC(r,a,c,g,P,F,K,ne){const ge=a+c;return Su(r,ge,P,F,K)?il(r,ge+3,ne?g.call(ne,P,F,K):g(P,F,K)):Up(r,ge+3)}function Wv(r,a){const c=Ti();let g;const P=r+Xs;c.firstCreatePass?(g=function $C(r,a){if(a)for(let c=a.length-1;c>=0;c--){const g=a[c];if(r===g.name)return g}}(a,c.pipeRegistry),c.data[P]=g,g.onDestroy&&(c.destroyHooks??=[]).push(P,g.onDestroy)):g=c.data[P];const F=g.factory||(g.factory=qe(g.type)),ne=_s(pu);try{const ge=qp(!1),we=F();return qp(ge),function pS(r,a,c,g){c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),a[c]=g}(c,Sn(),P,we),we}finally{_s(ne)}}function WC(r,a,c){const g=r+Xs,P=Sn(),F=ia(P,g);return Sl(P,g)?Vv(P,ko(),a,F.transform,c,F):F.transform(c)}function KC(r,a,c,g){const P=r+Xs,F=Sn(),K=ia(F,P);return Sl(F,P)?Gv(F,ko(),a,K.transform,c,g,K):K.transform(c,g)}function xS(r,a,c,g,P){const F=r+Xs,K=Sn(),ne=ia(K,F);return Sl(K,F)?VC(K,ko(),a,ne.transform,c,g,P,ne):ne.transform(c,g,P)}function Sl(r,a){return r[Kn].data[a].pure}function HC(r,a){return Bf(r,a)}class jd{constructor(a){this.full=a;const c=a.split(".");this.major=c[0],this.minor=c[1],this.patch=c.slice(2).join(".")}}let cb=(()=>{class r{log(c){console.log(c)}warn(c){console.warn(c)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const _b=new at(""),vb=new at("");let qv,_P=(()=>{class r{constructor(c,g,P){this._ngZone=c,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,qv||(function vP(r){qv=r}(P),P.addToWindow(g)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb()}});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(c)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,g,P){let F=-1;g&&g>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(K=>K.timeoutId!==F),c()},g)),this._callbacks.push({doneCb:c,timeoutId:F,updateCb:P})}whenStable(c,g,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,g,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,g,P){return[]}static{this.\u0275fac=function(g){return new(g||r)(lr(go),lr(yb),lr(vb))}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac})}}return r})(),yb=(()=>{class r{constructor(){this._applications=new Map}registerApplication(c,g){this._applications.set(c,g)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,g=!0){return qv?.findTestabilityInTree(this,c,g)??null}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function e0(r){return!!r&&"function"==typeof r.then}function Eb(r){return!!r&&"function"==typeof r.subscribe}const Cb=new at("");let t0=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,g)=>{this.resolve=c,this.reject=g}),this.appInits=xs(Cb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const P of this.appInits){const F=P();if(e0(F))c.push(F);else if(Eb(F)){const K=new Promise((ne,ge)=>{F.subscribe({complete:ne,error:ge})});c.push(K)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{g()}).catch(P=>{this.reject(P)}),0===c.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const n0=new at("");let Gm,ed=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xs(S0),this.afterRenderEffectManager=xs(Hh),this.externalTestViews=new Set,this.beforeRender=new mt.B,this.afterTick=new mt.B,this.componentTypes=[],this.components=[],this.isStable=xs(Iu).hasPendingTasks.pipe((0,$e.T)(c=>!c)),this._injector=xs(Rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,g){const P=c instanceof qy;if(!this._injector.get(t0).done)throw!P&&po(c),new We(405,!1);let K;K=P?c:this._injector.get(Wh).resolveComponentFactory(c),this.componentTypes.push(K.componentType);const ne=function Vp(r){return r.isBoundToModule}(K)?void 0:this._injector.get(Ad),we=K.create(ja.NULL,[],g||K.selector,ne),Ze=we.location.nativeElement,bt=we.injector.get(_b,null);return bt?.registerApplication(Ze),we.onDestroy(()=>{this.detachView(we.hostView),Vm(this.components,we),bt?.unregisterApplication(Ze)}),this._loadComponent(we),we}tick(){this._tick(!0)}_tick(c){if(this._runningTick)throw new We(101,!1);const g=h(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(c)}catch(P){this.internalErrorHandler(P)}finally{this.afterTick.next(),this._runningTick=!1,h(g)}}detectChangesInAttachedViews(c){let g=0;const P=this.afterRenderEffectManager;for(;;){if(g===Ky)throw new We(103,!1);if(c){const F=0===g;this.beforeRender.next(F);for(let{_lView:K,notifyErrorHandler:ne}of this._views)yP(K,F,ne)}if(g++,P.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:F})=>$m(F))&&(P.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:F})=>$m(F))))break}}attachView(c){const g=c;this._views.push(g),g.attachToAppRef(this)}detachView(c){const g=c;Vm(this._views,g),g.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const g=this._injector.get(n0,[]);[...this._bootstrapListeners,...g].forEach(P=>P(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Vm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new We(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Vm(r,a){const c=r.indexOf(a);c>-1&&r.splice(c,1)}function Tb(r){Gm??=new WeakMap;const a=Gm.get(r);if(a)return a;const c=r.isStable.pipe((0,Fe.$)(g=>g)).toPromise().then(()=>{});return Gm.set(r,c),r.onDestroy(()=>Gm?.delete(r)),c}function yP(r,a,c){!a&&!$m(r)||function Ob(r,a,c){let g;c?(g=0,r[bs]|=1024):g=64&r[bs]?0:1,Id(r,a,g)}(r,c,a)}function $m(r){return Zr(r)}class Mb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let p=(()=>{class r{compileModuleSync(c){return new qh(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const g=this.compileModuleSync(c),F=Ka(ps(c).declarations).reduce((K,ne)=>{const ge=ni(ne);return ge&&K.push(new Xh(ge)),K},[]);return new Mb(g,F)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ee=(()=>{class r{constructor(){this.zone=xs(go),this.applicationRef=xs(ed)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ae(r){return[{provide:go,useFactory:r},{provide:qi,multi:!0,useFactory:()=>{const a=xs(ee,{optional:!0});return()=>a.initialize()}},{provide:qi,multi:!0,useFactory:()=>{const a=xs(cn);return()=>{a.initialize()}}},{provide:S0,useFactory:ht}]}function ht(){const r=xs(go),a=xs(ka);return c=>r.runOutsideAngular(()=>a.handleError(c))}function Ut(r){return Bo([[],Ae(()=>new go(function _n(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let cn=(()=>{class r{constructor(){this.subscription=new xe.yU,this.initialized=!1,this.zone=xs(go),this.pendingTasks=xs(Iu)}initialize(){if(this.initialized)return;this.initialized=!0;let c=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(c=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{null!==c&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(c),c=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{go.assertInAngularZone(),c??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const ms=new at("",{providedIn:"root",factory:()=>xs(ms,$t.Optional|$t.SkipSelf)||function rs(){return typeof $localize<"u"&&$localize.locale||Ac}()}),Bn=new at("",{providedIn:"root",factory:()=>"USD"}),ci=new at("");let mr=null;function Ib(){return!1}function Sb(){}let Ki=(()=>{class r{static{this.__NG_ELEMENT_ID__=wo}}return r})();function wo(r){return function ec(r,a,c){if(Po(r)&&!c){const g=Qr(r.index,a);return new Sd(g,g)}return 47&r.type?new Sd(a[ur],a):null}(sr(),Sn(),!(16&~r))}class jA{constructor(){}supports(a){return F_(a)}create(a){return new E2(a)}}const y2=(r,a)=>a;class E2{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||y2}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,g=this._removalsHead,P=0,F=null;for(;c||g;){const K=!g||c&&c.currentIndex<VA(g,P,F)?c:g,ne=VA(K,P,F),ge=K.currentIndex;if(K===g)P--,g=g._nextRemoved;else if(c=c._next,null==K.previousIndex)P++;else{F||(F=[]);const we=ne-P,Ze=ge-P;if(we!=Ze){for(let Jt=0;Jt<we;Jt++){const rn=Jt<F.length?F[Jt]:F[Jt]=0,mn=rn+Jt;Ze<=mn&&mn<we&&(F[Jt]=rn+1)}F[K.previousIndex]=Ze-we}}ne!==ge&&a(K,ne,ge)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!F_(a))throw new We(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let P,F,K,c=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let ne=0;ne<this.length;ne++)F=a[ne],K=this._trackByFn(ne,F),null!==c&&Object.is(c.trackById,K)?(g&&(c=this._verifyReinsertion(c,F,K,ne)),Object.is(c.item,F)||this._addIdentityChange(c,F)):(c=this._mismatch(c,F,K,ne),g=!0),c=c._next}else P=0,function CM(r,a){if(Array.isArray(r))for(let c=0;c<r.length;c++)a(r[c]);else{const c=r[Symbol.iterator]();let g;for(;!(g=c.next()).done;)a(g.value)}}(a,ne=>{K=this._trackByFn(P,ne),null!==c&&Object.is(c.trackById,K)?(g&&(c=this._verifyReinsertion(c,ne,K,P)),Object.is(c.item,ne)||this._addIdentityChange(c,ne)):(c=this._mismatch(c,ne,K,P),g=!0),c=c._next,P++}),this.length=P;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,g,P){let F;return null===a?F=this._itTail:(F=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,F,P)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,P))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,F,P)):a=this._addAfter(new C2(c,g),F,P),a}_verifyReinsertion(a,c,g,P){let F=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==F?a=this._reinsertAfter(F,a._prev,P):a.currentIndex!=P&&(a.currentIndex=P,this._addToMoves(a,P)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const P=a._prevRemoved,F=a._nextRemoved;return null===P?this._removalsHead=F:P._nextRemoved=F,null===F?this._removalsTail=P:F._prevRemoved=P,this._insertAfter(a,c,g),this._addToMoves(a,g),a}_moveAfter(a,c,g){return this._unlink(a),this._insertAfter(a,c,g),this._addToMoves(a,g),a}_addAfter(a,c,g){return this._insertAfter(a,c,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,g){const P=null===c?this._itHead:c._next;return a._next=P,a._prev=c,null===P?this._itTail=a:P._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new kA),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,g=a._next;return null===c?this._itHead=g:c._next=g,null===g?this._itTail=c:g._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kA),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class C2{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b2{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===c||c<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const c=a._prevDup,g=a._nextDup;return null===c?this._head=g:c._nextDup=g,null===g?this._tail=c:g._prevDup=c,null===this._head}}class kA{constructor(){this.map=new Map}put(a){const c=a.trackById;let g=this.map.get(c);g||(g=new b2,this.map.set(c,g)),g.add(a)}get(a,c){const P=this.map.get(a);return P?P.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VA(r,a,c){const g=r.previousIndex;if(null===g)return g;let P=0;return c&&g<c.length&&(P=c[g]),g+a+P}class GA{constructor(){}supports(a){return a instanceof Map||tp(a)}create(){return new D2}}class D2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||tp(a)))throw new We(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,P)=>{if(c&&c.key===P)this._maybeAddToChanges(c,g),this._appendAfter=c,c=c._next;else{const F=this._getOrCreateRecordForKey(P,g);c=this._insertBeforeOrAppend(c,F)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let g=c;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const g=a._prev;return c._next=a,c._prev=g,a._prev=c,g&&(g._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const P=this._records.get(a);this._maybeAddToChanges(P,c);const F=P._prev,K=P._next;return F&&(F._next=K),K&&(K._prev=F),P._next=null,P._prev=null,P}const g=new T2(a);return this._records.set(a,g),g.currentValue=c,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(g=>c(a[g],g))}}class T2{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $A(){return new MP([new jA])}let MP=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:$A})}constructor(c){this.factories=c}static create(c,g){if(null!=g){const P=g.factories.slice();c=c.concat(P)}return new r(c)}static extend(c){return{provide:r,useFactory:g=>r.create(c,g||$A()),deps:[[r,new Ea,new yo]]}}find(c){const g=this.factories.find(P=>P.supports(c));if(null!=g)return g;throw new We(901,!1)}}return r})();function WA(){return new IP([new GA])}let IP=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:WA})}constructor(c){this.factories=c}static create(c,g){if(g){const P=g.factories.slice();c=c.concat(P)}return new r(c)}static extend(c){return{provide:r,useFactory:g=>r.create(c,g||WA()),deps:[[r,new Ea,new yo]]}}find(c){const g=this.factories.find(P=>P.supports(c));if(g)return g;throw new We(901,!1)}}return r})();function V2(r){try{const{rootComponent:a,appProviders:c,platformProviders:g}=r,P=function Vd(r=[]){if(mr)return mr;const a=function ya(r=[],a){return ja.create({name:a,providers:[{provide:Yr,useValue:"platform"},{provide:ci,useValue:new Set([()=>mr=null])},...r]})}(r);return mr=a,function s0(){!function Z(r){Y=r}(()=>{throw new We(600,!1)})}(),function Wm(r){r.get(V0,null)?.forEach(c=>c())}(a),a}(g),F=[Ut(),...c||[]],ne=new WE({providers:F,parent:P,debugName:"",runEnvironmentInitializers:!1}).injector,ge=ne.get(go);return ge.run(()=>{ne.resolveInjectorInitializers();const we=ne.get(ka,null);let Ze;ge.runOutsideAngular(()=>{Ze=ge.onError.subscribe({next:rn=>{we.handleError(rn)}})});const bt=()=>ne.destroy(),Jt=P.get(ci);return Jt.add(bt),ne.onDestroy(()=>{Ze.unsubscribe(),Jt.delete(bt)}),function bb(r,a,c){try{const g=c();return e0(g)?g.catch(P=>{throw a.runOutsideAngular(()=>r.handleError(P)),P}):g}catch(g){throw a.runOutsideAngular(()=>r.handleError(g)),g}}(we,ge,()=>{const rn=ne.get(t0);return rn.runInitializers(),rn.donePromise.then(()=>{!function B1(r){"string"==typeof r&&(F1=r.toLowerCase().replace(/_/g,"-"))}(ne.get(ms,Ac)||Ac);const An=ne.get(ed);return void 0!==a&&An.bootstrap(a),An})})})}catch(a){return Promise.reject(a)}}let r2=!1,o2=!1;function K2(){return Bo([{provide:vh,useFactory:()=>{let r=!0;return El()&&(r=!!xs(fd,{optional:!0})?.get(Kl,null)),r&&bl("NgHydration"),r}},{provide:qi,useValue:()=>{o2=!!xs(nu,{optional:!0}),El()&&xs(vh)&&(function z2(){const r=Wl();let a;for(const c of r.body.childNodes)if(c.nodeType===Node.COMMENT_NODE&&c.textContent?.trim()===Pg){a=c;break}if(!a)throw new We(-507,!1)}(),function $2(){r2||(r2=!0,function df(){Rg=oT}(),function oA(){R1=rA}(),function DS(){RC=bS}(),function TI(){DI=w1}(),function TM(){zE=DM}(),function qO(){mE=ZO,y_=QO}(),function AO(){Ic=RO}(),function WT(){Ry=Rh}(),function kI(){Pp=jI}())}())},multi:!0},{provide:Z0,useFactory:()=>El()&&xs(vh)},{provide:n0,useFactory:()=>{if(El()&&xs(vh)){const r=xs(ed);return xs(ja),()=>{(function W2(r,a){return Tb(r)})(r).then(()=>{!function DO(r){const a=r._views;for(const c of a){const g=W0(c);null!==g&&null!==g[mi]&&(si(g)?Uf(g):(Uf(g[mi]),Xy(g)))}}(r)})}}return()=>{}},multi:!0}])}function sw(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function iw(r,a=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?a:Number(r)}function ow(r,a){bl("NgSignals");const c=function H(r){const a=Object.create(q);a.computation=r;const c=()=>{if(T(a),O(a),a.value===J)throw a.error;return a.value};return c[m]=a,c}(r);return a?.equal&&(c[m].equal=a.equal),c}function aw(r){const a=h(null);try{return r()}finally{h(a)}}const lw=new at("",{providedIn:"root",factory:()=>xs(cw)});let cw=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>new dw})}}return r})();class dw{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=xs(Iu),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const c=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(c),this.taskId=null})}}enqueue(a){const c=a.creationZone;this.queues.has(c)||this.queues.set(c,new Set);const g=this.queues.get(c);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,c]of this.queues)null===a?this.flushQueue(c):a.run(()=>this.flushQueue(c))}flushQueue(a){for(const c of a)a.delete(c),this.queuedEffectCount--,c.run()}}class uw{constructor(a,c,g,P,F,K){this.scheduler=a,this.effectFn=c,this.creationZone=g,this.injector=F,this.watcher=function re(r,a,c){const g=Object.create(De);c&&(g.consumerAllowSignalWrites=!0),g.fn=r,g.schedule=a;const P=ge=>{g.cleanupFn=ge};return g.ref={notify:()=>w(g),run:()=>{if(null===g.fn)return;if(function y(){return e}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!I(g))return;g.hasRun=!0;const ge=C(g);try{g.cleanupFn(),g.cleanupFn=ye,g.fn(P)}finally{S(g,ge)}},cleanup:()=>g.cleanupFn(),destroy:()=>function K(ge){(function F(ge){return null===ge.fn&&null===ge.schedule})(ge)||(L(ge),ge.cleanupFn(),ge.fn=null,ge.schedule=null,ge.cleanupFn=ye)}(g),[m]:g},g.ref}(ne=>this.runEffect(ne),()=>this.schedule(),K),this.unregisterOnDestroy=P?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(c){this.injector.get(ka,null,{optional:!0})?.handleError(c)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function p2(r,a){bl("NgSignals"),!a?.injector&&fe();const c=a?.injector??xs(ja),g=!0!==a?.manualCleanup?c.get(ud):null,P=new uw(c.get(lw),r,typeof Zone>"u"?null:Zone.current,g,c,a?.allowSignalWrites??!1),F=c.get(Ki,null,{optional:!0});return F&&8&F._lView[bs]?(F._lView[Al]??=[]).push(P.watcher.notify):P.watcher.notify(),P}function hw(r,a){const c=ni(r),g=a.elementInjector||on();return new Xh(c).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function pw(r){const a=ni(r);if(!a)return null;const c=new Xh(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function fw(...r){return r.reduce((a,c)=>Object.assign(a,c,{providers:[...a.providers,...c.providers]}),{providers:[]})}},89417:(N,b,n)=>{"use strict";n.d(b,{$R:()=>Bi,BC:()=>st,Bm:()=>$s,Fm:()=>tn,J3:()=>xt,JD:()=>co,MJ:()=>xn,Q0:()=>ao,R_:()=>ui,VZ:()=>et,W0:()=>Tr,X1:()=>la,Y4:()=>Fi,YN:()=>Gr,YS:()=>Nt,ZU:()=>mt,Zm:()=>v,cV:()=>nn,cb:()=>Ie,cz:()=>w,hs:()=>fs,j4:()=>ar,k0:()=>I,kq:()=>_,l_:()=>oi,me:()=>T,ok:()=>cr,pg:()=>C,qT:()=>Hs,tU:()=>di,v8:()=>eo,vO:()=>xe,vS:()=>Is,wz:()=>Lo,xH:()=>lr,xh:()=>Gs,xq:()=>Bt,y7:()=>ho,zX:()=>Yo,ze:()=>Xo});var i=n(54438),t=n(60177),l=n(22806),e=n(27468),f=n(96354);let m=(()=>{class Ve{constructor(ie,Ge){this._renderer=ie,this._elementRef=Ge,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(ie,Ge){this._renderer.setProperty(this._elementRef.nativeElement,ie,Ge)}registerOnTouched(ie){this.onTouched=ie}registerOnChange(ie){this.onChange=ie}setDisabledState(ie){this.setProperty("disabled",ie)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:Ve})}}return Ve})(),h=(()=>{class Ve extends m{static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,features:[i.Vt3]})}}return Ve})();const _=new i.nKC(""),y={provide:_,useExisting:(0,i.Rfq)(()=>v),multi:!0};let v=(()=>{class Ve extends h{writeValue(ie){this.setProperty("checked",ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("change",function(zt){return me.onChange(zt.target.checked)})("blur",function(){return me.onTouched()})},features:[i.Jv_([y]),i.Vt3]})}}return Ve})();const D={provide:_,useExisting:(0,i.Rfq)(()=>T),multi:!0},M=new i.nKC("");let T=(()=>{class Ve extends m{constructor(ie,Ge,me){super(ie,Ge),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const Ve=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(Ve.toLowerCase())}())}writeValue(ie){this.setProperty("value",ie??"")}_handleInput(ie){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ie)}_compositionStart(){this._composing=!0}_compositionEnd(ie){this._composing=!1,this._compositionMode&&this.onChange(ie)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(M,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("input",function(zt){return me._handleInput(zt.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(zt){return me._compositionEnd(zt.target.value)})},features:[i.Jv_([D]),i.Vt3]})}}return Ve})();function R(Ve){return null==Ve||("string"==typeof Ve||Array.isArray(Ve))&&0===Ve.length}function u(Ve){return null!=Ve&&"number"==typeof Ve.length}const w=new i.nKC(""),C=new i.nKC(""),S=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class I{static min(Ye){return L(Ye)}static max(Ye){return B(Ye)}static required(Ye){return U(Ye)}static requiredTrue(Ye){return W(Ye)}static email(Ye){return function j(Ve){return R(Ve.value)||S.test(Ve.value)?null:{email:!0}}(Ye)}static minLength(Ye){return G(Ye)}static maxLength(Ye){return H(Ye)}static pattern(Ye){return V(Ye)}static nullValidator(Ye){return null}static compose(Ye){return oe(Ye)}static composeAsync(Ye){return de(Ye)}}function L(Ve){return Ye=>{if(R(Ye.value)||R(Ve))return null;const ie=parseFloat(Ye.value);return!isNaN(ie)&&ie<Ve?{min:{min:Ve,actual:Ye.value}}:null}}function B(Ve){return Ye=>{if(R(Ye.value)||R(Ve))return null;const ie=parseFloat(Ye.value);return!isNaN(ie)&&ie>Ve?{max:{max:Ve,actual:Ye.value}}:null}}function U(Ve){return R(Ve.value)?{required:!0}:null}function W(Ve){return!0===Ve.value?null:{required:!0}}function G(Ve){return Ye=>R(Ye.value)||!u(Ye.value)?null:Ye.value.length<Ve?{minlength:{requiredLength:Ve,actualLength:Ye.value.length}}:null}function H(Ve){return Ye=>u(Ye.value)&&Ye.value.length>Ve?{maxlength:{requiredLength:Ve,actualLength:Ye.value.length}}:null}function V(Ve){if(!Ve)return X;let Ye,ie;return"string"==typeof Ve?(ie="","^"!==Ve.charAt(0)&&(ie+="^"),ie+=Ve,"$"!==Ve.charAt(Ve.length-1)&&(ie+="$"),Ye=new RegExp(ie)):(ie=Ve.toString(),Ye=Ve),Ge=>{if(R(Ge.value))return null;const me=Ge.value;return Ye.test(me)?null:{pattern:{requiredPattern:ie,actualValue:me}}}}function X(Ve){return null}function J(Ve){return null!=Ve}function q(Ve){return(0,i.jNT)(Ve)?(0,l.H)(Ve):Ve}function Q(Ve){let Ye={};return Ve.forEach(ie=>{Ye=null!=ie?{...Ye,...ie}:Ye}),0===Object.keys(Ye).length?null:Ye}function Y(Ve,Ye){return Ye.map(ie=>ie(Ve))}function Z(Ve){return Ve.map(Ye=>function z(Ve){return!Ve.validate}(Ye)?Ye:ie=>Ye.validate(ie))}function oe(Ve){if(!Ve)return null;const Ye=Ve.filter(J);return 0==Ye.length?null:function(ie){return Q(Y(ie,Ye))}}function se(Ve){return null!=Ve?oe(Z(Ve)):null}function de(Ve){if(!Ve)return null;const Ye=Ve.filter(J);return 0==Ye.length?null:function(ie){const Ge=Y(ie,Ye).map(q);return(0,e.p)(Ge).pipe((0,f.T)(Q))}}function te(Ve){return null!=Ve?de(Z(Ve)):null}function le(Ve,Ye){return null===Ve?[Ye]:Array.isArray(Ve)?[...Ve,Ye]:[Ve,Ye]}function Ee(Ve){return Ve._rawValidators}function be(Ve){return Ve._rawAsyncValidators}function pe(Ve){return Ve?Array.isArray(Ve)?Ve:[Ve]:[]}function re(Ve,Ye){return Array.isArray(Ve)?Ve.includes(Ye):Ve===Ye}function ye(Ve,Ye){const ie=pe(Ye);return pe(Ve).forEach(me=>{re(ie,me)||ie.push(me)}),ie}function De(Ve,Ye){return pe(Ye).filter(ie=>!re(Ve,ie))}class nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ye){this._rawValidators=Ye||[],this._composedValidatorFn=se(this._rawValidators)}_setAsyncValidators(Ye){this._rawAsyncValidators=Ye||[],this._composedAsyncValidatorFn=te(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ye){this._onDestroyCallbacks.push(Ye)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ye=>Ye()),this._onDestroyCallbacks=[]}reset(Ye=void 0){this.control&&this.control.reset(Ye)}hasError(Ye,ie){return!!this.control&&this.control.hasError(Ye,ie)}getError(Ye,ie){return this.control?this.control.getError(Ye,ie):null}}class mt extends nt{get formDirective(){return null}get path(){return null}}class xe extends nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ot{constructor(Ye){this._cd=Ye}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let st=(()=>{class Ve extends ot{constructor(ie){super(ie)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(xe,2))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ge,me){2&Ge&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[i.Vt3]})}}return Ve})(),Ie=(()=>{class Ve extends ot{constructor(ie){super(ie)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,10))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ge,me){2&Ge&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[i.Vt3]})}}return Ve})();const Ht="VALID",Kt="INVALID",Pt="PENDING",Ct="DISABLED";function Qt(Ve){return(Ne(Ve)?Ve.validators:Ve)||null}function Lt(Ve,Ye){return(Ne(Ye)?Ye.asyncValidators:Ve)||null}function Ne(Ve){return null!=Ve&&!Array.isArray(Ve)&&"object"==typeof Ve}function ke(Ve,Ye,ie){const Ge=Ve.controls;if(!(Ye?Object.keys(Ge):Ge).length)throw new i.wOt(1e3,"");if(!Ge[ie])throw new i.wOt(1001,"")}function ze(Ve,Ye,ie){Ve._forEachChild((Ge,me)=>{if(void 0===ie[me])throw new i.wOt(1002,"")})}class Ue{constructor(Ye,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ye),this._assignAsyncValidators(ie)}get validator(){return this._composedValidatorFn}set validator(Ye){this._rawValidators=this._composedValidatorFn=Ye}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ye){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ye}get parent(){return this._parent}get valid(){return this.status===Ht}get invalid(){return this.status===Kt}get pending(){return this.status==Pt}get disabled(){return this.status===Ct}get enabled(){return this.status!==Ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ye){this._assignValidators(Ye)}setAsyncValidators(Ye){this._assignAsyncValidators(Ye)}addValidators(Ye){this.setValidators(ye(Ye,this._rawValidators))}addAsyncValidators(Ye){this.setAsyncValidators(ye(Ye,this._rawAsyncValidators))}removeValidators(Ye){this.setValidators(De(Ye,this._rawValidators))}removeAsyncValidators(Ye){this.setAsyncValidators(De(Ye,this._rawAsyncValidators))}hasValidator(Ye){return re(this._rawValidators,Ye)}hasAsyncValidator(Ye){return re(this._rawAsyncValidators,Ye)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ye={}){this.touched=!0,this._parent&&!Ye.onlySelf&&this._parent.markAsTouched(Ye)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ye=>Ye.markAllAsTouched())}markAsUntouched(Ye={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ie=>{ie.markAsUntouched({onlySelf:!0})}),this._parent&&!Ye.onlySelf&&this._parent._updateTouched(Ye)}markAsDirty(Ye={}){this.pristine=!1,this._parent&&!Ye.onlySelf&&this._parent.markAsDirty(Ye)}markAsPristine(Ye={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ie=>{ie.markAsPristine({onlySelf:!0})}),this._parent&&!Ye.onlySelf&&this._parent._updatePristine(Ye)}markAsPending(Ye={}){this.status=Pt,!1!==Ye.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ye.onlySelf&&this._parent.markAsPending(Ye)}disable(Ye={}){const ie=this._parentMarkedDirty(Ye.onlySelf);this.status=Ct,this.errors=null,this._forEachChild(Ge=>{Ge.disable({...Ye,onlySelf:!0})}),this._updateValue(),!1!==Ye.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ye,skipPristineCheck:ie}),this._onDisabledChange.forEach(Ge=>Ge(!0))}enable(Ye={}){const ie=this._parentMarkedDirty(Ye.onlySelf);this.status=Ht,this._forEachChild(Ge=>{Ge.enable({...Ye,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ye.emitEvent}),this._updateAncestors({...Ye,skipPristineCheck:ie}),this._onDisabledChange.forEach(Ge=>Ge(!1))}_updateAncestors(Ye){this._parent&&!Ye.onlySelf&&(this._parent.updateValueAndValidity(Ye),Ye.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ye){this._parent=Ye}getRawValue(){return this.value}updateValueAndValidity(Ye={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ht||this.status===Pt)&&this._runAsyncValidator(Ye.emitEvent)),!1!==Ye.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ye.onlySelf&&this._parent.updateValueAndValidity(Ye)}_updateTreeValidity(Ye={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(Ye)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ye.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ct:Ht}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ye){if(this.asyncValidator){this.status=Pt,this._hasOwnPendingAsyncValidator=!0;const ie=q(this.asyncValidator(this));this._asyncValidationSubscription=ie.subscribe(Ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ge,{emitEvent:Ye})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ye,ie={}){this.errors=Ye,this._updateControlsErrors(!1!==ie.emitEvent)}get(Ye){let ie=Ye;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((Ge,me)=>Ge&&Ge._find(me),this)}getError(Ye,ie){const Ge=ie?this.get(ie):this;return Ge&&Ge.errors?Ge.errors[Ye]:null}hasError(Ye,ie){return!!this.getError(Ye,ie)}get root(){let Ye=this;for(;Ye._parent;)Ye=Ye._parent;return Ye}_updateControlsErrors(Ye){this.status=this._calculateStatus(),Ye&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ye)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Ct:this.errors?Kt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pt)?Pt:this._anyControlsHaveStatus(Kt)?Kt:Ht}_anyControlsHaveStatus(Ye){return this._anyControls(ie=>ie.status===Ye)}_anyControlsDirty(){return this._anyControls(Ye=>Ye.dirty)}_anyControlsTouched(){return this._anyControls(Ye=>Ye.touched)}_updatePristine(Ye={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ye.onlySelf&&this._parent._updatePristine(Ye)}_updateTouched(Ye={}){this.touched=this._anyControlsTouched(),this._parent&&!Ye.onlySelf&&this._parent._updateTouched(Ye)}_registerOnCollectionChange(Ye){this._onCollectionChange=Ye}_setUpdateStrategy(Ye){Ne(Ye)&&null!=Ye.updateOn&&(this._updateOn=Ye.updateOn)}_parentMarkedDirty(Ye){return!Ye&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ye){return null}_assignValidators(Ye){this._rawValidators=Array.isArray(Ye)?Ye.slice():Ye,this._composedValidatorFn=function Et(Ve){return Array.isArray(Ve)?se(Ve):Ve||null}(this._rawValidators)}_assignAsyncValidators(Ye){this._rawAsyncValidators=Array.isArray(Ye)?Ye.slice():Ye,this._composedAsyncValidatorFn=function it(Ve){return Array.isArray(Ve)?te(Ve):Ve||null}(this._rawAsyncValidators)}}class St extends Ue{constructor(Ye,ie,Ge){super(Qt(ie),Lt(Ge,ie)),this.controls=Ye,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ye,ie){return this.controls[Ye]?this.controls[Ye]:(this.controls[Ye]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(Ye,ie,Ge={}){this.registerControl(Ye,ie),this.updateValueAndValidity({emitEvent:Ge.emitEvent}),this._onCollectionChange()}removeControl(Ye,ie={}){this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),delete this.controls[Ye],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(Ye,ie,Ge={}){this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),delete this.controls[Ye],ie&&this.registerControl(Ye,ie),this.updateValueAndValidity({emitEvent:Ge.emitEvent}),this._onCollectionChange()}contains(Ye){return this.controls.hasOwnProperty(Ye)&&this.controls[Ye].enabled}setValue(Ye,ie={}){ze(this,0,Ye),Object.keys(Ye).forEach(Ge=>{ke(this,!0,Ge),this.controls[Ge].setValue(Ye[Ge],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(Ye,ie={}){null!=Ye&&(Object.keys(Ye).forEach(Ge=>{const me=this.controls[Ge];me&&me.patchValue(Ye[Ge],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(Ye={},ie={}){this._forEachChild((Ge,me)=>{Ge.reset(Ye?Ye[me]:null,{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie),this._updateTouched(ie),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(Ye,ie,Ge)=>(Ye[Ge]=ie.getRawValue(),Ye))}_syncPendingControls(){let Ye=this._reduceChildren(!1,(ie,Ge)=>!!Ge._syncPendingControls()||ie);return Ye&&this.updateValueAndValidity({onlySelf:!0}),Ye}_forEachChild(Ye){Object.keys(this.controls).forEach(ie=>{const Ge=this.controls[ie];Ge&&Ye(Ge,ie)})}_setUpControls(){this._forEachChild(Ye=>{Ye.setParent(this),Ye._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ye){for(const[ie,Ge]of Object.entries(this.controls))if(this.contains(ie)&&Ye(Ge))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,Ge,me)=>((Ge.enabled||this.disabled)&&(ie[me]=Ge.value),ie))}_reduceChildren(Ye,ie){let Ge=Ye;return this._forEachChild((me,yt)=>{Ge=ie(Ge,me,yt)}),Ge}_allControlsDisabled(){for(const Ye of Object.keys(this.controls))if(this.controls[Ye].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ye){return this.controls.hasOwnProperty(Ye)?this.controls[Ye]:null}}const xt=St;class Zt extends St{}const Cn=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ss}),ss="always";function us(Ve,Ye){return[...Ye.path,Ve]}function Vs(Ve,Ye,ie=ss){Pn(Ve,Ye),Ye.valueAccessor.writeValue(Ve.value),(Ve.disabled||"always"===ie)&&Ye.valueAccessor.setDisabledState?.(Ve.disabled),function is(Ve,Ye){Ye.valueAccessor.registerOnChange(ie=>{Ve._pendingValue=ie,Ve._pendingChange=!0,Ve._pendingDirty=!0,"change"===Ve.updateOn&&Ys(Ve,Ye)})}(Ve,Ye),function gs(Ve,Ye){const ie=(Ge,me)=>{Ye.valueAccessor.writeValue(Ge),me&&Ye.viewToModelUpdate(Ge)};Ve.registerOnChange(ie),Ye._registerOnDestroy(()=>{Ve._unregisterOnChange(ie)})}(Ve,Ye),function as(Ve,Ye){Ye.valueAccessor.registerOnTouched(()=>{Ve._pendingTouched=!0,"blur"===Ve.updateOn&&Ve._pendingChange&&Ys(Ve,Ye),"submit"!==Ve.updateOn&&Ve.markAsTouched()})}(Ve,Ye),function Yt(Ve,Ye){if(Ye.valueAccessor.setDisabledState){const ie=Ge=>{Ye.valueAccessor.setDisabledState(Ge)};Ve.registerOnDisabledChange(ie),Ye._registerOnDestroy(()=>{Ve._unregisterOnDisabledChange(ie)})}}(Ve,Ye)}function gt(Ve,Ye,ie=!0){const Ge=()=>{};Ye.valueAccessor&&(Ye.valueAccessor.registerOnChange(Ge),Ye.valueAccessor.registerOnTouched(Ge)),kn(Ve,Ye),Ve&&(Ye._invokeOnDestroyCallbacks(),Ve._registerOnCollectionChange(()=>{}))}function lt(Ve,Ye){Ve.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(Ye)})}function Pn(Ve,Ye){const ie=Ee(Ve);null!==Ye.validator?Ve.setValidators(le(ie,Ye.validator)):"function"==typeof ie&&Ve.setValidators([ie]);const Ge=be(Ve);null!==Ye.asyncValidator?Ve.setAsyncValidators(le(Ge,Ye.asyncValidator)):"function"==typeof Ge&&Ve.setAsyncValidators([Ge]);const me=()=>Ve.updateValueAndValidity();lt(Ye._rawValidators,me),lt(Ye._rawAsyncValidators,me)}function kn(Ve,Ye){let ie=!1;if(null!==Ve){if(null!==Ye.validator){const me=Ee(Ve);if(Array.isArray(me)&&me.length>0){const yt=me.filter(zt=>zt!==Ye.validator);yt.length!==me.length&&(ie=!0,Ve.setValidators(yt))}}if(null!==Ye.asyncValidator){const me=be(Ve);if(Array.isArray(me)&&me.length>0){const yt=me.filter(zt=>zt!==Ye.asyncValidator);yt.length!==me.length&&(ie=!0,Ve.setAsyncValidators(yt))}}}const Ge=()=>{};return lt(Ye._rawValidators,Ge),lt(Ye._rawAsyncValidators,Ge),ie}function Ys(Ve,Ye){Ve._pendingDirty&&Ve.markAsDirty(),Ve.setValue(Ve._pendingValue,{emitModelToViewChange:!1}),Ye.viewToModelUpdate(Ve._pendingValue),Ve._pendingChange=!1}function Ss(Ve,Ye){Pn(Ve,Ye)}function ft(Ve,Ye){if(!Ve.hasOwnProperty("model"))return!1;const ie=Ve.model;return!!ie.isFirstChange()||!Object.is(Ye,ie.currentValue)}function Ke(Ve,Ye){Ve._syncPendingControls(),Ye.forEach(ie=>{const Ge=ie.control;"submit"===Ge.updateOn&&Ge._pendingChange&&(ie.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1)})}function en(Ve,Ye){if(!Ye)return null;let ie,Ge,me;return Array.isArray(Ye),Ye.forEach(yt=>{yt.constructor===T?ie=yt:function Gt(Ve){return Object.getPrototypeOf(Ve.constructor)===h}(yt)?Ge=yt:me=yt}),me||Ge||ie||null}const vt={provide:mt,useExisting:(0,i.Rfq)(()=>nn)},jt=Promise.resolve();let nn=(()=>{class Ve extends mt{constructor(ie,Ge,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new St({},se(ie),te(Ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ie){jt.then(()=>{const Ge=this._findContainer(ie.path);ie.control=Ge.registerControl(ie.name,ie.control),Vs(ie.control,ie,this.callSetDisabledState),ie.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ie)})}getControl(ie){return this.form.get(ie.path)}removeControl(ie){jt.then(()=>{const Ge=this._findContainer(ie.path);Ge&&Ge.removeControl(ie.name),this._directives.delete(ie)})}addFormGroup(ie){jt.then(()=>{const Ge=this._findContainer(ie.path),me=new St({});Ss(me,ie),Ge.registerControl(ie.name,me),me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ie){jt.then(()=>{const Ge=this._findContainer(ie.path);Ge&&Ge.removeControl(ie.name)})}getFormGroup(ie){return this.form.get(ie.path)}updateModel(ie,Ge){jt.then(()=>{this.form.get(ie.path).setValue(Ge)})}setValue(ie){this.control.setValue(ie)}onSubmit(ie){return this.submitted=!0,Ke(this.form,this._directives),this.ngSubmit.emit(ie),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ie){return ie.pop(),ie.length?this.form.get(ie):this.form}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(w,10),i.rXU(C,10),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("submit",function(zt){return me.onSubmit(zt)})("reset",function(){return me.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([vt]),i.Vt3]})}}return Ve})();function Dn(Ve,Ye){const ie=Ve.indexOf(Ye);ie>-1&&Ve.splice(ie,1)}function Vn(Ve){return"object"==typeof Ve&&null!==Ve&&2===Object.keys(Ve).length&&"value"in Ve&&"disabled"in Ve}const xn=class extends Ue{constructor(Ye=null,ie,Ge){super(Qt(ie),Lt(Ge,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ye),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ne(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=Vn(Ye)?Ye.value:Ye)}setValue(Ye,ie={}){this.value=this._pendingValue=Ye,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(Ge=>Ge(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(Ye,ie={}){this.setValue(Ye,ie)}reset(Ye=this.defaultValue,ie={}){this._applyFormState(Ye),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(Ye){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ye){this._onChange.push(Ye)}_unregisterOnChange(Ye){Dn(this._onChange,Ye)}registerOnDisabledChange(Ye){this._onDisabledChange.push(Ye)}_unregisterOnDisabledChange(Ye){Dn(this._onDisabledChange,Ye)}_forEachChild(Ye){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ye){Vn(Ye)?(this.value=this._pendingValue=Ye.value,Ye.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ye}},fs=xn;let ys=(()=>{class Ve extends mt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return us(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,features:[i.Vt3]})}}return Ve})();const Ai={provide:mt,useExisting:(0,i.Rfq)(()=>Fi)};let Fi=(()=>{class Ve extends ys{constructor(ie,Ge,me){super(),this.name="",this._parent=ie,this._setValidators(Ge),this._setAsyncValidators(me)}_checkParentType(){}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,5),i.rXU(w,10),i.rXU(C,10))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","ngModelGroup",""]],inputs:{name:[i.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Ai]),i.Vt3]})}}return Ve})();const wr={provide:xe,useExisting:(0,i.Rfq)(()=>Is)},Qi=Promise.resolve();let Is=(()=>{class Ve extends xe{constructor(ie,Ge,me,yt,zt,En){super(),this._changeDetectorRef=zt,this.callSetDisabledState=En,this.control=new xn,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=ie,this._setValidators(Ge),this._setAsyncValidators(me),this.valueAccessor=en(0,yt)}ngOnChanges(ie){if(this._checkForErrors(),!this._registered||"name"in ie){if(this._registered&&(this._checkName(),this.formDirective)){const Ge=ie.name.previousValue;this.formDirective.removeControl({name:Ge,path:this._getPath(Ge)})}this._setUpControl()}"isDisabled"in ie&&this._updateDisabled(ie),ft(ie,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ie){Qi.then(()=>{this.control.setValue(ie,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ie){const Ge=ie.isDisabled.currentValue,me=0!==Ge&&(0,i.L39)(Ge);Qi.then(()=>{me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ie){return this._parent?us(ie,this._parent):[ie]}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,9),i.rXU(w,10),i.rXU(C,10),i.rXU(_,10),i.rXU(i.gRc,8),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([wr]),i.Vt3,i.OA$]})}}return Ve})(),Hs=(()=>{class Ve{static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ve})();const $i={provide:_,useExisting:(0,i.Rfq)(()=>ao),multi:!0};let ao=(()=>{class Ve extends h{writeValue(ie){this.setProperty("value",ie??"")}registerOnChange(ie){this.onChange=Ge=>{ie(""==Ge?null:parseFloat(Ge))}}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("input",function(zt){return me.onChange(zt.target.value)})("blur",function(){return me.onTouched()})},features:[i.Jv_([$i]),i.Vt3]})}}return Ve})();const Di={provide:_,useExisting:(0,i.Rfq)(()=>tn),multi:!0};let gn=(()=>{class Ve{constructor(){this._accessors=[]}add(ie,Ge){this._accessors.push([ie,Ge])}remove(ie){for(let Ge=this._accessors.length-1;Ge>=0;--Ge)if(this._accessors[Ge][1]===ie)return void this._accessors.splice(Ge,1)}select(ie){this._accessors.forEach(Ge=>{this._isSameGroup(Ge,ie)&&Ge[1]!==ie&&Ge[1].fireUncheck(ie.value)})}_isSameGroup(ie,Ge){return!!ie[0].control&&ie[0]._parent===Ge._control._parent&&ie[1].name===Ge.name}static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),tn=(()=>{class Ve extends h{constructor(ie,Ge,me,yt){super(ie,Ge),this._registry=me,this._injector=yt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Cn,{optional:!0})??ss}ngOnInit(){this._control=this._injector.get(xe),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ie){this._state=ie===this.value,this.setProperty("checked",this._state)}registerOnChange(ie){this._fn=ie,this.onChange=()=>{ie(this.value),this._registry.select(this)}}setDisabledState(ie){(this.setDisabledStateFired||ie||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ie),this.setDisabledStateFired=!0}fireUncheck(ie){this.writeValue(ie)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(gn),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("change",function(){return me.onChange()})("blur",function(){return me.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Di]),i.Vt3]})}}return Ve})();const Wn=new i.nKC(""),_s={provide:xe,useExisting:(0,i.Rfq)(()=>oi)};let oi=(()=>{class Ve extends xe{set isDisabled(ie){}static{this._ngModelWarningSentOnce=!1}constructor(ie,Ge,me,yt,zt){super(),this._ngModelWarningConfig=yt,this.callSetDisabledState=zt,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(ie),this._setAsyncValidators(Ge),this.valueAccessor=en(0,me)}ngOnChanges(ie){if(this._isControlChanged(ie)){const Ge=ie.form.previousValue;Ge&&gt(Ge,this,!1),Vs(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ft(ie,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_isControlChanged(ie){return ie.hasOwnProperty("form")}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(w,10),i.rXU(C,10),i.rXU(_,10),i.rXU(Wn,8),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([_s]),i.Vt3,i.OA$]})}}return Ve})();const Ci={provide:mt,useExisting:(0,i.Rfq)(()=>ar)};let ar=(()=>{class Ve extends mt{constructor(ie,Ge,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(ie),this._setAsyncValidators(Ge)}ngOnChanges(ie){this._checkFormPresent(),ie.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ie){const Ge=this.form.get(ie.path);return Vs(Ge,ie,this.callSetDisabledState),Ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(ie),Ge}getControl(ie){return this.form.get(ie.path)}removeControl(ie){gt(ie.control||null,ie,!1),function at(Ve,Ye){const ie=Ve.indexOf(Ye);ie>-1&&Ve.splice(ie,1)}(this.directives,ie)}addFormGroup(ie){this._setUpFormContainer(ie)}removeFormGroup(ie){this._cleanUpFormContainer(ie)}getFormGroup(ie){return this.form.get(ie.path)}addFormArray(ie){this._setUpFormContainer(ie)}removeFormArray(ie){this._cleanUpFormContainer(ie)}getFormArray(ie){return this.form.get(ie.path)}updateModel(ie,Ge){this.form.get(ie.path).setValue(Ge)}onSubmit(ie){return this.submitted=!0,Ke(this.form,this.directives),this.ngSubmit.emit(ie),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this.submitted=!1}_updateDomValue(){this.directives.forEach(ie=>{const Ge=ie.control,me=this.form.get(ie.path);Ge!==me&&(gt(Ge||null,ie),(Ve=>Ve instanceof xn)(me)&&(Vs(me,ie,this.callSetDisabledState),ie.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ie){const Ge=this.form.get(ie.path);Ss(Ge,ie),Ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ie){if(this.form){const Ge=this.form.get(ie.path);Ge&&function os(Ve,Ye){return kn(Ve,Ye)}(Ge,ie)&&Ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pn(this.form,this),this._oldForm&&kn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(w,10),i.rXU(C,10),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formGroup",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("submit",function(zt){return me.onSubmit(zt)})("reset",function(){return me.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ci]),i.Vt3,i.OA$]})}}return Ve})();const pi={provide:mt,useExisting:(0,i.Rfq)(()=>Bi)};let Bi=(()=>{class Ve extends ys{constructor(ie,Ge,me){super(),this.name=null,this._parent=ie,this._setValidators(Ge),this._setAsyncValidators(me)}_checkParentType(){Lr(this._parent)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,13),i.rXU(w,10),i.rXU(C,10))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([pi]),i.Vt3]})}}return Ve})();const lo={provide:mt,useExisting:(0,i.Rfq)(()=>eo)};let eo=(()=>{class Ve extends mt{constructor(ie,Ge,me){super(),this.name=null,this._parent=ie,this._setValidators(Ge),this._setAsyncValidators(me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return us(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Lr(this._parent)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,13),i.rXU(w,10),i.rXU(C,10))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([lo]),i.Vt3]})}}return Ve})();function Lr(Ve){return!(Ve instanceof Bi||Ve instanceof ar||Ve instanceof eo)}const Io={provide:xe,useExisting:(0,i.Rfq)(()=>co)};let co=(()=>{class Ve extends xe{set isDisabled(ie){}static{this._ngModelWarningSentOnce=!1}constructor(ie,Ge,me,yt,zt){super(),this._ngModelWarningConfig=zt,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=ie,this._setValidators(Ge),this._setAsyncValidators(me),this.valueAccessor=en(0,yt)}ngOnChanges(ie){this._added||this._setUpControl(),ft(ie,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}get path(){return us(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(mt,13),i.rXU(w,10),i.rXU(C,10),i.rXU(_,10),i.rXU(Wn,8))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Io]),i.Vt3,i.OA$]})}}return Ve})();const kr={provide:_,useExisting:(0,i.Rfq)(()=>Lo),multi:!0};function uo(Ve,Ye){return null==Ve?`${Ye}`:(Ye&&"object"==typeof Ye&&(Ye="Object"),`${Ve}: ${Ye}`.slice(0,50))}let Lo=(()=>{class Ve extends h{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ie){this._compareWith=ie}writeValue(ie){this.value=ie;const me=uo(this._getOptionId(ie),ie);this.setProperty("value",me)}registerOnChange(ie){this.onChange=Ge=>{this.value=this._getOptionValue(Ge),ie(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ie){for(const Ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ge),ie))return Ge;return null}_getOptionValue(ie){const Ge=function wi(Ve){return Ve.split(":")[0]}(ie);return this._optionMap.has(Ge)?this._optionMap.get(Ge):ie}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("change",function(zt){return me.onChange(zt.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([kr]),i.Vt3]})}}return Ve})(),lr=(()=>{class Ve{constructor(ie,Ge,me){this._element=ie,this._renderer=Ge,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(ie){null!=this._select&&(this._select._optionMap.set(this.id,ie),this._setElementValue(uo(this.id,ie)),this._select.writeValue(this._select.value))}set value(ie){this._setElementValue(ie),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ie){this._renderer.setProperty(this._element.nativeElement,"value",ie)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Lo,9))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ve})();const Hr={provide:_,useExisting:(0,i.Rfq)(()=>Tr),multi:!0};function xs(Ve,Ye){return null==Ve?`${Ye}`:("string"==typeof Ye&&(Ye=`'${Ye}'`),Ye&&"object"==typeof Ye&&(Ye="Object"),`${Ve}: ${Ye}`.slice(0,50))}let Tr=(()=>{class Ve extends h{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ie){this._compareWith=ie}writeValue(ie){let Ge;if(this.value=ie,Array.isArray(ie)){const me=ie.map(yt=>this._getOptionId(yt));Ge=(yt,zt)=>{yt._setSelected(me.indexOf(zt.toString())>-1)}}else Ge=(me,yt)=>{me._setSelected(!1)};this._optionMap.forEach(Ge)}registerOnChange(ie){this.onChange=Ge=>{const me=[],yt=Ge.selectedOptions;if(void 0!==yt){const zt=yt;for(let En=0;En<zt.length;En++){const cs=this._getOptionValue(zt[En].value);me.push(cs)}}else{const zt=Ge.options;for(let En=0;En<zt.length;En++){const Yn=zt[En];if(Yn.selected){const cs=this._getOptionValue(Yn.value);me.push(cs)}}}this.value=me,ie(me)}}_registerOption(ie){const Ge=(this._idCounter++).toString();return this._optionMap.set(Ge,ie),Ge}_getOptionId(ie){for(const Ge of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ge)._value,ie))return Ge;return null}_getOptionValue(ie){const Ge=function to(Ve){return Ve.split(":")[0]}(ie);return this._optionMap.has(Ge)?this._optionMap.get(Ge)._value:ie}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ge,me){1&Ge&&i.bIt("change",function(zt){return me.onChange(zt.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Hr]),i.Vt3]})}}return Ve})(),ho=(()=>{class Ve{constructor(ie,Ge,me){this._element=ie,this._renderer=Ge,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ie){null!=this._select&&(this._value=ie,this._setElementValue(xs(this.id,ie)),this._select.writeValue(this._select.value))}set value(ie){this._select?(this._value=ie,this._setElementValue(xs(this.id,ie)),this._select.writeValue(this._select.value)):this._setElementValue(ie)}_setElementValue(ie){this._renderer.setProperty(this._element.nativeElement,"value",ie)}_setSelected(ie){this._renderer.setProperty(this._element.nativeElement,"selected",ie)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ge){return new(Ge||Ve)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Tr,9))}}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ve})();function zo(Ve){return"number"==typeof Ve?Ve:parseInt(Ve,10)}function vo(Ve){return"number"==typeof Ve?Ve:parseFloat(Ve)}let zr=(()=>{class Ve{constructor(){this._validator=X}ngOnChanges(ie){if(this.inputName in ie){const Ge=this.normalizeInput(ie[this.inputName].currentValue);this._enabled=this.enabled(Ge),this._validator=this._enabled?this.createValidator(Ge):X,this._onChange&&this._onChange()}}validate(ie){return this._validator(ie)}registerOnValidatorChange(ie){this._onChange=ie}enabled(ie){return null!=ie}static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275dir=i.FsC({type:Ve,features:[i.OA$]})}}return Ve})();const yo={provide:w,useExisting:(0,i.Rfq)(()=>Yo),multi:!0};let Yo=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ie=>vo(ie),this.createValidator=ie=>B(ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("max",me._enabled?me.max:null)},inputs:{max:"max"},features:[i.Jv_([yo]),i.Vt3]})}}return Ve})();const Ea={provide:w,useExisting:(0,i.Rfq)(()=>et),multi:!0};let et=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ie=>vo(ie),this.createValidator=ie=>L(ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("min",me._enabled?me.min:null)},inputs:{min:"min"},features:[i.Jv_([Ea]),i.Vt3]})}}return Ve})();const qe={provide:w,useExisting:(0,i.Rfq)(()=>Nt),multi:!0},rt={provide:w,useExisting:(0,i.Rfq)(()=>Bt),multi:!0};let Nt=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=ie=>U}enabled(ie){return ie}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("required",me._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([qe]),i.Vt3]})}}return Ve})(),Bt=(()=>{class Ve extends Nt{constructor(){super(...arguments),this.createValidator=ie=>W}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("required",me._enabled?"":null)},features:[i.Jv_([rt]),i.Vt3]})}}return Ve})();const Es={provide:w,useExisting:(0,i.Rfq)(()=>Gs),multi:!0};let Gs=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ie=>zo(ie),this.createValidator=ie=>G(ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("minlength",me._enabled?me.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Es]),i.Vt3]})}}return Ve})();const Cs={provide:w,useExisting:(0,i.Rfq)(()=>di),multi:!0};let di=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ie=>zo(ie),this.createValidator=ie=>H(ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("maxlength",me._enabled?me.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Cs]),i.Vt3]})}}return Ve})();const Hi={provide:w,useExisting:(0,i.Rfq)(()=>ui),multi:!0};let ui=(()=>{class Ve extends zr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=ie=>ie,this.createValidator=ie=>V(ie)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275dir=i.FsC({type:Ve,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(Ge,me){2&Ge&&i.BMQ("pattern",me._enabled?me.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([Hi]),i.Vt3]})}}return Ve})(),Er=(()=>{class Ve{static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275mod=i.$C({type:Ve})}static{this.\u0275inj=i.G2t({})}}return Ve})();class Zi extends Ue{constructor(Ye,ie,Ge){super(Qt(ie),Lt(Ge,ie)),this.controls=Ye,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ye){return this.controls[this._adjustIndex(Ye)]}push(Ye,ie={}){this.controls.push(Ye),this._registerControl(Ye),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}insert(Ye,ie,Ge={}){this.controls.splice(Ye,0,ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:Ge.emitEvent})}removeAt(Ye,ie={}){let Ge=this._adjustIndex(Ye);Ge<0&&(Ge=0),this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),this.controls.splice(Ge,1),this.updateValueAndValidity({emitEvent:ie.emitEvent})}setControl(Ye,ie,Ge={}){let me=this._adjustIndex(Ye);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),ie&&(this.controls.splice(me,0,ie),this._registerControl(ie)),this.updateValueAndValidity({emitEvent:Ge.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ye,ie={}){ze(this,0,Ye),Ye.forEach((Ge,me)=>{ke(this,!1,me),this.at(me).setValue(Ge,{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(Ye,ie={}){null!=Ye&&(Ye.forEach((Ge,me)=>{this.at(me)&&this.at(me).patchValue(Ge,{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(Ye=[],ie={}){this._forEachChild((Ge,me)=>{Ge.reset(Ye[me],{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie),this._updateTouched(ie),this.updateValueAndValidity(ie)}getRawValue(){return this.controls.map(Ye=>Ye.getRawValue())}clear(Ye={}){this.controls.length<1||(this._forEachChild(ie=>ie._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ye.emitEvent}))}_adjustIndex(Ye){return Ye<0?Ye+this.length:Ye}_syncPendingControls(){let Ye=this.controls.reduce((ie,Ge)=>!!Ge._syncPendingControls()||ie,!1);return Ye&&this.updateValueAndValidity({onlySelf:!0}),Ye}_forEachChild(Ye){this.controls.forEach((ie,Ge)=>{Ye(ie,Ge)})}_updateValue(){this.value=this.controls.filter(Ye=>Ye.enabled||this.disabled).map(Ye=>Ye.value)}_anyControls(Ye){return this.controls.some(ie=>ie.enabled&&Ye(ie))}_setUpControls(){this._forEachChild(Ye=>this._registerControl(Ye))}_allControlsDisabled(){for(const Ye of this.controls)if(Ye.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ye){Ye.setParent(this),Ye._registerOnCollectionChange(this._onCollectionChange)}_find(Ye){return this.at(Ye)??null}}const $s=Zi;function Vr(Ve){return!!Ve&&(void 0!==Ve.asyncValidators||void 0!==Ve.validators||void 0!==Ve.updateOn)}let cr=(()=>{class Ve{constructor(){this.useNonNullable=!1}get nonNullable(){const ie=new Ve;return ie.useNonNullable=!0,ie}group(ie,Ge=null){const me=this._reduceControls(ie);let yt={};return Vr(Ge)?yt=Ge:null!==Ge&&(yt.validators=Ge.validator,yt.asyncValidators=Ge.asyncValidator),new St(me,yt)}record(ie,Ge=null){const me=this._reduceControls(ie);return new Zt(me,Ge)}control(ie,Ge,me){let yt={};return this.useNonNullable?(Vr(Ge)?yt=Ge:(yt.validators=Ge,yt.asyncValidators=me),new xn(ie,{...yt,nonNullable:!0})):new xn(ie,Ge,me)}array(ie,Ge,me){const yt=ie.map(zt=>this._createControl(zt));return new Zi(yt,Ge,me)}_reduceControls(ie){const Ge={};return Object.keys(ie).forEach(me=>{Ge[me]=this._createControl(ie[me])}),Ge}_createControl(ie){return ie instanceof xn||ie instanceof Ue?ie:Array.isArray(ie)?this.control(ie[0],ie.length>1?ie[1]:null,ie.length>2?ie[2]:null):this.control(ie)}static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),Xo=(()=>{class Ve extends cr{group(ie,Ge=null){return super.group(ie,Ge)}control(ie,Ge,me){return super.control(ie,Ge,me)}array(ie,Ge,me){return super.array(ie,Ge,me)}static{this.\u0275fac=(()=>{let ie;return function(me){return(ie||(ie=i.xGo(Ve)))(me||Ve)}})()}static{this.\u0275prov=i.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),Gr=(()=>{class Ve{static withConfig(ie){return{ngModule:Ve,providers:[{provide:Cn,useValue:ie.callSetDisabledState??ss}]}}static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275mod=i.$C({type:Ve})}static{this.\u0275inj=i.G2t({imports:[Er]})}}return Ve})(),la=(()=>{class Ve{static withConfig(ie){return{ngModule:Ve,providers:[{provide:Wn,useValue:ie.warnOnNgModelWithFormControl??"always"},{provide:Cn,useValue:ie.callSetDisabledState??ss}]}}static{this.\u0275fac=function(Ge){return new(Ge||Ve)}}static{this.\u0275mod=i.$C({type:Ve})}static{this.\u0275inj=i.G2t({imports:[Er]})}}return Ve})()},345:(N,b,n)=>{"use strict";n.d(b,{$x:()=>Qt,B7:()=>G,B8:()=>te,EZ:()=>Tt,W8:()=>Fe,hE:()=>Ie,kQ:()=>an,up:()=>qt});var i=n(54438),t=n(60177),l=n(21626);class e extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends e{static makeCurrent(){(0,t.ZD)(new f)}onAndCancel(ke,ze,Ue){return ke.addEventListener(ze,Ue),()=>{ke.removeEventListener(ze,Ue)}}dispatchEvent(ke,ze){ke.dispatchEvent(ze)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,ze){return(ze=ze||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,ze){return"window"===ze?window:"document"===ze?ke:"body"===ze?ke.body:null}getBaseHref(ke){const ze=function h(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==ze?null:function _(Ne){return new URL(Ne,document.baseURI).pathname}(ze)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,t._b)(document.cookie,ke)}}let m=null,v=(()=>{class Ne{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Ue){return new(Ue||Ne)}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const D=new i.nKC("");let O=(()=>{class Ne{constructor(ze,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,ze.forEach(St=>{St.manager=this}),this._plugins=ze.slice().reverse()}addEventListener(ze,Ue,St){return this._findPluginFor(Ue).addEventListener(ze,Ue,St)}getZone(){return this._zone}_findPluginFor(ze){let Ue=this._eventNameToPlugin.get(ze);if(Ue)return Ue;if(Ue=this._plugins.find(Qe=>Qe.supports(ze)),!Ue)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(ze,Ue),Ue}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(D),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class M{constructor(ke){this._doc=ke}}const T="ng-app-id";let R=(()=>{class Ne{constructor(ze,Ue,St,Qe={}){this.doc=ze,this.appId=Ue,this.nonce=St,this.platformId=Qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(Qe),this.resetHostNodes()}addStyles(ze){for(const Ue of ze)1===this.changeUsageCount(Ue,1)&&this.onStyleAdded(Ue)}removeStyles(ze){for(const Ue of ze)this.changeUsageCount(Ue,-1)<=0&&this.onStyleRemoved(Ue)}ngOnDestroy(){const ze=this.styleNodesInDOM;ze&&(ze.forEach(Ue=>Ue.remove()),ze.clear());for(const Ue of this.getAllStyles())this.onStyleRemoved(Ue);this.resetHostNodes()}addHost(ze){this.hostNodes.add(ze);for(const Ue of this.getAllStyles())this.addStyleToHost(ze,Ue)}removeHost(ze){this.hostNodes.delete(ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ze){for(const Ue of this.hostNodes)this.addStyleToHost(Ue,ze)}onStyleRemoved(ze){const Ue=this.styleRef;Ue.get(ze)?.elements?.forEach(St=>St.remove()),Ue.delete(ze)}collectServerRenderedStyles(){const ze=this.doc.head?.querySelectorAll(`style[${T}="${this.appId}"]`);if(ze?.length){const Ue=new Map;return ze.forEach(St=>{null!=St.textContent&&Ue.set(St.textContent,St)}),Ue}return null}changeUsageCount(ze,Ue){const St=this.styleRef;if(St.has(ze)){const Qe=St.get(ze);return Qe.usage+=Ue,Qe.usage}return St.set(ze,{usage:Ue,elements:[]}),Ue}getStyleElement(ze,Ue){const St=this.styleNodesInDOM,Qe=St?.get(Ue);if(Qe?.parentNode===ze)return St.delete(Ue),Qe.removeAttribute(T),Qe;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=Ue,this.platformIsServer&&xt.setAttribute(T,this.appId),ze.appendChild(xt),xt}}addStyleToHost(ze,Ue){const St=this.getStyleElement(ze,Ue),Qe=this.styleRef,xt=Qe.get(Ue)?.elements;xt?xt.push(St):Qe.set(Ue,{elements:[St],usage:1})}resetHostNodes(){const ze=this.hostNodes;ze.clear(),ze.add(this.doc.head)}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},w=/%COMP%/g,C="%COMP%",S=`_nghost-${C}`,I=`_ngcontent-${C}`,B=new i.nKC("",{providedIn:"root",factory:()=>!0});function j(Ne,ke){return ke.map(ze=>ze.replace(w,Ne))}let G=(()=>{class Ne{constructor(ze,Ue,St,Qe,xt,_t,Zt,fn=null){this.eventManager=ze,this.sharedStylesHost=Ue,this.appId=St,this.removeStylesOnCompDestroy=Qe,this.doc=xt,this.platformId=_t,this.ngZone=Zt,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(_t),this.defaultRenderer=new H(ze,xt,Zt,this.platformIsServer)}createRenderer(ze,Ue){if(!ze||!Ue)return this.defaultRenderer;this.platformIsServer&&Ue.encapsulation===i.gXe.ShadowDom&&(Ue={...Ue,encapsulation:i.gXe.Emulated});const St=this.getOrCreateRenderer(ze,Ue);return St instanceof Y?St.applyToHost(ze):St instanceof Q&&St.applyStyles(),St}getOrCreateRenderer(ze,Ue){const St=this.rendererByCompId;let Qe=St.get(Ue.id);if(!Qe){const xt=this.doc,_t=this.ngZone,Zt=this.eventManager,fn=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,ss=this.platformIsServer;switch(Ue.encapsulation){case i.gXe.Emulated:Qe=new Y(Zt,fn,Ue,this.appId,Cn,xt,_t,ss);break;case i.gXe.ShadowDom:return new q(Zt,fn,ze,Ue,xt,_t,this.nonce,ss);default:Qe=new Q(Zt,fn,Ue,Cn,xt,_t,ss)}St.set(Ue.id,Qe)}return Qe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(O),i.KVO(R),i.KVO(i.sZ2),i.KVO(B),i.KVO(t.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class H{constructor(ke,ze,Ue,St){this.eventManager=ke,this.doc=ze,this.ngZone=Ue,this.platformIsServer=St,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ke,ze){return ze?this.doc.createElementNS(u[ze]||ze,ke):this.doc.createElement(ke)}createComment(ke){return this.doc.createComment(ke)}createText(ke){return this.doc.createTextNode(ke)}appendChild(ke,ze){(J(ke)?ke.content:ke).appendChild(ze)}insertBefore(ke,ze,Ue){ke&&(J(ke)?ke.content:ke).insertBefore(ze,Ue)}removeChild(ke,ze){ke&&ke.removeChild(ze)}selectRootElement(ke,ze){let Ue="string"==typeof ke?this.doc.querySelector(ke):ke;if(!Ue)throw new i.wOt(-5104,!1);return ze||(Ue.textContent=""),Ue}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,ze,Ue,St){if(St){ze=St+":"+ze;const Qe=u[St];Qe?ke.setAttributeNS(Qe,ze,Ue):ke.setAttribute(ze,Ue)}else ke.setAttribute(ze,Ue)}removeAttribute(ke,ze,Ue){if(Ue){const St=u[Ue];St?ke.removeAttributeNS(St,ze):ke.removeAttribute(`${Ue}:${ze}`)}else ke.removeAttribute(ze)}addClass(ke,ze){ke.classList.add(ze)}removeClass(ke,ze){ke.classList.remove(ze)}setStyle(ke,ze,Ue,St){St&(i.czy.DashCase|i.czy.Important)?ke.style.setProperty(ze,Ue,St&i.czy.Important?"important":""):ke.style[ze]=Ue}removeStyle(ke,ze,Ue){Ue&i.czy.DashCase?ke.style.removeProperty(ze):ke.style[ze]=""}setProperty(ke,ze,Ue){null!=ke&&(ke[ze]=Ue)}setValue(ke,ze){ke.nodeValue=ze}listen(ke,ze,Ue){if("string"==typeof ke&&!(ke=(0,t.QT)().getGlobalEventTarget(this.doc,ke)))throw new Error(`Unsupported event target ${ke} for event ${ze}`);return this.eventManager.addEventListener(ke,ze,this.decoratePreventDefault(Ue))}decoratePreventDefault(ke){return ze=>{if("__ngUnwrap__"===ze)return ke;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ke(ze)):ke(ze))&&ze.preventDefault()}}}function J(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class q extends H{constructor(ke,ze,Ue,St,Qe,xt,_t,Zt){super(ke,Qe,xt,Zt),this.sharedStylesHost=ze,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=j(St.id,St.styles);for(const Cn of fn){const ss=document.createElement("style");_t&&ss.setAttribute("nonce",_t),ss.textContent=Cn,this.shadowRoot.appendChild(ss)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}appendChild(ke,ze){return super.appendChild(this.nodeOrShadowRoot(ke),ze)}insertBefore(ke,ze,Ue){return super.insertBefore(this.nodeOrShadowRoot(ke),ze,Ue)}removeChild(ke,ze){return super.removeChild(this.nodeOrShadowRoot(ke),ze)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Q extends H{constructor(ke,ze,Ue,St,Qe,xt,_t,Zt){super(ke,Qe,xt,_t),this.sharedStylesHost=ze,this.removeStylesOnCompDestroy=St,this.styles=Zt?j(Zt,Ue.styles):Ue.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Y extends Q{constructor(ke,ze,Ue,St,Qe,xt,_t,Zt){const fn=St+"-"+Ue.id;super(ke,ze,Ue,Qe,xt,_t,Zt,fn),this.contentAttr=function U(Ne){return I.replace(w,Ne)}(fn),this.hostAttr=function W(Ne){return S.replace(w,Ne)}(fn)}applyToHost(ke){this.applyStyles(),this.setAttribute(ke,this.hostAttr,"")}createElement(ke,ze){const Ue=super.createElement(ke,ze);return super.setAttribute(Ue,this.contentAttr,""),Ue}}let z=(()=>{class Ne extends M{constructor(ze){super(ze)}supports(ze){return!0}addEventListener(ze,Ue,St){return ze.addEventListener(Ue,St,!1),()=>this.removeEventListener(ze,Ue,St)}removeEventListener(ze,Ue,St){return ze.removeEventListener(Ue,St)}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const Z=["alt","control","meta","shift"],oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let de=(()=>{class Ne extends M{constructor(ze){super(ze)}supports(ze){return null!=Ne.parseEventName(ze)}addEventListener(ze,Ue,St){const Qe=Ne.parseEventName(Ue),xt=Ne.eventCallback(Qe.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(ze,Qe.domEventName,xt))}static parseEventName(ze){const Ue=ze.toLowerCase().split("."),St=Ue.shift();if(0===Ue.length||"keydown"!==St&&"keyup"!==St)return null;const Qe=Ne._normalizeKey(Ue.pop());let xt="",_t=Ue.indexOf("code");if(_t>-1&&(Ue.splice(_t,1),xt="code."),Z.forEach(fn=>{const Cn=Ue.indexOf(fn);Cn>-1&&(Ue.splice(Cn,1),xt+=fn+".")}),xt+=Qe,0!=Ue.length||0===Qe.length)return null;const Zt={};return Zt.domEventName=St,Zt.fullKey=xt,Zt}static matchEventFullKeyCode(ze,Ue){let St=oe[ze.key]||ze.key,Qe="";return Ue.indexOf("code.")>-1&&(St=ze.code,Qe="code."),!(null==St||!St)&&(St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),Z.forEach(xt=>{xt!==St&&(0,se[xt])(ze)&&(Qe+=xt+".")}),Qe+=St,Qe===Ue)}static eventCallback(ze,Ue,St){return Qe=>{Ne.matchEventFullKeyCode(Qe,ze)&&St.runGuarded(()=>Ue(Qe))}}static _normalizeKey(ze){return"esc"===ze?"escape":ze}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();function te(Ne,ke){return(0,i.TL3)({rootComponent:Ne,...Ee(ke)})}function Ee(Ne){return{appProviders:[...ot,...Ne?.providers??[]],platformProviders:De}}const De=[{provide:i.Agw,useValue:t.AJ},{provide:i.PLl,useValue:function pe(){f.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function ye(){return(0,i.TL$)(document),document},deps:[]}],ot=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function re(){return new i.zcH},deps:[]},{provide:D,useClass:z,multi:!0,deps:[t.qQ,i.SKi,i.Agw]},{provide:D,useClass:de,multi:!0,deps:[t.qQ]},G,R,O,{provide:i._9s,useExisting:G},{provide:t.N0,useClass:v,deps:[]},[]];let Fe=(()=>{class Ne{constructor(ze){this._doc=ze,this._dom=(0,t.QT)()}addTag(ze,Ue=!1){return ze?this._getOrCreateElement(ze,Ue):null}addTags(ze,Ue=!1){return ze?ze.reduce((St,Qe)=>(Qe&&St.push(this._getOrCreateElement(Qe,Ue)),St),[]):[]}getTag(ze){return ze&&this._doc.querySelector(`meta[${ze}]`)||null}getTags(ze){if(!ze)return[];const Ue=this._doc.querySelectorAll(`meta[${ze}]`);return Ue?[].slice.call(Ue):[]}updateTag(ze,Ue){if(!ze)return null;Ue=Ue||this._parseSelector(ze);const St=this.getTag(Ue);return St?this._setMetaElementAttributes(ze,St):this._getOrCreateElement(ze,!0)}removeTag(ze){this.removeTagElement(this.getTag(ze))}removeTagElement(ze){ze&&this._dom.remove(ze)}_getOrCreateElement(ze,Ue=!1){if(!Ue){const xt=this._parseSelector(ze),_t=this.getTags(xt).filter(Zt=>this._containsAttributes(ze,Zt))[0];if(void 0!==_t)return _t}const St=this._dom.createElement("meta");return this._setMetaElementAttributes(ze,St),this._doc.getElementsByTagName("head")[0].appendChild(St),St}_setMetaElementAttributes(ze,Ue){return Object.keys(ze).forEach(St=>Ue.setAttribute(this._getMetaKeyMap(St),ze[St])),Ue}_parseSelector(ze){const Ue=ze.name?"name":"property";return`${Ue}="${ze[Ue]}"`}_containsAttributes(ze,Ue){return Object.keys(ze).every(St=>Ue.getAttribute(this._getMetaKeyMap(St))===ze[St])}_getMetaKeyMap(ze){return st[ze]||ze}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})();const st={httpEquiv:"http-equiv"};let Ie=(()=>{class Ne{constructor(ze){this._doc=ze}getTitle(){return this._doc.title}setTitle(ze){this._doc.title=ze||""}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})();const an=new i.nKC("HammerGestureConfig");let Tt=(()=>{class Ne{constructor(){this.events=[],this.overrides={}}buildHammer(ze){const Ue=new Hammer(ze,this.options);Ue.get("pinch").set({enable:!0}),Ue.get("rotate").set({enable:!0});for(const St in this.overrides)Ue.get(St).set(this.overrides[St]);return Ue}static{this.\u0275fac=function(Ue){return new(Ue||Ne)}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})(),qt=(()=>{class Ne{static{this.\u0275fac=function(Ue){return new(Ue||Ne)}}static{this.\u0275prov=i.jDH({token:Ne,factory:function(Ue){let St=null;return St=Ue?new(Ue||Ne):i.KVO(ln),St},providedIn:"root"})}}return Ne})(),ln=(()=>{class Ne extends qt{constructor(ze){super(),this._doc=ze}sanitize(ze,Ue){if(null==Ue)return null;switch(ze){case i.WPN.NONE:return Ue;case i.WPN.HTML:return(0,i.ZF7)(Ue,"HTML")?(0,i.rcV)(Ue):(0,i.h9k)(this._doc,String(Ue)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Ue,"Style")?(0,i.rcV)(Ue):Ue;case i.WPN.SCRIPT:if((0,i.ZF7)(Ue,"Script"))return(0,i.rcV)(Ue);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Ue,"URL")?(0,i.rcV)(Ue):(0,i.$MX)(String(Ue));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Ue,"ResourceURL"))return(0,i.rcV)(Ue);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(ze){return(0,i.Kcf)(ze)}bypassSecurityTrustStyle(ze){return(0,i.cWb)(ze)}bypassSecurityTrustScript(ze){return(0,i.UyX)(ze)}bypassSecurityTrustUrl(ze){return(0,i.osQ)(ze)}bypassSecurityTrustResourceUrl(ze){return(0,i.e5t)(ze)}static{this.\u0275fac=function(Ue){return new(Ue||Ne)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})();var Mt=function(Ne){return Ne[Ne.NoHttpTransferCache=0]="NoHttpTransferCache",Ne[Ne.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",Ne}(Mt||{});function Qt(...Ne){const ke=[],ze=new Set,Ue=ze.has(Mt.HttpTransferCacheOptions);for(const{\u0275providers:St,\u0275kind:Qe}of Ne)ze.add(Qe),St.length&&ke.push(St);return(0,i.EmA)([[],(0,i.M8M)(),ze.has(Mt.NoHttpTransferCache)||Ue?[]:(0,l.$m)({}),ke])}},7901:(N,b,n)=>{"use strict";n.d(b,{Bx:()=>Ke,D7:()=>Kn,Ii:()=>nd,Ix:()=>As,L6:()=>Vn,OY:()=>Qi,Sn:()=>Sr,Wk:()=>xi,Xw:()=>ve,Z:()=>at,Zy:()=>ur,gx:()=>ls,iI:()=>Ps,j5:()=>nn,ld:()=>xn,lh:()=>_r,n3:()=>kr,nU:()=>In,nX:()=>Ci,oH:()=>Ws,wF:()=>dt,wQ:()=>Ii});var i=n(74523),t=n(54438),l=n(74402),e=n(22806),f=n(7673),m=n(84412),h=n(84572),_=n(9350),y=n(92688),v=n(59030),D=n(71203),O=n(18810),M=n(983),T=n(30017),R=n(21413),u=n(18359),w=n(60177),C=n(96354),S=n(25558),I=n(96697),L=n(99172),B=n(5964),U=n(73028),W=n(61594),j=n(70274),G=n(88141),H=n(99437),V=n(31943),X=n(39901),J=n(67018),q=n(55109),Q=n(73703),Y=n(70980),z=n(99898),Z=n(56977),oe=n(26365),se=n(345);const de="primary",te=Symbol("RouteTitle");class le{constructor(Te){this.params=Te||{}}has(Te){return Object.prototype.hasOwnProperty.call(this.params,Te)}get(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he[0]:he}return null}getAll(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he:[he]}return[]}get keys(){return Object.keys(this.params)}}function Ee(ce){return new le(ce)}function be(ce,Te,he){const Oe=he.path.split("/");if(Oe.length>ce.length||"full"===he.pathMatch&&(Te.hasChildren()||Oe.length<ce.length))return null;const He={};for(let ut=0;ut<Oe.length;ut++){const Me=Oe[ut],_e=ce[ut];if(Me.startsWith(":"))He[Me.substring(1)]=_e;else if(Me!==_e.path)return null}return{consumed:ce.slice(0,Oe.length),posParams:He}}function re(ce,Te){const he=ce?ye(ce):void 0,Oe=Te?ye(Te):void 0;if(!he||!Oe||he.length!=Oe.length)return!1;let He;for(let ut=0;ut<he.length;ut++)if(He=he[ut],!De(ce[He],Te[He]))return!1;return!0}function ye(ce){return[...Object.keys(ce),...Object.getOwnPropertySymbols(ce)]}function De(ce,Te){if(Array.isArray(ce)&&Array.isArray(Te)){if(ce.length!==Te.length)return!1;const he=[...ce].sort(),Oe=[...Te].sort();return he.every((He,ut)=>Oe[ut]===He)}return ce===Te}function nt(ce){return ce.length>0?ce[ce.length-1]:null}function mt(ce){return(0,l.A)(ce)?ce:(0,t.jNT)(ce)?(0,e.H)(Promise.resolve(ce)):(0,f.of)(ce)}const xe={exact:function st(ce,Te,he){if(!pt(ce.segments,Te.segments)||!kt(ce.segments,Te.segments,he)||ce.numberOfChildren!==Te.numberOfChildren)return!1;for(const Oe in Te.children)if(!ce.children[Oe]||!st(ce.children[Oe],Te.children[Oe],he))return!1;return!0},subset:We},ot={exact:function Fe(ce,Te){return re(ce,Te)},subset:function Ie(ce,Te){return Object.keys(Te).length<=Object.keys(ce).length&&Object.keys(Te).every(he=>De(ce[he],Te[he]))},ignored:()=>!0};function $e(ce,Te,he){return xe[he.paths](ce.root,Te.root,he.matrixParams)&&ot[he.queryParams](ce.queryParams,Te.queryParams)&&!("exact"===he.fragment&&ce.fragment!==Te.fragment)}function We(ce,Te,he){return Dt(ce,Te,Te.segments,he)}function Dt(ce,Te,he,Oe){if(ce.segments.length>he.length){const He=ce.segments.slice(0,he.length);return!(!pt(He,he)||Te.hasChildren()||!kt(He,he,Oe))}if(ce.segments.length===he.length){if(!pt(ce.segments,he)||!kt(ce.segments,he,Oe))return!1;for(const He in Te.children)if(!ce.children[He]||!We(ce.children[He],Te.children[He],Oe))return!1;return!0}{const He=he.slice(0,ce.segments.length),ut=he.slice(ce.segments.length);return!!(pt(ce.segments,He)&&kt(ce.segments,He,Oe)&&ce.children[de])&&Dt(ce.children[de],Te,ut,Oe)}}function kt(ce,Te,he){return Te.every((Oe,He)=>ot[he](ce[He].parameters,Oe.parameters))}class ct{constructor(Te=new Ot([],{}),he={},Oe=null){this.root=Te,this.queryParams=he,this.fragment=Oe}get queryParamMap(){return this._queryParamMap??=Ee(this.queryParams),this._queryParamMap}toString(){return Tt.serialize(this)}}class Ot{constructor(Te,he){this.segments=Te,this.children=he,this.parent=null,Object.values(he).forEach(Oe=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}}class ve{constructor(Te,he){this.path=Te,this.parameters=he}get parameterMap(){return this._parameterMap??=Ee(this.parameters),this._parameterMap}toString(){return Ct(this)}}function pt(ce,Te){return ce.length===Te.length&&ce.every((he,Oe)=>he.path===Te[Oe].path)}let an=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>new In,providedIn:"root"})}}return ce})();class In{parse(Te){const he=new xt(Te);return new ct(he.parseRootSegment(),he.parseQueryParams(),he.parseFragment())}serialize(Te){const he=`/${It(Te.root,!0)}`,Oe=function Et(ce){const Te=Object.entries(ce).map(([he,Oe])=>Array.isArray(Oe)?Oe.map(He=>`${ln(he)}=${ln(He)}`).join("&"):`${ln(he)}=${ln(Oe)}`).filter(he=>he);return Te.length?`?${Te.join("&")}`:""}(Te.queryParams);return`${he}${Oe}${"string"==typeof Te.fragment?`#${function Mt(ce){return encodeURI(ce)}(Te.fragment)}`:""}`}}const Tt=new In;function Wt(ce){return ce.segments.map(Te=>Ct(Te)).join("/")}function It(ce,Te){if(!ce.hasChildren())return Wt(ce);if(Te){const he=ce.children[de]?It(ce.children[de],!1):"",Oe=[];return Object.entries(ce.children).forEach(([He,ut])=>{He!==de&&Oe.push(`${He}:${It(ut,!1)}`)}),Oe.length>0?`${he}(${Oe.join("//")})`:he}{const he=function dn(ce,Te){let he=[];return Object.entries(ce.children).forEach(([Oe,He])=>{Oe===de&&(he=he.concat(Te(He,Oe)))}),Object.entries(ce.children).forEach(([Oe,He])=>{Oe!==de&&(he=he.concat(Te(He,Oe)))}),he}(ce,(Oe,He)=>He===de?[It(ce.children[de],!1)]:[`${He}:${It(Oe,!1)}`]);return 1===Object.keys(ce.children).length&&null!=ce.children[de]?`${Wt(ce)}/${he[0]}`:`${Wt(ce)}/(${he.join("//")})`}}function qt(ce){return encodeURIComponent(ce).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(ce){return qt(ce).replace(/%3B/gi,";")}function Ht(ce){return qt(ce).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kt(ce){return decodeURIComponent(ce)}function Pt(ce){return Kt(ce.replace(/\+/g,"%20"))}function Ct(ce){return`${Ht(ce.path)}${function Qt(ce){return Object.entries(ce).map(([Te,he])=>`;${Ht(Te)}=${Ht(he)}`).join("")}(ce.parameters)}`}const Lt=/^[^\/()?;#]+/;function it(ce){const Te=ce.match(Lt);return Te?Te[0]:""}const Ne=/^[^\/()?;=#]+/,ze=/^[^=?&#]+/,St=/^[^&#]+/;class xt{constructor(Te){this.url=Te,this.remaining=Te}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const Te={};if(this.consumeOptional("?"))do{this.parseQueryParam(Te)}while(this.consumeOptional("&"));return Te}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Te=[];for(this.peekStartsWith("(")||Te.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Te.push(this.parseSegment());let he={};this.peekStartsWith("/(")&&(this.capture("/"),he=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(Te.length>0||Object.keys(he).length>0)&&(Oe[de]=new Ot(Te,he)),Oe}parseSegment(){const Te=it(this.remaining);if(""===Te&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(Te),new ve(Kt(Te),this.parseMatrixParams())}parseMatrixParams(){const Te={};for(;this.consumeOptional(";");)this.parseParam(Te);return Te}parseParam(Te){const he=function ke(ce){const Te=ce.match(Ne);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const He=it(this.remaining);He&&(Oe=He,this.capture(Oe))}Te[Kt(he)]=Kt(Oe)}parseQueryParam(Te){const he=function Ue(ce){const Te=ce.match(ze);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const Me=function Qe(ce){const Te=ce.match(St);return Te?Te[0]:""}(this.remaining);Me&&(Oe=Me,this.capture(Oe))}const He=Pt(he),ut=Pt(Oe);if(Te.hasOwnProperty(He)){let Me=Te[He];Array.isArray(Me)||(Me=[Me],Te[He]=Me),Me.push(ut)}else Te[He]=ut}parseParens(Te){const he={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=it(this.remaining),He=this.remaining[Oe.length];if("/"!==He&&")"!==He&&";"!==He)throw new t.wOt(4010,!1);let ut;Oe.indexOf(":")>-1?(ut=Oe.slice(0,Oe.indexOf(":")),this.capture(ut),this.capture(":")):Te&&(ut=de);const Me=this.parseChildren();he[ut]=1===Object.keys(Me).length?Me[de]:new Ot([],Me),this.consumeOptional("//")}return he}peekStartsWith(Te){return this.remaining.startsWith(Te)}consumeOptional(Te){return!!this.peekStartsWith(Te)&&(this.remaining=this.remaining.substring(Te.length),!0)}capture(Te){if(!this.consumeOptional(Te))throw new t.wOt(4011,!1)}}function _t(ce){return ce.segments.length>0?new Ot([],{[de]:ce}):ce}function Zt(ce){const Te={};for(const[Oe,He]of Object.entries(ce.children)){const ut=Zt(He);if(Oe===de&&0===ut.segments.length&&ut.hasChildren())for(const[Me,_e]of Object.entries(ut.children))Te[Me]=_e;else(ut.segments.length>0||ut.hasChildren())&&(Te[Oe]=ut)}return function fn(ce){if(1===ce.numberOfChildren&&ce.children[de]){const Te=ce.children[de];return new Ot(ce.segments.concat(Te.segments),Te.children)}return ce}(new Ot(ce.segments,Te))}function Cn(ce){return ce instanceof ct}function us(ce){let Te;const He=_t(function he(ut){const Me={};for(const ae of ut.children){const Se=he(ae);Me[ae.outlet]=Se}const _e=new Ot(ut.url,Me);return ut===ce&&(Te=_e),_e}(ce.root));return Te??He}function Vs(ce,Te,he,Oe){let He=ce;for(;He.parent;)He=He.parent;if(0===Te.length)return Yt(He,He,He,he,Oe);const ut=function is(ce){if("string"==typeof ce[0]&&1===ce.length&&"/"===ce[0])return new kn(!0,0,ce);let Te=0,he=!1;const Oe=ce.reduce((He,ut,Me)=>{if("object"==typeof ut&&null!=ut){if(ut.outlets){const _e={};return Object.entries(ut.outlets).forEach(([ae,Se])=>{_e[ae]="string"==typeof Se?Se.split("/"):Se}),[...He,{outlets:_e}]}if(ut.segmentPath)return[...He,ut.segmentPath]}return"string"!=typeof ut?[...He,ut]:0===Me?(ut.split("/").forEach((_e,ae)=>{0==ae&&"."===_e||(0==ae&&""===_e?he=!0:".."===_e?Te++:""!=_e&&He.push(_e))}),He):[...He,ut]},[]);return new kn(he,Te,Oe)}(Te);if(ut.toRoot())return Yt(He,He,new Ot([],{}),he,Oe);const Me=function Ys(ce,Te,he){if(ce.isAbsolute)return new as(Te,!0,0);if(!he)return new as(Te,!1,NaN);if(null===he.parent)return new as(he,!0,0);const Oe=gt(ce.commands[0])?0:1;return function gs(ce,Te,he){let Oe=ce,He=Te,ut=he;for(;ut>He;){if(ut-=He,Oe=Oe.parent,!Oe)throw new t.wOt(4005,!1);He=Oe.segments.length}return new as(Oe,!1,He-ut)}(he,he.segments.length-1+Oe,ce.numberOfDoubleDots)}(ut,He,ce),_e=Me.processChildren?sn(Me.segmentGroup,Me.index,ut.commands):os(Me.segmentGroup,Me.index,ut.commands);return Yt(He,Me.segmentGroup,_e,he,Oe)}function gt(ce){return"object"==typeof ce&&null!=ce&&!ce.outlets&&!ce.segmentPath}function lt(ce){return"object"==typeof ce&&null!=ce&&ce.outlets}function Yt(ce,Te,he,Oe,He){let Me,ut={};Oe&&Object.entries(Oe).forEach(([ae,Se])=>{ut[ae]=Array.isArray(Se)?Se.map(tt=>`${tt}`):`${Se}`}),Me=ce===Te?he:Pn(ce,Te,he);const _e=_t(Zt(Me));return new ct(_e,ut,He)}function Pn(ce,Te,he){const Oe={};return Object.entries(ce.children).forEach(([He,ut])=>{Oe[He]=ut===Te?he:Pn(ut,Te,he)}),new Ot(ce.segments,Oe)}class kn{constructor(Te,he,Oe){if(this.isAbsolute=Te,this.numberOfDoubleDots=he,this.commands=Oe,Te&&Oe.length>0&&gt(Oe[0]))throw new t.wOt(4003,!1);const He=Oe.find(lt);if(He&&He!==nt(Oe))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class as{constructor(Te,he,Oe){this.segmentGroup=Te,this.processChildren=he,this.index=Oe}}function os(ce,Te,he){if(ce??=new Ot([],{}),0===ce.segments.length&&ce.hasChildren())return sn(ce,Te,he);const Oe=function pn(ce,Te,he){let Oe=0,He=Te;const ut={match:!1,pathIndex:0,commandIndex:0};for(;He<ce.segments.length;){if(Oe>=he.length)return ut;const Me=ce.segments[He],_e=he[Oe];if(lt(_e))break;const ae=`${_e}`,Se=Oe<he.length-1?he[Oe+1]:null;if(He>0&&void 0===ae)break;if(ae&&Se&&"object"==typeof Se&&void 0===Se.outlets){if(!ft(ae,Se,Me))return ut;Oe+=2}else{if(!ft(ae,{},Me))return ut;Oe++}He++}return{match:!0,pathIndex:He,commandIndex:Oe}}(ce,Te,he),He=he.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<ce.segments.length){const ut=new Ot(ce.segments.slice(0,Oe.pathIndex),{});return ut.children[de]=new Ot(ce.segments.slice(Oe.pathIndex),ce.children),sn(ut,0,He)}return Oe.match&&0===He.length?new Ot(ce.segments,{}):Oe.match&&!ce.hasChildren()?Zn(ce,Te,he):Oe.match?sn(ce,0,He):Zn(ce,Te,he)}function sn(ce,Te,he){if(0===he.length)return new Ot(ce.segments,{});{const Oe=function Ss(ce){return lt(ce[0])?ce[0].outlets:{[de]:ce}}(he),He={};if(Object.keys(Oe).some(ut=>ut!==de)&&ce.children[de]&&1===ce.numberOfChildren&&0===ce.children[de].segments.length){const ut=sn(ce.children[de],Te,he);return new Ot(ce.segments,ut.children)}return Object.entries(Oe).forEach(([ut,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(He[ut]=os(ce.children[ut],Te,Me))}),Object.entries(ce.children).forEach(([ut,Me])=>{void 0===Oe[ut]&&(He[ut]=Me)}),new Ot(ce.segments,He)}}function Zn(ce,Te,he){const Oe=ce.segments.slice(0,Te);let He=0;for(;He<he.length;){const ut=he[He];if(lt(ut)){const ae=Rs(ut.outlets);return new Ot(Oe,ae)}if(0===He&&gt(he[0])){Oe.push(new ve(ce.segments[Te].path,ri(he[0]))),He++;continue}const Me=lt(ut)?ut.outlets[de]:`${ut}`,_e=He<he.length-1?he[He+1]:null;Me&&_e&&gt(_e)?(Oe.push(new ve(Me,ri(_e))),He+=2):(Oe.push(new ve(Me,{})),He++)}return new Ot(Oe,{})}function Rs(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(Te[he]=Zn(new Ot([],{}),0,Oe))}),Te}function ri(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>Te[he]=`${Oe}`),Te}function ft(ce,Te,he){return ce==he.path&&re(Te,he.parameters)}const Gt="imperative";var Ke=function(ce){return ce[ce.NavigationStart=0]="NavigationStart",ce[ce.NavigationEnd=1]="NavigationEnd",ce[ce.NavigationCancel=2]="NavigationCancel",ce[ce.NavigationError=3]="NavigationError",ce[ce.RoutesRecognized=4]="RoutesRecognized",ce[ce.ResolveStart=5]="ResolveStart",ce[ce.ResolveEnd=6]="ResolveEnd",ce[ce.GuardsCheckStart=7]="GuardsCheckStart",ce[ce.GuardsCheckEnd=8]="GuardsCheckEnd",ce[ce.RouteConfigLoadStart=9]="RouteConfigLoadStart",ce[ce.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ce[ce.ChildActivationStart=11]="ChildActivationStart",ce[ce.ChildActivationEnd=12]="ChildActivationEnd",ce[ce.ActivationStart=13]="ActivationStart",ce[ce.ActivationEnd=14]="ActivationEnd",ce[ce.Scroll=15]="Scroll",ce[ce.NavigationSkipped=16]="NavigationSkipped",ce}(Ke||{});class en{constructor(Te,he){this.id=Te,this.url=he}}class at extends en{constructor(Te,he,Oe="imperative",He=null){super(Te,he),this.type=Ke.NavigationStart,this.navigationTrigger=Oe,this.restoredState=He}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dt extends en{constructor(Te,he,Oe){super(Te,he),this.urlAfterRedirects=Oe,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vt=function(ce){return ce[ce.Redirect=0]="Redirect",ce[ce.SupersededByNewNavigation=1]="SupersededByNewNavigation",ce[ce.NoDataFromResolver=2]="NoDataFromResolver",ce[ce.GuardRejected=3]="GuardRejected",ce}(vt||{}),jt=function(ce){return ce[ce.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ce[ce.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ce}(jt||{});class nn extends en{constructor(Te,he,Oe,He){super(Te,he),this.reason=Oe,this.code=He,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dn extends en{constructor(Te,he,Oe,He){super(Te,he),this.reason=Oe,this.code=He,this.type=Ke.NavigationSkipped}}class Vn extends en{constructor(Te,he,Oe,He){super(Te,he),this.error=Oe,this.target=He,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xn extends en{constructor(Te,he,Oe,He){super(Te,he),this.urlAfterRedirects=Oe,this.state=He,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends en{constructor(Te,he,Oe,He){super(Te,he),this.urlAfterRedirects=Oe,this.state=He,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms extends en{constructor(Te,he,Oe,He,ut){super(Te,he),this.urlAfterRedirects=Oe,this.state=He,this.shouldActivate=ut,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ys extends en{constructor(Te,he,Oe,He){super(Te,he),this.urlAfterRedirects=Oe,this.state=He,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends en{constructor(Te,he,Oe,He){super(Te,he),this.urlAfterRedirects=Oe,this.state=He,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts{constructor(Te){this.route=Te,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mi{constructor(Te){this.route=Te,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ji{constructor(Te){this.snapshot=Te,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(Te){this.snapshot=Te,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(Te){this.snapshot=Te,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(Te){this.snapshot=Te,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(Te,he,Oe){this.routerEvent=Te,this.position=he,this.anchor=Oe,this.type=Ke.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Is{}class Hs{constructor(Te){this.url=Te}}class ao{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Di,this.attachRef=null}}let Di=(()=>{class ce{constructor(){this.contexts=new Map}onChildOutletCreated(he,Oe){const He=this.getOrCreateContext(he);He.outlet=Oe,this.contexts.set(he,He)}onChildOutletDestroyed(he){const Oe=this.getContext(he);Oe&&(Oe.outlet=null,Oe.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let Oe=this.getContext(he);return Oe||(Oe=new ao,this.contexts.set(he,Oe)),Oe}getContext(he){return this.contexts.get(he)||null}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();class Ft{constructor(Te){this._root=Te}get root(){return this._root.value}parent(Te){const he=this.pathFromRoot(Te);return he.length>1?he[he.length-2]:null}children(Te){const he=gn(Te,this._root);return he?he.children.map(Oe=>Oe.value):[]}firstChild(Te){const he=gn(Te,this._root);return he&&he.children.length>0?he.children[0].value:null}siblings(Te){const he=tn(Te,this._root);return he.length<2?[]:he[he.length-2].children.map(He=>He.value).filter(He=>He!==Te)}pathFromRoot(Te){return tn(Te,this._root).map(he=>he.value)}}function gn(ce,Te){if(ce===Te.value)return Te;for(const he of Te.children){const Oe=gn(ce,he);if(Oe)return Oe}return null}function tn(ce,Te){if(ce===Te.value)return[Te];for(const he of Te.children){const Oe=tn(ce,he);if(Oe.length)return Oe.unshift(Te),Oe}return[]}class $t{constructor(Te,he){this.value=Te,this.children=he}toString(){return`TreeNode(${this.value})`}}function bn(ce){const Te={};return ce&&ce.children.forEach(he=>Te[he.value.outlet]=he),Te}class Wn extends Ft{constructor(Te,he){super(Te),this.snapshot=he,lo(this,Te)}toString(){return this.snapshot.toString()}}function _s(ce){const Te=function oi(ce){const ut=new pi([],{},{},"",{},de,ce,null,{});return new Bi("",new $t(ut,[]))}(ce),he=new m.t([new ve("",{})]),Oe=new m.t({}),He=new m.t({}),ut=new m.t({}),Me=new m.t(""),_e=new Ci(he,Oe,ut,Me,He,de,ce,Te.root);return _e.snapshot=Te.root,new Wn(new $t(_e,[]),Te)}class Ci{constructor(Te,he,Oe,He,ut,Me,_e,ae){this.urlSubject=Te,this.paramsSubject=he,this.queryParamsSubject=Oe,this.fragmentSubject=He,this.dataSubject=ut,this.outlet=Me,this.component=_e,this._futureSnapshot=ae,this.title=this.dataSubject?.pipe((0,C.T)(Se=>Se[te]))??(0,f.of)(void 0),this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=He,this.data=ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,C.T)(Te=>Ee(Te))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,C.T)(Te=>Ee(Te))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ar(ce,Te,he="emptyOnly"){let Oe;const{routeConfig:He}=ce;return Oe=null===Te||"always"!==he&&""!==He?.path&&(Te.component||Te.routeConfig?.loadComponent)?{params:{...ce.params},data:{...ce.data},resolve:{...ce.data,...ce._resolvedData??{}}}:{params:{...Te.params,...ce.params},data:{...Te.data,...ce.data},resolve:{...ce.data,...Te.data,...He?.data,...ce._resolvedData}},He&&co(He)&&(Oe.resolve[te]=He.title),Oe}class pi{get title(){return this.data?.[te]}constructor(Te,he,Oe,He,ut,Me,_e,ae,Se){this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=He,this.data=ut,this.outlet=Me,this.component=_e,this.routeConfig=ae,this._resolve=Se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ee(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ee(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bi extends Ft{constructor(Te,he){super(he),this.url=Te,lo(this,he)}toString(){return eo(this._root)}}function lo(ce,Te){Te.value._routerState=ce,Te.children.forEach(he=>lo(ce,he))}function eo(ce){const Te=ce.children.length>0?` { ${ce.children.map(eo).join(", ")} } `:"";return`${ce.value}${Te}`}function Lr(ce){if(ce.snapshot){const Te=ce.snapshot,he=ce._futureSnapshot;ce.snapshot=he,re(Te.queryParams,he.queryParams)||ce.queryParamsSubject.next(he.queryParams),Te.fragment!==he.fragment&&ce.fragmentSubject.next(he.fragment),re(Te.params,he.params)||ce.paramsSubject.next(he.params),function pe(ce,Te){if(ce.length!==Te.length)return!1;for(let he=0;he<ce.length;++he)if(!re(ce[he],Te[he]))return!1;return!0}(Te.url,he.url)||ce.urlSubject.next(he.url),re(Te.data,he.data)||ce.dataSubject.next(he.data)}else ce.snapshot=ce._futureSnapshot,ce.dataSubject.next(ce._futureSnapshot.data)}function Io(ce,Te){const he=re(ce.params,Te.params)&&function Be(ce,Te){return pt(ce,Te)&&ce.every((he,Oe)=>re(he.parameters,Te[Oe].parameters))}(ce.url,Te.url);return he&&!(!ce.parent!=!Te.parent)&&(!ce.parent||Io(ce.parent,Te.parent))}function co(ce){return"string"==typeof ce.title||null===ce.title}let kr=(()=>{class ce{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(Di),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(wi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:Oe,previousValue:He}=he.name;if(Oe)return;this.isTrackedInParentContexts(He)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(He)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){return this.parentContexts.getContext(he)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);he?.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,Oe){this.activated=he,this._activatedRoute=Oe,this.location.insert(he.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,Oe){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=he;const He=this.location,Me=he.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,ae=new uo(he,_e,He.injector);this.activated=He.createComponent(Me,{index:He.length,injector:ae,environmentInjector:Oe??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}}return ce})();class uo{__ngOutletInjector(Te){return new uo(this.route,this.childContexts,Te)}constructor(Te,he,Oe){this.route=Te,this.childContexts=he,this.parent=Oe}get(Te,he){return Te===Ci?this.route:Te===Di?this.childContexts:this.parent.get(Te,he)}}const wi=new t.nKC("");let Lo=(()=>{class ce{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){this.outletDataSubscriptions.get(he)?.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:Oe}=he,He=(0,h.z)([Oe.queryParams,Oe.params,Oe.data]).pipe((0,S.n)(([ut,Me,_e],ae)=>(_e={...ut,...Me,..._e},0===ae?(0,f.of)(_e):Promise.resolve(_e)))).subscribe(ut=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==Oe||null===Oe.component)return void this.unsubscribeFromRouteData(he);const Me=(0,t.HJs)(Oe.component);if(Me)for(const{templateName:_e}of Me.inputs)he.activatedComponentRef.setInput(_e,ut[_e]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,He)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();function Hr(ce,Te,he){if(he&&ce.shouldReuseRoute(Te.value,he.value.snapshot)){const Oe=he.value;Oe._futureSnapshot=Te.value;const He=function xs(ce,Te,he){return Te.children.map(Oe=>{for(const He of he.children)if(ce.shouldReuseRoute(Oe.value,He.value.snapshot))return Hr(ce,Oe,He);return Hr(ce,Oe)})}(ce,Te,he);return new $t(Oe,He)}{if(ce.shouldAttach(Te.value)){const ut=ce.retrieve(Te.value);if(null!==ut){const Me=ut.route;return Me.value._futureSnapshot=Te.value,Me.children=Te.children.map(_e=>Hr(ce,_e)),Me}}const Oe=function to(ce){return new Ci(new m.t(ce.url),new m.t(ce.params),new m.t(ce.queryParams),new m.t(ce.fragment),new m.t(ce.data),ce.outlet,ce.component,ce)}(Te.value),He=Te.children.map(ut=>Hr(ce,ut));return new $t(Oe,He)}}const xo="ngNavigationCancelingError";function Tr(ce,Te){const{redirectTo:he,navigationBehaviorOptions:Oe}=Cn(Te)?{redirectTo:Te,navigationBehaviorOptions:void 0}:Te,He=ho(!1,vt.Redirect);return He.url=he,He.navigationBehaviorOptions=Oe,He}function ho(ce,Te){const he=new Error(`NavigationCancelingError: ${ce||""}`);return he[xo]=!0,he.cancellationCode=Te,he}function vo(ce){return!!ce&&ce[xo]}let zr=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Oe,He){1&Oe&&t.nrm(0,"router-outlet")},dependencies:[kr],encapsulation:2})}}return ce})();function Qn(ce){const Te=ce.children&&ce.children.map(Qn),he=Te?{...ce,children:Te}:{...ce};return!he.component&&!he.loadComponent&&(Te||he.loadChildren)&&he.outlet&&he.outlet!==de&&(he.component=zr),he}function Es(ce){return ce.outlet||de}function Cs(ce){if(!ce)return null;if(ce.routeConfig?._injector)return ce.routeConfig._injector;for(let Te=ce.parent;Te;Te=Te.parent){const he=Te.routeConfig;if(he?._loadedInjector)return he._loadedInjector;if(he?._injector)return he._injector}return null}class ui{constructor(Te,he,Oe,He,ut){this.routeReuseStrategy=Te,this.futureState=he,this.currState=Oe,this.forwardEvent=He,this.inputBindingEnabled=ut}activate(Te){const he=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(he,Oe,Te),Lr(this.futureState.root),this.activateChildRoutes(he,Oe,Te)}deactivateChildRoutes(Te,he,Oe){const He=bn(he);Te.children.forEach(ut=>{const Me=ut.value.outlet;this.deactivateRoutes(ut,He[Me],Oe),delete He[Me]}),Object.values(He).forEach(ut=>{this.deactivateRouteAndItsChildren(ut,Oe)})}deactivateRoutes(Te,he,Oe){const He=Te.value,ut=he?he.value:null;if(He===ut)if(He.component){const Me=Oe.getContext(He.outlet);Me&&this.deactivateChildRoutes(Te,he,Me.children)}else this.deactivateChildRoutes(Te,he,Oe);else ut&&this.deactivateRouteAndItsChildren(he,Oe)}deactivateRouteAndItsChildren(Te,he){Te.value.component&&this.routeReuseStrategy.shouldDetach(Te.value.snapshot)?this.detachAndStoreRouteSubtree(Te,he):this.deactivateRouteAndOutlet(Te,he)}detachAndStoreRouteSubtree(Te,he){const Oe=he.getContext(Te.value.outlet),He=Oe&&Te.value.component?Oe.children:he,ut=bn(Te);for(const Me of Object.values(ut))this.deactivateRouteAndItsChildren(Me,He);if(Oe&&Oe.outlet){const Me=Oe.outlet.detach(),_e=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(Te.value.snapshot,{componentRef:Me,route:Te,contexts:_e})}}deactivateRouteAndOutlet(Te,he){const Oe=he.getContext(Te.value.outlet),He=Oe&&Te.value.component?Oe.children:he,ut=bn(Te);for(const Me of Object.values(ut))this.deactivateRouteAndItsChildren(Me,He);Oe&&(Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated()),Oe.attachRef=null,Oe.route=null)}activateChildRoutes(Te,he,Oe){const He=bn(he);Te.children.forEach(ut=>{this.activateRoutes(ut,He[ut.value.outlet],Oe),this.forwardEvent(new wr(ut.value.snapshot))}),Te.children.length&&this.forwardEvent(new Ai(Te.value.snapshot))}activateRoutes(Te,he,Oe){const He=Te.value,ut=he?he.value:null;if(Lr(He),He===ut)if(He.component){const Me=Oe.getOrCreateContext(He.outlet);this.activateChildRoutes(Te,he,Me.children)}else this.activateChildRoutes(Te,he,Oe);else if(He.component){const Me=Oe.getOrCreateContext(He.outlet);if(this.routeReuseStrategy.shouldAttach(He.snapshot)){const _e=this.routeReuseStrategy.retrieve(He.snapshot);this.routeReuseStrategy.store(He.snapshot,null),Me.children.onOutletReAttached(_e.contexts),Me.attachRef=_e.componentRef,Me.route=_e.route.value,Me.outlet&&Me.outlet.attach(_e.componentRef,_e.route.value),Lr(_e.route.value),this.activateChildRoutes(Te,null,Me.children)}else{const _e=Cs(He.snapshot);Me.attachRef=null,Me.route=He,Me.injector=_e,Me.outlet&&Me.outlet.activateWith(He,Me.injector),this.activateChildRoutes(Te,null,Me.children)}}else this.activateChildRoutes(Te,null,Oe)}}class Zs{constructor(Te){this.path=Te,this.route=this.path[this.path.length-1]}}class zi{constructor(Te,he){this.component=Te,this.route=he}}function ki(ce,Te,he){const Oe=ce._root;return $s(Oe,Te?Te._root:null,he,[Oe.value])}function Zi(ce,Te){const he=Symbol(),Oe=Te.get(ce,he);return Oe===he?"function"!=typeof ce||(0,t.LfX)(ce)?Te.get(ce):ce:Oe}function $s(ce,Te,he,Oe,He={canDeactivateChecks:[],canActivateChecks:[]}){const ut=bn(Te);return ce.children.forEach(Me=>{(function qi(ce,Te,he,Oe,He={canDeactivateChecks:[],canActivateChecks:[]}){const ut=ce.value,Me=Te?Te.value:null,_e=he?he.getContext(ce.value.outlet):null;if(Me&&ut.routeConfig===Me.routeConfig){const ae=function Vr(ce,Te,he){if("function"==typeof he)return he(ce,Te);switch(he){case"pathParamsChange":return!pt(ce.url,Te.url);case"pathParamsOrQueryParamsChange":return!pt(ce.url,Te.url)||!re(ce.queryParams,Te.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Io(ce,Te)||!re(ce.queryParams,Te.queryParams);default:return!Io(ce,Te)}}(Me,ut,ut.routeConfig.runGuardsAndResolvers);ae?He.canActivateChecks.push(new Zs(Oe)):(ut.data=Me.data,ut._resolvedData=Me._resolvedData),$s(ce,Te,ut.component?_e?_e.children:null:he,Oe,He),ae&&_e&&_e.outlet&&_e.outlet.isActivated&&He.canDeactivateChecks.push(new zi(_e.outlet.component,Me))}else Me&&cr(Te,_e,He),He.canActivateChecks.push(new Zs(Oe)),$s(ce,null,ut.component?_e?_e.children:null:he,Oe,He)})(Me,ut[Me.value.outlet],he,Oe.concat([Me.value]),He),delete ut[Me.value.outlet]}),Object.entries(ut).forEach(([Me,_e])=>cr(_e,he.getContext(Me),He)),He}function cr(ce,Te,he){const Oe=bn(ce),He=ce.value;Object.entries(Oe).forEach(([ut,Me])=>{cr(Me,He.component?Te?Te.children.getContext(ut):null:Te,he)}),he.canDeactivateChecks.push(new zi(He.component&&Te&&Te.outlet&&Te.outlet.isActivated?Te.outlet.component:null,He))}function gr(ce){return"function"==typeof ce}function ie(ce){return ce instanceof _.G||"EmptyError"===ce?.name}const Ge=Symbol("INITIAL_VALUE");function me(){return(0,S.n)(ce=>(0,h.z)(ce.map(Te=>Te.pipe((0,I.s)(1),(0,L.Z)(Ge)))).pipe((0,C.T)(Te=>{for(const he of Te)if(!0!==he){if(he===Ge)return Ge;if(!1===he||he instanceof ct)return he}return!0}),(0,B.p)(Te=>Te!==Ge),(0,I.s)(1)))}function bi(ce){return(0,D.F)((0,G.M)(Te=>{if(Cn(Te))throw Tr(0,Te)}),(0,C.T)(Te=>!0===Te))}class So{constructor(Te){this.segmentGroup=Te||null}}class Eo extends Error{constructor(Te){super(),this.urlTree=Te}}function Co(ce){return(0,O.$)(new So(ce))}class Fa{constructor(Te,he){this.urlSerializer=Te,this.urlTree=he}lineralizeSegments(Te,he){let Oe=[],He=he.root;for(;;){if(Oe=Oe.concat(He.segments),0===He.numberOfChildren)return(0,f.of)(Oe);if(He.numberOfChildren>1||!He.children[de])return(0,O.$)(new t.wOt(4e3,!1));He=He.children[de]}}applyRedirectCommands(Te,he,Oe){const He=this.applyRedirectCreateUrlTree(he,this.urlSerializer.parse(he),Te,Oe);if(he.startsWith("/"))throw new Eo(He);return He}applyRedirectCreateUrlTree(Te,he,Oe,He){const ut=this.createSegmentGroup(Te,he.root,Oe,He);return new ct(ut,this.createQueryParams(he.queryParams,this.urlTree.queryParams),he.fragment)}createQueryParams(Te,he){const Oe={};return Object.entries(Te).forEach(([He,ut])=>{if("string"==typeof ut&&ut.startsWith(":")){const _e=ut.substring(1);Oe[He]=he[_e]}else Oe[He]=ut}),Oe}createSegmentGroup(Te,he,Oe,He){const ut=this.createSegments(Te,he.segments,Oe,He);let Me={};return Object.entries(he.children).forEach(([_e,ae])=>{Me[_e]=this.createSegmentGroup(Te,ae,Oe,He)}),new Ot(ut,Me)}createSegments(Te,he,Oe,He){return he.map(ut=>ut.path.startsWith(":")?this.findPosParam(Te,ut,He):this.findOrReturn(ut,Oe))}findPosParam(Te,he,Oe){const He=Oe[he.path.substring(1)];if(!He)throw new t.wOt(4001,!1);return He}findOrReturn(Te,he){let Oe=0;for(const He of he){if(He.path===Te.path)return he.splice(Oe),He;Oe++}return Te}}const Qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fo(ce,Te,he,Oe,He){const ut=ca(ce,Te,he);return ut.matched?(Oe=function yo(ce,Te){return ce.providers&&!ce._injector&&(ce._injector=(0,t.Ol2)(ce.providers,Te,`Route: ${ce.path}`)),ce._injector??Te}(Te,Oe),function Jo(ce,Te,he,Oe){const He=Te.canMatch;if(!He||0===He.length)return(0,f.of)(!0);const ut=He.map(Me=>{const _e=Zi(Me,ce);return mt(function Ye(ce){return ce&&gr(ce.canMatch)}(_e)?_e.canMatch(Te,he):(0,t.N4e)(ce,()=>_e(Te,he)))});return(0,f.of)(ut).pipe(me(),bi())}(Oe,Te,he).pipe((0,C.T)(Me=>!0===Me?ut:{...Qo}))):(0,f.of)(ut)}function ca(ce,Te,he){if("**"===Te.path)return function Ba(ce){return{matched:!0,parameters:ce.length>0?nt(ce).parameters:{},consumedSegments:ce,remainingSegments:[],positionalParamSegments:{}}}(he);if(""===Te.path)return"full"===Te.pathMatch&&(ce.hasChildren()||he.length>0)?{...Qo}:{matched:!0,consumedSegments:[],remainingSegments:he,parameters:{},positionalParamSegments:{}};const He=(Te.matcher||be)(he,ce,Te);if(!He)return{...Qo};const ut={};Object.entries(He.posParams??{}).forEach(([_e,ae])=>{ut[_e]=ae.path});const Me=He.consumed.length>0?{...ut,...He.consumed[He.consumed.length-1].parameters}:ut;return{matched:!0,consumedSegments:He.consumed,remainingSegments:he.slice(He.consumed.length),parameters:Me,positionalParamSegments:He.posParams??{}}}function Ca(ce,Te,he,Oe){return he.length>0&&function pr(ce,Te,he){return he.some(Oe=>ps(ce,Te,Oe)&&Es(Oe)!==de)}(ce,he,Oe)?{segmentGroup:new Ot(Te,er(Oe,new Ot(he,ce.children))),slicedSegments:[]}:0===he.length&&function po(ce,Te,he){return he.some(Oe=>ps(ce,Te,Oe))}(ce,he,Oe)?{segmentGroup:new Ot(ce.segments,ni(ce,he,Oe,ce.children)),slicedSegments:he}:{segmentGroup:new Ot(ce.segments,ce.children),slicedSegments:he}}function ni(ce,Te,he,Oe){const He={};for(const ut of he)if(ps(ce,Te,ut)&&!Oe[Es(ut)]){const Me=new Ot([],{});He[Es(ut)]=Me}return{...Oe,...He}}function er(ce,Te){const he={};he[de]=Te;for(const Oe of ce)if(""===Oe.path&&Es(Oe)!==de){const He=new Ot([],{});he[Es(Oe)]=He}return he}function ps(ce,Te,he){return(!(ce.hasChildren()||Te.length>0)||"full"!==he.pathMatch)&&""===he.path}class ha{}class Bo{constructor(Te,he,Oe,He,ut,Me,_e){this.injector=Te,this.configLoader=he,this.rootComponentType=Oe,this.config=He,this.urlTree=ut,this.paramsInheritanceStrategy=Me,this.urlSerializer=_e,this.applyRedirects=new Fa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Te){return new t.wOt(4002,`'${Te.segmentGroup}'`)}recognize(){const Te=Ca(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Te).pipe((0,C.T)(he=>{const Oe=new pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),He=new $t(Oe,he),ut=new Bi("",He),Me=function ss(ce,Te,he=null,Oe=null){return Vs(us(ce),Te,he,Oe)}(Oe,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,ut.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(ut._root,null),{state:ut,tree:Me}}))}match(Te){return this.processSegmentGroup(this.injector,this.config,Te,de).pipe((0,H.W)(Oe=>{if(Oe instanceof Eo)return this.urlTree=Oe.urlTree,this.match(Oe.urlTree.root);throw Oe instanceof So?this.noMatchError(Oe):Oe}))}inheritParamsAndData(Te,he){const Oe=Te.value,He=ar(Oe,he,this.paramsInheritanceStrategy);Oe.params=Object.freeze(He.params),Oe.data=Object.freeze(He.data),Te.children.forEach(ut=>this.inheritParamsAndData(ut,Oe))}processSegmentGroup(Te,he,Oe,He){return 0===Oe.segments.length&&Oe.hasChildren()?this.processChildren(Te,he,Oe):this.processSegment(Te,he,Oe,Oe.segments,He,!0).pipe((0,C.T)(ut=>ut instanceof $t?[ut]:[]))}processChildren(Te,he,Oe){const He=[];for(const ut of Object.keys(Oe.children))"primary"===ut?He.unshift(ut):He.push(ut);return(0,e.H)(He).pipe((0,j.H)(ut=>{const Me=Oe.children[ut],_e=function Gs(ce,Te){const he=ce.filter(Oe=>Es(Oe)===Te);return he.push(...ce.filter(Oe=>Es(Oe)!==Te)),he}(he,ut);return this.processSegmentGroup(Te,_e,Me,ut)}),(0,V.S)((ut,Me)=>(ut.push(...Me),ut)),(0,X.U)(null),(0,J.H)(),(0,U.Z)(ut=>{if(null===ut)return Co(Oe);const Me=pa(ut);return function Os(ce){ce.sort((Te,he)=>Te.value.outlet===de?-1:he.value.outlet===de?1:Te.value.outlet.localeCompare(he.value.outlet))}(Me),(0,f.of)(Me)}))}processSegment(Te,he,Oe,He,ut,Me){return(0,e.H)(he).pipe((0,j.H)(_e=>this.processSegmentAgainstRoute(_e._injector??Te,he,_e,Oe,He,ut,Me).pipe((0,H.W)(ae=>{if(ae instanceof So)return(0,f.of)(null);throw ae}))),(0,W.$)(_e=>!!_e),(0,H.W)(_e=>{if(ie(_e))return function ua(ce,Te,he){return 0===Te.length&&!ce.children[he]}(Oe,He,ut)?(0,f.of)(new ha):Co(Oe);throw _e}))}processSegmentAgainstRoute(Te,he,Oe,He,ut,Me,_e){return function da(ce,Te,he,Oe){return!!(Es(ce)===Oe||Oe!==de&&ps(Te,he,ce))&&ca(Te,ce,he).matched}(Oe,He,ut,Me)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(Te,He,Oe,ut,Me):this.allowRedirects&&_e?this.expandSegmentAgainstRouteUsingRedirect(Te,He,he,Oe,ut,Me):Co(He):Co(He)}expandSegmentAgainstRouteUsingRedirect(Te,he,Oe,He,ut,Me){const{matched:_e,consumedSegments:ae,positionalParamSegments:Se,remainingSegments:tt}=ca(he,He,ut);if(!_e)return Co(he);He.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const At=this.applyRedirects.applyRedirectCommands(ae,He.redirectTo,Se);return this.applyRedirects.lineralizeSegments(He,At).pipe((0,U.Z)(un=>this.processSegment(Te,Oe,he,un.concat(tt),Me,!1)))}matchSegmentAgainstRoute(Te,he,Oe,He,ut){const Me=Fo(he,Oe,He,Te);return"**"===Oe.path&&(he.children={}),Me.pipe((0,S.n)(_e=>_e.matched?this.getChildConfig(Te=Oe._injector??Te,Oe,He).pipe((0,S.n)(({routes:ae})=>{const Se=Oe._loadedInjector??Te,{consumedSegments:tt,remainingSegments:At,parameters:un}=_e,On=new pi(tt,un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Rl(ce){return ce.data||{}}(Oe),Es(Oe),Oe.component??Oe._loadedComponent??null,Oe,function Nr(ce){return ce.resolve||{}}(Oe)),{segmentGroup:Xn,slicedSegments:ds}=Ca(he,tt,At,ae);if(0===ds.length&&Xn.hasChildren())return this.processChildren(Se,ae,Xn).pipe((0,C.T)(Wi=>null===Wi?null:new $t(On,Wi)));if(0===ae.length&&0===ds.length)return(0,f.of)(new $t(On,[]));const vi=Es(Oe)===ut;return this.processSegment(Se,ae,Xn,ds,vi?de:ut,!0).pipe((0,C.T)(Wi=>new $t(On,Wi instanceof $t?[Wi]:[])))})):Co(he)))}getChildConfig(Te,he,Oe){return he.children?(0,f.of)({routes:he.children,injector:Te}):he.loadChildren?void 0!==he._loadedRoutes?(0,f.of)({routes:he._loadedRoutes,injector:he._loadedInjector}):function xr(ce,Te,he,Oe){const He=Te.canLoad;if(void 0===He||0===He.length)return(0,f.of)(!0);const ut=He.map(Me=>{const _e=Zi(Me,ce);return mt(function hr(ce){return ce&&gr(ce.canLoad)}(_e)?_e.canLoad(Te,he):(0,t.N4e)(ce,()=>_e(Te,he)))});return(0,f.of)(ut).pipe(me(),bi())}(Te,he,Oe).pipe((0,U.Z)(He=>He?this.configLoader.loadChildren(Te,he).pipe((0,G.M)(ut=>{he._loadedRoutes=ut.routes,he._loadedInjector=ut.injector})):function No(ce){return(0,O.$)(ho(!1,vt.GuardRejected))}())):(0,f.of)({routes:[],injector:Te})}}function Uo(ce){const Te=ce.value.routeConfig;return Te&&""===Te.path}function pa(ce){const Te=[],he=new Set;for(const Oe of ce){if(!Uo(Oe)){Te.push(Oe);continue}const He=Te.find(ut=>Oe.value.routeConfig===ut.value.routeConfig);void 0!==He?(He.children.push(...Oe.children),he.add(He)):Te.push(Oe)}for(const Oe of he){const He=pa(Oe.children);Te.push(new $t(Oe.value,He))}return Te.filter(Oe=>!he.has(Oe))}function bo(ce){const Te=ce.children.map(he=>bo(he)).flat();return[ce,...Te]}function Yr(ce){return(0,S.n)(Te=>{const he=ce(Te);return he?(0,e.H)(he).pipe((0,C.T)(()=>Te)):(0,f.of)(Te)})}let ea=(()=>{class ce{buildTitle(he){let Oe,He=he.root;for(;void 0!==He;)Oe=this.getResolvedTitleForRoute(He)??Oe,He=He.children.find(ut=>ut.outlet===de);return Oe}getResolvedTitleForRoute(he){return he.data[te]}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(ta),providedIn:"root"})}}return ce})(),ta=(()=>{class ce extends ea{constructor(he){super(),this.title=he}updateTitle(he){const Oe=this.buildTitle(he);void 0!==Oe&&this.title.setTitle(Oe)}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(se.hE))}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const Vt=new t.nKC("",{providedIn:"root",factory:()=>({})}),on=new t.nKC("");let Rt=(()=>{class ce{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,f.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const Oe=mt(he.loadComponent()).pipe((0,C.T)(ts),(0,G.M)(ut=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=ut}),(0,Y.j)(()=>{this.componentLoaders.delete(he)})),He=new T.G(Oe,()=>new R.B).pipe((0,z.B)());return this.componentLoaders.set(he,He),He}loadChildren(he,Oe){if(this.childrenLoaders.get(Oe))return this.childrenLoaders.get(Oe);if(Oe._loadedRoutes)return(0,f.of)({routes:Oe._loadedRoutes,injector:Oe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Oe);const ut=function Mn(ce,Te,he,Oe){return mt(ce.loadChildren()).pipe((0,C.T)(ts),(0,U.Z)(He=>He instanceof t.Co$||Array.isArray(He)?(0,f.of)(He):(0,e.H)(Te.compileModuleAsync(He))),(0,C.T)(He=>{Oe&&Oe(ce);let ut,Me,_e=!1;return Array.isArray(He)?(Me=He,!0):(ut=He.create(he).injector,Me=ut.get(on,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Qn),injector:ut}}))}(Oe,this.compiler,he,this.onLoadEndListener).pipe((0,Y.j)(()=>{this.childrenLoaders.delete(Oe)})),Me=new T.G(ut,()=>new R.B).pipe((0,z.B)());return this.childrenLoaders.set(Oe,Me),Me}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();function ts(ce){return function Fn(ce){return ce&&"object"==typeof ce&&"default"in ce}(ce)?ce.default:ce}let Ns=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(zn),providedIn:"root"})}}return ce})(),zn=(()=>{class ce{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,Oe){return he}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const yi=new t.nKC(""),Li=new t.nKC("");function tr(ce,Te,he){const Oe=ce.get(Li),He=ce.get(w.qQ);return ce.get(t.SKi).runOutsideAngular(()=>{if(!He.startViewTransition||Oe.skipNextTransition)return Oe.skipNextTransition=!1,new Promise(Se=>setTimeout(Se));let ut;const Me=new Promise(Se=>{ut=Se}),_e=He.startViewTransition(()=>(ut(),function Ui(ce){return new Promise(Te=>{(0,t.mal)(Te,{injector:ce})})}(ce))),{onViewTransitionCreated:ae}=Oe;return ae&&(0,t.N4e)(ce,()=>ae({transition:_e,from:Te,to:he})),Me})}let Ln=(()=>{class ce{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new R.B,this.transitionAbortSubject=new R.B,this.configLoader=(0,t.WQX)(Rt),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(an),this.rootContexts=(0,t.WQX)(Di),this.location=(0,t.WQX)(w.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(wi,{optional:!0}),this.titleStrategy=(0,t.WQX)(ea),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(Ns),this.createViewTransition=(0,t.WQX)(yi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,f.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=He=>this.events.next(new Mi(He)),this.configLoader.onLoadStartListener=He=>this.events.next(new Ts(He))}complete(){this.transitions?.complete()}handleNavigationRequest(he){const Oe=++this.navigationId;this.transitions?.next({...this.transitions.value,...he,id:Oe})}setupNavigations(he,Oe,He){return this.transitions=new m.t({id:0,currentUrlTree:Oe,currentRawUrl:Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe),urlAfterRedirects:this.urlHandlingStrategy.extract(Oe),rawUrl:Oe,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gt,restoredState:null,currentSnapshot:He.snapshot,targetSnapshot:null,currentRouterState:He,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,B.p)(ut=>0!==ut.id),(0,C.T)(ut=>({...ut,extractedUrl:this.urlHandlingStrategy.extract(ut.rawUrl)})),(0,S.n)(ut=>{let Me=!1,_e=!1;return(0,f.of)(ut).pipe((0,S.n)(ae=>{if(this.navigationId>ut.id)return this.cancelNavigationTransition(ut,"",vt.SupersededByNewNavigation),M.w;this.currentTransition=ut,this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Se=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Se&&"reload"!==(ae.extras.onSameUrlNavigation??he.onSameUrlNavigation)){const At="";return this.events.next(new Dn(ae.id,this.urlSerializer.serialize(ae.rawUrl),At,jt.IgnoredSameUrlNavigation)),ae.resolve(null),M.w}if(this.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return(0,f.of)(ae).pipe((0,S.n)(At=>{const un=this.transitions?.getValue();return this.events.next(new at(At.id,this.urlSerializer.serialize(At.extractedUrl),At.source,At.restoredState)),un!==this.transitions?.getValue()?M.w:Promise.resolve(At)}),function Zo(ce,Te,he,Oe,He,ut){return(0,U.Z)(Me=>function Pl(ce,Te,he,Oe,He,ut,Me="emptyOnly"){return new Bo(ce,Te,he,Oe,He,Me,ut).recognize()}(ce,Te,he,Oe,Me.extractedUrl,He,ut).pipe((0,C.T)(({state:_e,tree:ae})=>({...Me,targetSnapshot:_e,urlAfterRedirects:ae}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,G.M)(At=>{ut.targetSnapshot=At.targetSnapshot,ut.urlAfterRedirects=At.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:At.urlAfterRedirects};const un=new xn(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(un)}));if(Se&&this.urlHandlingStrategy.shouldProcessUrl(ae.currentRawUrl)){const{id:At,extractedUrl:un,source:On,restoredState:Xn,extras:ds}=ae,vi=new at(At,this.urlSerializer.serialize(un),On,Xn);this.events.next(vi);const Wi=_s(this.rootComponentType).snapshot;return this.currentTransition=ut={...ae,targetSnapshot:Wi,urlAfterRedirects:un,extras:{...ds,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=un,(0,f.of)(ut)}{const At="";return this.events.next(new Dn(ae.id,this.urlSerializer.serialize(ae.extractedUrl),At,jt.IgnoredByUrlHandlingStrategy)),ae.resolve(null),M.w}}),(0,G.M)(ae=>{const Se=new fs(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Se)}),(0,C.T)(ae=>(this.currentTransition=ut={...ae,guards:ki(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)},ut)),function yt(ce,Te){return(0,U.Z)(he=>{const{targetSnapshot:Oe,currentSnapshot:He,guards:{canActivateChecks:ut,canDeactivateChecks:Me}}=he;return 0===Me.length&&0===ut.length?(0,f.of)({...he,guardsResult:!0}):function zt(ce,Te,he,Oe){return(0,e.H)(ce).pipe((0,U.Z)(He=>function Vi(ce,Te,he,Oe,He){const ut=Te&&Te.routeConfig?Te.routeConfig.canDeactivate:null;if(!ut||0===ut.length)return(0,f.of)(!0);const Me=ut.map(_e=>{const ae=Cs(Te)??He,Se=Zi(_e,ae);return mt(function Ve(ce){return ce&&gr(ce.canDeactivate)}(Se)?Se.canDeactivate(ce,Te,he,Oe):(0,t.N4e)(ae,()=>Se(ce,Te,he,Oe))).pipe((0,W.$)())});return(0,f.of)(Me).pipe(me())}(He.component,He.route,he,Te,Oe)),(0,W.$)(He=>!0!==He,!0))}(Me,Oe,He,ce).pipe((0,U.Z)(_e=>_e&&function Xo(ce){return"boolean"==typeof ce}(_e)?function En(ce,Te,he,Oe){return(0,e.H)(Te).pipe((0,j.H)(He=>(0,y.x)(function cs(ce,Te){return null!==ce&&Te&&Te(new ji(ce)),(0,f.of)(!0)}(He.route.parent,Oe),function Yn(ce,Te){return null!==ce&&Te&&Te(new Fi(ce)),(0,f.of)(!0)}(He.route,Oe),function Yi(ce,Te,he){const Oe=Te[Te.length-1],ut=Te.slice(0,Te.length-1).reverse().map(Me=>function Er(ce){const Te=ce.routeConfig?ce.routeConfig.canActivateChild:null;return Te&&0!==Te.length?{node:ce,guards:Te}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,v.v)(()=>{const _e=Me.guards.map(ae=>{const Se=Cs(Me.node)??he,tt=Zi(ae,Se);return mt(function la(ce){return ce&&gr(ce.canActivateChild)}(tt)?tt.canActivateChild(Oe,ce):(0,t.N4e)(Se,()=>tt(Oe,ce))).pipe((0,W.$)())});return(0,f.of)(_e).pipe(me())}));return(0,f.of)(ut).pipe(me())}(ce,He.path,he),function ws(ce,Te,he){const Oe=Te.routeConfig?Te.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,f.of)(!0);const He=Oe.map(ut=>(0,v.v)(()=>{const Me=Cs(Te)??he,_e=Zi(ut,Me);return mt(function Gr(ce){return ce&&gr(ce.canActivate)}(_e)?_e.canActivate(Te,ce):(0,t.N4e)(Me,()=>_e(Te,ce))).pipe((0,W.$)())}));return(0,f.of)(He).pipe(me())}(ce,He.route,he))),(0,W.$)(He=>!0!==He,!0))}(Oe,ut,ce,Te):(0,f.of)(_e)),(0,C.T)(_e=>({...he,guardsResult:_e})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,G.M)(ae=>{if(ut.guardsResult=ae.guardsResult,Cn(ae.guardsResult))throw Tr(0,ae.guardsResult);const Se=new Ms(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Se)}),(0,B.p)(ae=>!!ae.guardsResult||(this.cancelNavigationTransition(ae,"",vt.GuardRejected),!1)),Yr(ae=>{if(ae.guards.canActivateChecks.length)return(0,f.of)(ae).pipe((0,G.M)(Se=>{const tt=new ys(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(tt)}),(0,S.n)(Se=>{let tt=!1;return(0,f.of)(Se).pipe(function pl(ce,Te){return(0,U.Z)(he=>{const{targetSnapshot:Oe,guards:{canActivateChecks:He}}=he;if(!He.length)return(0,f.of)(he);const ut=new Set(He.map(ae=>ae.route)),Me=new Set;for(const ae of ut)if(!Me.has(ae))for(const Se of bo(ae))Me.add(Se);let _e=0;return(0,e.H)(Me).pipe((0,j.H)(ae=>ut.has(ae)?function qo(ce,Te,he,Oe){const He=ce.routeConfig,ut=ce._resolve;return void 0!==He?.title&&!co(He)&&(ut[te]=He.title),function jo(ce,Te,he,Oe){const He=ye(ce);if(0===He.length)return(0,f.of)({});const ut={};return(0,e.H)(He).pipe((0,U.Z)(Me=>function fl(ce,Te,he,Oe){const He=Cs(Te)??Oe,ut=Zi(ce,He);return mt(ut.resolve?ut.resolve(Te,he):(0,t.N4e)(He,()=>ut(Te,he)))}(ce[Me],Te,he,Oe).pipe((0,W.$)(),(0,G.M)(_e=>{ut[Me]=_e}))),(0,q.o)(1),(0,Q.u)(ut),(0,H.W)(Me=>ie(Me)?M.w:(0,O.$)(Me)))}(ut,ce,Te,Oe).pipe((0,C.T)(Me=>(ce._resolvedData=Me,ce.data=ar(ce,ce.parent,he).resolve,null)))}(ae,Oe,ce,Te):(ae.data=ar(ae,ae.parent,ce).resolve,(0,f.of)(void 0))),(0,G.M)(()=>_e++),(0,q.o)(1),(0,U.Z)(ae=>_e===Me.size?(0,f.of)(he):M.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,G.M)({next:()=>tt=!0,complete:()=>{tt||this.cancelNavigationTransition(Se,"",vt.NoDataFromResolver)}}))}),(0,G.M)(Se=>{const tt=new ls(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(tt)}))}),Yr(ae=>{const Se=tt=>{const At=[];tt.routeConfig?.loadComponent&&!tt.routeConfig._loadedComponent&&At.push(this.configLoader.loadComponent(tt.routeConfig).pipe((0,G.M)(un=>{tt.component=un}),(0,C.T)(()=>{})));for(const un of tt.children)At.push(...Se(un));return At};return(0,h.z)(Se(ae.targetSnapshot.root)).pipe((0,X.U)(null),(0,I.s)(1))}),Yr(()=>this.afterPreactivation()),(0,S.n)(()=>{const{currentSnapshot:ae,targetSnapshot:Se}=ut,tt=this.createViewTransition?.(this.environmentInjector,ae.root,Se.root);return tt?(0,e.H)(tt).pipe((0,C.T)(()=>ut)):(0,f.of)(ut)}),(0,C.T)(ae=>{const Se=function lr(ce,Te,he){const Oe=Hr(ce,Te._root,he?he._root:void 0);return new Wn(Oe,Te)}(he.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return this.currentTransition=ut={...ae,targetRouterState:Se},this.currentNavigation.targetRouterState=Se,ut}),(0,G.M)(()=>{this.events.next(new Is)}),((ce,Te,he,Oe)=>(0,C.T)(He=>(new ui(Te,He.targetRouterState,He.currentRouterState,he,Oe).activate(ce),He)))(this.rootContexts,he.routeReuseStrategy,ae=>this.events.next(ae),this.inputBindingEnabled),(0,I.s)(1),(0,G.M)({next:ae=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dt(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects))),this.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{Me=!0}}),(0,Z.Q)(this.transitionAbortSubject.pipe((0,G.M)(ae=>{throw ae}))),(0,Y.j)(()=>{!Me&&!_e&&this.cancelNavigationTransition(ut,"",vt.SupersededByNewNavigation),this.currentTransition?.id===ut.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,H.W)(ae=>{if(_e=!0,vo(ae))this.events.next(new nn(ut.id,this.urlSerializer.serialize(ut.extractedUrl),ae.message,ae.cancellationCode)),function zo(ce){return vo(ce)&&Cn(ce.url)}(ae)?this.events.next(new Hs(ae.url)):ut.resolve(!1);else{this.events.next(new Vn(ut.id,this.urlSerializer.serialize(ut.extractedUrl),ae,ut.targetSnapshot??void 0));try{ut.resolve(he.errorHandler(ae))}catch(Se){this.options.resolveNavigationPromiseOnError?ut.resolve(!1):ut.reject(Se)}}return M.w}))}))}cancelNavigationTransition(he,Oe,He){const ut=new nn(he.id,this.urlSerializer.serialize(he.extractedUrl),Oe,He);this.events.next(ut),he.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();function nr(ce){return ce!==Gt}let Or=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(Je),providedIn:"root"})}}return ce})();class fe{shouldDetach(Te){return!1}store(Te,he){}shouldAttach(Te){return!1}retrieve(Te){return null}shouldReuseRoute(Te,he){return Te.routeConfig===he.routeConfig}}let Je=(()=>{class ce extends fe{static{this.\u0275fac=(()=>{let he;return function(He){return(he||(he=t.xGo(ce)))(He||ce)}})()}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),Re=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(Xe),providedIn:"root"})}}return ce})(),Xe=(()=>{class ce extends Re{constructor(){super(...arguments),this.location=(0,t.WQX)(w.aZ),this.urlSerializer=(0,t.WQX)(an),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(Ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ct,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_s(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(Oe=>{"popstate"===Oe.type&&he(Oe.url,Oe.state)})}handleRouterEvent(he,Oe){if(he instanceof at)this.stateMemento=this.createStateMemento();else if(he instanceof Dn)this.rawUrlTree=Oe.initialUrl;else if(he instanceof xn){if("eager"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange){const He=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl);this.setBrowserUrl(He,Oe)}}else he instanceof Is?(this.currentUrlTree=Oe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe))):he instanceof nn&&(he.code===vt.GuardRejected||he.code===vt.NoDataFromResolver)?this.restoreHistory(Oe):he instanceof Vn?this.restoreHistory(Oe,!0):he instanceof dt&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,Oe){const He=this.urlSerializer.serialize(he);if(this.location.isCurrentPathEqualTo(He)||Oe.extras.replaceUrl){const Me={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId)};this.location.replaceState(He,"",Me)}else{const ut={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId+1)};this.location.go(He,"",ut)}}restoreHistory(he,Oe=!1){if("computed"===this.canceledNavigationResolution){const ut=this.currentPageId-this.browserPageId;0!==ut?this.location.historyGo(ut):this.currentUrlTree===he.finalUrl&&0===ut&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,he.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:Oe}:{navigationId:he}}static{this.\u0275fac=(()=>{let he;return function(He){return(he||(he=t.xGo(ce)))(He||ce)}})()}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();var wt=function(ce){return ce[ce.COMPLETE=0]="COMPLETE",ce[ce.FAILED=1]="FAILED",ce[ce.REDIRECTING=2]="REDIRECTING",ce}(wt||{});function vn(ce,Te){ce.events.pipe((0,B.p)(he=>he instanceof dt||he instanceof nn||he instanceof Vn||he instanceof Dn),(0,C.T)(he=>he instanceof dt||he instanceof Dn?wt.COMPLETE:he instanceof nn&&(he.code===vt.Redirect||he.code===vt.SupersededByNewNavigation)?wt.REDIRECTING:wt.FAILED),(0,B.p)(he=>he!==wt.REDIRECTING),(0,I.s)(1)).subscribe(()=>{Te()})}function wn(ce){throw ce}const ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Us={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let As=(()=>{class ce{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(Re),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(Ln),this.urlSerializer=(0,t.WQX)(an),this.location=(0,t.WQX)(w.aZ),this.urlHandlingStrategy=(0,t.WQX)(Ns),this._events=new R.B,this.errorHandler=this.options.errorHandler||wn,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(Or),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(on,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(wi,{optional:!0}),this.eventsSubscription=new u.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(Oe=>{try{const He=this.navigationTransitions.currentTransition,ut=this.navigationTransitions.currentNavigation;if(null!==He&&null!==ut)if(this.stateManager.handleRouterEvent(Oe,ut),Oe instanceof nn&&Oe.code!==vt.Redirect&&Oe.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(Oe instanceof dt)this.navigated=!0;else if(Oe instanceof Hs){const Me=this.urlHandlingStrategy.merge(Oe.url,He.currentRawUrl),_e={info:He.extras.info,skipLocationChange:He.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nr(He.source)};this.scheduleNavigation(Me,Gt,null,_e,{resolve:He.resolve,reject:He.reject,promise:He.promise})}(function qs(ce){return!(ce instanceof Is||ce instanceof Hs)})(Oe)&&this._events.next(Oe)}catch(He){this.navigationTransitions.transitionAbortSubject.next(He)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((he,Oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(he,"popstate",Oe)},0)})}navigateToSyncWithBrowser(he,Oe,He){const ut={replaceUrl:!0},Me=He?.navigationId?He:null;if(He){const ae={...He};delete ae.navigationId,delete ae.\u0275routerPageId,0!==Object.keys(ae).length&&(ut.state=ae)}const _e=this.parseUrl(he);this.scheduleNavigation(_e,Oe,Me,ut)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(Qn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,Oe={}){const{relativeTo:He,queryParams:ut,fragment:Me,queryParamsHandling:_e,preserveFragment:ae}=Oe,Se=ae?this.currentUrlTree.fragment:Me;let At,tt=null;switch(_e){case"merge":tt={...this.currentUrlTree.queryParams,...ut};break;case"preserve":tt=this.currentUrlTree.queryParams;break;default:tt=ut||null}null!==tt&&(tt=this.removeEmptyProps(tt));try{At=us(He?He.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||!he[0].startsWith("/"))&&(he=[]),At=this.currentUrlTree.root}return Vs(At,he,tt,Se??null)}navigateByUrl(he,Oe={skipLocationChange:!1}){const He=Cn(he)?he:this.parseUrl(he),ut=this.urlHandlingStrategy.merge(He,this.rawUrlTree);return this.scheduleNavigation(ut,Gt,null,Oe)}navigate(he,Oe={skipLocationChange:!1}){return function $n(ce){for(let Te=0;Te<ce.length;Te++)if(null==ce[Te])throw new t.wOt(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,Oe),Oe)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,Oe){let He;if(He=!0===Oe?{...ns}:!1===Oe?{...Us}:Oe,Cn(he))return $e(this.currentUrlTree,he,He);const ut=this.parseUrl(he);return $e(this.currentUrlTree,ut,He)}removeEmptyProps(he){return Object.entries(he).reduce((Oe,[He,ut])=>(null!=ut&&(Oe[He]=ut),Oe),{})}scheduleNavigation(he,Oe,He,ut,Me){if(this.disposed)return Promise.resolve(!1);let _e,ae,Se;Me?(_e=Me.resolve,ae=Me.reject,Se=Me.promise):Se=new Promise((At,un)=>{_e=At,ae=un});const tt=this.pendingTasks.add();return vn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tt))}),this.navigationTransitions.handleNavigationRequest({source:Oe,restoredState:He,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:ut,resolve:_e,reject:ae,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(At=>Promise.reject(At))}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),xi=(()=>{class ce{constructor(he,Oe,He,ut,Me,_e){this.router=he,this.route=Oe,this.tabIndexAttribute=He,this.renderer=ut,this.el=Me,this.locationStrategy=_e,this.href=null,this.commands=null,this.onChanges=new R.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ae=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ae||"area"===ae,this.isAnchorElement?this.subscription=he.events.subscribe(Se=>{Se instanceof dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(he){null!=he?(this.commands=Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(he,Oe,He,ut,Me){const _e=this.urlTree;return!!(null===_e||this.isAnchorElement&&(0!==he||Oe||He||ut||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_e,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const he=this.urlTree;this.href=null!==he&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(he)):null;const Oe=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Oe)}applyAttributeValue(he,Oe){const He=this.renderer,ut=this.el.nativeElement;null!==Oe?He.setAttribute(ut,he,Oe):He.removeAttribute(ut,he)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.rXU(As),t.rXU(Ci),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(w.hb))}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Oe,He){1&Oe&&t.bIt("click",function(Me){return He.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&Oe&&t.BMQ("target",He.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}}return ce})(),Ii=(()=>{class ce{get isActive(){return this._isActive}constructor(he,Oe,He,ut,Me){this.router=he,this.element=Oe,this.renderer=He,this.cdr=ut,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=he.events.subscribe(_e=>{_e instanceof dt&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,(0,f.of)(null)).pipe((0,oe.U)()).subscribe(he=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const he=[...this.links.toArray(),this.link].filter(Oe=>!!Oe).map(Oe=>Oe.onChanges);this.linkInputChangesSubscription=(0,e.H)(he).pipe((0,oe.U)()).subscribe(Oe=>{this._isActive!==this.isLinkActive(this.router)(Oe)&&this.update()})}set routerLinkActive(he){const Oe=Array.isArray(he)?he:he.split(" ");this.classes=Oe.filter(He=>!!He)}ngOnChanges(he){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const he=this.hasActiveLinks();this.classes.forEach(Oe=>{he?this.renderer.addClass(this.element.nativeElement,Oe):this.renderer.removeClass(this.element.nativeElement,Oe)}),he&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==he&&(this._isActive=he,this.cdr.markForCheck(),this.isActiveChange.emit(he))})}isLinkActive(he){const Oe=function dr(ce){return!!ce.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return He=>{const ut=He.urlTree;return!!ut&&he.isActive(ut,Oe)}}hasActiveLinks(){const he=this.isLinkActive(this.router);return this.link&&he(this.link)||this.links.some(he)}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.rXU(As),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(xi,8))}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["","routerLinkActive",""]],contentQueries:function(Oe,He,ut){if(1&Oe&&t.wni(ut,xi,5),2&Oe){let Me;t.mGM(Me=t.lsd())&&(He.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}}return ce})();class Xr{}let Kn=(()=>{class ce{preload(he,Oe){return(0,f.of)(null)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),bs=(()=>{class ce{constructor(he,Oe,He,ut,Me){this.router=he,this.injector=He,this.preloadingStrategy=ut,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,B.p)(he=>he instanceof dt),(0,j.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Oe){const He=[];for(const ut of Oe){ut.providers&&!ut._injector&&(ut._injector=(0,t.Ol2)(ut.providers,he,`Route: ${ut.path}`));const Me=ut._injector??he,_e=ut._loadedInjector??Me;(ut.loadChildren&&!ut._loadedRoutes&&void 0===ut.canLoad||ut.loadComponent&&!ut._loadedComponent)&&He.push(this.preloadConfig(Me,ut)),(ut.children||ut._loadedRoutes)&&He.push(this.processRoutes(_e,ut.children??ut._loadedRoutes))}return(0,e.H)(He).pipe((0,oe.U)())}preloadConfig(he,Oe){return this.preloadingStrategy.preload(Oe,()=>{let He;He=Oe.loadChildren&&void 0===Oe.canLoad?this.loader.loadChildren(he,Oe):(0,f.of)(null);const ut=He.pipe((0,U.Z)(Me=>null===Me?(0,f.of)(void 0):(Oe._loadedRoutes=Me.routes,Oe._loadedInjector=Me.injector,this.processRoutes(Me.injector??he,Me.routes))));if(Oe.loadComponent&&!Oe._loadedComponent){const Me=this.loader.loadComponent(Oe);return(0,e.H)([ut,Me]).pipe((0,oe.U)())}return ut})}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(As),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(Xr),t.KVO(Rt))}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const Si=new t.nKC("");let Cr=(()=>{class ce{constructor(he,Oe,He,ut,Me={}){this.urlSerializer=he,this.transitions=Oe,this.viewportScroller=He,this.zone=ut,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,t.WQX)(t.uvJ),Me.scrollPositionRestoration||="disabled",Me.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof at?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof dt?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof Dn&&he.code===jt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Qi&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Oe){var He=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(ut=>{setTimeout(()=>{ut()}),(0,t.mal)(()=>{ut()},{injector:He.environmentInjector})}),He.zone.run(()=>{He.transitions.events.next(new Qi(he,"popstate"===He.lastSource?He.store[He.restoredId]:null,Oe))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Oe){t.QTQ()}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();function _r(ce,...Te){return(0,t.EmA)([{provide:on,multi:!0,useValue:ce},[],{provide:Ci,useFactory:Fr,deps:[As]},{provide:t.iLQ,multi:!0,useFactory:ba},Te.map(he=>he.\u0275providers)])}function Fr(ce){return ce.routerState.root}function Ir(ce,Te){return{\u0275kind:ce,\u0275providers:Te}}function Ws(ce={}){return Ir(4,[{provide:Si,useFactory:()=>{const he=(0,t.WQX)(w.Xr),Oe=(0,t.WQX)(t.SKi),He=(0,t.WQX)(Ln),ut=(0,t.WQX)(an);return new Cr(ut,He,he,Oe,ce)}}])}function ba(){const ce=(0,t.WQX)(t.zZn);return Te=>{const he=ce.get(t.o8S);if(Te!==he.components[0])return;const Oe=ce.get(As),He=ce.get(Da);1===ce.get(no)&&Oe.initialNavigation(),ce.get(br,null,t.$GK.Optional)?.setUpPreloading(),ce.get(Si,null,t.$GK.Optional)?.init(),Oe.resetRootComponentType(he.componentTypes[0]),He.closed||(He.next(),He.complete(),He.unsubscribe())}}const Da=new t.nKC("",{factory:()=>new R.B}),no=new t.nKC("",{providedIn:"root",factory:()=>1});function ur(){return Ir(2,[{provide:no,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:Te=>{const he=Te.get(w.hj,Promise.resolve());return()=>he.then(()=>new Promise(Oe=>{const He=Te.get(As),ut=Te.get(Da);vn(He,()=>{Oe(!0)}),Te.get(Ln).afterPreactivation=()=>(Oe(!0),ut.closed?(0,f.of)(void 0):ut),He.initialNavigation()}))}}])}const br=new t.nKC("");function Sr(ce){return Ir(0,[{provide:br,useExisting:bs},{provide:Xr,useExisting:ce}])}function nd(ce){return Ir(5,[{provide:Vt,useValue:ce}])}function Xs(ce){return Ir(9,[{provide:yi,useValue:tr},{provide:Li,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const wl=new t.nKC("ROUTER_FORROOT_GUARD"),mo=[w.aZ,{provide:an,useClass:In},As,Di,{provide:Ci,useFactory:Fr,deps:[As]},Rt,[]];let Ps=(()=>{class ce{constructor(he){}static forRoot(he,Oe){return{ngModule:ce,providers:[mo,[],{provide:on,multi:!0,useValue:he},{provide:wl,useFactory:si,deps:[[As,new t.Xx1,new t.kdw]]},{provide:Vt,useValue:Oe||{}},Oe?.useHash?{provide:w.hb,useClass:w.fw}:{provide:w.hb,useClass:w.Sm},{provide:Si,useFactory:()=>{const ce=(0,t.WQX)(w.Xr),Te=(0,t.WQX)(t.SKi),he=(0,t.WQX)(Vt),Oe=(0,t.WQX)(Ln),He=(0,t.WQX)(an);return he.scrollOffset&&ce.setOffset(he.scrollOffset),new Cr(He,Oe,ce,Te,he)}},Oe?.preloadingStrategy?Sr(Oe.preloadingStrategy).\u0275providers:[],Oe?.initialNavigation?Br(Oe):[],Oe?.bindToComponentInputs?Ir(8,[Lo,{provide:wi,useExisting:Lo}]).\u0275providers:[],Oe?.enableViewTransitions?Xs().\u0275providers:[],[{provide:Ta,useFactory:ba},{provide:t.iLQ,multi:!0,useExisting:Ta}]]}}static forChild(he){return{ngModule:ce,providers:[{provide:on,multi:!0,useValue:he}]}}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(wl,8))}}static{this.\u0275mod=t.$C({type:ce})}static{this.\u0275inj=t.G2t({})}}return ce})();function si(ce){return"guarded"}function Br(ce){return["disabled"===ce.initialNavigation?Ir(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const Te=(0,t.WQX)(As);return()=>{Te.setUpLocationChangeListener()}}},{provide:no,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?ur().\u0275providers:[]]}const Ta=new t.nKC("")},23632:(N,b,n)=>{"use strict";n.d(b,{Fv:()=>Ie,O7:()=>ye,cz:()=>Dt});var i=n(54438),t=n(345),l=n(60177),e=n(49969);const f=ct=>({"ngx-gallery-active":ct});function m(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",1),i.bIt("click",function(pt){const dn=i.eBV(ve).index,an=i.XpG();return i.Njj(an.handleChange(pt,dn))}),i.k0s()}if(2&ct){const ve=Ot.index,Be=i.XpG();i.Y8G("ngClass",i.eq3(1,f,ve===Be.active))}}const h=["previewImage"];function _(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.showPrev())})("nextClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.showNext())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("prevDisabled",!ve.canShowPrev())("nextDisabled",!ve.canShowNext())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}function y(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(pt){const dn=i.eBV(ve).$implicit,an=i.XpG();return i.Njj(dn.onClick(pt,an.index))}),i.k0s()}if(2&ct){const ve=Ot.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function v(ct,Ot){if(1&ct&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&ct){const ve=i.XpG();i.Y8G("href",ve.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",ve.downloadIcon,"")}}function D(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.zoomOut())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("icon",ve.zoomOutIcon)("disabled",!ve.canZoomOut())}}function O(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.zoomIn())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("icon",ve.zoomInIcon)("disabled",!ve.canZoomIn())}}function M(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.rotateLeft())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("icon",ve.rotateLeftIcon)}}function T(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.rotateRight())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("icon",ve.rotateRightIcon)}}function R(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.manageFullscreen())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+ve.fullscreenIcon)}}function u(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(pt){return i.eBV(ve),i.Njj(pt.stopPropagation())})("mouseenter",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.imageMouseEnter())})("mouseleave",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.imageMouseLeave())})("mousedown",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.mouseDownHandler(pt))})("touchstart",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.mouseDownHandler(pt))}),i.k0s()}if(2&ct){const ve=i.XpG();i.xc7("transform",ve.getTransform())("left",ve.positionLeft+"px")("top",ve.positionTop+"px"),i.AVh("ngx-gallery-active",!ve.loading)("animation",ve.animation)("ngx-gallery-grab",ve.canDragOnZoom()),i.Y8G("src",ve.src,i.B4B)}}function w(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(pt){return i.eBV(ve),i.Njj(pt.stopPropagation())})("mouseenter",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.imageMouseEnter())})("mouseleave",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.imageMouseLeave())})("mousedown",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.mouseDownHandler(pt))})("touchstart",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.mouseDownHandler(pt))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&ct){const ve=i.XpG();i.xc7("transform",ve.getTransform())("left",ve.positionLeft+"px")("top",ve.positionTop+"px"),i.AVh("ngx-gallery-active",!ve.loading)("animation",ve.animation)("ngx-gallery-grab",ve.canDragOnZoom()),i.R7$(2),i.Y8G("src",ve.src,i.B4B)}}function C(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.showAtIndex(pt))}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("count",ve.images.length)("active",ve.index)}}function S(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",25),i.bIt("click",function(pt){return i.eBV(ve),i.Njj(pt.stopPropagation())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("innerHTML",ve.description,i.npT)}}const I=ct=>({"ngx-gallery-clickable":ct});function L(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(pt){const dn=i.eBV(ve).$implicit,an=i.XpG(2).$implicit;return i.Njj(dn.onClick(pt,an.index))}),i.k0s()}if(2&ct){const ve=Ot.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function B(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",9),i.bIt("click",function(pt){return i.eBV(ve),i.Njj(pt.stopPropagation())}),i.k0s()}if(2&ct){const ve=i.XpG(2).$implicit,Be=i.XpG();i.Y8G("innerHTML",Be.descriptions[ve.index],i.npT)}}function U(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",4),i.bIt("click",function(pt){i.eBV(ve);const dn=i.XpG().$implicit,an=i.XpG();return i.Njj(an.handleClick(pt,dn.index))})("@animation.start",function(pt){i.eBV(ve);const dn=i.XpG(2);return i.Njj(dn.onStart(pt))})("@animation.done",function(pt){i.eBV(ve);const dn=i.XpG(2);return i.Njj(dn.onDone(pt))}),i.j41(1,"div",5),i.DNE(2,L,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,B,1,1,"div",7),i.k0s()}if(2&ct){const ve=i.XpG().$implicit,Be=i.XpG();i.xc7("background-image",Be.getSafeUrl(ve.src)),i.Y8G("ngClass",i.eq3(6,I,Be.clickable))("@animation",Be.action),i.R7$(2),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.descriptions[ve.index])}}function W(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(pt){const dn=i.eBV(ve).$implicit,an=i.XpG(2).$implicit;return i.Njj(dn.onClick(pt,an.index))}),i.k0s()}if(2&ct){const ve=Ot.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function j(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",9),i.bIt("click",function(pt){return i.eBV(ve),i.Njj(pt.stopPropagation())}),i.k0s()}if(2&ct){const ve=i.XpG(2).$implicit,Be=i.XpG();i.Y8G("innerHTML",Be.descriptions[ve.index],i.npT)}}function G(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"div",4),i.bIt("click",function(pt){i.eBV(ve);const dn=i.XpG().$implicit,an=i.XpG();return i.Njj(an.handleClick(pt,dn.index))})("@animation.start",function(pt){i.eBV(ve);const dn=i.XpG(2);return i.Njj(dn.onStart(pt))})("@animation.done",function(pt){i.eBV(ve);const dn=i.XpG(2);return i.Njj(dn.onDone(pt))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,W,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,j,1,1,"div",7),i.k0s()}if(2&ct){const ve=i.XpG().$implicit,Be=i.XpG();i.xc7("background-image",Be.getSafeUrl(ve.src)),i.Y8G("ngClass",i.eq3(7,I,Be.clickable))("@animation",Be.action),i.R7$(2),i.Y8G("src",ve.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.descriptions[ve.index])}}function H(ct,Ot){if(1&ct&&(i.qex(0),i.DNE(1,U,4,8,"div",3)(2,G,7,9,"div",3),i.bVm()),2&ct){const ve=Ot.$implicit,Be=i.XpG();i.R7$(),i.Y8G("ngIf","image"===ve.type&&ve.index===Be._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===ve.type&&ve.index===Be._selectedIndex)}}function V(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.show(pt))}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("count",ve.images.length)("active",ve._selectedIndex)}}function X(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.showPrev())})("nextClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.showNext())}),i.k0s()}if(2&ct){const ve=i.XpG();i.ZvI("ngx-gallery-image-size-",ve.size,""),i.Y8G("prevDisabled",!ve.canShowPrev())("nextDisabled",!ve.canShowNext())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}const J=(ct,Ot)=>({"ngx-gallery-active":ct,"ngx-gallery-clickable":Ot});function q(ct,Ot){if(1&ct&&i.nrm(0,"div",9),2&ct){const ve=i.XpG(),Be=ve.$implicit,pt=ve.index,dn=i.XpG();i.xc7("background-image",dn.getSafeUrl(Be)),i.Y8G("ngClass",i.l_i(3,J,pt===dn.selectedIndex,dn.clickable))}}function Q(ct,Ot){if(1&ct&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&ct){const ve=i.XpG(),Be=ve.$implicit,pt=ve.index,dn=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,J,pt===dn.selectedIndex,dn.clickable)),i.R7$(),i.Y8G("src",Be,i.B4B)}}function Y(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(pt){const dn=i.eBV(ve).$implicit,an=i.XpG().index;return i.Njj(dn.onClick(pt,an))}),i.k0s()}if(2&ct){const ve=Ot.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function z(ct,Ot){if(1&ct&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&ct){const ve=i.XpG(2);i.R7$(2),i.SpI("+",ve.remainingCountValue,"")}}function Z(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"a",3),i.bIt("click",function(pt){const dn=i.eBV(ve).index,an=i.XpG();return i.Njj(an.handleClick(pt,dn))}),i.DNE(1,q,1,6,"div",4)(2,Q,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,Y,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,z,3,1,"div",8),i.k0s()}if(2&ct){const ve=Ot.$implicit,Be=Ot.index,pt=i.XpG();i.xc7("width",pt.getThumbnailWidth())("height",pt.getThumbnailHeight())("left",pt.getThumbnailLeft(Be))("top",pt.getThumbnailTop(Be)),i.Y8G("href",pt.hasLink(Be)?pt.links[Be]:"#",i.B4B)("target",pt.linkTarget)("ngClass",i.l_i(16,J,Be===pt.selectedIndex,pt.clickable)),i.BMQ("aria-label",pt.labels[Be]),i.R7$(),i.Y8G("ngIf","image"===pt.getFileType(ve)),i.R7$(),i.Y8G("ngIf","video"===pt.getFileType(ve)),i.R7$(2),i.Y8G("ngForOf",pt.actions),i.R7$(),i.Y8G("ngIf",pt.remainingCount&&pt.remainingCountValue&&Be===pt.rows*pt.columns-1)}}function oe(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.moveLeft())})("nextClick",function(){i.eBV(ve);const pt=i.XpG();return i.Njj(pt.moveRight())}),i.k0s()}if(2&ct){const ve=i.XpG();i.Y8G("prevDisabled",!ve.canMoveLeft())("nextDisabled",!ve.canMoveRight())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}const se=()=>[];function de(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.openPreview(pt))})("activeChange",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.selectFromImage(pt))})("animating",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.setAnimating(pt))}),i.k0s()}if(2&ct){const ve=i.XpG();i.xc7("height",ve.getImageHeight()),i.Y8G("images",ve.mediumImages)("clickable",null==ve.currentOptions?null:ve.currentOptions.preview)("selectedIndex",ve.selectedIndex)("arrows",null==ve.currentOptions?null:ve.currentOptions.imageArrows)("arrowsAutoHide",null==ve.currentOptions?null:ve.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==ve.currentOptions?null:ve.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ve.currentOptions?null:ve.currentOptions.arrowNextIcon)("swipe",null==ve.currentOptions?null:ve.currentOptions.imageSwipe)("animation",null==ve.currentOptions?null:ve.currentOptions.imageAnimation)("size",null==ve.currentOptions?null:ve.currentOptions.imageSize)("autoPlay",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlay)("autoPlayInterval",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==ve.currentOptions?null:ve.currentOptions.imageInfinityMove)("lazyLoading",null==ve.currentOptions?null:ve.currentOptions.lazyLoading)("actions",null==ve.currentOptions?null:ve.currentOptions.imageActions)("descriptions",ve.descriptions)("showDescription",null==ve.currentOptions?null:ve.currentOptions.imageDescription)("bullets",null==ve.currentOptions?null:ve.currentOptions.imageBullets)}}function te(ct,Ot){if(1&ct){const ve=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(pt){i.eBV(ve);const dn=i.XpG();return i.Njj(dn.selectFromThumbnails(pt))}),i.k0s()}if(2&ct){const ve=i.XpG();i.xc7("margin-top",ve.getThumbnailsMarginTop())("margin-bottom",ve.getThumbnailsMarginBottom())("height",ve.getThumbnailsHeight()),i.Y8G("images",ve.smallImages)("isAnimating",ve.isAnimating)("links",null!=ve.currentOptions&&ve.currentOptions.thumbnailsAsLinks?ve.links:i.lJ4(28,se))("labels",ve.labels)("linkTarget",null==ve.currentOptions?null:ve.currentOptions.linkTarget)("selectedIndex",ve.selectedIndex)("columns",null==ve.currentOptions?null:ve.currentOptions.thumbnailsColumns)("rows",null==ve.currentOptions?null:ve.currentOptions.thumbnailsRows)("margin",null==ve.currentOptions?null:ve.currentOptions.thumbnailMargin)("arrows",null==ve.currentOptions?null:ve.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==ve.currentOptions?null:ve.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==ve.currentOptions?null:ve.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ve.currentOptions?null:ve.currentOptions.arrowNextIcon)("clickable",(null==ve.currentOptions?null:ve.currentOptions.image)||(null==ve.currentOptions?null:ve.currentOptions.preview))("swipe",null==ve.currentOptions?null:ve.currentOptions.thumbnailsSwipe)("size",null==ve.currentOptions?null:ve.currentOptions.thumbnailSize)("moveSize",null==ve.currentOptions?null:ve.currentOptions.thumbnailsMoveSize)("order",null==ve.currentOptions?null:ve.currentOptions.thumbnailsOrder)("remainingCount",null==ve.currentOptions?null:ve.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==ve.currentOptions?null:ve.currentOptions.lazyLoading)("actions",null==ve.currentOptions?null:ve.currentOptions.thumbnailActions)("ngClass",null==ve.currentOptions?null:ve.currentOptions.thumbnailClasses)}}let le=(()=>{class ct{constructor(ve){this.renderer=ve,this.swipeHandlers=new Map}manageSwipe(ve,Be,pt,dn,an){const In=this.getSwipeHandlers(pt);try{ve&&!In?this.swipeHandlers.set(pt,[this.renderer.listen(Be.nativeElement,"swipeleft",()=>dn()),this.renderer.listen(Be.nativeElement,"swiperight",()=>an())]):!ve&&In&&(In.map(Tt=>Tt()),this.removeSwipeHandlers(pt))}catch{}}validateUrl(ve){return ve.replace?ve.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):ve}getBackgroundUrl(ve){return"url('"+this.validateUrl(ve)+"')"}getFileType(ve){const Be=ve.split(".").pop().toLowerCase();return"avi"===Be||"flv"===Be||"wmv"===Be||"mov"===Be||"mp4"===Be?"video":"image"}getSwipeHandlers(ve){return this.swipeHandlers.get(ve)}removeSwipeHandlers(ve){this.swipeHandlers.delete(ve)}}return ct.\u0275fac=function(ve){return new(ve||ct)(i.KVO(i.sFG))},ct.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),Ee=(()=>{class ct{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return ct.\u0275fac=function(ve){return new(ve||ct)},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(ve,Be){1&ve&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return Be.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return Be.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&ve&&(i.R7$(),i.AVh("ngx-gallery-disabled",Be.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",Be.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),ct})(),be=(()=>{class ct{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(ve){this.disabled||this.closeClick.emit(ve),ve.stopPropagation(),ve.preventDefault()}}return ct.\u0275fac=function(ve){return new(ve||ct)},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(ve,Be){1&ve&&(i.j41(0,"div",0),i.bIt("click",function(dn){return Be.handleClick(dn)}),i.nrm(1,"i"),i.k0s()),2&ve&&(i.AVh("ngx-gallery-icon-disabled",Be.disabled),i.FS9("title",Be.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),ct})(),pe=(()=>{class ct{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(ve,Be){this.bulletChange.emit(Be)}}return ct.\u0275fac=function(ve){return new(ve||ct)},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(ve,Be){1&ve&&i.DNE(0,m,1,3,"div",0),2&ve&&i.Y8G("ngForOf",Be.getBullets())},dependencies:[l.Sq,l.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),ct})(),re=(()=>{class ct{constructor(ve,Be,pt,dn,an){this.sanitization=ve,this.elementRef=Be,this.helperService=pt,this.renderer=dn,this.changeDetectorRef=an,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(ve){ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(ve){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(ve)?this.showPrev():this.isKeyboardNext(ve)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(ve)&&this.close())}open(ve){this.previewOpen.emit(),this.index=ve,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",Be=>this.onKeyDown(Be))}close(){this.isOpen=!1;const ve=this.previewImage.nativeElement;ve.currentTime>0&&!ve.paused&&!ve.ended&&ve.readyState>2&&ve.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(ve){this.index=ve,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const ve=document;ve.fullscreenElement||ve.mozFullScreenElement||ve.webkitFullscreenElement||ve.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustUrl(ve)}getFileType(ve){return this.helperService.getFileType(ve)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(ve){this.canDragOnZoom()&&(this.initialX=this.getClientX(ve),this.initialY=this.getClientY(ve),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,ve.preventDefault())}mouseUpHandler(ve){this.isMove=!1}mouseMoveHandler(ve){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(ve)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(ve)-this.initialY))}getClientX(ve){return ve.touches&&ve.touches.length?ve.touches[0].clientX:ve.clientX}getClientY(ve){return ve.touches&&ve.touches.length?ve.touches[0].clientY:ve.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(ve){return 39===ve.keyCode}isKeyboardPrev(ve){return 37===ve.keyCode}isKeyboardEsc(ve){return 27===ve.keyCode}openFullscreen(){const ve=document.documentElement;ve.requestFullscreen?ve.requestFullscreen():ve.msRequestFullscreen?ve.msRequestFullscreen():ve.mozRequestFullScreen?ve.mozRequestFullScreen():ve.webkitRequestFullscreen&&ve.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const ve=document;ve.exitFullscreen?ve.exitFullscreen():ve.msExitFullscreen?ve.msExitFullscreen():ve.mozCancelFullScreen?ve.mozCancelFullScreen():ve.webkitExitFullscreen&&ve.webkitExitFullscreen()}}isFullscreen(){const ve=document;return ve.fullscreenElement||ve.webkitFullscreenElement||ve.mozFullScreenElement||ve.msFullscreenElement}show(ve=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),ve||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(ve){return!(!ve.complete||typeof ve.naturalWidth<"u"&&0===ve.naturalWidth)}}return ct.\u0275fac=function(ve){return new(ve||ct)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(le),i.rXU(i.sFG),i.rXU(i.gRc))},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-preview"]],viewQuery:function(ve,Be){if(1&ve&&i.GBs(h,5),2&ve){let pt;i.mGM(pt=i.lsd())&&(Be.previewImage=pt.first)}},hostBindings:function(ve,Be){1&ve&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(ve,Be){1&ve&&(i.DNE(0,_,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,y,1,3,"ngx-gallery-action",4)(4,v,2,4,"a",5)(5,D,1,2,"ngx-gallery-action",6)(6,O,1,2,"ngx-gallery-action",6)(7,M,1,1,"ngx-gallery-action",7)(8,T,1,1,"ngx-gallery-action",7)(9,R,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return Be.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return Be.closeOnClick&&Be.close()})("mouseup",function(dn){return Be.mouseUpHandler(dn)})("mousemove",function(dn){return Be.mouseMoveHandler(dn)})("touchend",function(dn){return Be.mouseUpHandler(dn)})("touchmove",function(dn){return Be.mouseMoveHandler(dn)}),i.j41(14,"div",12),i.DNE(15,u,2,13,"img",13)(16,w,4,13,"video",14)(17,C,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,S,1,1,"div",16),i.k0s()),2&ve&&(i.Y8G("ngIf",Be.arrows),i.R7$(3),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.download&&Be.src),i.R7$(),i.Y8G("ngIf",Be.zoom),i.R7$(),i.Y8G("ngIf",Be.zoom),i.R7$(),i.Y8G("ngIf",Be.rotate),i.R7$(),i.Y8G("ngIf",Be.rotate),i.R7$(),i.Y8G("ngIf",Be.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+Be.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",Be.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",Be.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",Be.src&&"image"===Be.type),i.R7$(),i.Y8G("ngIf",Be.src&&"video"===Be.type),i.R7$(),i.Y8G("ngIf",Be.bullets),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.description))},dependencies:[Ee,be,pe,l.bT,l.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),ct})(),ye=(()=>{class ct{}return ct.Fade="fade",ct.Slide="slide",ct.Rotate="rotate",ct.Zoom="zoom",ct})(),De=(()=>{class ct{constructor(ve,Be,pt,dn){this.sanitization=ve,this.changeDetectorRef=Be,this.elementRef=pt,this.helperService=dn,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=Be,this.action="none"}set selectedIndex(ve){if(ve>this._selectedIndex){let Be;this.animation===ye.Slide?Be="slideRight":this.animation===ye.Fade?Be="fade":this.animation===ye.Rotate?Be="rotateRight":this.animation===ye.Zoom&&(Be="zoom"),this.setAction(Be)}else if(ve<this._selectedIndex){let Be;this.animation===ye.Slide?Be="slideLeft":this.animation===ye.Fade?Be="fade":this.animation===ye.Rotate?Be="rotateLeft":this.animation===ye.Zoom&&(Be="zoom"),this.setAction(Be)}this._selectedIndex=ve}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(ve){ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(ve){this._selectedIndex=ve,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const ve=[this._selectedIndex],Be=this._selectedIndex-1;-1===Be&&this.infinityMove?ve.push(this.images.length-1):Be>=0&&ve.push(Be);const pt=this._selectedIndex+1;return pt===this.images.length&&this.infinityMove?ve.push(0):pt<this.images.length&&ve.push(pt),this.images.filter((dn,an)=>-1!==ve.indexOf(an))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(ve,Be){this.clickable&&(this.imageClick.emit(Be),ve.stopPropagation(),ve.preventDefault())}show(ve){if(!this.isAnimating){if(ve>this._selectedIndex){let Be;this.animation===ye.Slide?Be="slideRight":this.animation===ye.Fade?Be="fade":this.animation===ye.Rotate?Be="rotateRight":this.animation===ye.Zoom&&(Be="zoom"),this.setAction(Be)}else{let Be;this.animation===ye.Slide?Be="slideLeft":this.animation===ye.Fade?Be="fade":this.animation===ye.Rotate?Be="rotateLeft":this.animation===ye.Zoom&&(Be="zoom"),this.setAction(Be)}this._selectedIndex=ve,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(ve){this.action=ve,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let ve;return this.animation===ye.Slide?ve="slideRight":this.animation===ye.Fade?ve="fade":this.animation===ye.Rotate?ve="rotateRight":this.animation===ye.Zoom&&(ve="zoom"),this.setAction(ve),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let ve;this.animation===ye.Slide?ve="slideLeft":this.animation===ye.Fade?ve="fade":this.animation===ye.Rotate?ve="rotateLeft":this.animation===ye.Zoom&&(ve="zoom"),this.setAction(ve),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let ve=1e3;(this.animation===ye.Slide||this.animation===ye.Fade)&&(ve=500),setTimeout(()=>{this.canChangeImage=!0},ve)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ve.toString()))}getFileType(ve){return this.helperService.getFileType(ve)}onStart(ve){this.isAnimating=!0,this.animating.emit(!0)}onDone(ve){this.isAnimating=!1,this.animating.emit(!1)}}return ct.\u0275fac=function(ve){return new(ve||ct)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(le))},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-image"]],hostBindings:function(ve,Be){1&ve&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ve,Be){1&ve&&(i.j41(0,"div"),i.DNE(1,H,3,2,"ng-container",0)(2,V,1,2,"ngx-gallery-bullets",1)(3,X,1,7,"ngx-gallery-arrows",2),i.k0s()),2&ve&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",Be.animation," ngx-gallery-image-size-",Be.size,""),i.R7$(),i.Y8G("ngForOf",Be.getImages()),i.R7$(),i.Y8G("ngIf",Be.bullets),i.R7$(),i.Y8G("ngIf",Be.arrows))},dependencies:[be,pe,Ee,l.Sq,l.bT,l.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),ct})(),nt=(()=>{class ct{}return ct.Column=1,ct.Row=2,ct.Page=3,ct})(),mt=(()=>{class ct{constructor(ve,Be,pt){this.sanitization=ve,this.elementRef=Be,this.helperService=pt,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(ve){ve.selectedIndex&&this.validateIndex(),ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(ve){this.selectedIndex=ve,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==nt.Row){let ve=0;return this.order===nt.Column?ve=(this.index+this.columns+this.moveSize)*this.rows:this.order===nt.Page&&(ve=this.index+this.columns*this.rows*2),ve<=this.minStopIndex?ve=this.minStopIndex:this.minStopIndex=ve,this.images.slice(0,ve)}return this.images}handleClick(ve,Be){!this.hasLink(Be)&&!this.isAnimating&&(this.selectedIndex=Be,this.activeChange.emit(Be)),ve.stopPropagation(),ve.preventDefault()}hasLink(ve){return!!(this.links&&this.links.length&&this.links[ve])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const ve=this.getMaxIndex()-this.columns;this.index>ve&&(this.index=ve),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(ve){let Be;return Be=this.order===nt.Column?Math.floor(ve/this.rows):this.order===nt.Page?ve%this.columns+Math.floor(ve/(this.rows*this.columns))*this.columns:this.order===nt.Row&&this.remainingCount?ve%this.columns:ve%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(Be,this.columns)}getThumbnailTop(ve){let Be;return Be=this.order===nt.Column?ve%this.rows:this.order===nt.Page?Math.floor(ve/this.columns)-Math.floor(ve/(this.rows*this.columns))*this.rows:this.order===nt.Row&&this.remainingCount?Math.floor(ve/this.columns):Math.floor(ve/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(Be,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let ve;if(ve=this.order===nt.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(ve=0),ve<this.index||ve>=this.index+this.columns){const Be=this.getMaxIndex()-this.columns;this.index=ve>Be?Be:ve,this.setThumbnailsPosition()}}}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ve.toString()))}getFileType(ve){return this.helperService.getFileType(ve.toString())}getThumbnailPosition(ve,Be){return this.getSafeStyle("calc("+100/Be*ve+"% + "+(this.margin-(Be-1)*this.margin/Be)*ve+"px)")}getThumbnailDimension(ve){return this.getSafeStyle(0!==this.margin?"calc("+100/ve+"% - "+(ve-1)*this.margin/ve+"px)":"calc("+100/ve+"% + 1px)")}getMaxIndex(){if(this.order===nt.Page){let ve=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?ve+=this.columns:ve+=this.images.length%this.getVisibleCount(),ve}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(ve){return this.sanitization.bypassSecurityTrustStyle(ve)}}return ct.\u0275fac=function(ve){return new(ve||ct)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(le))},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(ve,Be){1&ve&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ve,Be){1&ve&&(i.j41(0,"div")(1,"div",0),i.DNE(2,Z,6,19,"a",1),i.k0s()(),i.DNE(3,oe,1,4,"ngx-gallery-arrows",2)),2&ve&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",Be.size,""),i.R7$(),i.xc7("transform","translateX("+Be.thumbnailsLeft+")")("margin-left",Be.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",Be.getImages()),i.R7$(),i.Y8G("ngIf",Be.canShowArrows()))},dependencies:[be,Ee,l.Sq,l.YU,l.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),ct})();class xe{constructor(Ot){this.icon=Ot.icon,this.disabled=!!Ot.disabled&&Ot.disabled,this.titleText=Ot.titleText?Ot.titleText:"",this.onClick=Ot.onClick}}let ot=(()=>{class ct{}return ct.ThumbnailsTop="thumbnails-top",ct.ThumbnailsBottom="thumbnails-bottom",ct})(),$e=(()=>{class ct{}return ct.Cover="cover",ct.Contain="contain",ct})();class Fe{constructor(Ot){const ve=void 0!==Ot.breakpoint;function Be(pt,dn){return Ot&&(void 0!==pt||ve)?pt:dn}this.breakpoint=Be(Ot.breakpoint,void 0),this.width=Be(Ot.width,"500px"),this.height=Be(Ot.height,"400px"),this.fullWidth=Be(Ot.fullWidth,!1),this.layout=Be(Ot.layout,ot.ThumbnailsBottom),this.startIndex=Be(Ot.startIndex,0),this.linkTarget=Be(Ot.linkTarget,"_blank"),this.lazyLoading=Be(Ot.lazyLoading,!0),this.image=Be(Ot.image,!0),this.imagePercent=Be(Ot.imagePercent,75),this.imageArrows=Be(Ot.imageArrows,!0),this.imageArrowsAutoHide=Be(Ot.imageArrowsAutoHide,!1),this.imageSwipe=Be(Ot.imageSwipe,!1),this.imageAnimation=Be(Ot.imageAnimation,ye.Fade),this.imageSize=Be(Ot.imageSize,$e.Cover),this.imageAutoPlay=Be(Ot.imageAutoPlay,!1),this.imageAutoPlayInterval=Be(Ot.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=Be(Ot.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=Be(Ot.imageInfinityMove,!1),Ot&&Ot.imageActions&&Ot.imageActions.length&&(Ot.imageActions=Ot.imageActions.map(pt=>new xe(pt))),this.imageActions=Be(Ot.imageActions,[]),this.imageDescription=Be(Ot.imageDescription,!1),this.imageBullets=Be(Ot.imageBullets,!1),this.thumbnails=Be(Ot.thumbnails,!0),this.thumbnailsColumns=Be(Ot.thumbnailsColumns,4),this.thumbnailsRows=Be(Ot.thumbnailsRows,1),this.thumbnailsPercent=Be(Ot.thumbnailsPercent,25),this.thumbnailsMargin=Be(Ot.thumbnailsMargin,10),this.thumbnailsArrows=Be(Ot.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=Be(Ot.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=Be(Ot.thumbnailsSwipe,!1),this.thumbnailsMoveSize=Be(Ot.thumbnailsMoveSize,1),this.thumbnailsOrder=Be(Ot.thumbnailsOrder,nt.Column),this.thumbnailsRemainingCount=Be(Ot.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=Be(Ot.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=Be(Ot.thumbnailsAutoHide,!1),this.thumbnailMargin=Be(Ot.thumbnailMargin,10),this.thumbnailSize=Be(Ot.thumbnailSize,$e.Cover),Ot&&Ot.thumbnailActions&&Ot.thumbnailActions.length&&(Ot.thumbnailActions=Ot.thumbnailActions.map(pt=>new xe(pt))),this.thumbnailActions=Be(Ot.thumbnailActions,[]),this.thumbnailClasses=Be(Ot.thumbnailClasses,[]),this.preview=Be(Ot.preview,!0),this.previewDescription=Be(Ot.previewDescription,!0),this.previewArrows=Be(Ot.previewArrows,!0),this.previewArrowsAutoHide=Be(Ot.previewArrowsAutoHide,!1),this.previewSwipe=Be(Ot.previewSwipe,!1),this.previewFullscreen=Be(Ot.previewFullscreen,!1),this.previewForceFullscreen=Be(Ot.previewForceFullscreen,!1),this.previewCloseOnClick=Be(Ot.previewCloseOnClick,!1),this.previewCloseOnEsc=Be(Ot.previewCloseOnEsc,!1),this.previewKeyboardNavigation=Be(Ot.previewKeyboardNavigation,!1),this.previewAnimation=Be(Ot.previewAnimation,!0),this.previewAutoPlay=Be(Ot.previewAutoPlay,!1),this.previewAutoPlayInterval=Be(Ot.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=Be(Ot.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=Be(Ot.previewInfinityMove,!1),this.previewZoom=Be(Ot.previewZoom,!1),this.previewZoomStep=Be(Ot.previewZoomStep,.1),this.previewZoomMax=Be(Ot.previewZoomMax,2),this.previewZoomMin=Be(Ot.previewZoomMin,.5),this.previewRotate=Be(Ot.previewRotate,!1),this.previewDownload=Be(Ot.previewDownload,!1),this.previewCustom=Be(Ot.previewCustom,void 0),this.previewBullets=Be(Ot.previewBullets,!1),this.arrowPrevIcon=Be(Ot.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=Be(Ot.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=Be(Ot.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=Be(Ot.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=Be(Ot.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=Be(Ot.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=Be(Ot.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=Be(Ot.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=Be(Ot.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=Be(Ot.downloadIcon,"fa fa-arrow-circle-down"),Ot&&Ot.actions&&Ot.actions.length&&(Ot.actions=Ot.actions.map(pt=>new xe(pt))),this.actions=Be(Ot.actions,[])}}class st{constructor(Ot){this.src=Ot.src,this.type=Ot.type,this.index=Ot.index}}let Ie=(()=>{class ct{constructor(ve,Be){this.myElement=ve,this.helperService=Be,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(ve=>new Fe(ve)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===ot.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===ot.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(ve){this.currentOptions.previewCustom?this.currentOptions.previewCustom(ve):(this.previewEnabled=!0,this.preview.open(ve))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(ve){this.select(ve)}selectFromThumbnails(ve){this.select(ve),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(ve){this.select(ve)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(ve){this.previewChange.emit({index:ve,image:this.images[ve]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(ve){this.selectedIndex=ve,this.change.emit({index:ve,image:this.images[ve]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(ve=>ve.type=this.helperService.getFileType(ve.url||ve.big||ve.medium||ve.small||"")),this.smallImages=this.images.map(ve=>ve.small),this.mediumImages=this.images.map((ve,Be)=>new st({src:ve.medium,type:ve.type,index:Be})),this.bigImages=this.images.map(ve=>ve.big),this.descriptions=this.images.map(ve=>ve.description),this.links=this.images.map(ve=>ve.url),this.labels=this.images.map(ve=>ve.label)}setBreakpoint(){let ve;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(ve=this.options.filter(Be=>Be.breakpoint>=window.innerWidth).map(Be=>Be.breakpoint)),this.breakpoint=ve&&ve.length?ve.pop():void 0}sortOptions(){this.options=[...this.options.filter(ve=>void 0===ve.breakpoint),...this.options.filter(ve=>void 0!==ve.breakpoint).sort((ve,Be)=>Be.breakpoint-ve.breakpoint)]}setOptions(){this.currentOptions=new Fe({}),this.options.filter(ve=>void 0===ve.breakpoint||ve.breakpoint>=this.breakpoint).map(ve=>this.combineOptions(this.currentOptions,ve)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(ve,Be){Object.keys(Be).map(pt=>ve[pt]=void 0!==Be[pt]?Be[pt]:ve[pt])}setAnimating(ve){this.isAnimating=ve}}return ct.\u0275fac=function(ve){return new(ve||ct)(i.rXU(i.aKT),i.rXU(le))},ct.\u0275cmp=i.VBU({type:ct,selectors:[["ngx-gallery"]],viewQuery:function(ve,Be){if(1&ve&&(i.GBs(re,5),i.GBs(De,5),i.GBs(mt,5)),2&ve){let pt;i.mGM(pt=i.lsd())&&(Be.preview=pt.first),i.mGM(pt=i.lsd())&&(Be.image=pt.first),i.mGM(pt=i.lsd())&&(Be.thumbnails=pt.first)}},hostVars:6,hostBindings:function(ve,Be){1&ve&&i.bIt("resize",function(){return Be.onResize()},!1,i.tSv),2&ve&&i.xc7("width",Be.width)("height",Be.height)("transform",Be.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([le])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(ve,Be){1&ve&&(i.j41(0,"div"),i.DNE(1,de,1,21,"ngx-gallery-image",0)(2,te,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return Be.onPreviewClose()})("previewOpen",function(){return Be.onPreviewOpen()})("activeChange",function(dn){return Be.previewSelect(dn)}),i.k0s()()),2&ve&&(i.ZvI("ngx-gallery-layout ",null==Be.currentOptions?null:Be.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==Be.currentOptions?null:Be.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==Be.currentOptions?null:Be.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",Be.previewEnabled),i.Y8G("images",Be.bigImages)("descriptions",Be.descriptions)("showDescription",null==Be.currentOptions?null:Be.currentOptions.previewDescription)("arrowPrevIcon",null==Be.currentOptions?null:Be.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Be.currentOptions?null:Be.currentOptions.arrowNextIcon)("closeIcon",null==Be.currentOptions?null:Be.currentOptions.closeIcon)("fullscreenIcon",null==Be.currentOptions?null:Be.currentOptions.fullscreenIcon)("spinnerIcon",null==Be.currentOptions?null:Be.currentOptions.spinnerIcon)("arrows",null==Be.currentOptions?null:Be.currentOptions.previewArrows)("arrowsAutoHide",null==Be.currentOptions?null:Be.currentOptions.previewArrowsAutoHide)("swipe",null==Be.currentOptions?null:Be.currentOptions.previewSwipe)("fullscreen",null==Be.currentOptions?null:Be.currentOptions.previewFullscreen)("forceFullscreen",null==Be.currentOptions?null:Be.currentOptions.previewForceFullscreen)("closeOnClick",null==Be.currentOptions?null:Be.currentOptions.previewCloseOnClick)("closeOnEsc",null==Be.currentOptions?null:Be.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==Be.currentOptions?null:Be.currentOptions.previewKeyboardNavigation)("animation",null==Be.currentOptions?null:Be.currentOptions.previewAnimation)("autoPlay",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlay)("autoPlayInterval",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==Be.currentOptions?null:Be.currentOptions.previewInfinityMove)("zoom",null==Be.currentOptions?null:Be.currentOptions.previewZoom)("zoomStep",null==Be.currentOptions?null:Be.currentOptions.previewZoomStep)("zoomMax",null==Be.currentOptions?null:Be.currentOptions.previewZoomMax)("zoomMin",null==Be.currentOptions?null:Be.currentOptions.previewZoomMin)("zoomInIcon",null==Be.currentOptions?null:Be.currentOptions.zoomInIcon)("zoomOutIcon",null==Be.currentOptions?null:Be.currentOptions.zoomOutIcon)("actions",null==Be.currentOptions?null:Be.currentOptions.actions)("rotate",null==Be.currentOptions?null:Be.currentOptions.previewRotate)("rotateLeftIcon",null==Be.currentOptions?null:Be.currentOptions.rotateLeftIcon)("rotateRightIcon",null==Be.currentOptions?null:Be.currentOptions.rotateRightIcon)("download",null==Be.currentOptions?null:Be.currentOptions.previewDownload)("downloadIcon",null==Be.currentOptions?null:Be.currentOptions.downloadIcon)("bullets",null==Be.currentOptions?null:Be.currentOptions.previewBullets))},dependencies:[De,mt,re,l.bT,l.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),ct})(),We=(()=>{class ct extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return ct.\u0275fac=(()=>{let Ot;return function(Be){return(Ot||(Ot=i.xGo(ct)))(Be||ct)}})(),ct.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac}),ct})(),Dt=(()=>{class ct{}return ct.\u0275fac=function(ve){return new(ve||ct)},ct.\u0275mod=i.$C({type:ct}),ct.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:We}],imports:[[l.MD]]}),ct})()},52149:(N,b,n)=>{"use strict";n.d(b,{W1:()=>yo,_f:()=>et,Lw:()=>Te,so:()=>Tn,Ll:()=>Hi,b7:()=>Qn,$G:()=>la,HC:()=>Ve,yB:()=>ha,I5:()=>ca,IQ:()=>Ji,tg:()=>Jr,E5:()=>Po,_H:()=>Br,U0:()=>Ta,zH:()=>xl,do:()=>Ja,cw:()=>ta,Bq:()=>ae,LY:()=>_e,UN:()=>ko,X9:()=>ds,Um:()=>On,sy:()=>Xn,Ri:()=>vi,Pv:()=>Do,m_:()=>Oa,QE:()=>si,s5:()=>Zu,MI:()=>Lc,c9:()=>qu,CT:()=>vo,t3:()=>zo,Xc:()=>Tr,sb:()=>ho,px:()=>Cs,M0:()=>Gs,hC:()=>Ls,Ny:()=>zd,Pe:()=>l0,Ng:()=>Zr,tJ:()=>th,md:()=>Sn,n8:()=>Ti,$n:()=>eg,h_:()=>ac});var i=n(54438),t=n(60177),l=n(71985),e=n(983),f=n(7673),m=n(21413),h=n(33726),_=n(41584),y=n(1033),v=n(84412),O=(n(84572),n(85343));new l.c(O.l);var R=n(44437),u=n(57786),w=n(92688),S=n(56977),I=n(5964),L=n(96697),B=n(96354),U=n(99172),W=n(23294),j=n(25558),G=n(88141),H=n(53993),V=n(35335),X=n(73028),J=n(65245),q=n(97647),Q=n(89417);const Y=(k,ue)=>({$implicit:k,opened:ue});function z(k,ue){}function Z(k,ue){if(1&k&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,z,0,0,"ng-template",4),i.k0s()),2&k){const A=ue.$implicit;i.Y8G("ngbPanelToggle",A),i.R7$(),i.SpI(" ",A.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==A.titleTpl?null:A.titleTpl.templateRef)}}function oe(k,ue){}function se(k,ue){}function de(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(Ce){i.eBV(A);const Le=i.XpG().$implicit;return i.Njj(Le.panelDiv=Ce)}),i.j41(1,"div",9),i.DNE(2,se,0,0,"ng-template",4),i.k0s()()}if(2&k){const A=i.XpG().$implicit;i.FS9("id",A.id),i.BMQ("aria-labelledby",A.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)}}function te(k,ue){if(1&k&&(i.j41(0,"div")(1,"div",5),i.DNE(2,oe,0,0,"ng-template",6),i.k0s(),i.DNE(3,de,3,3,"div",7),i.k0s()),2&k){const A=ue.$implicit,$=i.XpG(),Ce=i.sdS(1);i.HbH("card "+(A.cardClass||"")),i.R7$(),i.HbH("card-header "+(A.type?"bg-"+A.type:$.type?"bg-"+$.type:"")),i.Mz_("id","",A.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.headerTpl?null:A.headerTpl.templateRef)||Ce)("ngTemplateOutletContext",i.l_i(9,Y,A,A.isOpen)),i.R7$(),i.Y8G("ngIf",!$.destroyOnHide||A.isOpen||A.transitionRunning)}}const le=["*"],nt=["ngbDatepickerDayView",""],mt=["month"],xe=["year"];function ot(k,ue){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit,$=i.XpG();i.Y8G("value",A),i.BMQ("aria-label",$.i18n.getMonthFullName(A,null==$.date?null:$.date.year)),i.R7$(),i.JRh($.i18n.getMonthShortName(A,null==$.date?null:$.date.year))}}function $e(k,ue){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit,$=i.XpG();i.Y8G("value",A),i.R7$(),i.JRh($.i18n.getYearNumerals(A))}}function Fe(k,ue){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(Ce){i.eBV(A);const Le=i.XpG();return i.Njj(Le.select.emit(Ce))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.date)("disabled",A.disabled)("months",A.selectBoxes.months)("years",A.selectBoxes.years)}}function st(k,ue){1&k&&i.nrm(0,"div",0)}function Ie(k,ue){1&k&&i.nrm(0,"div",0)}function We(k,ue){if(1&k&&(i.DNE(0,st,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,Ie,1,0,"div",9)),2&k){const A=ue.$implicit,$=ue.index,Ce=i.XpG(2);i.Y8G("ngIf",$>0),i.R7$(2),i.SpI(" ",Ce.i18n.getMonthLabel(A.firstDate)," "),i.R7$(),i.Y8G("ngIf",$!==Ce.months.length-1)}}function Dt(k,ue){if(1&k&&i.DNE(0,We,4,3,"ng-template",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.months)}}const kt=["defaultDayTemplate"],ct=["content"];function Ot(k,ue){if(1&k&&i.nrm(0,"div",7),2&k){const $=ue.currentMonth,Ce=ue.selected,Le=ue.disabled,Xt=ue.focused;i.Y8G("date",ue.date)("currentMonth",$)("selected",Ce)("disabled",Le)("focused",Xt)}}function ve(k,ue){if(1&k&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,$=i.XpG(2);i.R7$(),i.SpI(" ",$.i18n.getMonthLabel(A.firstDate)," ")}}function Be(k,ue){if(1&k&&(i.j41(0,"div",9),i.DNE(1,ve,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&k){const A=ue.$implicit,$=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===$.navigation||$.displayMonths>1&&"select"===$.navigation),i.R7$(),i.Y8G("month",A.firstDate)}}function pt(k,ue){if(1&k&&i.DNE(0,Be,3,2,"div",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.model.months)}}function dn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(Ce){i.eBV(A);const Le=i.XpG();return i.Njj(Le.onNavigateEvent(Ce))})("select",function(Ce){i.eBV(A);const Le=i.XpG();return i.Njj(Le.onNavigateDateSelect(Ce))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.model.firstDate)("months",A.model.months)("disabled",A.model.disabled)("showSelect","select"===A.model.navigation)("prevDisabled",A.model.prevDisabled)("nextDisabled",A.model.nextDisabled)("selectBoxes",A.model.selectBoxes)}}function an(k,ue){}function In(k,ue){}function Tt(k,ue){if(1&k&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2);i.R7$(),i.JRh(A.i18n.getWeekLabel())}}function Wt(k,ue){if(1&k&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit;i.R7$(),i.JRh(A)}}function It(k,ue){if(1&k&&(i.j41(0,"div",2),i.DNE(1,Tt,2,1,"div",3)(2,Wt,2,1,"div",4),i.k0s()),2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.viewModel.weekdays)}}function qt(k,ue){if(1&k&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2).$implicit,$=i.XpG();i.R7$(),i.JRh($.i18n.getWeekNumerals(A.number))}}function ln(k,ue){}function Mt(k,ue){if(1&k&&i.DNE(0,ln,0,0,"ng-template",14),2&k){const A=i.XpG().$implicit,$=i.XpG(3);i.Y8G("ngTemplateOutlet",$.datepicker.dayTemplate)("ngTemplateOutletContext",A.context)}}function Ht(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",12),i.bIt("click",function(Ce){const Le=i.eBV(A).$implicit;return i.XpG(3).doSelect(Le),i.Njj(Ce.preventDefault())}),i.DNE(1,Mt,1,2,"ng-template",13),i.k0s()}if(2&k){const A=ue.$implicit;i.AVh("disabled",A.context.disabled)("hidden",A.hidden)("ngb-dp-today",A.context.today),i.Y8G("tabindex",A.tabindex),i.BMQ("aria-label",A.ariaLabel),i.R7$(),i.Y8G("ngIf",!A.hidden)}}function Kt(k,ue){if(1&k&&(i.j41(0,"div",8),i.DNE(1,qt,2,1,"div",9)(2,Ht,2,9,"div",10),i.k0s()),2&k){const A=i.XpG().$implicit,$=i.XpG();i.R7$(),i.Y8G("ngIf",$.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.days)}}function Pt(k,ue){1&k&&i.DNE(0,Kt,3,2,"div",7),2&k&&i.Y8G("ngIf",!ue.$implicit.collapsed)}const Ct=["dialog"],Qt=["ngbNavOutlet",""],Et=k=>({$implicit:k});function Lt(k,ue){}function it(k,ue){if(1&k&&(i.j41(0,"div",2),i.DNE(1,Lt,0,0,"ng-template",3),i.k0s()),2&k){const A=i.XpG().$implicit,$=i.XpG();i.Y8G("item",A)("nav",$.nav)("role",$.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Et,A.active||$.isPanelTransitioning(A)))}}function Ne(k,ue){if(1&k&&i.DNE(0,it,2,7,"div",1),2&k){const A=ue.$implicit,$=i.XpG();i.Y8G("ngIf",A.isPanelInDom()||$.isPanelTransitioning(A))}}const ke=(k,ue,A)=>({$implicit:k,pages:ue,disabled:A}),ze=k=>({disabled:!0,currentPage:k}),Ue=(k,ue,A)=>({disabled:k,$implicit:ue,currentPage:A}),St=(k,ue)=>({disabled:k,currentPage:ue}),Qe=k=>({disabled:k});function xt(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function _t(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function Zt(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function fn(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function Cn(k,ue){1&k&&i.EFF(0,"...")}function ss(k,ue){1&k&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function us(k,ue){if(1&k&&(i.EFF(0),i.DNE(1,ss,2,0,"span",14)),2&k){const A=ue.$implicit,$=ue.currentPage;i.SpI(" ",A," "),i.R7$(),i.Y8G("ngIf",A===$)}}function Vs(k,ue){}function gt(k,ue){if(1&k&&(i.j41(0,"a",20),i.DNE(1,Vs,0,0,"ng-template",12),i.k0s()),2&k){const A=i.XpG(2).$implicit,$=i.XpG(),Ce=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==$.tplEllipsis?null:$.tplEllipsis.templateRef)||Ce)("ngTemplateOutletContext",i.eq3(2,ze,A))}}function lt(k,ue){}function Yt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"a",21),i.bIt("click",function(Ce){i.eBV(A);const Le=i.XpG().$implicit;return i.XpG(2).selectPage(Le),i.Njj(Ce.preventDefault())}),i.DNE(1,lt,0,0,"ng-template",12),i.k0s()}if(2&k){const A=i.XpG().$implicit,$=i.XpG(),Ce=$.$implicit,Le=$.disabled,Xt=i.XpG(),yn=i.sdS(11);i.BMQ("tabindex",Le?"-1":null)("aria-disabled",Le?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Xt.tplNumber?null:Xt.tplNumber.templateRef)||yn)("ngTemplateOutletContext",i.sMw(4,Ue,Le,A,Ce))}}function Pn(k,ue){if(1&k&&(i.j41(0,"li",17),i.DNE(1,gt,2,4,"a",18)(2,Yt,2,8,"a",19),i.k0s()),2&k){const A=ue.$implicit,$=i.XpG(),Ce=$.$implicit,Le=$.disabled,Xt=i.XpG();i.AVh("active",A===Ce)("disabled",Xt.isEllipsis(A)||Le),i.BMQ("aria-current",A===Ce?"page":null),i.R7$(),i.Y8G("ngIf",Xt.isEllipsis(A)),i.R7$(),i.Y8G("ngIf",!Xt.isEllipsis(A))}}function kn(k,ue){1&k&&i.DNE(0,Pn,3,7,"li",16),2&k&&i.Y8G("ngForOf",ue.pages)}function is(k,ue){}function as(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(Ce){return i.eBV(A),i.XpG().selectPage(1),i.Njj(Ce.preventDefault())}),i.DNE(2,is,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),$=i.sdS(1);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplFirst?null:A.tplFirst.templateRef)||$)("ngTemplateOutletContext",i.l_i(6,St,A.previousDisabled(),A.page))}}function Ys(k,ue){}function gs(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(Ce){i.eBV(A);const Le=i.XpG();return Le.selectPage(Le.page-1),i.Njj(Ce.preventDefault())}),i.DNE(2,Ys,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),$=i.sdS(3);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplPrevious?null:A.tplPrevious.templateRef)||$)("ngTemplateOutletContext",i.eq3(6,Qe,A.previousDisabled()))}}function Ss(k,ue){}function os(k,ue){}function sn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(Ce){i.eBV(A);const Le=i.XpG();return Le.selectPage(Le.page+1),i.Njj(Ce.preventDefault())}),i.DNE(2,os,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),$=i.sdS(5);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplNext?null:A.tplNext.templateRef)||$)("ngTemplateOutletContext",i.l_i(6,St,A.nextDisabled(),A.page))}}function pn(k,ue){}function Zn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(Ce){i.eBV(A);const Le=i.XpG();return Le.selectPage(Le.pageCount),i.Njj(Ce.preventDefault())}),i.DNE(2,pn,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),$=i.sdS(7);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplLast?null:A.tplLast.templateRef)||$)("ngTemplateOutletContext",i.l_i(6,St,A.nextDisabled(),A.page))}}function Ke(k,ue){1&k&&i.EFF(0),2&k&&i.JRh(100===ue.fill?"\u2605":"\u2606")}function en(k,ue){}function at(k,ue){if(1&k){const A=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const Ce=i.eBV(A).index,Le=i.XpG();return i.Njj(Le.enter(Ce+1))})("click",function(){const Ce=i.eBV(A).index,Le=i.XpG();return i.Njj(Le.handleClick(Ce+1))}),i.DNE(3,en,0,0,"ng-template",4),i.k0s()}if(2&k){const A=ue.index,$=i.XpG(),Ce=i.sdS(1);i.R7$(),i.SpI("(",A<$.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",$.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",$.starTemplate||$.starTemplateFromContent||Ce)("ngTemplateOutletContext",$.contexts[A])}}function dt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.changeHour(Ce.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function vt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.changeHour(-Ce.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function jt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.changeMinute(Ce.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function nn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.changeMinute(-Ce.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function Dn(k,ue){1&k&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function Vn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG(2);return i.Njj(Ce.changeSecond(Ce.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function xn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG(2);return i.Njj(Ce.changeSecond(-Ce.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function fs(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",24),i.DNE(1,Vn,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(Ce){i.eBV(A);const Le=i.XpG();return i.Njj(Le.updateSecond(Ce.target.value))})("blur",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.handleBlur())})("input",function(Ce){i.eBV(A);const Le=i.XpG();return i.Njj(Le.formatInput(Ce.target))})("keydown.ArrowUp",function(Ce){i.eBV(A);const Le=i.XpG();return Le.changeSecond(Le.secondStep),i.Njj(Ce.preventDefault())})("keydown.ArrowDown",function(Ce){i.eBV(A);const Le=i.XpG();return Le.changeSecond(-Le.secondStep),i.Njj(Ce.preventDefault())}),i.k0s(),i.DNE(3,xn,4,7,"button",12),i.k0s()}if(2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.spinners),i.R7$(),i.AVh("form-control-sm",A.isSmallSize)("form-control-lg",A.isLargeSize),i.Y8G("value",A.formatMinSec(null==A.model?null:A.model.second))("readOnly",A.readonlyInputs)("disabled",A.disabled),i.R7$(),i.Y8G("ngIf",A.spinners)}}function Ms(k,ue){1&k&&i.nrm(0,"div",14)}function ys(k,ue){if(1&k&&(i.qex(0),i.pXf(1,7),i.bVm()),2&k){const A=i.XpG(2);i.R7$(),i.uP7(A.i18n.getAfternoonPeriod()),i.nnv(1)}}function ls(k,ue){if(1&k&&i.pXf(0,8),2&k){const A=i.XpG(2);i.uP7(A.i18n.getMorningPeriod()),i.nnv(0)}}function Ts(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(A);const Ce=i.XpG();return i.Njj(Ce.toggleMeridian())}),i.DNE(2,ys,2,1,"ng-container",28)(3,ls,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&k){const A=i.sdS(4),$=i.XpG();i.R7$(),i.AVh("btn-sm",$.isSmallSize)("btn-lg",$.isLargeSize)("disabled",$.disabled),i.Y8G("disabled",$.disabled),i.R7$(),i.Y8G("ngIf",$.model&&$.model.hour>=12)("ngIfElse",A)}}function Fi(k,ue){if(1&k&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,$=i.XpG();i.HbH($.highlightClass),i.R7$(),i.JRh(A)}}function wr(k,ue){if(1&k&&i.EFF(0),2&k){const A=i.XpG().$implicit;i.JRh(A)}}function Qi(k,ue){if(1&k&&i.DNE(0,Fi,2,3,"span",2)(1,wr,1,1,"ng-template",null,0,i.C5r),2&k){const A=ue.odd,$=i.sdS(2);i.Y8G("ngIf",A)("ngIfElse",$)}}const Is=(k,ue,A)=>({result:k,term:ue,formatter:A});function Hs(k,ue){if(1&k&&i.nrm(0,"ngb-highlight",2),2&k){const $=ue.term;i.Y8G("result",(0,ue.formatter)(ue.result))("term",$)}}function $i(k,ue){}function ao(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const Ce=i.eBV(A).index,Le=i.XpG();return i.Njj(Le.markActive(Ce))})("click",function(){const Ce=i.eBV(A).$implicit,Le=i.XpG();return i.Njj(Le.select(Ce))}),i.DNE(1,$i,0,0,"ng-template",4),i.k0s()}if(2&k){const A=ue.$implicit,$=ue.index,Ce=i.XpG(),Le=i.sdS(1);i.AVh("active",$===Ce.activeIdx),i.Y8G("id",Ce.id+"-"+$),i.R7$(),i.Y8G("ngTemplateOutlet",Ce.resultTemplate||Le)("ngTemplateOutletContext",i.sMw(5,Is,A,Ce.term,Ce.formatter))}}function Di(k){return parseInt(`${k}`,10)}function Ft(k){return null!=k?`${k}`:""}function gn(k,ue,A=0){return Math.max(Math.min(k,ue),A)}function tn(k){return"string"==typeof k}function $t(k){return!isNaN(Di(k))}function bn(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k}function Wn(k){return null!=k}function oi(k){return $t(k)?`0${k}`.slice(-2):""}function ar(k,ue){return k&&k.className&&k.className.split&&k.className.split(/\s+/).indexOf(ue)>=0}function Bi(k){return(k||document.body).getBoundingClientRect()}function eo(k){return k.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(k){let ue=this;if(!document.documentElement.contains(ue))return null;do{if(ue.matches(k))return ue;ue=ue.parentElement||ue.parentNode}while(null!==ue&&1===ue.nodeType);return null});const Io={animation:!0,transitionTimerDelayMs:5},co=()=>{},{transitionTimerDelayMs:kr}=Io,uo=new Map,wi=(k,ue,A,$)=>{let Ce=$.context||{};const Le=uo.get(ue);if(Le)switch($.runningTransition){case"continue":return e.w;case"stop":k.run(()=>Le.transition$.complete()),Ce=Object.assign(Le.context,Ce),uo.delete(ue)}const Xt=A(ue,$.animation,Ce)||co;if(!$.animation||"none"===window.getComputedStyle(ue).transitionProperty)return k.run(()=>Xt()),(0,f.of)(void 0).pipe(function lo(k){return ue=>new l.c(A=>ue.subscribe({next:Xt=>k.run(()=>A.next(Xt)),error:Xt=>k.run(()=>A.error(Xt)),complete:()=>k.run(()=>A.complete())}))}(k));const yn=new m.B,Rn=new m.B,Gn=yn.pipe(function C(...k){return ue=>(0,w.x)(ue,(0,f.of)(...k))}(!0));uo.set(ue,{transition$:yn,complete:()=>{Rn.next(),Rn.complete()},context:Ce});const qn=function Lr(k){const{transitionDelay:ue,transitionDuration:A}=window.getComputedStyle(k);return 1e3*(parseFloat(ue)+parseFloat(A))}(ue);return k.runOutsideAngular(()=>{const Ds=(0,h.R)(ue,"transitionend").pipe((0,S.Q)(Gn),(0,I.p)(({target:Js})=>Js===ue)),vs=(0,_.O)(qn+kr).pipe((0,S.Q)(Gn));(0,y.O)(vs,Ds,Rn).pipe((0,S.Q)(Gn)).subscribe(()=>{uo.delete(ue),k.run(()=>{Xt(),yn.next(),yn.complete()})})}),yn.asObservable()},Hr=(k,ue,A)=>{let{direction:$,maxHeight:Ce}=A;const{classList:Le}=k;function Xt(){Le.add("collapse"),"show"===$?Le.add("show"):Le.remove("show")}if(ue)return Ce||(Ce=function lr(k){if(typeof navigator>"u")return"0px";const{classList:ue}=k,A=ue.contains("show");A||ue.add("show"),k.style.height="";const $=k.getBoundingClientRect().height+"px";return A||ue.remove("show"),$}(k),A.maxHeight=Ce,k.style.height="show"!==$?Ce:"0px",Le.remove("collapse"),Le.remove("collapsing"),Le.remove("show"),Bi(k),Le.add("collapsing")),k.style.height="show"===$?Ce:"0px",()=>{Xt(),Le.remove("collapsing"),k.style.height=""};Xt()};let xs=(()=>{class k{constructor(){this.animation=Io.animation}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),to=(()=>{class k{constructor(A){this._ngbConfig=A,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(xs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xo=0,Tr=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelHeader",""]]}),k})(),ho=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelTitle",""]]}),k})(),zo=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelContent",""]]}),k})(),vo=(()=>{class k{constructor(){this.disabled=!1,this.id="ngb-panel-"+xo++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["ngb-panel"]],contentQueries:function(A,$,Ce){if(1&A&&(i.wni(Ce,ho,4),i.wni(Ce,Tr,4),i.wni(Ce,zo,4)),2&A){let Le;i.mGM(Le=i.lsd())&&($.titleTpls=Le),i.mGM(Le=i.lsd())&&($.headerTpls=Le),i.mGM(Le=i.lsd())&&($.contentTpls=Le)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),k})(),zr=(()=>{class k{constructor(A){this._El=A,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),k})(),yo=(()=>{class k{constructor(A,$,Ce){this._ngZone=$,this._changeDetector=Ce,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=A.animation,this.type=A.type,this.closeOtherPanels=A.closeOthers}isExpanded(A){return this.activeIds.indexOf(A)>-1}expand(A){this._changeOpenState(this._findPanelById(A),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(A=>this._changeOpenState(A,!0))}collapse(A){this._changeOpenState(this._findPanelById(A),!1)}collapseAll(){this.panels.forEach(A=>{this._changeOpenState(A,!1)})}toggle(A){const $=this._findPanelById(A);$&&this._changeOpenState($,!$.isOpen)}ngAfterContentChecked(){tn(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(A=>{A.isOpen=!A.disabled&&this.activeIds.indexOf(A.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this.panels.forEach(A=>{const $=A.panelDiv;$?A.initClassDone||(A.initClassDone=!0,wi(this._ngZone,$,Hr,{animation:!1,runningTransition:"continue",context:{direction:A.isOpen?"show":"hide"}})):A.initClassDone=!1})})}_changeOpenState(A,$){if(null!=A&&!A.disabled&&A.isOpen!==$){let Ce=!1;this.panelChange.emit({panelId:A.id,nextState:$,preventDefault:()=>{Ce=!0}}),Ce||(A.isOpen=$,A.transitionRunning=!0,$&&this.closeOtherPanels&&this._closeOthers(A.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(A,$=!0){this.panels.forEach(Ce=>{Ce.id!==A&&Ce.isOpen&&(Ce.isOpen=!1,Ce.transitionRunning=$)})}_findPanelById(A){return this.panels.find($=>$.id===A)||null}_updateActiveIds(){this.activeIds=this.panels.filter(A=>A.isOpen&&!A.disabled).map(A=>A.id)}_runTransitions(A){this._changeDetector.detectChanges(),this.panels.forEach($=>{$.transitionRunning&&wi(this._ngZone,$.panelDiv,Hr,{animation:A,runningTransition:"stop",context:{direction:$.isOpen?"show":"hide"}}).subscribe(()=>{$.transitionRunning=!1;const{id:Le}=$;$.isOpen?($.shown.emit(),this.shown.emit(Le)):($.hidden.emit(),this.hidden.emit(Le))})})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(to),i.rXU(i.SKi),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-accordion"]],contentQueries:function(A,$,Ce){if(1&A&&i.wni(Ce,vo,4),2&A){let Le;i.mGM(Le=i.lsd())&&($.panels=Le)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(A,$){2&A&&i.BMQ("aria-multiselectable",!$.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[i.Mj6.None,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"card-body"]],template:function(A,$){1&A&&i.DNE(0,Z,3,3,"ng-template",1,0,i.C5r)(2,te,4,12,"ng-template",2),2&A&&(i.R7$(2),i.Y8G("ngForOf",$.panels))},dependencies:()=>[Tr,Yo,t.T3,t.Sq,t.bT,zr],encapsulation:2}),k})(),Yo=(()=>{class k{constructor(A,$){this.accordion=A,this.panel=$}set ngbPanelToggle(A){A&&(this.panel=A)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(yo),i.rXU(vo,9))},k.\u0275dir=i.FsC({type:k,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(A,$){1&A&&i.bIt("click",function(){return $.accordion.toggle($.panel.id)}),2&A&&(i.Mr5("disabled",$.panel.disabled),i.BMQ("aria-expanded",$.panel.isOpen)("aria-controls",$.panel.id),i.AVh("collapsed",!$.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),k})(),et=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Bt=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Tn=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(A,$){2&A&&i.AVh("btn",!0)("active",$.active)("disabled",$.disabled)("focus",$.focused)}}),k})(),Qn=(()=>{class k{constructor(A,$){this._label=A,this._cd=$,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=Ce=>{},this.onTouched=()=>{}}set focused(A){this._label.focused=A,A||this.onTouched()}onInputChange(A){const $=A.target.checked?this.valueChecked:this.valueUnChecked;this.onChange($),this.onTouched(),this.writeValue($)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A,this._label.disabled=A}writeValue(A){this.checked=A===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Tn),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(A,$){1&A&&i.bIt("change",function(Le){return $.onInputChange(Le)})("focus",function(){return $.focused=!0})("blur",function(){return $.focused=!1}),2&A&&i.Mr5("checked",$.checked)("disabled",$.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Es=0,Gs=(()=>{class k{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Es++,this.onChange=A=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(A){this.setDisabledState(A)}onRadioChange(A){this.writeValue(A.value),this.onChange(A.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(A){this._radios.add(A)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._disabled=A,this._updateRadiosDisabled()}unregister(A){this._radios.delete(A)}writeValue(A){this._value=A,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(A=>A.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(A=>A.updateDisabled())}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Cs=(()=>{class k{constructor(A,$,Ce,Le,Xt){this._group=A,this._label=$,this._renderer=Ce,this._element=Le,this._cd=Xt,this._value=null,this._group.register(this),this.updateDisabled()}set value(A){this._value=A;const $=A?A.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",$),this._group.onRadioValueUpdate()}set disabled(A){this._disabled=!1!==A,this.updateDisabled()}set focused(A){this._label&&(this._label.focused=A),A||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(A){this.value!==A&&this._cd.markForCheck(),this._checked=this.value===A,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Gs),i.rXU(Tn),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(A,$){1&A&&i.bIt("change",function(){return $.onChange()})("focus",function(){return $.focused=!0})("blur",function(){return $.focused=!1}),2&A&&i.Mr5("checked",$.checked)("disabled",$.disabled)("name",$.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),k})(),Hi=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),hr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Gr=(()=>{class k{constructor(A){this._ngbConfig=A}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(xs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),la=(()=>{class k{constructor(A,$,Ce){this._element=A,this._zone=Ce,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=$.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:A}){A.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(A=this.collapsed){this.collapsed=!A,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(A,$){return wi(this._zone,this._element.nativeElement,Hr,{animation:$,runningTransition:"stop",context:{direction:A?"hide":"show"}})}_runTransitionWithEvents(A,$){this._runTransition(A,$).subscribe(()=>{A?this.hidden.emit():this.shown.emit()})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(Gr),i.rXU(i.SKi))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),k})(),Ve=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class Ye{constructor(ue,A,$){this.year=bn(ue)?ue:null,this.month=bn(A)?A:null,this.day=bn($)?$:null}static from(ue){return ue instanceof Ye?ue:ue?new Ye(ue.year,ue.month,ue.day):null}equals(ue){return null!=ue&&this.year===ue.year&&this.month===ue.month&&this.day===ue.day}before(ue){return!!ue&&(this.year===ue.year?this.month===ue.month?this.day!==ue.day&&this.day<ue.day:this.month<ue.month:this.year<ue.year)}after(ue){return!!ue&&(this.year===ue.year?this.month===ue.month?this.day!==ue.day&&this.day>ue.day:this.month>ue.month:this.year>ue.year)}}function ie(k,ue){return!function me(k,ue){return!k&&!ue||!!k&&!!ue&&k.equals(ue)}(k,ue)}function Ge(k,ue){return!(!k&&!ue||k&&ue&&k.year===ue.year&&k.month===ue.month)}function zt(k,ue,A){return k&&ue&&k.before(ue)?ue:k&&A&&k.after(A)?A:k||null}function En(k,ue){const{minDate:A,maxDate:$,disabled:Ce,markDisabled:Le}=ue;return!(null==k||Ce||Le&&Le(k,{year:k.year,month:k.month})||A&&k.before(A)||$&&k.after($))}function Jo(k){return new Ye(k.getFullYear(),k.getMonth()+1,k.getDate())}function So(k){const ue=new Date(k.year,k.month-1,k.day,12);return isNaN(ue.getTime())||ue.setFullYear(k.year),ue}let Co=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Eo(){return new ul}(),providedIn:"root"}),k})(),ul=(()=>{class k extends Co{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(A,$="d",Ce=1){let Le=So(A),Xt=!0,yn=Le.getMonth();switch($){case"y":Le.setFullYear(Le.getFullYear()+Ce);break;case"m":yn+=Ce,Le.setMonth(yn),yn%=12,yn<0&&(yn+=12);break;case"d":Le.setDate(Le.getDate()+Ce),Xt=!1;break;default:return A}return Xt&&Le.getMonth()!==yn&&Le.setDate(0),Jo(Le)}getPrev(A,$="d",Ce=1){return this.getNext(A,$,-Ce)}getWeekday(A){let Ce=So(A).getDay();return 0===Ce?7:Ce}getWeekNumber(A,$){7===$&&($=0);const Xt=So(A[(11-$)%7]);Xt.setDate(Xt.getDate()+4-(Xt.getDay()||7));const yn=Xt.getTime();return Xt.setMonth(0),Xt.setDate(1),Math.floor(Math.round((yn-Xt.getTime())/864e5)/7)+1}getToday(){return Jo(new Date)}isValid(A){if(!(A&&bn(A.year)&&bn(A.month)&&bn(A.day)&&0!==A.year))return!1;const $=So(A);return!isNaN($.getTime())&&$.getFullYear()===A.year&&$.getMonth()+1===A.month&&$.getDate()===A.day}}return k.\u0275fac=(()=>{let ue;return function($){return(ue||(ue=i.xGo(k)))($||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),No=(()=>{class k{getMonthLabel(A){return`${this.getMonthFullName(A.month,A.year)} ${this.getYearNumerals(A.year)}`}getDayNumerals(A){return`${A.day}`}getWeekNumerals(A){return`${A}`}getYearNumerals(A){return`${A}`}getWeekLabel(){return""}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let $=null;return $=A?new A:function nc(k){return new Fa(k)}(i.KVO(i.xe9)),$},providedIn:"root"}),k})(),Fa=(()=>{class k extends No{constructor(A){super(),this._locale=A,this._monthsShort=(0,t.tL)(A,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(A,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(A,$){const Ce=(0,t.XO)(this._locale,t.oV.Standalone,void 0===$?t.cH.Short:$);return Ce.map((Xt,yn)=>Ce[(yn+1)%7])[A-1]||""}getMonthShortName(A){return this._monthsShort[A-1]||""}getMonthFullName(A){return this._monthsFull[A-1]||""}getDayAriaLabel(A){const $=new Date(A.year,A.month-1,A.day);return(0,t.Yq)($,"fullDate",this._locale)}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Qo=(()=>{class k{constructor(A,$){this._calendar=A,this._i18n=$,this._VALIDATORS={dayTemplateData:Ce=>{if(this._state.dayTemplateData!==Ce)return{dayTemplateData:Ce}},displayMonths:Ce=>{if(bn(Ce=Di(Ce))&&Ce>0&&this._state.displayMonths!==Ce)return{displayMonths:Ce}},disabled:Ce=>{if(this._state.disabled!==Ce)return{disabled:Ce}},firstDayOfWeek:Ce=>{if(bn(Ce=Di(Ce))&&Ce>=0&&this._state.firstDayOfWeek!==Ce)return{firstDayOfWeek:Ce}},focusVisible:Ce=>{if(this._state.focusVisible!==Ce&&!this._state.disabled)return{focusVisible:Ce}},markDisabled:Ce=>{if(this._state.markDisabled!==Ce)return{markDisabled:Ce}},maxDate:Ce=>{const Le=this.toValidDate(Ce,null);if(ie(this._state.maxDate,Le))return{maxDate:Le}},minDate:Ce=>{const Le=this.toValidDate(Ce,null);if(ie(this._state.minDate,Le))return{minDate:Le}},navigation:Ce=>{if(this._state.navigation!==Ce)return{navigation:Ce}},outsideDays:Ce=>{if(this._state.outsideDays!==Ce)return{outsideDays:Ce}},weekdays:Ce=>{const Le=!0===Ce||!1===Ce?t.cH.Short:Ce,Xt=!0!==Ce&&!1!==Ce||Ce;if(this._state.weekdayWidth!==Le||this._state.weekdaysVisible!==Xt)return{weekdayWidth:Le,weekdaysVisible:Xt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,I.p)(A=>A.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,I.p)(A=>null!==A))}set(A){let $=Object.keys(A).map(Ce=>this._VALIDATORS[Ce](A[Ce])).reduce((Ce,Le)=>({...Ce,...Le}),{});Object.keys($).length>0&&this._nextState($)}focus(A){const $=this.toValidDate(A,null);null!=$&&!this._state.disabled&&ie(this._state.focusDate,$)&&this._nextState({focusDate:A})}focusSelect(){En(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(A){const $=this.toValidDate(A,this._calendar.getToday());null!=$&&!this._state.disabled&&(!this._state.firstDate||Ge(this._state.firstDate,$))&&this._nextState({firstDate:$})}select(A,$={}){const Ce=this.toValidDate(A,null);null!=Ce&&!this._state.disabled&&(ie(this._state.selectedDate,Ce)&&this._nextState({selectedDate:Ce}),$.emitEvent&&En(Ce,this._state)&&this._dateSelect$.next(Ce))}toValidDate(A,$){const Ce=Ye.from(A);return void 0===$&&($=this._calendar.getToday()),this._calendar.isValid(Ce)?Ce:$}getMonth(A){for(let $ of this._state.months)if(A.month===$.number&&A.year===$.year)return $;throw new Error(`month ${A.month} of year ${A.year} not found`)}_nextState(A){const $=this._updateState(A);this._patchContexts($),this._state=$,this._model$.next(this._state)}_patchContexts(A){const{months:$,displayMonths:Ce,selectedDate:Le,focusDate:Xt,focusVisible:yn,disabled:Rn,outsideDays:Gn}=A;A.months.forEach(qn=>{qn.weeks.forEach(Ds=>{Ds.days.forEach(vs=>{Xt&&(vs.context.focused=Xt.equals(vs.date)&&yn),vs.tabindex=!Rn&&Xt&&vs.date.equals(Xt)&&Xt.month===qn.number?0:-1,!0===Rn&&(vs.context.disabled=!0),void 0!==Le&&(vs.context.selected=null!==Le&&Le.equals(vs.date)),qn.number!==vs.date.month&&(vs.hidden="hidden"===Gn||"collapsed"===Gn||Ce>1&&vs.date.after($[0].firstDate)&&vs.date.before($[Ce-1].lastDate))})})})}_updateState(A){const $=Object.assign({},this._state,A);let Ce=$.firstDate;if(("minDate"in A||"maxDate"in A)&&(function yt(k,ue){if(ue&&k&&ue.before(k))throw new Error(`'maxDate' ${ue} should be greater than 'minDate' ${k}`)}($.minDate,$.maxDate),$.focusDate=zt($.focusDate,$.minDate,$.maxDate),$.firstDate=zt($.firstDate,$.minDate,$.maxDate),Ce=$.focusDate),"disabled"in A&&($.focusVisible=!1),"selectedDate"in A&&0===this._state.months.length&&(Ce=$.selectedDate),"focusVisible"in A||"focusDate"in A&&($.focusDate=zt($.focusDate,$.minDate,$.maxDate),Ce=$.focusDate,0!==$.months.length&&$.focusDate&&!$.focusDate.before($.firstDate)&&!$.focusDate.after($.lastDate)))return $;if("firstDate"in A&&($.firstDate=zt($.firstDate,$.minDate,$.maxDate),Ce=$.firstDate),Ce){const Xt=function Vi(k,ue,A,$,Ce){const{displayMonths:Le,months:Xt}=A,yn=Xt.splice(0,Xt.length);return Array.from({length:Le},(Gn,qn)=>{const Ds=Object.assign(k.getNext(ue,"m",qn),{day:1});if(Xt[qn]=null,!Ce){const vs=yn.findIndex(Js=>Js.firstDate.equals(Ds));-1!==vs&&(Xt[qn]=yn.splice(vs,1)[0])}return Ds}).forEach((Gn,qn)=>{null===Xt[qn]&&(Xt[qn]=function xr(k,ue,A,$,Ce={}){const{dayTemplateData:Le,minDate:Xt,maxDate:yn,firstDayOfWeek:Rn,markDisabled:Gn,outsideDays:qn,weekdayWidth:Ds,weekdaysVisible:vs}=A,Js=k.getToday();Ce.firstDate=null,Ce.lastDate=null,Ce.number=ue.month,Ce.year=ue.year,Ce.weeks=Ce.weeks||[],Ce.weekdays=Ce.weekdays||[],ue=function bi(k,ue,A){const $=k.getDaysPerWeek(),Ce=new Ye(ue.year,ue.month,1),Le=k.getWeekday(Ce)%$;return k.getPrev(Ce,"d",($+Le-A)%$)}(k,ue,Rn),vs||(Ce.weekdays.length=0);for(let rr=0;rr<k.getWeeksPerMonth();rr++){let Pi=Ce.weeks[rr];Pi||(Pi=Ce.weeks[rr]={number:0,days:[],collapsed:!0});const Pr=Pi.days;for(let Kr=0;Kr<k.getDaysPerWeek();Kr++){0===rr&&vs&&(Ce.weekdays[Kr]=$.getWeekdayLabel(k.getWeekday(ue),Ds));const Oo=new Ye(ue.year,ue.month,ue.day),cd=k.getNext(Oo),Jp=$.getDayAriaLabel(Oo);let so=!!(Xt&&Oo.before(Xt)||yn&&Oo.after(yn));!so&&Gn&&(so=Gn(Oo,{month:Ce.number,year:Ce.year}));let lc=Oo.equals(Js),yr=Le?Le(Oo,{month:Ce.number,year:Ce.year}):void 0;null===Ce.firstDate&&Oo.month===Ce.number&&(Ce.firstDate=Oo),Oo.month===Ce.number&&cd.month!==Ce.number&&(Ce.lastDate=Oo);let Fl=Pr[Kr];Fl||(Fl=Pr[Kr]={}),Fl.date=Oo,Fl.context=Object.assign(Fl.context||{},{$implicit:Oo,date:Oo,data:yr,currentMonth:Ce.number,currentYear:Ce.year,disabled:so,focused:!1,selected:!1,today:lc}),Fl.tabindex=-1,Fl.ariaLabel=Jp,Fl.hidden=!1,ue=cd}Pi.number=k.getWeekNumber(Pr.map(Kr=>Kr.date),Rn),Pi.collapsed="collapsed"===qn&&Pr[0].date.month!==Ce.number&&Pr[Pr.length-1].date.month!==Ce.number}return Ce}(k,Gn,A,$,yn.shift()||{}))}),Xt}(this._calendar,Ce,$,this._i18n,"dayTemplateData"in A||"firstDayOfWeek"in A||"markDisabled"in A||"minDate"in A||"maxDate"in A||"disabled"in A||"outsideDays"in A||"weekdaysVisible"in A);$.months=Xt,$.firstDate=Xt[0].firstDate,$.lastDate=Xt[Xt.length-1].lastDate,"selectedDate"in A&&!En($.selectedDate,$)&&($.selectedDate=null),"firstDate"in A&&(!$.focusDate||$.focusDate.before($.firstDate)||$.focusDate.after($.lastDate))&&($.focusDate=Ce);const yn=!this._state.firstDate||this._state.firstDate.year!==$.firstDate.year,Rn=!this._state.firstDate||this._state.firstDate.month!==$.firstDate.month;"select"===$.navigation?(("minDate"in A||"maxDate"in A||0===$.selectBoxes.years.length||yn)&&($.selectBoxes.years=function cs(k,ue,A){if(!k)return[];const $=ue?Math.max(ue.year,k.year-500):k.year-10,Le=(A?Math.min(A.year,k.year+500):k.year+10)-$+1,Xt=Array(Le);for(let yn=0;yn<Le;yn++)Xt[yn]=$+yn;return Xt}($.firstDate,$.minDate,$.maxDate)),("minDate"in A||"maxDate"in A||0===$.selectBoxes.months.length||yn)&&($.selectBoxes.months=function Yn(k,ue,A,$){if(!ue)return[];let Ce=k.getMonths(ue.year);if(A&&ue.year===A.year){const Le=Ce.findIndex(Xt=>Xt===A.month);Ce=Ce.slice(Le)}if($&&ue.year===$.year){const Le=Ce.findIndex(Xt=>Xt===$.month);Ce=Ce.slice(0,Le+1)}return Ce}(this._calendar,$.firstDate,$.minDate,$.maxDate))):$.selectBoxes={years:[],months:[]},("arrows"===$.navigation||"select"===$.navigation)&&(Rn||yn||"minDate"in A||"maxDate"in A||"disabled"in A)&&($.prevDisabled=$.disabled||function Yi(k,ue,A){const $=Object.assign(k.getPrev(ue,"m"),{day:1});return null!=A&&($.year===A.year&&$.month<A.month||$.year<A.year&&1===A.month)}(this._calendar,$.firstDate,$.minDate),$.nextDisabled=$.disabled||function ws(k,ue,A){const $=Object.assign(k.getNext(ue,"m"),{day:1});return null!=A&&$.after(A)}(this._calendar,$.lastDate,$.maxDate))}return $}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Co),i.KVO(No))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();var Fo=function(k){return k[k.PREV=0]="PREV",k[k.NEXT=1]="NEXT",k}(Fo||{});let ca=(()=>{class k{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ca=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Ba(){return new ni}(),providedIn:"root"}),k})(),ni=(()=>{class k extends Ca{fromModel(A){return A&&bn(A.year)&&bn(A.month)&&bn(A.day)?{year:A.year,month:A.month,day:A.day}:null}toModel(A){return A&&bn(A.year)&&bn(A.month)&&bn(A.day)?{year:A.year,month:A.month,day:A.day}:null}}return k.\u0275fac=(()=>{let ue;return function($){return(ue||(ue=i.xGo(k)))($||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),er=(()=>{class k{constructor(A){this.i18n=A}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(No))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(A,$){2&A&&i.AVh("bg-primary",$.selected)("text-white",$.selected)("text-muted",$.isMuted())("outside",$.isMuted())("active",$.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:nt,decls:1,vars:1,template:function(A,$){1&A&&i.EFF(0),2&A&&i.JRh($.i18n.getDayNumerals($.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),k})(),pr=(()=>{class k{constructor(A,$){this.i18n=A,this._renderer=$,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(A){this.select.emit(new Ye(this.date.year,Di(A),1))}changeYear(A){this.select.emit(new Ye(Di(A),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(No),i.rXU(i.sFG))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(A,$){if(1&A&&(i.GBs(mt,7,i.aKT),i.GBs(xe,7,i.aKT)),2&A){let Ce;i.mGM(Ce=i.lsd())&&($.monthSelect=Ce.first),i.mGM(Ce=i.lsd())&&($.yearSelect=Ce.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let ue,A,$,Ce;return ue=$localize`:@@ngb.datepicker.select-month:Select month`,A=$localize`:@@ngb.datepicker.select-month:Select month`,$=$localize`:@@ngb.datepicker.select-year:Select year`,Ce=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",ue,"title",A,1,"custom-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",$,"title",Ce,1,"custom-select",3,"change","disabled"],[3,"value"]]},template:function(A,$){if(1&A){const Ce=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Xt){return i.eBV(Ce),i.Njj($.changeMonth(Xt.target.value))}),i.DNE(2,ot,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Xt){return i.eBV(Ce),i.Njj($.changeYear(Xt.target.value))}),i.DNE(5,$e,2,2,"option",3),i.k0s()}2&A&&(i.Y8G("disabled",$.disabled),i.R7$(2),i.Y8G("ngForOf",$.months),i.R7$(),i.Y8G("disabled",$.disabled),i.R7$(2),i.Y8G("ngForOf",$.years))},dependencies:[t.Sq,Q.xH,Q.y7],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),k})(),po=(()=>{class k{constructor(A){this.i18n=A,this.navigation=Fo,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(No))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let ue,A,$,Ce;return ue=$localize`:@@ngb.datepicker.previous-month:Previous month`,A=$localize`:@@ngb.datepicker.previous-month:Previous month`,$=$localize`:@@ngb.datepicker.next-month:Next month`,Ce=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",ue,"title",A,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",$,"title",Ce,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(A,$){1&A&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Le){return $.onClickPrev(Le)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Fe,1,4,"ngb-datepicker-navigation-select",3)(4,Dt,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Le){return $.onClickNext(Le)}),i.nrm(7,"span",2),i.k0s()()),2&A&&(i.R7$(),i.Y8G("disabled",$.prevDisabled),i.R7$(2),i.Y8G("ngIf",$.showSelect),i.R7$(),i.Y8G("ngIf",!$.showSelect),i.R7$(2),i.Y8G("disabled",$.nextDisabled))},dependencies:[pr,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),k})();var ps=function(k){return k[k.Tab=9]="Tab",k[k.Enter=13]="Enter",k[k.Escape=27]="Escape",k[k.Space=32]="Space",k[k.PageUp=33]="PageUp",k[k.PageDown=34]="PageDown",k[k.End=35]="End",k[k.Home=36]="Home",k[k.ArrowLeft=37]="ArrowLeft",k[k.ArrowUp=38]="ArrowUp",k[k.ArrowRight=39]="ArrowRight",k[k.ArrowDown=40]="ArrowDown",k}(ps||{});let da=(()=>{class k{processKey(A,$){const{state:Ce,calendar:Le}=$;switch(A.which){case ps.PageUp:$.focusDate(Le.getPrev(Ce.focusedDate,A.shiftKey?"y":"m",1));break;case ps.PageDown:$.focusDate(Le.getNext(Ce.focusedDate,A.shiftKey?"y":"m",1));break;case ps.End:$.focusDate(A.shiftKey?Ce.maxDate:Ce.lastDate);break;case ps.Home:$.focusDate(A.shiftKey?Ce.minDate:Ce.firstDate);break;case ps.ArrowLeft:$.focusDate(Le.getPrev(Ce.focusedDate,"d",1));break;case ps.ArrowUp:$.focusDate(Le.getPrev(Ce.focusedDate,"d",Le.getDaysPerWeek()));break;case ps.ArrowRight:$.focusDate(Le.getNext(Ce.focusedDate,"d",1));break;case ps.ArrowDown:$.focusDate(Le.getNext(Ce.focusedDate,"d",Le.getDaysPerWeek()));break;case ps.Enter:case ps.Space:$.focusSelect();break;default:return}A.preventDefault(),A.stopPropagation()}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ua=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbDatepickerContent",""]]}),k})(),ha=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn,Rn,Gn){this._service=A,this._calendar=$,this.i18n=Ce,this._elementRef=yn,this._ngbDateAdapter=Rn,this._ngZone=Gn,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=qn=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(qn=>this[qn]=Le[qn]),A.dateSelect$.pipe((0,S.Q)(this._destroyed$)).subscribe(qn=>{this.dateSelect.emit(qn)}),A.model$.pipe((0,S.Q)(this._destroyed$)).subscribe(qn=>{const Ds=qn.firstDate,vs=this.model?this.model.firstDate:null;this._publicState={maxDate:qn.maxDate,minDate:qn.minDate,firstDate:qn.firstDate,lastDate:qn.lastDate,focusedDate:qn.focusDate,months:qn.months.map(Kr=>Kr.firstDate)};let Js=!1;if(!Ds.equals(vs)&&(this.navigate.emit({current:vs?{year:vs.year,month:vs.month}:null,next:{year:Ds.year,month:Ds.month},preventDefault:()=>Js=!0}),Js&&null!==vs))return void this._service.open(vs);const rr=qn.selectedDate,Pi=qn.focusDate,Pr=this.model?this.model.focusDate:null;this.model=qn,ie(rr,this._controlValue)&&(this._controlValue=rr,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(rr))),ie(Pi,Pr)&&Pr&&qn.focusVisible&&this.focus(),Xt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(A){this._service.focus(Ye.from(A))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{const A=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');A&&A.focus()})}navigateTo(A){this._service.open(Ye.from(A?A.day?A:{...A,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const A=(0,h.R)(this._contentEl.nativeElement,"focusin"),$=(0,h.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:Ce}=this._elementRef;(0,u.h)(A,$).pipe((0,I.p)(({target:Le,relatedTarget:Xt})=>!(ar(Le,"ngb-dp-day")&&ar(Xt,"ngb-dp-day")&&Ce.contains(Le)&&Ce.contains(Xt))),(0,S.Q)(this._destroyed$)).subscribe(({type:Le})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Le})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const A={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach($=>A[$]=this[$]),this._service.set(A),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(A){const $={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(Ce=>Ce in A).forEach(Ce=>$[Ce]=this[Ce]),this._service.set($),"startDate"in A){const{currentValue:Ce,previousValue:Le}=A.startDate;Ge(Le,Ce)&&this.navigateTo(this.startDate)}}onDateSelect(A){this._service.focus(A),this._service.select(A,{emitEvent:!0})}onNavigateDateSelect(A){this._service.open(A)}onNavigateEvent(A){switch(A){case Fo.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Fo.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._service.set({disabled:A})}writeValue(A){this._controlValue=Ye.from(this._ngbDateAdapter.fromModel(A)),this._service.select(this._controlValue)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Qo),i.rXU(Co),i.rXU(No),i.rXU(ca),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(Ca),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker"]],contentQueries:function(A,$,Ce){if(1&A&&i.wni(Ce,ua,7),2&A){let Le;i.mGM(Le=i.lsd())&&($.contentTemplate=Le.first)}},viewQuery:function(A,$){if(1&A&&(i.GBs(kt,7),i.GBs(ct,7)),2&A){let Ce;i.mGM(Ce=i.lsd())&&($._defaultDayTemplate=Ce.first),i.mGM(Ce=i.lsd())&&($._contentEl=Ce.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},Qo]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(A,$){if(1&A&&(i.DNE(0,Ot,1,5,"ng-template",null,0,i.C5r)(2,pt,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,dn,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,an,0,0,"ng-template",6),i.k0s(),i.DNE(9,In,0,0,"ng-template",6)),2&A){const Ce=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==$.navigation),i.R7$(),i.AVh("ngb-dp-months",!$.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==$.contentTemplate?null:$.contentTemplate.templateRef)||Ce),i.R7$(),i.Y8G("ngTemplateOutlet",$.footerTemplate)}},dependencies:()=>[er,Pl,po,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),k})(),Pl=(()=>{class k{constructor(A,$,Ce,Le){this.i18n=A,this.datepicker=$,this._keyboardService=Ce,this._service=Le}set month(A){this.viewModel=this._service.getMonth(A)}onKeyDown(A){this._keyboardService.processKey(A,this.datepicker)}doSelect(A){!A.context.disabled&&!A.hidden&&this.datepicker.onDateSelect(A.date)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(No),i.rXU(ha),i.rXU(da),i.rXU(Qo))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(A,$){1&A&&i.bIt("keydown",function(Le){return $.onKeyDown(Le)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,$){1&A&&i.DNE(0,It,3,2,"div",0)(1,Pt,1,1,"ng-template",1),2&A&&(i.Y8G("ngIf",$.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",$.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),k})();const hl=(k,ue)=>!!ue&&ue.some(A=>A.contains(k)),Bo=(k,ue)=>!ue||null!=function pi(k,ue){return!ue||typeof k.closest>"u"?null:k.closest(ue)}(k,ue),Os=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function pa(k,ue,A,$,Ce,Le,Xt,yn){A&&k.runOutsideAngular((k=>Os?()=>setTimeout(()=>k(),100):k)(()=>{const Gn=(0,h.R)(ue,"keydown").pipe((0,S.Q)(Ce),(0,I.p)(vs=>vs.which===ps.Escape),(0,G.M)(vs=>vs.preventDefault())),qn=(0,h.R)(ue,"mousedown").pipe((0,B.T)(vs=>{const Js=vs.target;return 2!==vs.button&&!hl(Js,Xt)&&("inside"===A?hl(Js,Le)&&Bo(Js,yn):"outside"===A?!hl(Js,Le):Bo(Js,yn)||!hl(Js,Le))}),(0,S.Q)(Ce)),Ds=(0,h.R)(ue,"mouseup").pipe((0,H.E)(qn),(0,I.p)(([vs,Js])=>Js),(0,V.c)(0),(0,S.Q)(Ce));(0,y.O)([Gn.pipe((0,B.T)(vs=>0)),Ds.pipe((0,B.T)(vs=>1))]).subscribe(vs=>k.run(()=>$(vs)))}))}const fa=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Rl(k){const ue=Array.from(k.querySelectorAll(fa)).filter(A=>-1!==A.tabIndex);return[ue[0],ue[ue.length-1]]}const Nr=(k,ue,A,$=!1)=>{k.runOutsideAngular(()=>{const Ce=(0,h.R)(ue,"focusin").pipe((0,S.Q)(A),(0,B.T)(Le=>Le.target));(0,h.R)(ue,"keydown").pipe((0,S.Q)(A),(0,I.p)(Le=>Le.which===ps.Tab),(0,H.E)(Ce)).subscribe(([Le,Xt])=>{const[yn,Rn]=Rl(ue);(Xt===yn||Xt===ue)&&Le.shiftKey&&(Rn.focus(),Le.preventDefault()),Xt===Rn&&!Le.shiftKey&&(yn.focus(),Le.preventDefault())}),$&&(0,h.R)(ue,"click").pipe((0,S.Q)(A),(0,H.E)(Ce),(0,B.T)(Le=>Le[1])).subscribe(Le=>Le.focus())})},pl=/\s+/,bo=new class Zo{getAllStyles(ue){return window.getComputedStyle(ue)}getStyle(ue,A){return this.getAllStyles(ue)[A]}isStaticPositioned(ue){return"static"===(this.getStyle(ue,"position")||"static")}offsetParent(ue){let A=ue.offsetParent||document.documentElement;for(;A&&A!==document.documentElement&&this.isStaticPositioned(A);)A=A.offsetParent;return A||document.documentElement}position(ue,A=!0){let $,Ce={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(ue,"position"))$=ue.getBoundingClientRect(),$={top:$.top,bottom:$.bottom,left:$.left,right:$.right,height:$.height,width:$.width};else{const Le=this.offsetParent(ue);$=this.offset(ue,!1),Le!==document.documentElement&&(Ce=this.offset(Le,!1)),Ce.top+=Le.clientTop,Ce.left+=Le.clientLeft}return $.top-=Ce.top,$.bottom-=Ce.top,$.left-=Ce.left,$.right-=Ce.left,A&&($.top=Math.round($.top),$.bottom=Math.round($.bottom),$.left=Math.round($.left),$.right=Math.round($.right)),$}offset(ue,A=!0){const $=ue.getBoundingClientRect(),Ce_top=window.scrollY-document.documentElement.clientTop,Ce_left=window.scrollX-document.documentElement.clientLeft;let Le={height:$.height||ue.offsetHeight,width:$.width||ue.offsetWidth,top:$.top+Ce_top,bottom:$.bottom+Ce_top,left:$.left+Ce_left,right:$.right+Ce_left};return A&&(Le.height=Math.round(Le.height),Le.width=Math.round(Le.width),Le.top=Math.round(Le.top),Le.bottom=Math.round(Le.bottom),Le.left=Math.round(Le.left),Le.right=Math.round(Le.right)),Le}positionElements(ue,A,$,Ce){const[Le="top",Xt="center"]=$.split("-"),yn=Ce?this.offset(ue,!1):this.position(ue,!1),Rn=this.getAllStyles(A),Gn=parseFloat(Rn.marginTop),qn=parseFloat(Rn.marginBottom),Ds=parseFloat(Rn.marginLeft),vs=parseFloat(Rn.marginRight);let Js=0,rr=0;switch(Le){case"top":Js=yn.top-(A.offsetHeight+Gn+qn);break;case"bottom":Js=yn.top+yn.height;break;case"left":rr=yn.left-(A.offsetWidth+Ds+vs);break;case"right":rr=yn.left+yn.width}switch(Xt){case"top":Js=yn.top;break;case"bottom":Js=yn.top+yn.height-A.offsetHeight;break;case"left":rr=yn.left;break;case"right":rr=yn.left+yn.width-A.offsetWidth;break;case"center":"top"===Le||"bottom"===Le?rr=yn.left+yn.width/2-A.offsetWidth/2:Js=yn.top+yn.height/2-A.offsetHeight/2}A.style.transform=`translate(${Math.round(rr)}px, ${Math.round(Js)}px)`;const Pi=A.getBoundingClientRect(),Pr=document.documentElement,Kr=window.innerHeight||Pr.clientHeight,Oo=window.innerWidth||Pr.clientWidth;return Pi.left>=0&&Pi.top>=0&&Pi.right<=Oo&&Pi.bottom<=Kr}};function qo(k,ue,A,$,Ce){let Le=Array.isArray(A)?A:A.split(pl);const Xt=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],yn=ue.classList,Rn=Js=>{const[rr,Pi]=Js.split("-"),Pr=[];return Ce&&(Pr.push(`${Ce}-${rr}`),Pi&&Pr.push(`${Ce}-${rr}-${Pi}`),Pr.forEach(Kr=>{yn.add(Kr)})),Pr};Ce&&Xt.forEach(Js=>{yn.remove(`${Ce}-${Js}`)});let Gn=Le.findIndex(Js=>"auto"===Js);Gn>=0&&Xt.forEach(function(Js){null==Le.find(rr=>-1!==rr.search("^"+Js))&&Le.splice(Gn++,1,Js)});const qn=ue.style;qn.position="absolute",qn.top="0",qn.left="0",qn["will-change"]="transform";let Ds=null,vs=!1;for(Ds of Le){let Js=Rn(Ds);if(bo.positionElements(k,ue,Ds,$)){vs=!0;break}Ce&&Js.forEach(rr=>{yn.remove(rr)})}return vs||(Ds=Le[0],Rn(Ds),bo.positionElements(k,ue,Ds,$)),Ds}let jo=(()=>{class k extends ca{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return k.\u0275fac=(()=>{let ue;return function($){return(ue||(ue=i.xGo(k)))($||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Yr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function fl(){return new ea}(),providedIn:"root"}),k})(),ea=(()=>{class k extends Yr{parse(A){if(null!=A){const $=A.trim().split("-");if(1===$.length&&$t($[0]))return{year:Di($[0]),month:null,day:null};if(2===$.length&&$t($[0])&&$t($[1]))return{year:Di($[0]),month:Di($[1]),day:null};if(3===$.length&&$t($[0])&&$t($[1])&&$t($[2]))return{year:Di($[0]),month:Di($[1]),day:Di($[2])}}return null}format(A){return A?`${A.year}-${$t(A.month)?oi(A.month):""}-${$t(A.day)?oi(A.day):""}`:""}}return k.\u0275fac=(()=>{let ue;return function($){return(ue||(ue=i.xGo(k)))($||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),ta=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn,Rn,Gn,qn,Ds){this._parserFormatter=A,this._elRef=$,this._vcRef=Ce,this._renderer=Le,this._ngZone=Xt,this._calendar=yn,this._dateAdapter=Rn,this._document=Gn,this._changeDetector=qn,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=vs=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(vs=>this[vs]=Ds[vs]),this._zoneSubscription=Xt.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(A){this._disabled=""===A||A&&"false"!==A,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}registerOnValidatorChange(A){this._validatorChange=A}setDisabledState(A){this.disabled=A}validate(A){const{value:$}=A;if(null!=$){const Ce=this._fromDateStruct(this._dateAdapter.fromModel($));if(!Ce)return{ngbDate:{invalid:$}};if(this.minDate&&Ce.before(Ye.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:$}}};if(this.maxDate&&Ce.after(Ye.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:$}}}}return null}writeValue(A){this._model=this._fromDateStruct(this._dateAdapter.fromModel(A)),this._writeModelValue(this._model)}manualDateChange(A,$=!1){const Ce=A!==this._inputValue;Ce&&(this._inputValue=A,this._model=this._fromDateStruct(this._parserFormatter.parse(A))),(Ce||!$)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===A?null:A),$&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){this.isOpen()||(this._cRef=this._vcRef.createComponent(ha),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(A=>{this.writeValue(A),this._onChange(A),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Nr(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),pa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement]))}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let A=this._elWithFocus;tn(this.restoreFocus)?A=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(A=this.restoreFocus),A&&A.focus?A.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(A){this.isOpen()&&this._cRef.instance.navigateTo(A)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(A){if((A.minDate||A.maxDate)&&(this._validatorChange(),this.isOpen()&&(A.minDate&&(this._cRef.instance.minDate=this.minDate),A.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(A))),A.datepickerClass){const{currentValue:$,previousValue:Ce}=A.datepickerClass;this._applyPopupClass($,Ce)}}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(A){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach($=>{void 0!==this[$]&&(A[$]=this[$])}),A.startDate=this.startDate||this._model}_applyPopupClass(A,$){const Ce=this._cRef?.location.nativeElement;Ce&&(A&&this._renderer.addClass(Ce,A),$&&this._renderer.removeClass(Ce,$))}_applyPopupStyling(A){this._renderer.addClass(A,"dropdown-menu"),this._renderer.addClass(A,"show"),"body"===this.container&&this._renderer.addClass(A,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(A){A.navigate.subscribe($=>this.navigate.emit($)),A.dateSelect.subscribe($=>{this.dateSelect.emit($),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(A){const $=this._parserFormatter.format(A);this._inputValue=$,this._renderer.setProperty(this._elRef.nativeElement,"value",$),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(A)),this._onTouched())}_fromDateStruct(A){const $=A?new Ye(A.year,A.month,A.day):null;return this._calendar.isValid($)?$:null}_updatePopupPosition(){if(!this._cRef)return;let A;if(A=tn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!A)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");qo(A,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Yr),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(Co),i.rXU(Ca),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(jo))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(A,$){1&A&&i.bIt("input",function(Le){return $.manualDateChange(Le.target.value)})("change",function(Le){return $.manualDateChange(Le.target.value,!0)})("focus",function(){return $.onFocus()})("blur",function(){return $.onBlur()}),2&A&&i.Mr5("disabled",$.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:Q.cz,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:ca,useExisting:jo}]),i.OA$]}),k})();new Date(1882,10,12),new Date(2174,10,25);let Ji=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD,Q.YN]]}),k})(),ic=(()=>{class k{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),si=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["",8,"navbar"]]}),k})(),Br=(()=>{class k{constructor(A,$){this.elementRef=A,this._renderer=$,this._disabled=!1}set disabled(A){this._disabled=""===A||!0===A,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(A,$){2&A&&(i.Mr5("tabIndex",$.disabled?-1:0),i.AVh("disabled",$.disabled))},inputs:{disabled:"disabled"}}),k})(),Ta=(()=>{class k{constructor(A,$){this.dropdown=A,this.placement="bottom",this.isOpen=!1,this.nativeElement=$.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(A,$,Ce){if(1&A&&i.wni(Ce,Br,4),2&A){let Le;i.mGM(Le=i.lsd())&&($.menuItems=Le)}},hostVars:5,hostBindings:function(A,$){1&A&&i.bIt("keydown.ArrowUp",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.ArrowDown",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Home",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.End",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Enter",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Space",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Tab",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Shift.Tab",function(Le){return $.dropdown.onKeyDown(Le)}),2&A&&(i.BMQ("x-placement",$.placement),i.AVh("dropdown-menu",!0)("show",$.dropdown.isOpen()))}}),k})(),Po=(()=>{class k{constructor(A,$){this.dropdown=A,this.nativeElement=$.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,$){2&A&&i.BMQ("aria-expanded",$.dropdown.isOpen())}}),k})(),Ja=(()=>{class k extends Po{constructor(A,$){super(A,$)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,$){1&A&&i.bIt("click",function(){return $.dropdown.toggle()})("keydown.ArrowUp",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.ArrowDown",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Home",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.End",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Tab",function(Le){return $.dropdown.onKeyDown(Le)})("keydown.Shift.Tab",function(Le){return $.dropdown.onKeyDown(Le)}),2&A&&i.BMQ("aria-expanded",$.dropdown.isOpen())},features:[i.Jv_([{provide:Po,useExisting:(0,i.Rfq)(()=>k)}]),i.Vt3]}),k})(),Jr=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn,Rn){this._changeDetector=A,this._document=Ce,this._ngZone=Le,this._elementRef=Xt,this._renderer=yn,this._closed$=new m.B,this._bodyContainer=null,this._open=!1,this.openChange=new i.bkB,this.placement=$.placement,this.container=$.container,this.autoClose=$.autoClose,this.display=Rn?"static":"dynamic",this._zoneSubscription=Le.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(A){if(A.container&&this._open&&this._applyContainer(this.container),A.placement&&!A.placement.isFirstChange&&this._applyPlacementClasses(),A.dropdownClass){const{currentValue:$,previousValue:Ce}=A.dropdownClass;this._applyCustomDropdownClass($,Ce)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){pa(this._ngZone,this._document,this.autoClose,A=>{this.close(),0===A&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(A){const $=A.which,Ce=this._getMenuElements();let Le=-1,Xt=null;const yn=this._isEventFromToggle(A);if(!yn&&Ce.length&&Ce.forEach((Rn,Gn)=>{Rn.contains(A.target)&&(Xt=Rn),Rn===this._document.activeElement&&(Le=Gn)}),$!==ps.Space&&$!==ps.Enter){if($!==ps.Tab){if(yn||Xt){if(this.open(),Ce.length){switch($){case ps.ArrowDown:Le=Math.min(Le+1,Ce.length-1);break;case ps.ArrowUp:if(this._isDropup()&&-1===Le){Le=Ce.length-1;break}Le=Math.max(Le-1,0);break;case ps.Home:Le=0;break;case ps.End:Le=Ce.length-1}Ce[Le].focus()}A.preventDefault()}}else if(A.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===A.target)return void("body"!==this.container||A.shiftKey?A.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Rn=this._menu.nativeElement.querySelectorAll(fa);A.shiftKey&&A.target===Rn[0]?(this._anchor.nativeElement.focus(),A.preventDefault()):!A.shiftKey&&A.target===Rn[Rn.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,h.R)(A.target,"focusout").pipe((0,L.s)(1)).subscribe(({relatedTarget:Rn})=>{this._elementRef.nativeElement.contains(Rn)||this.close()})}}else Xt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,h.R)(Xt,"click").pipe((0,L.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(A){return this._anchor.nativeElement.contains(A.target)}_getMenuElements(){const A=this._menu;return null==A?[]:A.menuItems.filter($=>!$.disabled).map($=>$.elementRef.nativeElement)}_positionMenu(){const A=this._menu;this.isOpen()&&A&&this._applyPlacementClasses("dynamic"===this.display?qo(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(A){return Array.isArray(A)?A[0]:A.split(" ")[0]}_resetContainer(){const A=this._renderer;if(this._menu){const Ce=this._menu.nativeElement;A.appendChild(this._elementRef.nativeElement,Ce),A.removeStyle(Ce,"position"),A.removeStyle(Ce,"transform")}this._bodyContainer&&(A.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(A=null){if(this._resetContainer(),"body"===A){const $=this._renderer,Ce=this._menu.nativeElement,Le=this._bodyContainer=this._bodyContainer||$.createElement("div");$.setStyle(Le,"position","absolute"),$.setStyle(Ce,"position","static"),$.setStyle(Le,"z-index","1050"),$.appendChild(Le,Ce),$.appendChild(this._document.body,Le)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(A,$){const Ce="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;Ce&&($&&this._renderer.removeClass(Ce,$),A&&this._renderer.addClass(Ce,A))}_applyPlacementClasses(A){const $=this._menu;if($){A||(A=this._getFirstPlacement(this.placement));const Ce=this._renderer,Le=this._elementRef.nativeElement;Ce.removeClass(Le,"dropup"),Ce.removeClass(Le,"dropdown"),$.placement="static"===this.display?null:A;const Xt=-1!==A.search("^top")?"dropup":"dropdown";Ce.addClass(Le,Xt);const yn=this._bodyContainer;yn&&(Ce.removeClass(yn,"dropup"),Ce.removeClass(yn,"dropdown"),Ce.addClass(yn,Xt))}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(ic),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(si,8))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdown",""]],contentQueries:function(A,$,Ce){if(1&A&&(i.wni(Ce,Ta,5),i.wni(Ce,Po,5)),2&A){let Le;i.mGM(Le=i.lsd())&&($._menu=Le.first),i.mGM(Le=i.lsd())&&($._anchor=Le.first)}},hostVars:2,hostBindings:function(A,$){2&A&&i.AVh("show",$.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),k})(),xl=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class Ua{constructor(ue,A,$){this.nodes=ue,this.viewRef=A,this.componentRef=$}}class _l{constructor(ue,A,$,Ce,Le,Xt){this._type=ue,this._injector=A,this._viewContainerRef=$,this._renderer=Ce,this._ngZone=Le,this._applicationRef=Xt,this._windowRef=null,this._contentRef=null}open(ue,A,$=!1){this._windowRef||(this._contentRef=this._getContentRef(ue,A),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:Ce}=this._windowRef.location,Le=this._ngZone.onStable.pipe((0,L.s)(1),(0,X.Z)(()=>wi(this._ngZone,Ce,({classList:Xt})=>Xt.add("show"),{animation:$,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Le}}close(ue=!1){return this._windowRef?wi(this._ngZone,this._windowRef.location.nativeElement,({classList:A})=>A.remove("show"),{animation:ue,runningTransition:"stop"}).pipe((0,G.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,f.of)(void 0)}_getContentRef(ue,A){if(ue){if(ue instanceof i.C4Q){const $=ue.createEmbeddedView(A);return this._applicationRef.attachView($),new Ua([$.rootNodes],$)}return new Ua([[this._renderer.createText(`${ue}`)]])}return new Ua([])}}let ce=(()=>{class k{constructor(A,$){this._el=A,this._zone=$}ngOnInit(){this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{wi(this._zone,this._el.nativeElement,(A,$)=>{$&&Bi(A),A.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return wi(this._zone,this._el.nativeElement,({classList:A})=>A.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(A,$){2&A&&(i.HbH("modal-backdrop"+($.backdropClass?" "+$.backdropClass:"")),i.AVh("show",!$.animation)("fade",$.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(A,$){},encapsulation:2}),k})();class Te{close(ue){}dismiss(ue){}}class he{constructor(ue,A,$,Ce){this._windowCmptRef=ue,this._contentRef=A,this._backdropCmptRef=$,this._beforeDismiss=Ce,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,ue.instance.dismissEvent.subscribe(Le=>{this.dismiss(Le)}),this.result=new Promise((Le,Xt)=>{this._resolve=Le,this._reject=Xt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,S.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,S.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(ue){this._windowCmptRef&&(this._closed.next(ue),this._resolve(ue),this._removeModalElements())}_dismiss(ue){this._dismissed.next(ue),this._reject(ue),this._removeModalElements()}dismiss(ue){if(this._windowCmptRef)if(this._beforeDismiss){const A=this._beforeDismiss();!function _s(k){return k&&k.then}(A)?!1!==A&&this._dismiss(ue):A.then($=>{!1!==$&&this._dismiss(ue)},()=>{})}else this._dismiss(ue)}_removeModalElements(){const ue=this._windowCmptRef.instance.hide(),A=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,f.of)(void 0);ue.subscribe(()=>{const{nativeElement:$}=this._windowCmptRef.location;$.parentNode.removeChild($),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),A.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:$}=this._backdropCmptRef.location;$.parentNode.removeChild($),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,R.y)(ue,A).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Oe=function(k){return k[k.BACKDROP_CLICK=0]="BACKDROP_CLICK",k[k.ESC=1]="ESC",k}(Oe||{});let He=(()=>{class k{constructor(A,$,Ce){this._document=A,this._elRef=$,this._zone=Ce,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}dismiss(A){this.dismissEvent.emit(A)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:A}=this._elRef,$={animation:this.animation,runningTransition:"stop"},Ce=wi(this._zone,A,()=>A.classList.remove("show"),$),Le=wi(this._zone,this._dialogEl.nativeElement,()=>{},$),Xt=(0,R.y)(Ce,Le);return Xt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Xt}_show(){const A={animation:this.animation,runningTransition:"continue"},$=wi(this._zone,this._elRef.nativeElement,(Le,Xt)=>{Xt&&Bi(Le),Le.classList.add("show")},A),Ce=wi(this._zone,this._dialogEl.nativeElement,()=>{},A);(0,R.y)($,Ce).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:A}=this._elRef;this._zone.runOutsideAngular(()=>{(0,h.R)(A,"keydown").pipe((0,S.Q)(this._closed$),(0,I.p)(Ce=>Ce.which===ps.Escape)).subscribe(Ce=>{this.keyboard?requestAnimationFrame(()=>{Ce.defaultPrevented||this._zone.run(()=>this.dismiss(Oe.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let $=!1;(0,h.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,S.Q)(this._closed$),(0,G.M)(()=>$=!1),(0,j.n)(()=>(0,h.R)(A,"mouseup").pipe((0,S.Q)(this._closed$),(0,L.s)(1))),(0,I.p)(({target:Ce})=>A===Ce)).subscribe(()=>{$=!0}),(0,h.R)(A,"click").pipe((0,S.Q)(this._closed$)).subscribe(({target:Ce})=>{A===Ce&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!$&&this._zone.run(()=>this.dismiss(Oe.BACKDROP_CLICK))),$=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:A}=this._elRef;if(!A.contains(document.activeElement)){const $=A.querySelector("[ngbAutofocus]"),Ce=Rl(A)[0];($||Ce||A).focus()}}_restoreFocus(){const A=this._document.body,$=this._elWithFocus;let Ce;Ce=$&&$.focus&&A.contains($)?$:A,this._zone.runOutsideAngular(()=>{setTimeout(()=>Ce.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&wi(this._zone,this._elRef.nativeElement,({classList:A})=>(A.add("modal-static"),()=>A.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-window"]],viewQuery:function(A,$){if(1&A&&i.GBs(Ct,7),2&A){let Ce;i.mGM(Ce=i.lsd())&&($._dialogEl=Ce.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(A,$){2&A&&(i.BMQ("aria-modal",!0)("aria-labelledby",$.ariaLabelledBy)("aria-describedby",$.ariaDescribedBy),i.HbH("modal d-block"+($.windowClass?" "+$.windowClass:"")),i.AVh("fade",$.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:le,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(A,$){1&A&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&A&&i.HbH("modal-dialog"+($.size?" modal-"+$.size:"")+($.centered?" modal-dialog-centered":"")+($.scrollable?" modal-dialog-scrollable":"")+($.modalDialogClass?" "+$.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),k})(),ut=(()=>{class k{constructor(A){this._document=A}hide(){const A=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),$=this._document.body,Ce=$.style,{overflow:Le,paddingRight:Xt}=Ce;if(A>0){const yn=parseFloat(window.getComputedStyle($).paddingRight);Ce.paddingRight=`${yn+A}px`}return Ce.overflow="hidden",()=>{A>0&&(Ce.paddingRight=Xt),Ce.overflow=Le}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(t.qQ))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Me=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn){this._applicationRef=A,this._injector=$,this._document=Ce,this._scrollBar=Le,this._rendererFactory=Xt,this._ngZone=yn,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Rn=this._windowCmpts[this._windowCmpts.length-1];Nr(this._ngZone,Rn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Rn.location.nativeElement)}})}_restoreScrollBar(){const A=this._scrollBarRestoreFn;A&&(this._scrollBarRestoreFn=null,A())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(A,$,Ce,Le){const Xt=Le.container instanceof HTMLElement?Le.container:Wn(Le.container)?this._document.querySelector(Le.container):this._document.body,yn=this._rendererFactory.createRenderer(null,null);if(!Xt)throw new Error(`The specified modal container "${Le.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Rn=new Te,Gn=this._getContentRef(A,Le.injector||$,Ce,Rn,Le);let qn=!1!==Le.backdrop?this._attachBackdrop(A,Xt):void 0,Ds=this._attachWindowComponent(A,Xt,Gn),vs=new he(Ds,Gn,qn,Le.beforeDismiss);return this._registerModalRef(vs),this._registerWindowCmpt(Ds),vs.hidden.pipe((0,L.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(yn.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Rn.close=Js=>{vs.close(Js)},Rn.dismiss=Js=>{vs.dismiss(Js)},this._applyWindowOptions(Ds.instance,Le),1===this._modalRefs.length&&yn.addClass(this._document.body,"modal-open"),qn&&qn.instance&&(this._applyBackdropOptions(qn.instance,Le),qn.changeDetectorRef.detectChanges()),Ds.changeDetectorRef.detectChanges(),vs}get activeInstances(){return this._activeInstances}dismissAll(A){this._modalRefs.forEach($=>$.dismiss(A))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(A,$){let Le=A.resolveComponentFactory(ce).create(this._injector);return this._applicationRef.attachView(Le.hostView),$.appendChild(Le.location.nativeElement),Le}_attachWindowComponent(A,$,Ce){let Xt=A.resolveComponentFactory(He).create(this._injector,Ce.nodes);return this._applicationRef.attachView(Xt.hostView),$.appendChild(Xt.location.nativeElement),Xt}_applyWindowOptions(A,$){this._windowAttributes.forEach(Ce=>{Wn($[Ce])&&(A[Ce]=$[Ce])})}_applyBackdropOptions(A,$){this._backdropAttributes.forEach(Ce=>{Wn($[Ce])&&(A[Ce]=$[Ce])})}_getContentRef(A,$,Ce,Le,Xt){return Ce?Ce instanceof i.C4Q?this._createFromTemplateRef(Ce,Le):tn(Ce)?this._createFromString(Ce):this._createFromComponent(A,$,Ce,Le,Xt):new Ua([])}_createFromTemplateRef(A,$){const Le=A.createEmbeddedView({$implicit:$,close(Xt){$.close(Xt)},dismiss(Xt){$.dismiss(Xt)}});return this._applicationRef.attachView(Le),new Ua([Le.rootNodes],Le)}_createFromString(A){const $=this._document.createTextNode(`${A}`);return new Ua([[$]])}_createFromComponent(A,$,Ce,Le,Xt){const yn=A.resolveComponentFactory(Ce),Rn=i.zZn.create({providers:[{provide:Te,useValue:Le}],parent:$}),Gn=yn.create(Rn),qn=Gn.location.nativeElement;return Xt.scrollable&&qn.classList.add("component-host-scrollable"),this._applicationRef.attachView(Gn.hostView),new Ua([[qn]],Gn.hostView,Gn)}_setAriaHidden(A){const $=A.parentElement;$&&A!==this._document.body&&(Array.from($.children).forEach(Ce=>{Ce!==A&&"SCRIPT"!==Ce.nodeName&&(this._ariaHiddenValues.set(Ce,Ce.getAttribute("aria-hidden")),Ce.setAttribute("aria-hidden","true"))}),this._setAriaHidden($))}_revertAriaHidden(){this._ariaHiddenValues.forEach((A,$)=>{A?$.setAttribute("aria-hidden",A):$.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(A){const $=()=>{const Ce=this._modalRefs.indexOf(A);Ce>-1&&(this._modalRefs.splice(Ce,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(A),this._activeInstances.emit(this._modalRefs),A.result.then($,$)}_registerWindowCmpt(A){this._windowCmpts.push(A),this._activeWindowCmptHasChanged.next(),A.onDestroy(()=>{const $=this._windowCmpts.indexOf(A);$>-1&&(this._windowCmpts.splice($,1),this._activeWindowCmptHasChanged.next())})}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(ut),i.KVO(i._9s),i.KVO(i.SKi))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),_e=(()=>{class k{constructor(A){this._ngbConfig=A,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(xs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ae=(()=>{class k{constructor(A,$,Ce,Le){this._moduleCFR=A,this._injector=$,this._modalStack=Ce,this._config=Le}open(A,$={}){const Ce={...this._config,animation:this._config.animation,...$};return this._modalStack.open(this._moduleCFR,this._injector,A,Ce)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(A){this._modalStack.dismissAll(A)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(Me),i.KVO(_e))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Se=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({providers:[ae]}),k})(),tt=(()=>{class k{constructor(A){this._ngbConfig=A,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(xs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const At=k=>Wn(k)&&""!==k;let un=0,On=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbNavContent",""]]}),k})(),Xn=(()=>{class k{constructor(A,$){this.elementRef=$,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=A}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Wn(this.domId)||(this.domId="ngb-nav-"+un++)}get active(){return this._nav.activeId===this.id}get id(){return At(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Wn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>ds)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavItem",""]],contentQueries:function(A,$,Ce){if(1&A&&i.wni(Ce,On,4),2&A){let Le;i.mGM(Le=i.lsd())&&($.contentTpls=Le)}},hostVars:2,hostBindings:function(A,$){2&A&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),k})(),ds=(()=>{class k{constructor(A,$,Ce,Le){this.role=A,this._cd=Ce,this._document=Le,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=$.animation,this.destroyOnHide=$.destroyOnHide,this.orientation=$.orientation,this.roles=$.roles,this.keyboard=$.keyboard}click(A){A.disabled||this._updateActiveId(A.id)}onKeyDown(A){if("tablist"!==this.roles||!this.keyboard)return;const $=A.which,Ce=this.links.filter(yn=>!yn.navItem.disabled),{length:Le}=Ce;let Xt=-1;if(Ce.forEach((yn,Rn)=>{yn.elRef.nativeElement===this._document.activeElement&&(Xt=Rn)}),Le){switch($){case ps.ArrowLeft:if("vertical"===this.orientation)return;Xt=(Xt-1+Le)%Le;break;case ps.ArrowRight:if("vertical"===this.orientation)return;Xt=(Xt+1)%Le;break;case ps.ArrowDown:if("horizontal"===this.orientation)return;Xt=(Xt+1)%Le;break;case ps.ArrowUp:if("horizontal"===this.orientation)return;Xt=(Xt-1+Le)%Le;break;case ps.Home:Xt=0;break;case ps.End:Xt=Le-1}"changeWithArrows"===this.keyboard&&this.select(Ce[Xt].navItem.id),Ce[Xt].elRef.nativeElement.focus(),A.preventDefault()}}select(A){this._updateActiveId(A,!1)}ngAfterContentInit(){if(!Wn(this.activeId)){const A=this.items.first?this.items.first.id:null;At(A)&&(this._updateActiveId(A,!1),this._cd.detectChanges())}this.items.changes.pipe((0,S.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:A}){A&&!A.firstChange&&this._notifyItemChanged(A.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(A,$=!0){if(this.activeId!==A){let Ce=!1;$&&this.navChange.emit({activeId:this.activeId,nextId:A,preventDefault:()=>{Ce=!0}}),Ce||(this.activeId=A,this.activeIdChange.emit(A),this._notifyItemChanged(A))}}_notifyItemChanged(A){this.navItemChange$.next(this._getItemById(A))}_getItemById(A){return this.items&&this.items.find($=>$.id===A)||null}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(tt),i.rXU(i.gRc),i.rXU(t.qQ))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNav",""]],contentQueries:function(A,$,Ce){if(1&A&&(i.wni(Ce,Xn,4),i.wni(Ce,vi,5)),2&A){let Le;i.mGM(Le=i.lsd())&&($.items=Le),i.mGM(Le=i.lsd())&&($.links=Le)}},hostVars:6,hostBindings:function(A,$){1&A&&i.bIt("keydown.arrowLeft",function(Le){return $.onKeyDown(Le)})("keydown.arrowRight",function(Le){return $.onKeyDown(Le)})("keydown.arrowDown",function(Le){return $.onKeyDown(Le)})("keydown.arrowUp",function(Le){return $.onKeyDown(Le)})("keydown.Home",function(Le){return $.onKeyDown(Le)})("keydown.End",function(Le){return $.onKeyDown(Le)}),2&A&&(i.BMQ("aria-orientation","vertical"===$.orientation&&"tablist"===$.roles?"vertical":void 0)("role",$.role?$.role:$.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===$.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),k})(),vi=(()=>{class k{constructor(A,$,Ce,Le){this.role=A,this.navItem=$,this.nav=Ce,this.elRef=Le}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(Xn),i.rXU(ds),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(A,$){1&A&&i.bIt("click",function(Le){return $.nav.click($.navItem),Le.preventDefault()}),2&A&&(i.Mr5("id",$.navItem.domId),i.BMQ("role",$.role?$.role:$.nav.roles?"tab":void 0)("tabindex",$.navItem.disabled?-1:void 0)("aria-controls",$.navItem.isPanelInDom()?$.navItem.panelDomId:null)("aria-selected",$.navItem.active)("aria-disabled",$.navItem.disabled),i.AVh("nav-link",!0)("nav-item",$.hasNavItemClass())("active",$.navItem.active)("disabled",$.navItem.disabled))}}),k})();const Wi=({classList:k})=>(k.remove("show"),()=>k.remove("active")),ma=(k,ue)=>{ue&&Bi(k),k.classList.add("show")};let Qa=(()=>{class k{constructor(A){this.elRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(A,$){2&A&&(i.Mr5("id",$.item.panelDomId),i.BMQ("role",$.role?$.role:$.nav.roles?"tabpanel":void 0)("aria-labelledby",$.item.domId),i.AVh("fade",$.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),k})(),Oa=(()=>{class k{constructor(A,$){this._cd=A,this._ngZone=$,this._activePane=null}isPanelTransitioning(A){return this._activePane?.item===A}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,S.Q)(this.nav.destroy$),(0,U.Z)(this._activePane?.item||null),(0,W.F)(),(0,J.i)(1)).subscribe(A=>{const $={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?wi(this._ngZone,this._activePane.elRef.nativeElement,Wi,$).subscribe(()=>{const Ce=this._activePane?.item;this._activePane=this._getPaneForItem(A),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),wi(this._ngZone,this._activePane.elRef.nativeElement,ma,$).subscribe(()=>{A&&(A.shown.emit(),this.nav.shown.emit(A.id))})),Ce&&(Ce.hidden.emit(),this.nav.hidden.emit(Ce.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(A){return this._panes&&this._panes.find($=>$.item===A)||null}_getActivePane(){return this._panes&&this._panes.find(A=>A.item.active)||null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbNavOutlet",""]],viewQuery:function(A,$){if(1&A&&i.GBs(Qa,5),2&A){let Ce;i.mGM(Ce=i.lsd())&&($._panes=Ce)}},hostVars:2,hostBindings:function(A,$){2&A&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},attrs:Qt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,$){1&A&&i.DNE(0,Ne,1,1,"ng-template",0),2&A&&i.Y8G("ngForOf",$.nav.items)},dependencies:[t.Sq,t.bT,Qa,t.T3],encapsulation:2,changeDetection:0}),k})(),Do=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Lc=(()=>{class k{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xc=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),k})(),sd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationFirst",""]]}),k})(),$d=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationLast",""]]}),k})(),Wd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNext",""]]}),k})(),Kd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNumber",""]]}),k})(),Qu=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPrevious",""]]}),k})(),Hd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPages",""]]}),k})(),Zu=(()=>{class k{constructor(A){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=A.disabled,this.boundaryLinks=A.boundaryLinks,this.directionLinks=A.directionLinks,this.ellipses=A.ellipses,this.maxSize=A.maxSize,this.pageSize=A.pageSize,this.rotate=A.rotate,this.size=A.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(A){this._updatePages(A)}ngOnChanges(A){this._updatePages(this.page)}isEllipsis(A){return-1===A}_applyEllipses(A,$){this.ellipses&&(A>0&&(A>2?this.pages.unshift(-1):2===A&&this.pages.unshift(2),this.pages.unshift(1)),$<this.pageCount&&($<this.pageCount-2?this.pages.push(-1):$===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let A=0,$=this.pageCount,Ce=Math.floor(this.maxSize/2);return this.page<=Ce?$=this.maxSize:this.pageCount-this.page<Ce?A=this.pageCount-this.maxSize:(A=this.page-Ce-1,$=this.page+(this.maxSize%2==0?Ce-1:Ce)),[A,$]}_applyPagination(){let $=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[$,$+this.maxSize]}_setPageInRange(A){const $=this.page;this.page=gn(A,this.pageCount,1),this.page!==$&&$t(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(A){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),$t(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let $=1;$<=this.pageCount;$++)this.pages.push($);if(this._setPageInRange(A),this.maxSize>0&&this.pageCount>this.maxSize){let $=0,Ce=this.pageCount;[$,Ce]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice($,Ce),this._applyEllipses($,Ce)}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Lc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-pagination"]],contentQueries:function(A,$,Ce){if(1&A&&(i.wni(Ce,xc,5),i.wni(Ce,sd,5),i.wni(Ce,$d,5),i.wni(Ce,Wd,5),i.wni(Ce,Kd,5),i.wni(Ce,Qu,5),i.wni(Ce,Hd,5)),2&A){let Le;i.mGM(Le=i.lsd())&&($.tplEllipsis=Le.first),i.mGM(Le=i.lsd())&&($.tplFirst=Le.first),i.mGM(Le=i.lsd())&&($.tplLast=Le.first),i.mGM(Le=i.lsd())&&($.tplNext=Le.first),i.mGM(Le=i.lsd())&&($.tplNumber=Le.first),i.mGM(Le=i.lsd())&&($.tplPrevious=Le.first),i.mGM(Le=i.lsd())&&($.tplPages=Le.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let ue,A,$,Ce,Le,Xt,yn,Rn;return ue=$localize`:@@ngb.pagination.first:`,A=$localize`:@@ngb.pagination.previous:`,$=$localize`:@@ngb.pagination.next:`,Ce=$localize`:@@ngb.pagination.last:`,Le=$localize`:@@ngb.pagination.first-aria:First`,Xt=$localize`:@@ngb.pagination.previous-aria:Previous`,yn=$localize`:@@ngb.pagination.next-aria:Next`,Rn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],ue,A,$,Ce,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Le,"href","",1,"page-link",3,"click"],["aria-label",Xt,"href","",1,"page-link",3,"click"],["aria-label",yn,"href","",1,"page-link",3,"click"],["aria-label",Rn,"href","",1,"page-link",3,"click"]]},template:function(A,$){if(1&A&&(i.DNE(0,xt,2,0,"ng-template",null,0,i.C5r)(2,_t,2,0,"ng-template",null,1,i.C5r)(4,Zt,2,0,"ng-template",null,2,i.C5r)(6,fn,2,0,"ng-template",null,3,i.C5r)(8,Cn,1,0,"ng-template",null,4,i.C5r)(10,us,2,2,"ng-template",null,5,i.C5r)(12,kn,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,as,3,9,"li",11)(16,gs,3,8,"li",11)(17,Ss,0,0,"ng-template",12)(18,sn,3,9,"li",11)(19,Zn,3,9,"li",11),i.k0s()),2&A){const Ce=i.sdS(13);i.R7$(14),i.HbH("pagination"+($.size?" pagination-"+$.size:"")),i.R7$(),i.Y8G("ngIf",$.boundaryLinks),i.R7$(),i.Y8G("ngIf",$.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==$.tplPages?null:$.tplPages.templateRef)||Ce)("ngTemplateOutletContext",i.sMw(8,ke,$.page,$.pages,$.disabled)),i.R7$(),i.Y8G("ngIf",$.directionLinks),i.R7$(),i.Y8G("ngIf",$.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),k})(),qu=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();class $p{constructor(ue,A){this.open=ue,this.close=A,A||(this.close=ue)}isManual(){return"manual"===this.open||"manual"===this.close}}const Wp={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Gi=k=>k>0?(0,V.c)(k):ue=>ue;let Qr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Ma=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),vr=(()=>{class k{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ls=(()=>{class k{constructor(A,$){this._changeDetectorRef=$,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=Ce=>{},this.onTouched=()=>{},this.max=A.max,this.readonly=A.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(A){this.isInteractive()&&this._updateState(A),this.hover.emit(A)}handleBlur(){this.onTouched()}handleClick(A){this.isInteractive()&&this.update(this.resettable&&this.rate===A?0:A)}handleKeyDown(A){switch(A.which){case ps.ArrowDown:case ps.ArrowLeft:this.update(this.rate-1);break;case ps.ArrowUp:case ps.ArrowRight:this.update(this.rate+1);break;case ps.Home:this.update(0);break;case ps.End:this.update(this.max);break;default:return}A.preventDefault()}ngOnChanges(A){A.rate&&this.update(this.rate),A.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(A){this.disabled=A}update(A,$=!0){const Ce=gn(A,this.max,0);this.isInteractive()&&this.rate!==Ce&&(this.rate=Ce,this.rateChange.emit(this.rate)),$&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(A){this.update(A,!1),this._changeDetectorRef.markForCheck()}_updateState(A){this.nextRate=A,this.contexts.forEach(($,Ce)=>$.fill=Math.round(100*gn(A-Ce,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(A,$)=>({fill:0,index:$}))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(vr),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-rating"]],contentQueries:function(A,$,Ce){if(1&A&&i.wni(Ce,i.C4Q,5),2&A){let Le;i.mGM(Le=i.lsd())&&($.starTemplateFromContent=Le.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(A,$){1&A&&i.bIt("blur",function(){return $.handleBlur()})("keydown",function(Le){return $.handleKeyDown(Le)})("mouseleave",function(){return $.reset()}),2&A&&(i.Mr5("tabindex",$.disabled?-1:0),i.BMQ("aria-valuemax",$.max)("aria-valuenow",$.nextRate)("aria-valuetext",$.ariaValueText())("aria-disabled",!!$.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,$){1&A&&i.DNE(0,Ke,1,1,"ng-template",null,0,i.C5r)(2,at,4,5,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",$.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),k})(),zd=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();class gi{constructor(ue,A,$){this.hour=Di(ue),this.minute=Di(A),this.second=Di($)}changeHour(ue=1){this.updateHour((isNaN(this.hour)?0:this.hour)+ue)}updateHour(ue){this.hour=$t(ue)?(ue<0?24+ue:ue)%24:NaN}changeMinute(ue=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+ue)}updateMinute(ue){$t(ue)?(this.minute=ue%60<0?60+ue%60:ue%60,this.changeHour(Math.floor(ue/60))):this.minute=NaN}changeSecond(ue=1){this.updateSecond((isNaN(this.second)?0:this.second)+ue)}updateSecond(ue){$t(ue)?(this.second=ue<0?60+ue%60:ue%60,this.changeMinute(Math.floor(ue/60))):this.second=NaN}isValid(ue=!0){return $t(this.hour)&&$t(this.minute)&&(!ue||$t(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Zr=(()=>{class k{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Bs=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function oc(){return new Nl}(),providedIn:"root"}),k})(),Nl=(()=>{class k extends Bs{fromModel(A){return A&&bn(A.hour)&&bn(A.minute)?{hour:A.hour,minute:A.minute,second:bn(A.second)?A.second:null}:null}toModel(A){return A&&bn(A.hour)&&bn(A.minute)?{hour:A.hour,minute:A.minute,second:bn(A.second)?A.second:null}:null}}return k.\u0275fac=(()=>{let ue;return function($){return(ue||(ue=i.xGo(k)))($||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Ia=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let $=null;return $=A?new A:function eh(k){return new ei(k)}(i.KVO(i.xe9)),$},providedIn:"root"}),k})(),ei=(()=>{class k extends Ia{constructor(A){super(),this._periods=(0,t.rd)(A,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();const Hp=/[^0-9]/g;let l0=(()=>{class k{constructor(A,$,Ce,Le){this._config=A,this._ngbTimeAdapter=$,this._cd=Ce,this.i18n=Le,this.onChange=Xt=>{},this.onTouched=()=>{},this.meridian=A.meridian,this.spinners=A.spinners,this.seconds=A.seconds,this.hourStep=A.hourStep,this.minuteStep=A.minuteStep,this.secondStep=A.secondStep,this.disabled=A.disabled,this.readonlyInputs=A.readonlyInputs,this.size=A.size}set hourStep(A){this._hourStep=bn(A)?A:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(A){this._minuteStep=bn(A)?A:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(A){this._secondStep=bn(A)?A:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(A){const $=this._ngbTimeAdapter.fromModel(A);this.model=$?new gi($.hour,$.minute,$.second):new gi,!this.seconds&&(!$||!$t($.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A}changeHour(A){this.model.changeHour(A),this.propagateModelChange()}changeMinute(A){this.model.changeMinute(A),this.propagateModelChange()}changeSecond(A){this.model.changeSecond(A),this.propagateModelChange()}updateHour(A){const $=this.model.hour>=12,Ce=Di(A);this.model.updateHour(this.meridian&&($&&Ce<12||!$&&12===Ce)?Ce+12:Ce),this.propagateModelChange()}updateMinute(A){this.model.updateMinute(Di(A)),this.propagateModelChange()}updateSecond(A){this.model.updateSecond(Di(A)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(A){A.value=A.value.replace(Hp,"")}formatHour(A){return $t(A)?oi(this.meridian?A%12==0?12:A%12:A%24):oi(NaN)}formatMinSec(A){return oi($t(A)?A:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(A){A.seconds&&!this.seconds&&this.model&&!$t(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(A=!0){A&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Zr),i.rXU(Bs),i.rXU(i.gRc),i.rXU(Ia))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let ue,A,$,Ce,Le,Xt,yn,Rn,Gn,qn,Ds,vs,Js,rr;return ue=$localize`:@@ngb.timepicker.HH:HH`,A=$localize`:@@ngb.timepicker.hours:Hours`,$=$localize`:@@ngb.timepicker.MM:MM`,Ce=$localize`:@@ngb.timepicker.minutes:Minutes`,Le=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Xt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,yn=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,Rn=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Gn=$localize`:@@ngb.timepicker.SS:SS`,qn=$localize`:@@ngb.timepicker.seconds:Seconds`,Ds=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,vs=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Js=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,rr=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Le,Xt,yn,Rn,Ds,vs,Js,rr,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",ue,"aria-label",A,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",$,"aria-label",Ce,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Gn,"aria-label",qn,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(A,$){1&A&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,dt,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Le){return $.updateHour(Le.target.value)})("blur",function(){return $.handleBlur()})("input",function(Le){return $.formatInput(Le.target)})("keydown.ArrowUp",function(Le){return $.changeHour($.hourStep),Le.preventDefault()})("keydown.ArrowDown",function(Le){return $.changeHour(-$.hourStep),Le.preventDefault()}),i.k0s(),i.DNE(5,vt,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,jt,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Le){return $.updateMinute(Le.target.value)})("blur",function(){return $.handleBlur()})("input",function(Le){return $.formatInput(Le.target)})("keydown.ArrowUp",function(Le){return $.changeMinute($.minuteStep),Le.preventDefault()})("keydown.ArrowDown",function(Le){return $.changeMinute(-$.minuteStep),Le.preventDefault()}),i.k0s(),i.DNE(11,nn,4,7,"button",12),i.k0s(),i.DNE(12,Dn,2,0,"div",17)(13,fs,4,9,"div",18)(14,Ms,1,0,"div",17)(15,Ts,5,9,"div",19),i.k0s()()),2&A&&(i.AVh("disabled",$.disabled),i.Y8G("disabled",$.disabled),i.R7$(3),i.Y8G("ngIf",$.spinners),i.R7$(),i.AVh("form-control-sm",$.isSmallSize)("form-control-lg",$.isLargeSize),i.Y8G("value",$.formatHour(null==$.model?null:$.model.hour))("readOnly",$.readonlyInputs)("disabled",$.disabled),i.R7$(),i.Y8G("ngIf",$.spinners),i.R7$(4),i.Y8G("ngIf",$.spinners),i.R7$(),i.AVh("form-control-sm",$.isSmallSize)("form-control-lg",$.isLargeSize),i.Y8G("value",$.formatMinSec(null==$.model?null:$.model.minute))("readOnly",$.readonlyInputs)("disabled",$.disabled),i.R7$(),i.Y8G("ngIf",$.spinners),i.R7$(),i.Y8G("ngIf",$.seconds),i.R7$(),i.Y8G("ngIf",$.seconds),i.R7$(),i.Y8G("ngIf",$.meridian),i.R7$(),i.Y8G("ngIf",$.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),k})(),th=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),_a=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Zm=(()=>{class k{constructor(A){this._ngbConfig=A,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(xs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),d0=0,qm=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(A,$){2&A&&(i.Mr5("id",$.id),i.HbH("tooltip"+($.tooltipClass?" "+$.tooltipClass:"")),i.AVh("fade",$.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:le,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(A,$){1&A&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),k})(),Sn=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn,Rn,Gn,qn){this._elementRef=A,this._renderer=$,this._ngZone=yn,this._document=Rn,this._changeDetector=Gn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+d0++,this._windowRef=null,this.animation=Xt.animation,this.autoClose=Xt.autoClose,this.placement=Xt.placement,this.triggers=Xt.triggers,this.container=Xt.container,this.disableTooltip=Xt.disableTooltip,this.tooltipClass=Xt.tooltipClass,this.openDelay=Xt.openDelay,this.closeDelay=Xt.closeDelay,this._popupService=new _l(qm,Ce,Le,$,this._ngZone,qn),this._zoneSubscription=yn.onStable.subscribe(()=>{this._windowRef&&qo(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(A){this._ngbTooltip=A,!A&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(A){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:$,transition$:Ce}=this._popupService.open(this._ngbTooltip,A,this.animation);this._windowRef=$,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),pa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),Ce.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function $r(k,ue,A,$,Ce,Le,Xt=0,yn=0){const Rn=function js(k,ue=Wp){const A=(k||"").trim();if(0===A.length)return[];const $=A.split(/\s+/).map(Le=>Le.split(":")).map(Le=>{let Xt=ue[Le[0]]||Le;return new $p(Xt[0],Xt[1])}),Ce=$.filter(Le=>Le.isManual());if(Ce.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===Ce.length&&$.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return $}(A);if(1===Rn.length&&Rn[0].isManual())return()=>{};const Gn=function Xm(k,ue,A,$){return new l.c(Ce=>{const Le=[],Xt=()=>Ce.next(!0),yn=()=>Ce.next(!1),Rn=()=>Ce.next(!$());return A.forEach(Gn=>{Gn.open===Gn.close?Le.push(k.listen(ue,Gn.open,Rn)):Le.push(k.listen(ue,Gn.open,Xt),k.listen(ue,Gn.close,yn))}),()=>{Le.forEach(Gn=>Gn())}})}(k,ue,Rn,$).pipe(function Nc(k,ue,A){return $=>{let Ce=null;const Le=$.pipe((0,B.T)(Rn=>({open:Rn})),(0,I.p)(Rn=>{const Gn=A();return Gn===Rn.open||Ce&&Ce.open!==Gn?(Ce&&Ce.open!==Rn.open&&(Ce=null),!1):(Ce=Rn,!0)}),(0,q.u)()),Xt=Le.pipe((0,I.p)(Rn=>Rn.open),Gi(k)),yn=Le.pipe((0,I.p)(Rn=>!Rn.open),Gi(ue));return(0,u.h)(Xt,yn).pipe((0,I.p)(Rn=>Rn===Ce&&(Ce=null,Rn.open!==A())),(0,B.T)(Rn=>Rn.open))}}(Xt,yn,$)).subscribe(qn=>qn?Ce():Le());return()=>Gn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:A}){A&&this.isOpen()&&(this._windowRef.instance.tooltipClass=A.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(Zm),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),k})(),Ti=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),zp=(()=>{class k{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(A){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const $=Ft(this.result),Ce=Array.isArray(this.term)?this.term:[this.term],Le=Gn=>this.accentSensitive?Gn:eo(Gn),Xt=Ce.map(Gn=>function Ci(k){return k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Le(Ft(Gn)))).filter(Gn=>Gn),yn=this.accentSensitive?$:eo($),Rn=Xt.length?yn.split(new RegExp(`(${Xt.join("|")})`,"gmi")):[$];if(this.accentSensitive)this.parts=Rn;else{let Gn=0;this.parts=Rn.map(qn=>$.substring(Gn,Gn+=qn.length))}}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(A,$){1&A&&i.DNE(0,Qi,3,2,"ng-template",1),2&A&&i.Y8G("ngForOf",$.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),k})(),Yp=(()=>{class k{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Ft,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(A){this.activeIdx=A,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(A){this.selectEvent.emit(A)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(A,$){1&A&&i.bIt("mousedown",function(Le){return Le.preventDefault()}),2&A&&(i.Mr5("id",$.id),i.HbH("dropdown-menu show"+($.popupClass?" "+$.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,$){1&A&&i.DNE(0,Hs,1,2,"ng-template",null,0,i.C5r)(2,ao,2,9,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",$.results))},dependencies:[zp,t.Sq,t.T3],encapsulation:2}),k})(),sr=(()=>{class k{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Fc=new i.nKC("live announcer delay",{providedIn:"root",factory:function od(){return 100}});function ir(k,ue=!1){let A=k.body.querySelector("#ngb-live");return null==A&&ue&&(A=k.createElement("div"),A.setAttribute("id","ngb-live"),A.setAttribute("aria-live","polite"),A.setAttribute("aria-atomic","true"),A.classList.add("sr-only"),k.body.appendChild(A)),A}let ad=(()=>{class k{constructor(A,$){this._document=A,this._delay=$}ngOnDestroy(){const A=ir(this._document);A&&A.parentElement.removeChild(A)}say(A){const $=ir(this._document,!0),Ce=this._delay;if(null!=$){$.textContent="";const Le=()=>$.textContent=A;null===Ce?Le():setTimeout(Le,Ce)}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(t.qQ),i.KVO(Fc))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ld=0,eg=(()=>{class k{constructor(A,$,Ce,Le,Xt,yn,Rn,Gn,qn,Ds,vs){this._elementRef=A,this._renderer=Ce,this._live=Rn,this._document=Gn,this._ngZone=qn,this._changeDetector=Ds,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+ld++,this._onTouched=()=>{},this._onChange=Js=>{},this.container=Xt.container,this.editable=Xt.editable,this.focusFirst=Xt.focusFirst,this.showHint=Xt.showHint,this.placement=Xt.placement,this._valueChanges=(0,h.R)(A.nativeElement,"input").pipe((0,B.T)(Js=>Js.target.value)),this._resubscribeTypeahead=new v.t(null),this._popupService=new _l(Yp,Le,$,Ce,this._ngZone,vs),this._zoneSubscription=yn.onStable.subscribe(()=>{this.isPopupOpen()&&qo(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:A}){A&&!A.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}writeValue(A){this._writeInputValue(this._formatItemForInput(A)),this.showHint&&(this._inputValueBackup=A)}setDisabledState(A){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",A)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(A){if(this.isPopupOpen())switch(A.which){case ps.ArrowDown:A.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case ps.ArrowUp:A.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case ps.Enter:case ps.Tab:{const $=this._windowRef.instance.getActive();Wn($)&&(A.preventDefault(),A.stopPropagation(),this._selectResult($)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:A}=this._popupService.open();this._windowRef=A,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe($=>this._selectResultClosePopup($)),this._windowRef.instance.activeChangeEvent.subscribe($=>this.activeDescendant=$),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),pa(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(A){let $=!1;this.selectItem.emit({item:A,preventDefault:()=>{$=!0}}),this._resubscribeTypeahead.next(null),$||(this.writeValue(A),this._onChange(A))}_selectResultClosePopup(A){this._selectResult(A),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const A=this._inputValueBackup.toLowerCase(),$=this._formatItemForInput(this._windowRef.instance.getActive());A===$.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+$.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,$.length])):this._writeInputValue($)}}_formatItemForInput(A){return null!=A&&this.inputFormatter?this.inputFormatter(A):Ft(A)}_writeInputValue(A){this._renderer.setProperty(this._elementRef.nativeElement,"value",Ft(A))}_subscribeToUserInput(){const A=this._valueChanges.pipe((0,G.M)($=>{this._inputValueBackup=this.showHint?$:null,this._onChange(this.editable?$:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,f.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,j.n)(()=>A)).subscribe($=>{$&&0!==$.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=$,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const Ce=$?$.length:0;this._live.say(0===Ce?"No results available":`${Ce} result${1===Ce?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(sr),i.rXU(i.SKi),i.rXU(ad),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(A,$){1&A&&i.bIt("blur",function(){return $.handleBlur()})("keydown",function(Le){return $.handleKeyDown(Le)}),2&A&&(i.Mr5("autocomplete",$.autocomplete),i.BMQ("aria-autocomplete",$.showHint?"both":"list")("aria-activedescendant",$.activeDescendant)("aria-owns",$.isPopupOpen()?$.popupId:null)("aria-expanded",$.isPopupOpen()),i.AVh("open",$.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$]}),k})(),ac=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();const Xp=[et,Bt,Hi,hr,Ve,Ji,xl,Se,Do,qu,Qr,Ma,zd,th,_a,Ti,ac];let ko=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[Xp,et,Bt,Hi,hr,Ve,Ji,xl,Se,Do,qu,Qr,Ma,zd,th,_a,Ti,ac]}),k})()},1473:(N,b,n)=>{"use strict";n.d(b,{fcY:()=>at,DAG:()=>ji,P3:()=>ln,Fdw:()=>V,WlY:()=>le,eU4:()=>pe,W25:()=>Pt,fQD:()=>it,wnr:()=>Ht,FlA:()=>De,KMD:()=>Zt,PTN:()=>us,TwG:()=>kn,CTm:()=>gs,_sU:()=>vt,A0q:()=>Ms,JVJ:()=>Ct,M7d:()=>re,eGm:()=>Lt,dku:()=>Ne,mEL:()=>G,fHx:()=>te,UqU:()=>Ee,f4U:()=>J,cYz:()=>X,S6A:()=>j,R7k:()=>ls,HkG:()=>q,iO5:()=>Kt,fpj:()=>In,$eO:()=>ys,J9r:()=>Zn,STK:()=>Mt,EET:()=>Ye,rA_:()=>pt,Vne:()=>Mi,X7I:()=>_t,tK_:()=>fn,z4z:()=>Vs,vJF:()=>an,Zex:()=>Ys,AjF:()=>ri,zUr:()=>en,fXj:()=>dt,hDs:()=>Q,zno:()=>pn,sU3:()=>z});var i=n(54438),t=n(31635),l=n(84412),e=n(74402),f=n(7673),m=n(57786),_=(n(52165),n(88141)),y=n(96354),v=n(99172),D=n(23294),O=n(39974),M=n(54360),T=n(57908),u=n(5964),w=n(85188),C=n(89417),S=n(60177);function I(ie){return"boolean"==typeof ie}function L(ie){return"function"==typeof ie}function B(ie){return"number"==typeof ie}function U(ie){return"object"==typeof ie&&null!==ie}function W(ie){return"string"==typeof ie}class j{constructor(Ge,me){this.layoutService=Ge,this.validationService=me,this._hasFocus=!1}get control(){const Ge=this.group.get(this.model.id);if(null===Ge)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return Ge}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass(Ge,me,yt=this.model){const zt=yt===this.model?this.layout:this.layoutService.findByModel(yt,this.formLayout)??yt.layout;return this.layoutService.getClass(zt,Ge,me)}onBlur(Ge){Ge instanceof Event&&Ge.stopPropagation(),this._hasFocus=!1,this.blur.emit(Ge)}onChange(Ge){Ge instanceof Event&&Ge.stopPropagation(),this.change.emit(Ge)}onCustomEvent(Ge,me=null,yt=!1){yt?this.customEvent?.emit(Ge):W(me)&&this.customEvent?.emit({customEvent:Ge,customEventType:me})}onFocus(Ge){Ge instanceof Event&&Ge.stopPropagation(),this._hasFocus=!0,this.focus.emit(Ge)}}class G extends j{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach(Ge=>Ge.markForCheck())}}class H extends j{markForCheck(){this.components instanceof i.rOR&&this.components.forEach(Ge=>Ge.markForCheck())}}const V=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let X=(()=>{class ie{constructor(me){this.DYNAMIC_FORM_CONTROL_MAP_FN=me,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=me}getForms(){return this.forms.values()}registerForm(me){this.forms.push(me)}unregisterForm(me){const yt=this.forms.indexOf(me);-1!==yt&&this.forms.splice(yt,1)}getFormControlRef(me,yt){const zt=this.formControls[me];return B(yt)?Array.isArray(zt)?zt[yt]:void 0:zt}registerFormControl(me,yt,zt){if(B(zt)){const En=this.formControls[me.id]||[];Array.isArray(En)?(En.splice(zt,0,yt),this.formControls[me.id]=En):console.warn(`registerFormControlRef is called with index for a non-array form control: ${me.id}`)}else this.formControls[me.id]=yt}unregisterFormControl(me,yt){const zt=this.formControls[me];B(yt)?Array.isArray(zt)&&void 0!==zt[yt]&&zt.splice(yt,1):void 0!==zt&&delete this.formControls[me]}getCustomComponentType(me){return L(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(me):null}}return ie.\u0275fac=function(me){return new(me||ie)(i.KVO(V,8))},ie.\u0275prov=i.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),J=(()=>{class ie{constructor(me,yt){this.changeDetectorRef=me,this.componentService=yt}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(me,yt){return yt.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(me=>me.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(me){this.blur?.emit(me)}onChange(me){this.change?.emit(me)}onFocus(me){this.focus?.emit(me)}onCustomEvent(me,yt){yt.emit(me)}}return ie.\u0275fac=function(me){return new(me||ie)(i.rXU(i.gRc),i.rXU(X))},ie.\u0275dir=i.FsC({type:ie}),ie})();var q=function(ie){return ie.Blur="blur",ie.Change="change",ie.Focus="focus",ie}(q||{});function Q(ie){return U(ie)&&ie.hasOwnProperty("$event")}const Y="SERIALIZABLE";function z(ie){return(Ge,me)=>{Reflect.defineMetadata(Y,{key:me,name:ie||me},Ge,me)}}function oe(ie,Ge){return function Z(ie){const Ge=[];for(const me in ie){const yt=Reflect.getMetadata(Y,ie,me);yt&&Ge.push(yt)}return Ge}(Ge||ie).reduce((me,yt)=>(me[yt.name]=ie[yt.key],me),{})}let se=(()=>{class ie{constructor(me,yt=null){this.parent=null,this.asyncValidators=me.asyncValidators??null,this.errorMessages=me.errorMessages??null,this.hidden=!!I(me.hidden)&&me.hidden,this.id=me.id,this.label=me.label??null,this.labelTooltip=me.labelTooltip??null,this.controlTooltip=me.controlTooltip??null,this.layout=yt,this.name=me.name??me.id,this.relations=Array.isArray(me.relations)?me.relations:[],this.updateOn=W(me.updateOn)?me.updateOn:null,this.validators=me.validators??null,this._disabled=!!I(me.disabled)&&me.disabled,this.disabled$=new l.t(this._disabled),this.disabled$.subscribe(zt=>this._disabled=zt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(me){this.disabled$.next(me)}get hasErrorMessages(){return U(this.errorMessages)}toJSON(){return oe(this)}}return(0,t.Cg)([z()],ie.prototype,"asyncValidators",void 0),(0,t.Cg)([z("disabled")],ie.prototype,"_disabled",void 0),(0,t.Cg)([z()],ie.prototype,"errorMessages",void 0),(0,t.Cg)([z()],ie.prototype,"hidden",void 0),(0,t.Cg)([z()],ie.prototype,"id",void 0),(0,t.Cg)([z()],ie.prototype,"label",void 0),(0,t.Cg)([z()],ie.prototype,"labelTooltip",void 0),(0,t.Cg)([z()],ie.prototype,"controlTooltip",void 0),(0,t.Cg)([z()],ie.prototype,"layout",void 0),(0,t.Cg)([z()],ie.prototype,"name",void 0),(0,t.Cg)([z()],ie.prototype,"relations",void 0),(0,t.Cg)([z()],ie.prototype,"updateOn",void 0),(0,t.Cg)([z()],ie.prototype,"validators",void 0),ie})(),de=(()=>{class ie extends se{constructor(me,yt){super(me,yt),this.additional=U(me.additional)?me.additional:null,this.hint=me.hint??null,this.required=!!I(me.required)&&me.required,this.tabIndex=me.tabIndex??null,this._value=me.value??null,this.value$=new l.t(this._value),this.value$.subscribe(zt=>this._value=zt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(me){this.value$.next(me)}getAdditional(me,yt){return null!==this.additional&&this.additional.hasOwnProperty(me)?this.additional[me]:yt}}return(0,t.Cg)([z()],ie.prototype,"additional",void 0),(0,t.Cg)([z()],ie.prototype,"hint",void 0),(0,t.Cg)([z()],ie.prototype,"required",void 0),(0,t.Cg)([z()],ie.prototype,"tabIndex",void 0),(0,t.Cg)([z("value")],ie.prototype,"_value",void 0),ie})(),te=(()=>{class ie{constructor(me,yt=[],zt=-1){this.$implicit=this,this.context=me,this.group=yt,this.index=zt}get parent(){return this.context}get(me){return this.group[me]}toJSON(){return oe(this)}}return(0,t.Cg)([z()],ie.prototype,"group",void 0),(0,t.Cg)([z()],ie.prototype,"index",void 0),ie})();const le="ARRAY";let Ee=(()=>{class ie extends se{constructor(me,yt){if(super(me,yt),this.groups=[],this.type=le,!L(me.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=me.groupFactory,this.groupAsyncValidators=me.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=me.groupValidators??null,this.initialCount=B(me.initialCount)?me.initialCount:1,Array.isArray(me.groups))me.groups.forEach((zt,En)=>{this.groups.push(new te(this,zt.group,zt.index??En))});else for(let zt=0;zt<this.initialCount;zt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((me,yt)=>me.index=yt)}get size(){return this.groups.length}get(me){return this.groups[me]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(me){const yt=new te(this,this.groupFactory());return this.groups.splice(me,0,yt),this.updateGroupIndex(),yt}moveGroup(me,yt){this.groups.splice(me+yt,0,...this.groups.splice(me,1)),this.updateGroupIndex()}removeGroup(me){this.groups.splice(me,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([z()],ie.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([z()],ie.prototype,"groupValidators",void 0),(0,t.Cg)([z()],ie.prototype,"groups",void 0),(0,t.Cg)([z()],ie.prototype,"initialCount",void 0),(0,t.Cg)([z()],ie.prototype,"groupPrototype",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),be=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.labelPosition=me.labelPosition??null,this.checked=!!I(this.value)&&this.value}get checked(){return this.value??!1}set checked(me){this.value=me}toggle(){this.checked=!this.checked}}return(0,t.Cg)([z()],ie.prototype,"labelPosition",void 0),ie})();const pe="CHECKBOX";let re=(()=>{class ie extends be{constructor(me,yt){super(me,yt),this.type=pe,this.indeterminate=!!I(me.indeterminate)&&me.indeterminate}}return(0,t.Cg)([z()],ie.prototype,"indeterminate",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),ye=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.autoComplete=me.autoComplete??"on",this.autoFocus=!!I(me.autoFocus)&&me.autoFocus,this.maxLength=B(me.maxLength)?me.maxLength:null,this.minLength=B(me.minLength)?me.minLength:null,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.readOnly=!!I(me.readOnly)&&me.readOnly,this.spellCheck=!!I(me.spellCheck)&&me.spellCheck,this.suffix=me.suffix??null}}return(0,t.Cg)([z()],ie.prototype,"autoComplete",void 0),(0,t.Cg)([z()],ie.prototype,"autoFocus",void 0),(0,t.Cg)([z()],ie.prototype,"maxLength",void 0),(0,t.Cg)([z()],ie.prototype,"minLength",void 0),(0,t.Cg)([z()],ie.prototype,"placeholder",void 0),(0,t.Cg)([z()],ie.prototype,"prefix",void 0),(0,t.Cg)([z()],ie.prototype,"readOnly",void 0),(0,t.Cg)([z()],ie.prototype,"spellCheck",void 0),(0,t.Cg)([z()],ie.prototype,"suffix",void 0),ie})();const De="INPUT";let pt=(()=>{class ie extends ye{constructor(me,yt){super(me,yt),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=De,this.accept=me.accept??null,this.inputType=me.inputType??"text",this.mask=me.mask??"",this.maskConfig=me.maskConfig?{...w.Dz,...me.maskConfig}:w.Dz,this.max=void 0!==me.max?me.max:null,this.min=void 0!==me.min?me.min:null,this.multiple=I(me.multiple)?me.multiple:null,this.pattern=me.pattern??null,this.step=B(me.step)?me.step:null,void 0!==me.list&&(this.list=me.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(me){Array.isArray(me)?(this._list=me,this.list$=(0,f.of)(this._list)):(0,e.A)(me)?this.list$=me.pipe((0,_.M)(yt=>this._list=yt)):(this._list=null,this.list$=null)}}return(0,t.Cg)([z()],ie.prototype,"accept",void 0),(0,t.Cg)([z()],ie.prototype,"inputType",void 0),(0,t.Cg)([z()],ie.prototype,"mask",void 0),(0,t.Cg)([z()],ie.prototype,"maskConfig",void 0),(0,t.Cg)([z()],ie.prototype,"max",void 0),(0,t.Cg)([z()],ie.prototype,"min",void 0),(0,t.Cg)([z()],ie.prototype,"multiple",void 0),(0,t.Cg)([z()],ie.prototype,"pattern",void 0),(0,t.Cg)([z()],ie.prototype,"step",void 0),(0,t.Cg)([z("list")],ie.prototype,"_list",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();var dn=function(ie){return ie.Start="START",ie.End="END",ie}(dn||{});let an=(()=>{class ie{constructor(me){this.templateRef=me,this.align=dn.End,this.as=null}}return ie.\u0275fac=function(me){return new(me||ie)(i.rXU(i.C4Q))},ie.\u0275dir=i.FsC({type:ie,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),ie})(),In=(()=>{class ie{findById(me,yt){if(U(yt))for(const zt of Object.keys(yt))if(zt===me)return yt[zt];return null}findByModel(me,yt){let zt=null;if(U(yt))for(const En of Object.keys(yt))En.split(",").forEach(Yn=>{const cs=Yn.trim();(cs===me.id||cs===me.type)&&(zt=yt[En])});return zt}filterTemplatesByModel(me,yt){return yt instanceof i.rOR||Array.isArray(yt)?yt.filter(En=>En.modelId===me.id||En.modelType===me.type):[]}getAlignedTemplate(me,yt,zt){return this.filterTemplatesByModel(me,yt).find(En=>null===En.as&&En.align===zt)}getStartTemplate(me,yt){return this.getAlignedTemplate(me,yt,dn.Start)}getEndTemplate(me,yt){return this.getAlignedTemplate(me,yt,dn.End)}getClass(me,yt,zt){if(U(me)&&me.hasOwnProperty(yt)){const En=me[yt];if(En.hasOwnProperty(zt))return En[zt]}return""}getHostClass(me){let zt="";return U(me)&&["element","grid"].forEach(En=>{U(me[En])&&W(me[En]?.host)&&(zt+=` ${me[En]?.host}`)}),zt}getElementId(me){let yt=me.id,zt=me.parent;for(;null!==zt;){if(zt instanceof te){yt=`${zt.context.id}-${zt.index}-${me.id}`;break}zt=zt.parent}return yt}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275prov=i.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();var Tt=function(ie){return ie.Blur="blur",ie.Change="change",ie.Submit="submit",ie}(Tt||{});const Wt=new i.nKC("DYNAMIC_VALIDATORS"),ln=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let Mt=(()=>{class ie{constructor(me,yt,zt,En){this._NG_VALIDATORS=me,this._NG_ASYNC_VALIDATORS=yt,this._DYNAMIC_VALIDATORS=zt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=En}getValidatorFn(me,yt=null,zt=this._NG_VALIDATORS){let En;if(C.k0.hasOwnProperty(me)?En=C.k0[me]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(me)?En=this._DYNAMIC_VALIDATORS.get(me):zt&&(En=zt.find(Yn=>Yn.name===me)),void 0===En)throw new Error(`validator "${me}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==yt?En(yt):En}getValidatorFns(me,yt=this._NG_VALIDATORS){let zt=[];return U(me)&&(zt=Object.keys(me).map(En=>{const Yn=me[En];return this.isValidatorDescriptor(Yn)?this.getValidatorFn(Yn.name,Yn.args,yt):this.getValidatorFn(En,Yn,yt)})),zt}getValidator(me,yt=null){return this.getValidatorFn(me,yt)}getAsyncValidator(me,yt=null){return this.getValidatorFn(me,yt,this._NG_ASYNC_VALIDATORS)}getValidators(me){return this.getValidatorFns(me)}getAsyncValidators(me){return this.getValidatorFns(me,this._NG_ASYNC_VALIDATORS)}updateValidators(me,yt,zt){zt.validators=me,null===me?yt.clearValidators():yt.setValidators(this.getValidators(me)),yt.updateValueAndValidity()}updateAsyncValidators(me,yt,zt){zt.asyncValidators=me,null===me?yt.clearAsyncValidators():yt.setAsyncValidators(this.getAsyncValidators(me)),yt.updateValueAndValidity()}showErrorMessages(me,yt,zt){const En=me.invalid&&yt.hasErrorMessages,Yn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(me,yt,zt):((ie,Ge,me)=>ie.touched&&!me)(me,0,zt);return En&&Yn}parseErrorMessageConfig(me,yt,zt=null){return me.replace(/{{\s*(.+?)\s*}}/gm,(En,Yn)=>{let cs=yt,ws=Yn;return Yn.indexOf("validator.")>=0&&zt&&(cs=zt,ws=Yn.replace("validator.","")),null!=cs[ws]?cs[ws]:null})}createErrorMessages(me,yt){const zt=[];if(yt.hasErrorMessages){const En=yt.errorMessages;Object.keys(me.errors||{}).forEach(Yn=>{let cs=Yn;if(("minlength"===Yn||"maxlength"===Yn)&&(cs=cs.replace("length","Length")),En.hasOwnProperty(cs)){const ws=me.getError(Yn);zt.push(this.parseErrorMessageConfig(En[cs],yt,ws))}})}return zt}isFormHook(me){return W(me)&&Object.values(Tt).includes(me)}isValidatorDescriptor(me){return!!U(me)&&me.hasOwnProperty("name")&&me.hasOwnProperty("args")}}return ie.\u0275fac=function(me){return new(me||ie)(i.KVO(C.cz,8),i.KVO(C.pg,8),i.KVO(Wt,8),i.KVO(ln,8))},ie.\u0275prov=i.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const Ht="GROUP";let Kt=(()=>{class ie extends se{constructor(me,yt){super(me,yt),this.type=Ht,this.group=Array.isArray(me.group)?me.group:[],this.legend=me.legend??null}get(me){return this.group[me]}set(me,yt){this.group[me]=yt}add(me){this.group.push(me)}insert(me,yt){this.group.splice(me,0,yt)}move(me,yt){this.group.splice(me+yt,0,...this.group.splice(me,1))}remove(me){this.group.splice(me,1)}size(){return this.group.length}}return(0,t.Cg)([z()],ie.prototype,"group",void 0),(0,t.Cg)([z()],ie.prototype,"legend",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();const Pt="CHECKBOX_GROUP";let Ct=(()=>{class ie extends Kt{constructor(me,yt){super(me,yt),this.type=Pt}check(...me){me.forEach(yt=>this.group[yt].checked=!0)}uncheck(...me){me.forEach(yt=>this.group[yt].checked=!1)}checkAll(){this.group.forEach(me=>me.checked=!0)}uncheckAll(){this.group.forEach(me=>me.checked=!1)}}return(0,t.Cg)([z()],ie.prototype,"group",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();const Qt="COLORPICKER";let Et=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.type=Qt,this.format=W(me.format)?me.format:null,this.inline=!!I(me.inline)&&me.inline}}return(0,t.Cg)([z()],ie.prototype,"format",void 0),(0,t.Cg)([z()],ie.prototype,"inline",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),Lt=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.format=me.format??null,this.max=me.max??null,this.min=me.min??null,this.placeholder=me.placeholder??null}}return(0,t.Cg)([z()],ie.prototype,"format",void 0),(0,t.Cg)([z()],ie.prototype,"max",void 0),(0,t.Cg)([z()],ie.prototype,"min",void 0),(0,t.Cg)([z()],ie.prototype,"placeholder",void 0),ie})();const it="DATEPICKER";let Ne=(()=>{class ie extends Lt{constructor(me,yt){super(me,yt),this.type=it,this.autoFocus=!!I(me.autoFocus)&&me.autoFocus,this.focusedDate=me.focusedDate??null,this.inline=!!I(me.inline)&&me.inline,this.prefix=me.prefix??null,this.readOnly=!!I(me.readOnly)&&me.readOnly,this.toggleIcon=W(me.toggleIcon)?me.toggleIcon:null,this.toggleLabel=W(me.toggleLabel)?me.toggleLabel:null,this.suffix=me.suffix??null}}return(0,t.Cg)([z()],ie.prototype,"autoFocus",void 0),(0,t.Cg)([z()],ie.prototype,"focusedDate",void 0),(0,t.Cg)([z()],ie.prototype,"inline",void 0),(0,t.Cg)([z()],ie.prototype,"prefix",void 0),(0,t.Cg)([z()],ie.prototype,"readOnly",void 0),(0,t.Cg)([z()],ie.prototype,"suffix",void 0),(0,t.Cg)([z()],ie.prototype,"toggleIcon",void 0),(0,t.Cg)([z()],ie.prototype,"toggleLabel",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),ze=(()=>{class ie extends ye{constructor(me,yt){super(me,yt),this.type="EDITOR"}}return(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),Ue=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.multiple=!!I(me.multiple)&&me.multiple}}return(0,t.Cg)([z()],ie.prototype,"multiple",void 0),ie})();const St="FILE_UPLOAD";let Qe=(()=>{class ie extends Ue{constructor(me,yt){super(me,yt),this.type=St,this.accept=Array.isArray(me.accept)?me.accept:null,this.autoUpload=!I(me.autoUpload)||me.autoUpload,this.maxSize=B(me.maxSize)?me.maxSize:null,this.minSize=B(me.minSize)?me.minSize:null,this.removeUrl=me.removeUrl??null,this.showFileList=!I(me.showFileList)||me.showFileList,this.url=me.url??null}}return(0,t.Cg)([z()],ie.prototype,"accept",void 0),(0,t.Cg)([z()],ie.prototype,"autoUpload",void 0),(0,t.Cg)([z()],ie.prototype,"maxSize",void 0),(0,t.Cg)([z()],ie.prototype,"minSize",void 0),(0,t.Cg)([z()],ie.prototype,"removeUrl",void 0),(0,t.Cg)([z()],ie.prototype,"showFileList",void 0),(0,t.Cg)([z()],ie.prototype,"url",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),xt=(()=>{class ie{constructor(me){this.disabled=!!I(me.disabled)&&me.disabled,this.label=me.label??null,this.value=me.value}get text(){return this.label}set text(me){this.label=me}toJSON(){return oe(this)}}return(0,t.Cg)([z()],ie.prototype,"disabled",void 0),(0,t.Cg)([z()],ie.prototype,"label",void 0),(0,t.Cg)([z()],ie.prototype,"value",void 0),ie})(),_t=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this._options=[],this.options=me.options}updateOptions$(){this.options$=(0,f.of)(this.options)}set options(me){Array.isArray(me)?(this._options=me.map(yt=>new xt(yt)),this.updateOptions$()):(0,e.A)(me)?this.options$=me.pipe((0,y.T)(yt=>(this._options=yt.map(zt=>new xt(zt)),this._options))):this.updateOptions$()}get options(){return this._options}add(me){return this.insert(this.options.length,me)}get(me){return this.options[me]}insert(me,yt){const zt=new xt(yt);return this.options.splice(me,0,zt),this.updateOptions$(),zt}remove(...me){me.forEach(yt=>this.options.splice(yt,1)),this.updateOptions$()}}return(0,t.Cg)([z("options")],ie.prototype,"_options",void 0),ie})();const Zt="RADIO_GROUP";let fn=(()=>{class ie extends _t{constructor(me,yt){super(me,yt),this.type=Zt,this.legend=me.legend??null}select(me){this.value=this.get(me).value}}return(0,t.Cg)([z()],ie.prototype,"legend",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),ss=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.type="RATING",this.max=B(me.max)?me.max:10}}return(0,t.Cg)([z()],ie.prototype,"max",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();const us="SELECT";let Vs=(()=>{class ie extends _t{constructor(me,yt){super(me,yt),this.type=us,this.compareWithFn=L(me.compareWithFn)?me.compareWithFn:Object.is,this.filterable=!!I(me.filterable)&&me.filterable,this.multiple=!!I(me.multiple)&&me.multiple,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.suffix=me.suffix??null}select(...me){this.value=this.multiple?me.map(yt=>this.get(yt).value):this.get(me[0]).value}}return(0,t.Cg)([z()],ie.prototype,"filterable",void 0),(0,t.Cg)([z()],ie.prototype,"multiple",void 0),(0,t.Cg)([z()],ie.prototype,"placeholder",void 0),(0,t.Cg)([z()],ie.prototype,"prefix",void 0),(0,t.Cg)([z()],ie.prototype,"suffix",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),lt=(()=>{class ie extends de{constructor(me,yt){super(me,yt),this.type="SLIDER",this.max=B(me.max)?me.max:10,this.min=B(me.min)?me.min:0,this.step=B(me.step)?me.step:1,this.vertical=!!I(me.vertical)&&me.vertical}}return(0,t.Cg)([z()],ie.prototype,"max",void 0),(0,t.Cg)([z()],ie.prototype,"min",void 0),(0,t.Cg)([z()],ie.prototype,"step",void 0),(0,t.Cg)([z()],ie.prototype,"vertical",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})(),Pn=(()=>{class ie extends be{constructor(me,yt){super(me,yt),this.type="SWITCH",this.offLabel=me.offLabel??null,this.onLabel=me.onLabel??null}}return(0,t.Cg)([z()],ie.prototype,"offLabel",void 0),(0,t.Cg)([z()],ie.prototype,"onLabel",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();const kn="TEXTAREA";let Ys=(()=>{class ie extends ye{constructor(me,yt){super(me,yt),this.type=kn,this.cols=B(me.cols)?me.cols:20,this.rows=B(me.rows)?me.rows:2,this.wrap=me.wrap??"soft"}}return(0,t.Cg)([z()],ie.prototype,"cols",void 0),(0,t.Cg)([z()],ie.prototype,"rows",void 0),(0,t.Cg)([z()],ie.prototype,"wrap",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();const gs="TIMEPICKER";let Ss=(()=>{class ie extends Lt{constructor(me,yt){super(me,yt),this.type=gs,this.meridian=!!I(me.meridian)&&me.meridian,this.showSeconds=!!I(me.showSeconds)&&me.showSeconds}}return(0,t.Cg)([z()],ie.prototype,"meridian",void 0),(0,t.Cg)([z()],ie.prototype,"showSeconds",void 0),(0,t.Cg)([z()],ie.prototype,"type",void 0),ie})();function pn(ie,Ge){return W(Ge)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(Ge)?new Date(Ge):Ge}let Zn=(()=>{class ie{constructor(me,yt){this.componentService=me,this.validationService=yt}createAbstractControlOptions(me=null,yt=null,zt=null){return{asyncValidators:null!==yt?this.validationService.getAsyncValidators(yt):null,validators:null!==me?this.validationService.getValidators(me):null,updateOn:null!==zt&&this.validationService.isFormHook(zt)?zt:Tt.Change}}createFormArray(me){const yt=[],zt=this.createAbstractControlOptions(me.validators,me.asyncValidators,me.updateOn);for(let En=0;En<me.size;En++){const Yn=me.get(En),cs=this.createAbstractControlOptions(me.groupValidators,me.groupAsyncValidators,me.updateOn);yt.push(this.createFormGroup(Yn.group,cs,Yn))}return new C.Bm(yt,zt)}createFormGroup(me,yt=null,zt=null){const En={};return me.forEach(Yn=>{switch(Yn.parent=zt,Yn.type){case le:En[Yn.id]=this.createFormArray(Yn);break;case Ht:case Pt:const cs=Yn,ws=this.createAbstractControlOptions(cs.validators,cs.asyncValidators,cs.updateOn);En[Yn.id]=this.createFormGroup(cs.group,ws,cs);break;default:const Vi={value:Yn.value,disabled:Yn.disabled},xr=this.createAbstractControlOptions(Yn.validators,Yn.asyncValidators,Yn.updateOn);En[Yn.id]=new C.hs(Vi,xr)}}),new C.J3(En,yt)}getPathSegment(me){return me instanceof te?me.index.toString():me.id}getPath(me,yt=!1){const zt=[this.getPathSegment(me)];let En=me.parent;for(;En;)zt.unshift(this.getPathSegment(En)),En=En.parent;return yt?zt.join("."):zt}addFormGroupControl(me,yt,...zt){yt instanceof Kt?this.insertFormGroupControl(yt.size(),me,yt,...zt):this.insertFormGroupControl(yt.length,me,yt,...zt)}moveFormGroupControl(me,yt,zt){zt instanceof Kt?zt.move(me,yt):zt.splice(me+yt,0,...zt.splice(me,1))}insertFormGroupControl(me,yt,zt,...En){const cs=this.createFormGroup(En,null,zt instanceof Kt?zt:null).controls;Object.keys(cs).forEach((ws,Yi)=>{const Vi=En[Yi];zt instanceof Kt?zt.insert(me,Vi):zt.splice(me,0,Vi),yt.addControl(ws,cs[ws])})}removeFormGroupControl(me,yt,zt){zt instanceof Kt?(yt.removeControl(zt.get(me).id),zt.remove(me)):(yt.removeControl(zt[me].id),zt.splice(me,1))}addFormArrayGroup(me,yt){const zt=yt.addGroup();me.push(this.createFormGroup(zt.group,null,zt))}insertFormArrayGroup(me,yt,zt){const En=zt.insertGroup(me);yt.insert(me,this.createFormGroup(En.group,null,En))}moveFormArrayGroup(me,yt,zt,En){const Yn=me+yt,cs=yt>=0;if(!(me>=0&&me<En.size&&Yn>=0&&Yn<En.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const ws=[];for(let Yi=cs?me:Yn;Yi<=(cs?Yn:me);Yi++)ws.push(zt.at(Yi));ws.forEach((Yi,Vi)=>{let xr;xr=cs?0===Vi?Yn:me+Vi-1:Vi===ws.length-1?Yn:Yn+Vi+1,zt.setControl(xr,Yi)}),En.moveGroup(me,yt)}}removeFormArrayGroup(me,yt,zt){yt.removeAt(me),zt.removeGroup(me)}clearFormArray(me,yt){me.clear(),yt.clear()}findById(me,yt){const zt=(Yn,cs)=>{for(const ws of cs){if(ws.id===Yn){En=ws;break}ws instanceof Kt&&zt(Yn,ws.group)}};let En=null;return zt(me,yt),En}findModelById(me,yt){return this.findById(me,yt)}findControlByModel(me,yt){return yt.root.get(this.getPath(me,!0))}detectChanges(me){if(me instanceof J)me.markForCheck(),me.detectChanges();else for(const yt of this.componentService.getForms())yt.markForCheck(),yt.detectChanges()}fromJSON(me){const yt=W(me)?JSON.parse(me,pn):me,zt=[];return yt.forEach(En=>{const Yn=En.layout??null;switch(En.type){case le:const cs=En;Array.isArray(cs.groups)&&cs.groups.forEach(ws=>{ws.group=this.fromJSON(ws.group)}),cs.groupFactory=()=>this.fromJSON(cs.groupPrototype),zt.push(new Ee(En,Yn));break;case pe:zt.push(new re(En,Yn));break;case Pt:En.group=this.fromJSON(En.group),zt.push(new Ct(En,Yn));break;case Qt:zt.push(new Et(En,Yn));break;case it:zt.push(new Ne(En,Yn));break;case"EDITOR":zt.push(new ze(En,Yn));break;case St:En.value=null,zt.push(new Qe(En,Yn));break;case Ht:En.group=this.fromJSON(En.group),zt.push(new Kt(En,Yn));break;case De:zt.push(new pt(En,Yn));break;case Zt:zt.push(new fn(En,Yn));break;case"RATING":zt.push(new ss(En,Yn));break;case us:zt.push(new Vs(En,Yn));break;case"SLIDER":zt.push(new lt(En,Yn));break;case"SWITCH":zt.push(new Pn(En,Yn));break;case kn:zt.push(new Ys(En,Yn));break;case gs:zt.push(new Ss(En,Yn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${En.id}"`)}}),zt}}return ie.\u0275fac=function(me){return new(me||ie)(i.KVO(X),i.KVO(Mt))},ie.\u0275prov=i.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const ri="ENABLED",en="VISIBLE",at="AND",dt="OR",vt=new i.nKC("DYNAMIC_MATCHERS"),Ms=[{provide:vt,useValue:{match:"DISABLED",opposingMatch:ri,onChange(ie,Ge){Ge.disabled=ie}},multi:!0},{provide:vt,useValue:{match:"HIDDEN",opposingMatch:en,onChange(ie,Ge){Ge.hidden=ie}},multi:!0},{provide:vt,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(ie,Ge,me,yt){let zt=null;ie?zt=U(Ge.validators)?{...Ge.validators,required:null}:{required:null}:U(Ge.validators)&&(delete Ge.validators.required,zt={...Ge.validators}),yt.get(Mt).updateValidators(zt,me,Ge),yt.get(Zn).detectChanges()}},multi:!0}];let ys=(()=>{class ie{constructor(me,yt){this.MATCHERS=me,this.injector=yt}getRelatedFormControls(me,yt){const zt=(Yn,cs)=>{const ws=cs.rootPath??cs.id;if(W(ws)&&!Yn.hasOwnProperty(ws)){const Yi=cs.rootPath?yt.root.get(cs.rootPath):yt.get(cs.id);Yi instanceof C.hs?Yn[ws]=Yi:console.warn(`No related form control with id ${cs.id} could be found`)}return Yn};return me.relations.reduce((Yn,cs)=>cs.when.reduce(zt,Yn),{})}findRelationByMatcher(me,yt){return me.find(zt=>[yt.match,yt.opposingMatch].includes(zt.match))}matchesCondition(me,yt,zt){const En=me.operator??dt;return me.when.reduce((Yn,cs,ws)=>{const Yi=cs.rootPath??cs.id;let Vi;for(const[xr,bi]of Object.entries(yt))if(xr===Yi){Vi=bi;break}return Vi&&me.match===zt.match?!(ws>0&&En===at&&!Yn||!(ws>0&&En===dt&&Yn)&&cs.value!==Vi.value&&cs.status!==Vi.status):!(!Vi||me.match!==zt.opposingMatch||!(ws>0&&En===at&&Yn)&&(ws>0&&En===dt&&!Yn||cs.value===Vi.value||cs.status===Vi.status))},!1)}subscribeRelations(me,yt,zt){const En=this.getRelatedFormControls(me,yt),Yn=[];return Object.values(En).forEach(cs=>{const ws=cs.valueChanges.pipe((0,v.Z)(cs.value),(0,D.F)()),Yi=cs.statusChanges.pipe((0,v.Z)(cs.status),(0,D.F)());Yn.push((0,m.h)(ws,Yi).subscribe(()=>{this.MATCHERS.forEach(Vi=>{const xr=this.findRelationByMatcher(me.relations,Vi);if(void 0!==xr){const bi=this.matchesCondition(xr,En,Vi);Vi.onChange(bi,me,zt,this.injector)}})}))}),Yn}}return ie.\u0275fac=function(me){return new(me||ie)(i.KVO(vt,8),i.KVO(i.zZn))},ie.\u0275prov=i.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ls=(()=>{class ie{constructor(me,yt,zt,En,Yn,cs){this.changeDetectorRef=me,this.componentFactoryResolver=yt,this.layoutService=zt,this.validationService=En,this.componentService=Yn,this.relationService=cs,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(me){const yt=me.group,En=me.model;(me.layout||En)&&this.onLayoutOrModelChange(),En&&this.onModelChange(),(yt||En)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function R(ie,Ge=null){return Ge=Ge??ie,(0,O.N)((me,yt)=>{let zt=[],En=0;me.subscribe((0,M._)(yt,Yn=>{let cs=null;En++%Ge==0&&zt.push([]);for(const ws of zt)ws.push(Yn),ie<=ws.length&&(cs=cs??[],cs.push(ws));if(cs)for(const ws of cs)(0,T.o)(zt,ws),yt.next(ws)},()=>{for(const Yn of zt)yt.next(Yn);yt.complete()},void 0,()=>{zt=null}))})}(2,1),(0,y.T)(me=>me[0]),(0,u.p)(me=>"PENDING"===me)).subscribe(me=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return W(this.model.label)}get hasHint(){return W(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===pe}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==le?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==le?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(me,yt){return this.layoutService.getClass(this.controlLayout,me,yt)}markForCheck(){this.changeDetectorRef.markForCheck();const me=this.componentRef&&this.componentRef.instance;me&&(me instanceof H||me instanceof G)&&me.markForCheck()}createFormControlComponent(){const me=this.componentType;if(null!==me){const yt=this.componentFactoryResolver.resolveComponentFactory(me);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(yt);const zt=this.componentRef.instance;zt.formLayout=this.layout,zt.group=this.group,zt.layout=this.controlLayout,zt.model=this.model,this.templates&&(zt.templates=this.templates),this.componentSubscriptions.push(zt.blur.subscribe(En=>this.onBlur(En))),this.componentSubscriptions.push(zt.change.subscribe(En=>this.onChange(En))),this.componentSubscriptions.push(zt.focus.subscribe(En=>this.onFocus(En))),void 0!==zt.customEvent&&this.componentSubscriptions.push(zt.customEvent.subscribe(En=>this.onCustomEvent(En))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(me=>me.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(me,yt){return{$event:me,context:this.context,control:this.control,group:this.group,model:this.model,type:yt}}unsubscribe(){this.subscriptions.forEach(me=>me.unsubscribe()),this.subscriptions=[]}onControlValueChanges(me){this.model instanceof de&&this.model.value!==me&&(this.model.value=me)}onModelValueUpdates(me){this.control.value!==me&&this.control.setValue(me)}onModelDisabledUpdates(me){me?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(me=>this.onControlValueChanges(me)))),this.subscriptions.push(this.model.disabledChanges.subscribe(me=>this.onModelDisabledUpdates(me))),this.model instanceof de&&this.subscriptions.push(this.model.valueChanges.subscribe(yt=>this.onModelValueUpdates(yt))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(me){if(me instanceof Event){if(this.model.type===De){const yt=this.model;"file"===yt.inputType&&(yt.files=me.target.files)}this.change.emit(this.createDynamicFormControlEvent(me,q.Change))}else Q(me)?this.change.emit(me):this.change.emit(this.createDynamicFormControlEvent(me,q.Change))}onBlur(me){Q(me)?this.blur.emit(me):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(me,q.Blur)))}onFocus(me){Q(me)?this.focus.emit(me):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(me,q.Focus)))}onCustomEvent(me){const yt=this.customEvent;Q(me)?yt.emit(me):yt.emit(this.createDynamicFormControlEvent(me.customEvent,me.customEventType))}registerFormControlComponentRef(me){this.context instanceof te?this.componentService.registerFormControl(this.model,me,this.context.index):this.componentService.registerFormControl(this.model,me)}unregisterFormControlComponentRef(){this.context instanceof te?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return ie.\u0275fac=function(me){return new(me||ie)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(In),i.rXU(Mt),i.rXU(X),i.rXU(ys))},ie.\u0275dir=i.FsC({type:ie,features:[i.OA$]}),ie})(),Mi=(()=>{class ie{constructor(me,yt){this.elementRef=me,this.renderer=yt}ngAfterViewInit(){W(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return ie.\u0275fac=function(me){return new(me||ie)(i.rXU(i.aKT),i.rXU(i.sFG))},ie.\u0275dir=i.FsC({type:ie,selectors:[["","dynamicList",""]],inputs:{listId:[i.Mj6.None,"dynamicList","listId"]}}),ie})();const ji="off";let Ye=(()=>{class ie{static forRoot(){return{ngModule:ie,providers:[Zn,In,Mt,X,ys]}}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275mod=i.$C({type:ie}),ie.\u0275inj=i.G2t({imports:[S.MD,C.X1]}),ie})()},20766:(N,b,n)=>{"use strict";n.d(b,{C_:()=>R,hO:()=>X,hr:()=>h,jr:()=>U});var i=n(25499),t=n(54438),l=n(7901),e=n(53993);const f="@ngrx/router-store/request",h=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/navigation"),y=((0,i.VP)(h,(0,i.xk)()),"@ngrx/router-store/cancel"),D=((0,i.VP)(y,(0,i.xk)()),"@ngrx/router-store/error"),M=((0,i.VP)(D,(0,i.xk)()),"@ngrx/router-store/navigated");function R(Q,Y){const z=Y;switch(z.type){case h:case D:case y:return{state:z.payload.routerState,navigationId:z.payload.event.id};default:return Q}}(0,i.VP)(M,(0,i.xk)());class u{serialize(Y){return{root:this.serializeRoute(Y.root),url:Y.url}}serializeRoute(Y){const z=Y.children.map(Z=>this.serializeRoute(Z));return{params:Y.params,data:Y.data,url:Y.url,outlet:Y.outlet,title:Y.title,routeConfig:Y.routeConfig?{path:Y.routeConfig.path,pathMatch:Y.routeConfig.pathMatch,redirectTo:Y.routeConfig.redirectTo,outlet:Y.routeConfig.outlet,title:"string"==typeof Y.routeConfig.title?Y.routeConfig.title:void 0}:null,queryParams:Y.queryParams,fragment:Y.fragment,firstChild:z[0],children:z}}}var w=function(Q){return Q[Q.PreActivation=1]="PreActivation",Q[Q.PostActivation=2]="PostActivation",Q}(w||{});const C="router",S=new t.nKC("@ngrx/router-store Internal Configuration"),I=new t.nKC("@ngrx/router-store Configuration");function L(Q){return{stateKey:C,serializer:u,navigationActionTiming:w.PreActivation,...Q}}class B{serialize(Y){return{root:this.serializeRoute(Y.root),url:Y.url}}serializeRoute(Y){const z=Y.children.map(Z=>this.serializeRoute(Z));return{params:Y.params,paramMap:Y.paramMap,data:Y.data,url:Y.url,outlet:Y.outlet,title:Y.title,routeConfig:Y.routeConfig?{component:Y.routeConfig.component,path:Y.routeConfig.path,pathMatch:Y.routeConfig.pathMatch,redirectTo:Y.routeConfig.redirectTo,outlet:Y.routeConfig.outlet,title:Y.routeConfig.title}:null,queryParams:Y.queryParams,queryParamMap:Y.queryParamMap,fragment:Y.fragment,component:Y.routeConfig?Y.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:z[0],pathFromRoot:void 0,children:z}}}class U{}var W=function(Q){return Q[Q.NONE=1]="NONE",Q[Q.ROUTER=2]="ROUTER",Q[Q.STORE=3]="STORE",Q}(W||{});let j=(()=>{class Q{constructor(z,Z,oe,se,de,te){this.store=z,this.router=Z,this.serializer=oe,this.errorHandler=se,this.config=de,this.activeRuntimeChecks=te,this.lastEvent=null,this.routerState=null,this.trigger=W.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(te?.strictActionSerializability||te?.strictStateSerializability)&&this.serializer instanceof B&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([z,Z])=>{this.navigateIfNeeded(z,Z)})}navigateIfNeeded(z,Z){if(!z||!z.state||this.trigger===W.ROUTER||this.lastEvent instanceof l.Z)return;const oe=z.state.url;(function G(Q,Y){return H(Q)===H(Y)})(this.router.url,oe)||(this.storeState=Z,this.trigger=W.STORE,this.router.navigateByUrl(oe).catch(se=>{this.errorHandler.handleError(se)}))}setUpRouterEventsListener(){const z=this.config.navigationActionTiming===w.PostActivation;let Z;this.router.events.pipe((0,e.E)(this.store)).subscribe(([oe,se])=>{this.lastEvent=oe,oe instanceof l.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==W.STORE&&(this.storeState=se,this.dispatchRouterRequest(oe))):oe instanceof l.ld?(Z=oe,!z&&this.trigger!==W.STORE&&this.dispatchRouterNavigation(oe)):oe instanceof l.j5?(this.dispatchRouterCancel(oe),this.reset()):oe instanceof l.L6?(this.dispatchRouterError(oe),this.reset()):oe instanceof l.wF&&(this.trigger!==W.STORE&&(z&&this.dispatchRouterNavigation(Z),this.dispatchRouterNavigated(oe)),this.reset())})}dispatchRouterRequest(z){this.dispatchRouterAction(f,{event:z})}dispatchRouterNavigation(z){const Z=this.serializer.serialize(z.state);this.dispatchRouterAction(h,{routerState:Z,event:new l.ld(z.id,z.url,z.urlAfterRedirects,Z)})}dispatchRouterCancel(z){this.dispatchRouterAction(y,{storeState:this.storeState,event:z})}dispatchRouterError(z){this.dispatchRouterAction(D,{storeState:this.storeState,event:new l.L6(z.id,z.url,`${z}`)})}dispatchRouterNavigated(z){const Z=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(M,{event:z,routerState:Z})}dispatchRouterAction(z,Z){this.trigger=W.ROUTER;try{this.store.dispatch({type:z,payload:{routerState:this.routerState,...Z,event:0===this.config.routerState?Z.event:{id:Z.event.id,url:Z.event.url,urlAfterRedirects:Z.event.urlAfterRedirects}}})}finally{this.trigger=W.NONE}}reset(){this.trigger=W.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(Z){return new(Z||Q)(t.KVO(i.il),t.KVO(l.Ix),t.KVO(U),t.KVO(t.zcH),t.KVO(I),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:Q,factory:Q.\u0275fac})}}return Q})();function H(Q){return Q?.length>0&&"/"===Q[Q.length-1]?Q.substring(0,Q.length-1):Q}function V(Q={}){return(0,t.EmA)([{provide:S,useValue:Q},{provide:I,useFactory:L,deps:[S]},{provide:U,useClass:Q.serializer?Q.serializer:0===Q.routerState?B:u},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(j)},j])}let X=(()=>{class Q{static forRoot(z={}){return{ngModule:Q,providers:[V(z)]}}static{this.\u0275fac=function(Z){return new(Z||Q)}}static{this.\u0275mod=t.$C({type:Q})}static{this.\u0275inj=t.G2t({})}}return Q})()},25499:(N,b,n)=>{"use strict";n.d(b,{A5:()=>Fe,sA:()=>Tt,il:()=>Ht,ae:()=>Hs,md:()=>$i,wc:()=>Is,iK:()=>nt,VP:()=>I,UX:()=>kn,Mz:()=>lt,Lg:()=>Cn,xk:()=>L,Lt:()=>Pt});var i=n(54438),t=n(84412),l=n(71985),e=n(21413),f=n(47242),m=n(40941),h=n(53993),_=n(31943),y=n(96354),D=n(23294);function w(Ft,gn){const tn=!gn?.manualCleanup;tn&&!gn?.injector&&(0,i.Af3)(w);const $t=tn?gn?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let bn;bn=(0,i.vPA)(gn?.requireSync?{kind:0}:{kind:1,value:gn?.initialValue});const Wn=Ft.subscribe({next:_s=>bn.set({kind:1,value:_s}),error:_s=>{if(gn?.rejectErrors)throw _s;bn.set({kind:2,error:_s})}});return $t?.onDestroy(Wn.unsubscribe.bind(Wn)),(0,i.EWP)(()=>{const _s=bn();switch(_s.kind){case 1:return _s.value;case 2:throw _s.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const C={};function I(Ft,gn){if(C[Ft]=(C[Ft]||0)+1,"function"==typeof gn)return U(Ft,(...$t)=>({...gn(...$t),type:Ft}));switch(gn?gn._as:"empty"){case"empty":return U(Ft,()=>({type:Ft}));case"props":return U(Ft,$t=>({...$t,type:Ft}));default:throw new Error("Unexpected config.")}}function L(){return{_as:"props",_p:void 0}}function U(Ft,gn){return Object.defineProperty(gn,"type",{value:Ft,writable:!1})}const J="@ngrx/store/init";let q=(()=>{class Ft extends t.t{constructor(){super({type:J})}next(tn){if("function"==typeof tn)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof tn>"u")throw new TypeError("Actions must be objects");if(typeof tn.type>"u")throw new TypeError("Actions must have a type property");super.next(tn)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function($t){return new($t||Ft)}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const Q=[q],Y=new i.nKC("@ngrx/store Internal Root Guard"),z=new i.nKC("@ngrx/store Internal Initial State"),Z=new i.nKC("@ngrx/store Initial State"),oe=new i.nKC("@ngrx/store Reducer Factory"),se=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),de=new i.nKC("@ngrx/store Initial Reducers"),te=new i.nKC("@ngrx/store Internal Initial Reducers"),le=new i.nKC("@ngrx/store Store Features"),Ee=new i.nKC("@ngrx/store Internal Store Reducers"),be=new i.nKC("@ngrx/store Internal Feature Reducers"),pe=new i.nKC("@ngrx/store Internal Feature Configs"),re=new i.nKC("@ngrx/store Internal Store Features"),ye=new i.nKC("@ngrx/store Internal Feature Reducers Token"),De=new i.nKC("@ngrx/store Feature Reducers"),nt=new i.nKC("@ngrx/store User Provided Meta Reducers"),mt=new i.nKC("@ngrx/store Meta Reducers"),xe=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),ot=new i.nKC("@ngrx/store User Runtime Checks Config"),$e=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),Fe=new i.nKC("@ngrx/store Internal Runtime Checks"),st=new i.nKC("@ngrx/store Check if Action types are unique");function Dt(Ft,gn={}){const tn=Object.keys(Ft),$t={};for(let Wn=0;Wn<tn.length;Wn++){const _s=tn[Wn];"function"==typeof Ft[_s]&&($t[_s]=Ft[_s])}const bn=Object.keys($t);return function(_s,oi){_s=void 0===_s?gn:_s;let Ci=!1;const ar={};for(let pi=0;pi<bn.length;pi++){const Bi=bn[pi],eo=_s[Bi],Lr=(0,$t[Bi])(eo,oi);ar[Bi]=Lr,Ci=Ci||Lr!==eo}return Ci?ar:_s}}function ct(...Ft){return function(gn){if(0===Ft.length)return gn;const tn=Ft[Ft.length-1];return Ft.slice(0,-1).reduceRight((bn,Wn)=>Wn(bn),tn(gn))}}function Ot(Ft,gn){return Array.isArray(gn)&&gn.length>0&&(Ft=ct.apply(null,[...gn,Ft])),(tn,$t)=>{const bn=Ft(tn);return(Wn,_s)=>bn(Wn=void 0===Wn?$t:Wn,_s)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class Be extends l.c{}class pt extends q{}let an=(()=>{class Ft extends t.t{get currentReducers(){return this.reducers}constructor(tn,$t,bn,Wn){super(Wn(bn,$t)),this.dispatcher=tn,this.initialState=$t,this.reducers=bn,this.reducerFactory=Wn}addFeature(tn){this.addFeatures([tn])}addFeatures(tn){const $t=tn.reduce((bn,{reducers:Wn,reducerFactory:_s,metaReducers:oi,initialState:Ci,key:ar})=>{const pi="function"==typeof Wn?function ve(Ft){const gn=Array.isArray(Ft)&&Ft.length>0?ct(...Ft):tn=>tn;return(tn,$t)=>(tn=gn(tn),(bn,Wn)=>tn(bn=void 0===bn?$t:bn,Wn))}(oi)(Wn,Ci):Ot(_s,oi)(Wn,Ci);return bn[ar]=pi,bn},{});this.addReducers($t)}removeFeature(tn){this.removeFeatures([tn])}removeFeatures(tn){this.removeReducers(tn.map($t=>$t.key))}addReducer(tn,$t){this.addReducers({[tn]:$t})}addReducers(tn){this.reducers={...this.reducers,...tn},this.updateReducers(Object.keys(tn))}removeReducer(tn){this.removeReducers([tn])}removeReducers(tn){tn.forEach($t=>{this.reducers=function kt(Ft,gn){return Object.keys(Ft).filter(tn=>tn!==gn).reduce((tn,$t)=>Object.assign(tn,{[$t]:Ft[$t]}),{})}(this.reducers,$t)}),this.updateReducers(tn)}updateReducers(tn){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:tn})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function($t){return new($t||Ft)(i.KVO(pt),i.KVO(Z),i.KVO(de),i.KVO(oe))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const In=[an,{provide:Be,useExisting:an},{provide:pt,useExisting:q}];let Tt=(()=>{class Ft extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let tn;return function(bn){return(tn||(tn=i.xGo(Ft)))(bn||Ft)}})()}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const Wt=[Tt];class It extends l.c{}let qt=(()=>{class Ft extends t.t{static{this.INIT=J}constructor(tn,$t,bn,Wn){super(Wn);const ar=tn.pipe((0,m.Q)(f.T)).pipe((0,h.E)($t)).pipe((0,_.S)(ln,{state:Wn}));this.stateSubscription=ar.subscribe(({state:pi,action:Bi})=>{this.next(pi),bn.next(Bi)}),this.state=w(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function($t){return new($t||Ft)(i.KVO(q),i.KVO(Be),i.KVO(Tt),i.KVO(Z))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();function ln(Ft={state:void 0},[gn,tn]){const{state:$t}=Ft;return{state:tn($t,gn),action:gn}}const Mt=[qt,{provide:It,useExisting:qt}];let Ht=(()=>{class Ft extends l.c{constructor(tn,$t,bn){super(),this.actionsObserver=$t,this.reducerManager=bn,this.source=tn,this.state=tn.state}select(tn,...$t){return Pt.call(null,tn,...$t)(this)}selectSignal(tn,$t){return(0,i.EWP)(()=>tn(this.state()),$t)}lift(tn){const $t=new Ft(this,this.actionsObserver,this.reducerManager);return $t.operator=tn,$t}dispatch(tn){this.actionsObserver.next(tn)}next(tn){this.actionsObserver.next(tn)}error(tn){this.actionsObserver.error(tn)}complete(){this.actionsObserver.complete()}addReducer(tn,$t){this.reducerManager.addReducer(tn,$t)}removeReducer(tn){this.reducerManager.removeReducer(tn)}static{this.\u0275fac=function($t){return new($t||Ft)(i.KVO(It),i.KVO(q),i.KVO(an))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const Kt=[Ht];function Pt(Ft,gn,...tn){return function(bn){let Wn;if("string"==typeof Ft){const _s=[gn,...tn].filter(Boolean);Wn=bn.pipe(function v(...Ft){const gn=Ft.length;if(0===gn)throw new Error("list of properties cannot be empty.");return(0,y.T)(tn=>{let $t=tn;for(let bn=0;bn<gn;bn++){const Wn=$t?.[Ft[bn]];if(!(typeof Wn<"u"))return;$t=Wn}return $t})}(Ft,..._s))}else{if("function"!=typeof Ft)throw new TypeError(`Unexpected type '${typeof Ft}' in select operator, expected 'string' or 'function'`);Wn=bn.pipe((0,y.T)(_s=>Ft(_s,gn)))}return Wn.pipe((0,D.F)())}}const Ct="https://ngrx.io/guide/store/configuration/runtime-checks";function Qt(Ft){return void 0===Ft}function Et(Ft){return null===Ft}function Lt(Ft){return Array.isArray(Ft)}function ze(Ft){return"object"==typeof Ft&&null!==Ft}function Qe(Ft){return"function"==typeof Ft}let Zt=!1;function Cn(){return Zt}function ss(Ft,gn){return Ft===gn}function gt(Ft,gn=ss,tn=ss){let Wn,$t=null,bn=null;return{memoized:function ar(){if(void 0!==Wn)return Wn.result;if(!$t)return bn=Ft.apply(null,arguments),$t=arguments,bn;if(!function us(Ft,gn,tn){for(let $t=0;$t<Ft.length;$t++)if(!tn(Ft[$t],gn[$t]))return!0;return!1}(arguments,$t,gn))return bn;const pi=Ft.apply(null,arguments);return $t=arguments,tn(bn,pi)?bn:(bn=pi,pi)},reset:function _s(){$t=null,bn=null},setResult:function oi(pi=void 0){Wn={result:pi}},clearResult:function Ci(){Wn=void 0}}}function lt(...Ft){return function Pn(Ft,gn={stateFn:Yt}){return function(...tn){let $t=tn;if(Array.isArray($t[0])){const[pi,...Bi]=$t;$t=[...pi,...Bi]}else 1===$t.length&&function is(Ft){return!!Ft&&"object"==typeof Ft&&Object.values(Ft).every(gn=>"function"==typeof gn)}($t[0])&&($t=function as(Ft){const gn=Object.values(Ft),tn=Object.keys(Ft);return[...gn,(...bn)=>tn.reduce((Wn,_s,oi)=>({...Wn,[_s]:bn[oi]}),{})]}($t[0]));const bn=$t.slice(0,$t.length-1),Wn=$t[$t.length-1],_s=bn.filter(pi=>pi.release&&"function"==typeof pi.release),oi=Ft(function(...pi){return Wn.apply(null,pi)}),Ci=gt(function(pi,Bi){return gn.stateFn.apply(null,[pi,bn,Bi,oi])});return Object.assign(Ci.memoized,{release:function ar(){Ci.reset(),oi.reset(),_s.forEach(pi=>pi.release())},projector:oi.memoized,setResult:Ci.setResult,clearResult:Ci.clearResult})}}(gt)(...Ft)}function Yt(Ft,gn,tn,$t){if(void 0===tn){const Wn=gn.map(_s=>_s(Ft));return $t.memoized.apply(null,Wn)}const bn=gn.map(Wn=>Wn(Ft,tn));return $t.memoized.apply(null,[...bn,tn])}function kn(Ft){return lt(gn=>{const tn=gn[Ft];return!Cn()&&(0,i.naY)()&&!(Ft in gn)&&console.warn(`@ngrx/store: The feature name "${Ft}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ft}', ...) or StoreModule.forFeature('${Ft}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),tn},gn=>gn)}function os(Ft){return Ft instanceof i.nKC?(0,i.WQX)(Ft):Ft}function sn(Ft,gn){return gn.map((tn,$t)=>{if(Ft[$t]instanceof i.nKC){const bn=(0,i.WQX)(Ft[$t]);return{key:tn.key,reducerFactory:bn.reducerFactory?bn.reducerFactory:Dt,metaReducers:bn.metaReducers?bn.metaReducers:[],initialState:bn.initialState}}return tn})}function pn(Ft){return Ft.map(gn=>gn instanceof i.nKC?(0,i.WQX)(gn):gn)}function Zn(Ft){return"function"==typeof Ft?Ft():Ft}function Rs(Ft,gn){return Ft.concat(gn)}function ri(){if((0,i.WQX)(Ht,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gt(Ft){Object.freeze(Ft);const gn=Qe(Ft);return Object.getOwnPropertyNames(Ft).forEach(tn=>{if(!tn.startsWith("\u0275")&&function _t(Ft,gn){return Object.prototype.hasOwnProperty.call(Ft,gn)}(Ft,tn)&&(!gn||"caller"!==tn&&"callee"!==tn&&"arguments"!==tn)){const $t=Ft[tn];(ze($t)||Qe($t))&&!Object.isFrozen($t)&&Gt($t)}}),Ft}function en(Ft,gn=[]){return(Qt(Ft)||Et(Ft))&&0===gn.length?{path:["root"],value:Ft}:Object.keys(Ft).reduce(($t,bn)=>{if($t)return $t;const Wn=Ft[bn];return function xt(Ft){return Qe(Ft)&&Ft.hasOwnProperty("\u0275cmp")}(Wn)?$t:!(Qt(Wn)||Et(Wn)||function ke(Ft){return"number"==typeof Ft}(Wn)||function Ne(Ft){return"boolean"==typeof Ft}(Wn)||function it(Ft){return"string"==typeof Ft}(Wn)||Lt(Wn))&&(function St(Ft){if(!function Ue(Ft){return ze(Ft)&&!Lt(Ft)}(Ft))return!1;const gn=Object.getPrototypeOf(Ft);return gn===Object.prototype||null===gn}(Wn)?en(Wn,[...gn,bn]):{path:[...gn,bn],value:Wn})},!1)}function at(Ft,gn){if(!1===Ft)return;const tn=Ft.path.join("."),$t=new Error(`Detected unserializable ${gn} at "${tn}". ${Ct}#strict${gn}serializability`);throw $t.value=Ft.value,$t.unserializablePath=tn,$t}function vt(Ft){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ft}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function jt({strictActionSerializability:Ft,strictStateSerializability:gn}){return tn=>Ft||gn?function Ke(Ft,gn){return function(tn,$t){gn.action($t)&&at(en($t),"action");const bn=Ft(tn,$t);return gn.state()&&at(en(bn),"state"),bn}}(tn,{action:$t=>Ft&&!Dn($t),state:()=>gn}):tn}function nn({strictActionImmutability:Ft,strictStateImmutability:gn}){return tn=>Ft||gn?function ft(Ft,gn){return function(tn,$t){const bn=gn.action($t)?Gt($t):$t,Wn=Ft(tn,bn);return gn.state()?Gt(Wn):Wn}}(tn,{action:$t=>Ft&&!Dn($t),state:()=>gn}):tn}function Dn(Ft){return Ft.type.startsWith("@ngrx")}function Vn({strictActionWithinNgZone:Ft}){return gn=>Ft?function dt(Ft,gn){return function(tn,$t){if(gn.action($t)&&!i.SKi.isInAngularZone())throw new Error(`Action '${$t.type}' running outside NgZone. ${Ct}#strictactionwithinngzone`);return Ft(tn,$t)}}(gn,{action:tn=>Ft&&!Dn(tn)}):gn}function xn(Ft){return[{provide:$e,useValue:Ft},{provide:ot,useFactory:Ms,deps:[$e]},{provide:Fe,deps:[ot],useFactory:vt},{provide:mt,multi:!0,deps:[Fe],useFactory:nn},{provide:mt,multi:!0,deps:[Fe],useFactory:jt},{provide:mt,multi:!0,deps:[Fe],useFactory:Vn}]}function fs(){return[{provide:st,multi:!0,deps:[Fe],useFactory:ys}]}function Ms(Ft){return Ft}function ys(Ft){if(!Ft.strictActionTypeUniqueness)return;const gn=Object.entries(C).filter(([,tn])=>tn>1).map(([tn])=>tn);if(gn.length)throw new Error(`Action types are registered more than once, ${gn.map(tn=>`"${tn}"`).join(", ")}. ${Ct}#strictactiontypeuniqueness`)}function Ts(Ft={},gn={}){return[{provide:Y,useFactory:ri},{provide:z,useValue:gn.initialState},{provide:Z,useFactory:Zn,deps:[z]},{provide:te,useValue:Ft},{provide:Ee,useExisting:Ft instanceof i.nKC?Ft:te},{provide:de,deps:[te,[new i.y_5(Ee)]],useFactory:os},{provide:nt,useValue:gn.metaReducers?gn.metaReducers:[]},{provide:xe,deps:[mt,nt],useFactory:Rs},{provide:se,useValue:gn.reducerFactory?gn.reducerFactory:Dt},{provide:oe,deps:[se,xe],useFactory:Ot},Q,In,Wt,Mt,Kt,xn(gn.runtimeChecks),fs()]}function Qi(Ft,gn,tn={}){return[{provide:pe,multi:!0,useValue:Ft instanceof Object?{}:tn},{provide:le,multi:!0,useValue:{key:Ft instanceof Object?Ft.name:Ft,reducerFactory:tn instanceof i.nKC||!tn.reducerFactory?Dt:tn.reducerFactory,metaReducers:tn instanceof i.nKC||!tn.metaReducers?[]:tn.metaReducers,initialState:tn instanceof i.nKC||!tn.initialState?void 0:tn.initialState}},{provide:re,deps:[pe,le],useFactory:sn},{provide:be,multi:!0,useValue:Ft instanceof Object?Ft.reducer:gn},{provide:ye,multi:!0,useExisting:gn instanceof i.nKC?gn:be},{provide:De,multi:!0,deps:[be,[new i.y_5(ye)]],useFactory:pn},fs()]}let Is=(()=>{class Ft{constructor(tn,$t,bn,Wn,_s,oi){}static{this.\u0275fac=function($t){return new($t||Ft)(i.KVO(q),i.KVO(Be),i.KVO(Tt),i.KVO(Ht),i.KVO(Y,8),i.KVO(st,8))}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})(),Hs=(()=>{class Ft{constructor(tn,$t,bn,Wn,_s){this.features=tn,this.featureReducers=$t,this.reducerManager=bn;const oi=tn.map((Ci,ar)=>{const Bi=$t.shift()[ar];return{...Ci,reducers:Bi,initialState:Zn(Ci.initialState)}});bn.addFeatures(oi)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function($t){return new($t||Ft)(i.KVO(re),i.KVO(De),i.KVO(an),i.KVO(Is),i.KVO(st,8))}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})(),$i=(()=>{class Ft{static forRoot(tn,$t){return{ngModule:Is,providers:[...Ts(tn,$t)]}}static forFeature(tn,$t,bn={}){return{ngModule:Hs,providers:[...Qi(tn,$t,bn)]}}static{this.\u0275fac=function($t){return new($t||Ft)}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})()},41780:(N,b,n)=>{"use strict";n.d(b,{D9:()=>q,Wr:()=>O,c$:()=>X,er:()=>T,h:()=>Q});var i=n(54438),t=n(7673),l=n(74402),e=n(27468),f=n(92688),m=n(59030),h=n(96697),_=n(44668),y=n(96354),v=n(70274),D=n(25558);class O{}let M=(()=>{class Y extends O{getTranslation(Z){return(0,t.of)({})}}return Y.\u0275fac=(()=>{let z;return function(oe){return(z||(z=i.xGo(Y)))(oe||Y)}})(),Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})();class T{}let R=(()=>{class Y{handle(Z){return Z.key}}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})();function u(Y,z){if(Y===z)return!0;if(null===Y||null===z)return!1;if(Y!=Y&&z!=z)return!0;let se,de,te,Z=typeof Y;if(Z==typeof z&&"object"==Z){if(!Array.isArray(Y)){if(Array.isArray(z))return!1;for(de in te=Object.create(null),Y){if(!u(Y[de],z[de]))return!1;te[de]=!0}for(de in z)if(!(de in te)&&typeof z[de]<"u")return!1;return!0}if(!Array.isArray(z))return!1;if((se=Y.length)==z.length){for(de=0;de<se;de++)if(!u(Y[de],z[de]))return!1;return!0}}return!1}function w(Y){return typeof Y<"u"&&null!==Y}function C(Y){return Y&&"object"==typeof Y&&!Array.isArray(Y)}function S(Y,z){let Z=Object.assign({},Y);return C(Y)&&C(z)&&Object.keys(z).forEach(oe=>{C(z[oe])?oe in Y?Z[oe]=S(Y[oe],z[oe]):Object.assign(Z,{[oe]:z[oe]}):Object.assign(Z,{[oe]:z[oe]})}),Z}class I{}let L=(()=>{class Y extends I{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Z,oe){let se;return se="string"==typeof Z?this.interpolateString(Z,oe):"function"==typeof Z?this.interpolateFunction(Z,oe):Z,se}getValue(Z,oe){let se="string"==typeof oe?oe.split("."):[oe];oe="";do{oe+=se.shift(),!w(Z)||!w(Z[oe])||"object"!=typeof Z[oe]&&se.length?se.length?oe+=".":Z=void 0:(Z=Z[oe],oe="")}while(se.length);return Z}interpolateFunction(Z,oe){return Z(oe)}interpolateString(Z,oe){return oe?Z.replace(this.templateMatcher,(se,de)=>{let te=this.getValue(oe,de);return w(te)?te:se}):Z}}return Y.\u0275fac=(()=>{let z;return function(oe){return(z||(z=i.xGo(Y)))(oe||Y)}})(),Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})();class B{}let U=(()=>{class Y extends B{compile(Z,oe){return Z}compileTranslations(Z,oe){return Z}}return Y.\u0275fac=(()=>{let z;return function(oe){return(z||(z=i.xGo(Y)))(oe||Y)}})(),Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})();class W{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const j=new i.nKC("USE_STORE"),G=new i.nKC("USE_DEFAULT_LANG"),H=new i.nKC("DEFAULT_LANGUAGE"),V=new i.nKC("USE_EXTEND");let X=(()=>{class Y{constructor(Z,oe,se,de,te,le=!0,Ee=!1,be=!1,pe){this.store=Z,this.currentLoader=oe,this.compiler=se,this.parser=de,this.missingTranslationHandler=te,this.useDefaultLang=le,this.isolate=Ee,this.extend=be,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},pe&&this.setDefaultLang(pe)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Z){this.isolate?this._defaultLang=Z:this.store.defaultLang=Z}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Z){this.isolate?this._currentLang=Z:this.store.currentLang=Z}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Z){this.isolate?this._langs=Z:this.store.langs=Z}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Z){this.isolate?this._translations=Z:this.store.translations=Z}setDefaultLang(Z){if(Z===this.defaultLang)return;let oe=this.retrieveTranslations(Z);typeof oe<"u"?(null==this.defaultLang&&(this.defaultLang=Z),oe.pipe((0,h.s)(1)).subscribe(se=>{this.changeDefaultLang(Z)})):this.changeDefaultLang(Z)}getDefaultLang(){return this.defaultLang}use(Z){if(Z===this.currentLang)return(0,t.of)(this.translations[Z]);let oe=this.retrieveTranslations(Z);return typeof oe<"u"?(this.currentLang||(this.currentLang=Z),oe.pipe((0,h.s)(1)).subscribe(se=>{this.changeLang(Z)}),oe):(this.changeLang(Z),(0,t.of)(this.translations[Z]))}retrieveTranslations(Z){let oe;return(typeof this.translations[Z]>"u"||this.extend)&&(this._translationRequests[Z]=this._translationRequests[Z]||this.getTranslation(Z),oe=this._translationRequests[Z]),oe}getTranslation(Z){this.pending=!0;const oe=this.currentLoader.getTranslation(Z).pipe((0,_.t)(1),(0,h.s)(1));return this.loadingTranslations=oe.pipe((0,y.T)(se=>this.compiler.compileTranslations(se,Z)),(0,_.t)(1),(0,h.s)(1)),this.loadingTranslations.subscribe({next:se=>{this.translations[Z]=this.extend&&this.translations[Z]?{...se,...this.translations[Z]}:se,this.updateLangs(),this.pending=!1},error:se=>{this.pending=!1}}),oe}setTranslation(Z,oe,se=!1){oe=this.compiler.compileTranslations(oe,Z),this.translations[Z]=(se||this.extend)&&this.translations[Z]?S(this.translations[Z],oe):oe,this.updateLangs(),this.onTranslationChange.emit({lang:Z,translations:this.translations[Z]})}getLangs(){return this.langs}addLangs(Z){Z.forEach(oe=>{-1===this.langs.indexOf(oe)&&this.langs.push(oe)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Z,oe,se){let de;if(oe instanceof Array){let te={},le=!1;for(let Ee of oe)te[Ee]=this.getParsedResult(Z,Ee,se),(0,l.A)(te[Ee])&&(le=!0);if(le){const Ee=oe.map(be=>(0,l.A)(te[be])?te[be]:(0,t.of)(te[be]));return(0,e.p)(Ee).pipe((0,y.T)(be=>{let pe={};return be.forEach((re,ye)=>{pe[oe[ye]]=re}),pe}))}return te}if(Z&&(de=this.parser.interpolate(this.parser.getValue(Z,oe),se)),typeof de>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(de=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],oe),se)),typeof de>"u"){let te={key:oe,translateService:this};typeof se<"u"&&(te.interpolateParams=se),de=this.missingTranslationHandler.handle(te)}return typeof de<"u"?de:oe}get(Z,oe){if(!w(Z)||!Z.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,v.H)(se=>(se=this.getParsedResult(se,Z,oe),(0,l.A)(se)?se:(0,t.of)(se))));{let se=this.getParsedResult(this.translations[this.currentLang],Z,oe);return(0,l.A)(se)?se:(0,t.of)(se)}}getStreamOnTranslationChange(Z,oe){if(!w(Z)||!Z.length)throw new Error('Parameter "key" required');return(0,f.x)((0,m.v)(()=>this.get(Z,oe)),this.onTranslationChange.pipe((0,D.n)(se=>{const de=this.getParsedResult(se.translations,Z,oe);return"function"==typeof de.subscribe?de:(0,t.of)(de)})))}stream(Z,oe){if(!w(Z)||!Z.length)throw new Error('Parameter "key" required');return(0,f.x)((0,m.v)(()=>this.get(Z,oe)),this.onLangChange.pipe((0,D.n)(se=>{const de=this.getParsedResult(se.translations,Z,oe);return(0,l.A)(de)?de:(0,t.of)(de)})))}instant(Z,oe){if(!w(Z)||!Z.length)throw new Error('Parameter "key" required');let se=this.getParsedResult(this.translations[this.currentLang],Z,oe);if((0,l.A)(se)){if(Z instanceof Array){let de={};return Z.forEach((te,le)=>{de[Z[le]]=Z[le]}),de}return Z}return se}set(Z,oe,se=this.currentLang){this.translations[se][Z]=this.compiler.compile(oe,se),this.updateLangs(),this.onTranslationChange.emit({lang:se,translations:this.translations[se]})}changeLang(Z){this.currentLang=Z,this.onLangChange.emit({lang:Z,translations:this.translations[Z]}),null==this.defaultLang&&this.changeDefaultLang(Z)}changeDefaultLang(Z){this.defaultLang=Z,this.onDefaultLangChange.emit({lang:Z,translations:this.translations[Z]})}reloadLang(Z){return this.resetLang(Z),this.getTranslation(Z)}resetLang(Z){this._translationRequests[Z]=void 0,this.translations[Z]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Z=window.navigator.languages?window.navigator.languages[0]:null;return Z=Z||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Z>"u"?void 0:(-1!==Z.indexOf("-")&&(Z=Z.split("-")[0]),-1!==Z.indexOf("_")&&(Z=Z.split("_")[0]),Z)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Z=window.navigator.languages?window.navigator.languages[0]:null;return Z=Z||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Z}}return Y.\u0275fac=function(Z){return new(Z||Y)(i.KVO(W),i.KVO(O),i.KVO(B),i.KVO(I),i.KVO(T),i.KVO(G),i.KVO(j),i.KVO(V),i.KVO(H))},Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})(),q=(()=>{class Y{constructor(Z,oe){this.translate=Z,this._ref=oe,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Z,oe,se){let de=te=>{this.value=void 0!==te?te:Z,this.lastKey=Z,this._ref.markForCheck()};if(se){let te=this.translate.getParsedResult(se,Z,oe);(0,l.A)(te.subscribe)?te.subscribe(de):de(te)}this.translate.get(Z,oe).subscribe(de)}transform(Z,...oe){if(!Z||!Z.length)return Z;if(u(Z,this.lastKey)&&u(oe,this.lastParams))return this.value;let se;if(w(oe[0])&&oe.length)if("string"==typeof oe[0]&&oe[0].length){let de=oe[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{se=JSON.parse(de)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${oe[0]}`)}}else"object"==typeof oe[0]&&!Array.isArray(oe[0])&&(se=oe[0]);return this.lastKey=Z,this.lastParams=oe,this.updateValue(Z,se),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(de=>{this.lastKey&&de.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Z,se,de.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(de=>{this.lastKey&&(this.lastKey=null,this.updateValue(Z,se,de.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Z,se))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Y.\u0275fac=function(Z){return new(Z||Y)(i.rXU(X,16),i.rXU(i.gRc,16))},Y.\u0275pipe=i.EJ8({name:"translate",type:Y,pure:!1}),Y.\u0275prov=i.jDH({token:Y,factory:Y.\u0275fac}),Y})(),Q=(()=>{class Y{static forRoot(Z={}){return{ngModule:Y,providers:[Z.loader||{provide:O,useClass:M},Z.compiler||{provide:B,useClass:U},Z.parser||{provide:I,useClass:L},Z.missingTranslationHandler||{provide:T,useClass:R},W,{provide:j,useValue:Z.isolate},{provide:G,useValue:Z.useDefaultLang},{provide:V,useValue:Z.extend},{provide:H,useValue:Z.defaultLanguage},X]}}static forChild(Z={}){return{ngModule:Y,providers:[Z.loader||{provide:O,useClass:M},Z.compiler||{provide:B,useClass:U},Z.parser||{provide:I,useClass:L},Z.missingTranslationHandler||{provide:T,useClass:R},{provide:j,useValue:Z.isolate},{provide:G,useValue:Z.useDefaultLang},{provide:V,useValue:Z.extend},{provide:H,useValue:Z.defaultLanguage},X]}}}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275mod=i.$C({type:Y}),Y.\u0275inj=i.G2t({}),Y})()},53588:(N,b,n)=>{"use strict";n.d(b,{WY:()=>R,xG:()=>w});var i=n(54438),t=n(60177),l=n(92771),e=n(18810);const f={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:C=>C*C,easeOutQuad:C=>C*(2-C),easeInOutQuad:C=>C<.5?2*C*C:(4-2*C)*C-1,easeInCubic:C=>C*C*C,easeOutCubic:C=>--C*C*C+1,easeInOutCubic:C=>C<.5?4*C*C*C:(C-1)*(2*C-2)*(2*C-2)+1,easeInQuart:C=>C*C*C*C,easeOutQuart:C=>1- --C*C*C*C,easeInOutQuart:C=>C<.5?8*C*C*C*C:1-8*--C*C*C*C,easeInQuint:C=>C*C*C*C*C,easeOutQuint:C=>1+--C*C*C*C*C,easeInOutQuint:C=>C<.5?16*C*C*C*C*C:1+16*--C*C*C*C*C,easeOutElastic:C=>Math.pow(2,-10*C)*Math.sin((C-1/4)*(2*Math.PI)/1)+1};function v(C){return C===window}class T{constructor(S,I,L,B,U,W){this.container=S,this.listenerTarget=I,this.isWindow=L,this.to=B,this.options=U,this.isBrowser=W,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const j=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((G,H)=>this.mappedOffset=window.innerWidth>H?G:this.mappedOffset),this.distance+=this.mappedOffset*(j<=0?1:-1),this.source$=new l.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let R=(()=>{class C{constructor(I,L){this.document=I,this.platformId=L,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(I){return(0,t.UE)(this.platformId)?this.start(I):(new l.m).asObservable()}start(I){const L={...f,...I};this.animation&&this.animation.stop();const B=this.getNode(L.target);if(L.target&&!B)return(0,e.$)(()=>new Error("Unable to find Target Element"));const U=this.getContainer(L,B);if(L.container&&!U)return(0,e.$)(()=>new Error("Unable to find Container Element"));const W=this.getListenerTarget(U)||window;let j=U?U.getBoundingClientRect().top:0;B&&(j=v(W)?window.scrollY+B.getBoundingClientRect().top:B.getBoundingClientRect().top),this.animation=new T(U,W,v(W),j,L,(0,t.UE)(this.platformId));const G=()=>this.animation.stop();this.addInterruptiveEventListeners(W,G);const H=this.animation.start();return this.subscribeToAnimation(H,W,G),H}subscribeToAnimation(I,L,B){const U=I.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,L,B),U.unsubscribe()}})}getContainer(I,L){let B=null;return I.container?B=this.getNode(I.container,!0):L&&(B=this.getFirstScrollableParent(L)),B}addInterruptiveEventListeners(I,L){I||(I=window),this.interruptiveEvents.forEach(B=>I.addEventListener(B,L,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let I=!1;try{const L=Object.defineProperty({},"passive",{get:()=>{I=!0}});window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}catch{}return I}removeInterruptiveEventListeners(I,L,B){L||(L=window),I.forEach(U=>L.removeEventListener(U,B))}getFirstScrollableParent(I){let L=window.getComputedStyle(I);const B=/(auto|scroll|overlay)/;if("fixed"===L.position)return null;let U=I;for(;U.parentElement;)if(U=U.parentElement,L=window.getComputedStyle(U),"absolute"!==L.position&&"hidden"!==L.overflow&&"hidden"!==L.overflowY&&(B.test(L.overflow+L.overflowY)||"BODY"===U.tagName))return U;return null}getNode(I,L=!1){let B;return function y(C){return"string"==typeof C||C instanceof String}(I)?B=!L||"body"!==I&&"BODY"!==I?this.document.getElementById(function _(C){return"#"===C.substring(0,1)?C.substring(1):C}(I)):this.document.body:function M(C){return!isNaN(parseFloat(C))&&isFinite(C)}(I)?B=this.document.getElementById(String(I)):function D(C){return C instanceof i.aKT}(I)?B=I.nativeElement:function O(C){return C instanceof HTMLElement}(I)&&(B=I),B}getListenerTarget(I){return I?this.isDocumentBody(I)?window:I:null}isDocumentBody(I){return"BODY"===I.tagName.toUpperCase()}}return C.\u0275fac=function(I){return new(I||C)(i.KVO(t.qQ),i.KVO(i.Agw))},C.\u0275prov=i.jDH({token:C,factory:C.\u0275fac}),C})(),w=(()=>{class C{static forRoot(){return{ngModule:C,providers:[R]}}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275mod=i.$C({type:C}),C.\u0275inj=i.G2t({}),C})()},97324:(N,b,n)=>{"use strict";n.d(b,{RH:()=>G,Z1:()=>L,eB:()=>W,il:()=>_,ok:()=>M});var i=n(54438),t=n(84412),l=n(92771),e=n(5964);class f{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class h{trackLocation(be){return new t.t({url:"/"})}prepareExternalUrl(be){return be}}let _=(()=>{class Ee{constructor(pe,re){this.tracker=pe,this.pageTrack=new l.m(10),this.eventTrack=new l.m(10),this.exceptionTrack=new l.m(10),this.setAlias=new l.m(10),this.setUsername=new l.m(10),this.setUserProperties=new l.m(10),this.setUserPropertiesOnce=new l.m(10),this.setSuperProperties=new l.m(10),this.setSuperPropertiesOnce=new l.m(10),this.userTimings=new l.m(10);const ye=new f;this.settings={...ye,...re.settings},this.settings.pageTracking={...ye.pageTracking,...re.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(De=>this.trackUrlChange(De.url))}filterDeveloperMode(){return(0,e.p)((pe,re)=>!this.settings.developerMode)}trackUrlChange(pe){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(pe)){const re=this.clearUrl(pe);let ye;ye=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+re:this.tracker.prepareExternalUrl(re),this.pageTrack.next({path:ye})}}matchesExcludedRoute(pe){for(const re of this.settings.pageTracking.excludedRoutes)if(re instanceof RegExp&&re.test(pe)||-1!==pe.indexOf(re))return!0;return!1}clearUrl(pe){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?pe.split("/").map(re=>this.settings.pageTracking.clearQueryParams?re.split("?")[0]:re).map(re=>this.settings.pageTracking.clearHash?re.split("#")[0]:re).filter(re=>!this.settings.pageTracking.clearIds||!re.match(this.settings.pageTracking.idsRegExp)).join("/"):pe}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(i.KVO(h),i.KVO(m))},Ee.\u0275prov=i.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),D=(()=>{class Ee{}return Ee.\u0275fac=function(pe){return new(pe||Ee)},Ee.\u0275mod=i.$C({type:Ee}),Ee.\u0275inj=i.G2t({}),Ee})(),M=(()=>{class Ee{static forRoot(pe={}){return{ngModule:Ee,providers:[{provide:m,useValue:{settings:pe}},h,_]}}}return Ee.\u0275fac=function(pe){return new(pe||Ee)},Ee.\u0275mod=i.$C({type:Ee}),Ee.\u0275inj=i.G2t({imports:[[D]]}),Ee})();class I{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let L=(()=>{class Ee{constructor(pe){this.angulartics2=pe,this.dimensionsAndMetrics=[];const re=new I;this.angulartics2.settings.ga={...re,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(ye=>this.setUsername(ye)),this.angulartics2.setUserProperties.subscribe(ye=>this.setUserProperties(ye))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.pageTrack(pe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.eventTrack(pe.action,pe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.exceptionTrack(pe)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.userTimings(pe))}pageTrack(pe){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",pe]);for(const re of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([re+"._trackPageview",pe])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","anonymizeIp",!0)}ga("send","pageview",pe);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","pageview",pe)}}eventTrack(pe,re){if((!re||!re.category)&&((re=re||{}).category="Event"),re.value){const ye=parseInt(re.value,10);re.value=isNaN(ye)?0:ye}if(typeof ga<"u"){const ye={eventCategory:re.category,eventAction:pe,eventLabel:re.label,eventValue:re.value,nonInteraction:re.noninteraction,page:re.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:re.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(re),ga("send","event",ye);for(const De of this.angulartics2.settings.ga.additionalAccountNames)ga(De+".send","event",ye)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",re.category,pe,re.label,re.value,re.noninteraction])}exceptionTrack(pe){void 0===pe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),pe.fatal=!0),pe.exDescription=pe.description;const re={exFatal:pe.fatal,exDescription:pe.description};ga("send","exception",re);for(const ye of this.angulartics2.settings.ga.additionalAccountNames)ga(ye+".send","exception",re)}userTimings(pe){if(pe&&pe.timingCategory&&pe.timingVar&&pe.timingValue){if(typeof ga<"u"){ga("send","timing",pe);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","timing",pe)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(pe){this.angulartics2.settings.ga.userId=pe,!(typeof ga>"u")&&ga("set","userId",pe)}setUserProperties(pe){this.setDimensionsAndMetrics(pe)}setDimensionsAndMetrics(pe){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(re=>{pe.hasOwnProperty(re)||(ga("set",re,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(ye=>{ga(`${ye}.set`,re,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(pe).forEach(re=>{(0===re.lastIndexOf("dimension",0)||0===re.lastIndexOf("metric",0))&&(ga("set",re,pe[re]),this.angulartics2.settings.ga.additionalAccountNames.forEach(ye=>{ga(`${ye}.set`,re,pe[re])}),this.dimensionsAndMetrics.push(re))}))}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(i.KVO(_))},Ee.\u0275prov=i.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();class U{constructor(){this.userId=null}}let W=(()=>{class Ee{constructor(pe){this.angulartics2=pe,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const re=new U;this.angulartics2.settings.gtm={...re,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(ye=>this.setUsername(ye))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.pageTrack(pe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.eventTrack(pe.action,pe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.exceptionTrack(pe))}pageTrack(pe){this.pushLayer({event:"Page View","content-name":pe,userId:this.angulartics2.settings.gtm.userId})}pushLayer(pe){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(pe)}eventTrack(pe,re){this.pushLayer({event:(re=re||{}).event||"interaction",target:re.category||"Event",action:pe,label:re.label,value:re.value,interactionType:re.noninteraction,userId:this.angulartics2.settings.gtm.userId,...re.gtmCustom})}exceptionTrack(pe){pe&&pe.appId&&pe.appName&&pe.appVersion?(void 0===pe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),pe.exFatal=!0),pe.exDescription=pe.event?pe.event.stack:pe.description,this.eventTrack(`Exception thrown for ${pe.appName} <${pe.appId}@${pe.appVersion}>`,{category:"Exception",label:pe.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(pe){this.angulartics2.settings.gtm.userId=pe}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(i.KVO(_))},Ee.\u0275prov=i.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();class j{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(be=>{const pe=be.get("trackingId");void 0!==pe&&-1===this.trackingIds.indexOf(pe)&&this.trackingIds.push(pe)})})}}let G=(()=>{class Ee{constructor(pe){this.angulartics2=pe,this.dimensionsAndMetrics={};const re=new j;this.angulartics2.settings.gst={...re,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.pageTrack(pe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.eventTrack(pe.action,pe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.exceptionTrack(pe)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.userTimings(this.convertTimings(pe))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.setUsername(pe)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(pe=>this.setUserProperties(pe))}pageTrack(pe){if(typeof gtag<"u"&&gtag){const re={page_path:pe,page_location:window.location.protocol+"//"+window.location.host+pe,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(re.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(re.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(re.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const ye of this.angulartics2.settings.gst.trackingIds)gtag("config",ye,re)}}eventTrack(pe,re={}){this.eventTrackInternal(pe,{event_category:re.category||"interaction",event_label:re.label,value:re.value,non_interaction:re.noninteraction,...re.gstCustom})}exceptionTrack(pe){void 0===pe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),pe.fatal=!0),pe.exDescription=pe.event?pe.event.stack:pe.description,this.eventTrack("exception",{gstCustom:{description:pe.exDescription,fatal:pe.fatal,...pe.gstCustom}})}userTimings(pe){pe?this.eventTrackInternal("timing_complete",{name:pe.name,value:pe.value,event_category:pe.category,event_label:pe.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(pe){return{name:pe.timingVar,value:pe.timingValue,category:pe.timingCategory,label:pe.timingLabel}}setUsername(pe){this.angulartics2.settings.gst.userId=pe,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof pe&&pe?pe.userId:pe})}setUserProperties(pe){this.setDimensionsAndMetrics(pe)}setDimensionsAndMetrics(pe){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...pe},Object.keys(this.dimensionsAndMetrics).forEach(re=>{null==this.dimensionsAndMetrics[re]&&delete this.dimensionsAndMetrics[re]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(pe,re={}){this.cleanProperties(re),typeof gtag<"u"&&gtag&&gtag("event",pe,re)}cleanProperties(pe){if(pe.value){const re=parseInt(pe.value,10);pe.value=isNaN(re)?0:re}}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(i.KVO(_))},Ee.\u0275prov=i.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},93583:(N,b,n)=>{"use strict";n.d(b,{X6:()=>B,UD:()=>se,Go:()=>h});var i={};n.r(i),n.d(i,{JsonPatchError:()=>u,_areEquals:()=>G,applyOperation:()=>L,applyPatch:()=>B,applyReducer:()=>U,deepClone:()=>w,getValueByPointer:()=>I,validate:()=>j,validator:()=>W});var t={};n.r(t),n.d(t,{compare:()=>se,generate:()=>Z,observe:()=>z,unobserve:()=>Y});var l=function(){var te=function(le,Ee){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,pe){be.__proto__=pe}||function(be,pe){for(var re in pe)pe.hasOwnProperty(re)&&(be[re]=pe[re])})(le,Ee)};return function(le,Ee){function be(){this.constructor=le}te(le,Ee),le.prototype=null===Ee?Object.create(Ee):(be.prototype=Ee.prototype,new be)}}(),e=Object.prototype.hasOwnProperty;function f(te,le){return e.call(te,le)}function m(te){if(Array.isArray(te)){for(var le=new Array(te.length),Ee=0;Ee<le.length;Ee++)le[Ee]=""+Ee;return le}if(Object.keys)return Object.keys(te);var be=[];for(var pe in te)f(te,pe)&&be.push(pe);return be}function h(te){switch(typeof te){case"object":return JSON.parse(JSON.stringify(te));case"undefined":return null;default:return te}}function _(te){for(var be,le=0,Ee=te.length;le<Ee;){if(!((be=te.charCodeAt(le))>=48&&be<=57))return!1;le++}return!0}function y(te){return-1===te.indexOf("/")&&-1===te.indexOf("~")?te:te.replace(/~/g,"~0").replace(/\//g,"~1")}function v(te){return te.replace(/~1/g,"/").replace(/~0/g,"~")}function M(te){if(void 0===te)return!0;if(te)if(Array.isArray(te)){for(var le=0,Ee=te.length;le<Ee;le++)if(M(te[le]))return!0}else if("object"==typeof te)for(var be=m(te),pe=be.length,re=0;re<pe;re++)if(M(te[be[re]]))return!0;return!1}function T(te,le){var Ee=[te];for(var be in le){var pe="object"==typeof le[be]?JSON.stringify(le[be],null,2):le[be];typeof pe<"u"&&Ee.push(be+": "+pe)}return Ee.join("\n")}var R=function(te){function le(Ee,be,pe,re,ye){var De=this.constructor,nt=te.call(this,T(Ee,{name:be,index:pe,operation:re,tree:ye}))||this;return nt.name=be,nt.index=pe,nt.operation=re,nt.tree=ye,Object.setPrototypeOf(nt,De.prototype),nt.message=T(Ee,{name:be,index:pe,operation:re,tree:ye}),nt}return l(le,te),le}(Error),u=R,w=h,C={add:function(te,le,Ee){return te[le]=this.value,{newDocument:Ee}},remove:function(te,le,Ee){var be=te[le];return delete te[le],{newDocument:Ee,removed:be}},replace:function(te,le,Ee){var be=te[le];return te[le]=this.value,{newDocument:Ee,removed:be}},move:function(te,le,Ee){var be=I(Ee,this.path);be&&(be=h(be));var pe=L(Ee,{op:"remove",path:this.from}).removed;return L(Ee,{op:"add",path:this.path,value:pe}),{newDocument:Ee,removed:be}},copy:function(te,le,Ee){var be=I(Ee,this.from);return L(Ee,{op:"add",path:this.path,value:h(be)}),{newDocument:Ee}},test:function(te,le,Ee){return{newDocument:Ee,test:G(te[le],this.value)}},_get:function(te,le,Ee){return this.value=te[le],{newDocument:Ee}}},S={add:function(te,le,Ee){return _(le)?te.splice(le,0,this.value):te[le]=this.value,{newDocument:Ee,index:le}},remove:function(te,le,Ee){return{newDocument:Ee,removed:te.splice(le,1)[0]}},replace:function(te,le,Ee){var be=te[le];return te[le]=this.value,{newDocument:Ee,removed:be}},move:C.move,copy:C.copy,test:C.test,_get:C._get};function I(te,le){if(""==le)return te;var Ee={op:"_get",path:le};return L(te,Ee),Ee.value}function L(te,le,Ee,be,pe,re){if(void 0===Ee&&(Ee=!1),void 0===be&&(be=!0),void 0===pe&&(pe=!0),void 0===re&&(re=0),Ee&&("function"==typeof Ee?Ee(le,0,te,le.path):W(le,0)),""===le.path){var ye={newDocument:te};if("add"===le.op)return ye.newDocument=le.value,ye;if("replace"===le.op)return ye.newDocument=le.value,ye.removed=te,ye;if("move"===le.op||"copy"===le.op)return ye.newDocument=I(te,le.from),"move"===le.op&&(ye.removed=te),ye;if("test"===le.op){if(ye.test=G(te,le.value),!1===ye.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",re,le,te);return ye.newDocument=te,ye}if("remove"===le.op)return ye.removed=te,ye.newDocument=null,ye;if("_get"===le.op)return le.value=te,ye;if(Ee)throw new u("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",re,le,te);return ye}be||(te=h(te));var nt=(le.path||"").split("/"),mt=te,xe=1,ot=nt.length,$e=void 0,Fe=void 0,st=void 0;for(st="function"==typeof Ee?Ee:W;;){if((Fe=nt[xe])&&-1!=Fe.indexOf("~")&&(Fe=v(Fe)),pe&&("__proto__"==Fe||"prototype"==Fe&&xe>0&&"constructor"==nt[xe-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(Ee&&void 0===$e&&(void 0===mt[Fe]?$e=nt.slice(0,xe).join("/"):xe==ot-1&&($e=le.path),void 0!==$e&&st(le,0,te,$e)),xe++,Array.isArray(mt)){if("-"===Fe)Fe=mt.length;else{if(Ee&&!_(Fe))throw new u("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",re,le,te);_(Fe)&&(Fe=~~Fe)}if(xe>=ot){if(Ee&&"add"===le.op&&Fe>mt.length)throw new u("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",re,le,te);if(!1===(ye=S[le.op].call(le,mt,Fe,te)).test)throw new u("Test operation failed","TEST_OPERATION_FAILED",re,le,te);return ye}}else if(xe>=ot){if(!1===(ye=C[le.op].call(le,mt,Fe,te)).test)throw new u("Test operation failed","TEST_OPERATION_FAILED",re,le,te);return ye}if(mt=mt[Fe],Ee&&xe<ot&&(!mt||"object"!=typeof mt))throw new u("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",re,le,te)}}function B(te,le,Ee,be,pe){if(void 0===be&&(be=!0),void 0===pe&&(pe=!0),Ee&&!Array.isArray(le))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");be||(te=h(te));for(var re=new Array(le.length),ye=0,De=le.length;ye<De;ye++)re[ye]=L(te,le[ye],Ee,!0,pe,ye),te=re[ye].newDocument;return re.newDocument=te,re}function U(te,le,Ee){var be=L(te,le);if(!1===be.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",Ee,le,te);return be.newDocument}function W(te,le,Ee,be){if("object"!=typeof te||null===te||Array.isArray(te))throw new u("Operation is not an object","OPERATION_NOT_AN_OBJECT",le,te,Ee);if(!C[te.op])throw new u("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",le,te,Ee);if("string"!=typeof te.path)throw new u("Operation `path` property is not a string","OPERATION_PATH_INVALID",le,te,Ee);if(0!==te.path.indexOf("/")&&te.path.length>0)throw new u('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",le,te,Ee);if(("move"===te.op||"copy"===te.op)&&"string"!=typeof te.from)throw new u("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",le,te,Ee);if(("add"===te.op||"replace"===te.op||"test"===te.op)&&void 0===te.value)throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",le,te,Ee);if(("add"===te.op||"replace"===te.op||"test"===te.op)&&M(te.value))throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",le,te,Ee);if(Ee)if("add"==te.op){var pe=te.path.split("/").length,re=be.split("/").length;if(pe!==re+1&&pe!==re)throw new u("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",le,te,Ee)}else if("replace"===te.op||"remove"===te.op||"_get"===te.op){if(te.path!==be)throw new u("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",le,te,Ee)}else if("move"===te.op||"copy"===te.op){var De=j([{op:"_get",path:te.from,value:void 0}],Ee);if(De&&"OPERATION_PATH_UNRESOLVABLE"===De.name)throw new u("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",le,te,Ee)}}function j(te,le,Ee){try{if(!Array.isArray(te))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(le)B(h(le),h(te),Ee||!0);else{Ee=Ee||W;for(var be=0;be<te.length;be++)Ee(te[be],be,le,void 0)}}catch(pe){if(pe instanceof u)return pe;throw pe}}function G(te,le){if(te===le)return!0;if(te&&le&&"object"==typeof te&&"object"==typeof le){var pe,re,ye,Ee=Array.isArray(te),be=Array.isArray(le);if(Ee&&be){if((re=te.length)!=le.length)return!1;for(pe=re;0!=pe--;)if(!G(te[pe],le[pe]))return!1;return!0}if(Ee!=be)return!1;var De=Object.keys(te);if((re=De.length)!==Object.keys(le).length)return!1;for(pe=re;0!=pe--;)if(!le.hasOwnProperty(De[pe]))return!1;for(pe=re;0!=pe--;)if(!G(te[ye=De[pe]],le[ye]))return!1;return!0}return te!=te&&le!=le}var H=new WeakMap,V=function(){return function te(le){this.observers=new Map,this.obj=le}}(),X=function(){return function te(le,Ee){this.callback=le,this.observer=Ee}}();function Y(te,le){le.unobserve()}function z(te,le){var be,pe=function J(te){return H.get(te)}(te);if(pe){var re=function q(te,le){return te.observers.get(le)}(pe,le);be=re&&re.observer}else pe=new V(te),H.set(te,pe);if(be)return be;if(be={},pe.value=h(te),le){be.callback=le,be.next=null;var ye=function(){Z(be)},De=function(){clearTimeout(be.next),be.next=setTimeout(ye)};typeof window<"u"&&(window.addEventListener("mouseup",De),window.addEventListener("keyup",De),window.addEventListener("mousedown",De),window.addEventListener("keydown",De),window.addEventListener("change",De))}return be.patches=[],be.object=te,be.unobserve=function(){Z(be),clearTimeout(be.next),function Q(te,le){te.observers.delete(le.callback)}(pe,be),typeof window<"u"&&(window.removeEventListener("mouseup",De),window.removeEventListener("keyup",De),window.removeEventListener("mousedown",De),window.removeEventListener("keydown",De),window.removeEventListener("change",De))},pe.observers.set(le,new X(le,be)),be}function Z(te,le){void 0===le&&(le=!1);var Ee=H.get(te.object);oe(Ee.value,te.object,te.patches,"",le),te.patches.length&&B(Ee.value,te.patches);var be=te.patches;return be.length>0&&(te.patches=[],te.callback&&te.callback(be)),be}function oe(te,le,Ee,be,pe){if(le!==te){"function"==typeof le.toJSON&&(le=le.toJSON());for(var re=m(le),ye=m(te),nt=!1,mt=ye.length-1;mt>=0;mt--){var ot=te[xe=ye[mt]];if(!f(le,xe)||void 0===le[xe]&&void 0!==ot&&!1===Array.isArray(le))Array.isArray(te)===Array.isArray(le)?(pe&&Ee.push({op:"test",path:be+"/"+y(xe),value:h(ot)}),Ee.push({op:"remove",path:be+"/"+y(xe)}),nt=!0):(pe&&Ee.push({op:"test",path:be,value:te}),Ee.push({op:"replace",path:be,value:le}));else{var $e=le[xe];"object"==typeof ot&&null!=ot&&"object"==typeof $e&&null!=$e&&Array.isArray(ot)===Array.isArray($e)?oe(ot,$e,Ee,be+"/"+y(xe),pe):ot!==$e&&(pe&&Ee.push({op:"test",path:be+"/"+y(xe),value:h(ot)}),Ee.push({op:"replace",path:be+"/"+y(xe),value:h($e)}))}}if(nt||re.length!=ye.length)for(mt=0;mt<re.length;mt++){var xe;!f(te,xe=re[mt])&&void 0!==le[xe]&&Ee.push({op:"add",path:be+"/"+y(xe),value:h(le[xe])})}}}function se(te,le,Ee){void 0===Ee&&(Ee=!1);var be=[];return oe(te,le,be,"",Ee),be}Object.assign({},i,t,{JsonPatchError:R,deepClone:h,escapePathComponent:y,unescapePathComponent:v})},27200:(N,b,n)=>{"use strict";n.d(b,{Ff:()=>_,UJ:()=>y,eB:()=>v,l0:()=>h});var i=n(54438),t=n(60177);class l{constructor(O){this.rawFile=O;const M=O instanceof HTMLInputElement?O.value:O;this["_createFrom"+("string"==typeof M?"FakePath":"Object")](M)}_createFromFakePath(O){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${O.slice(O.lastIndexOf(".")+1).toLowerCase()}`,this.name=O.slice(O.lastIndexOf("/")+O.lastIndexOf("\\")+2)}_createFromObject(O){this.size=O.size,this.type=O.type,this.name=O.name}}class e{constructor(O,M,T){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=O,this.some=M,this.options=T,this.file=new l(M),this._file=M,O.options&&(this.method=O.options.method||"POST",this.alias=O.options.itemAlias||"file"),this.url=O.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(O){return{form:O}}onProgress(O){return{progress:O}}onSuccess(O,M,T){return{response:O,status:M,headers:T}}onError(O,M,T){return{response:O,status:M,headers:T}}onCancel(O,M,T){return{response:O,status:M,headers:T}}onComplete(O,M,T){return{response:O,status:M,headers:T}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(O){this.onBuildForm(O)}_onProgress(O){this.progress=O,this.onProgress(O)}_onSuccess(O,M,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(O,M,T)}_onError(O,M,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(O,M,T)}_onCancel(O,M,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(O,M,T)}_onComplete(O,M,T){this.onComplete(O,M,T),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let f=(()=>{class D{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(M){let T="application";return M?.type&&-1!==this.mime_psd.indexOf(M.type)||M?.type?.match("image.*")?T="image":M?.type?.match("video.*")?T="video":M?.type?.match("audio.*")?T="audio":"application/pdf"===M?.type?T="pdf":M?.type&&-1!==this.mime_compress.indexOf(M.type)?T="compress":M?.type&&-1!==this.mime_doc.indexOf(M.type)?T="doc":M?.type&&-1!==this.mime_xsl.indexOf(M.type)?T="xls":M?.type&&-1!==this.mime_ppt.indexOf(M.type)&&(T="ppt"),"application"===T&&M?.name&&(T=this.fileTypeDetection(M.name)),T}static fileTypeDetection(M){const T={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},R=M.split(".");if(R.length<2)return"application";const u=R[R.length-1].toLowerCase();return void 0===T[u]?"application":T[u]}}return D})();class h{constructor(O){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:M=>M._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(O),this.response=new i.bkB}setOptions(O){this.options=Object.assign(this.options,O),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let M=0;M<this.queue.length;M++)this.queue[M].url=this.options.url}addToQueue(O,M,T){let R=M;const u=[];for(const I of O)u.push(I);const w=this._getFilters(T),C=this.queue.length,S=[];u.map(I=>{R||(R=this.options);const L=new l(I);if(this._isValidFile(L,w,R)){const B=new e(this,I,R);S.push(B),this.queue.push(B),this._onAfterAddingFile(B)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(L,w[this._failFilterIndex],R)}),this.queue.length!==C&&(this._onAfterAddingAll(S),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(O){const M=this.getIndexOfItem(O),T=this.queue[M];T.isUploading&&T.cancel(),this.queue.splice(M,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(O){const M=this.getIndexOfItem(O),T=this.queue[M],R=this.options.isHTML5?"_xhrTransport":"_iframeTransport";T._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[R](T))}cancelItem(O){const M=this.getIndexOfItem(O),T=this.queue[M];T&&T.isUploading&&(this.options.isHTML5?T._xhr:T._form).abort()}uploadAll(){const O=this.getNotUploadedItems().filter(M=>!M.isUploading);O.length&&(O.map(M=>M._prepareToUploading()),O[0].upload())}cancelAll(){this.getNotUploadedItems().map(M=>M.cancel())}isFile(O){return function m(D){return File&&D instanceof File}(O)}isFileLikeObject(O){return O instanceof l}getIndexOfItem(O){return"number"==typeof O?O:this.queue.indexOf(O)}getNotUploadedItems(){return this.queue.filter(O=>!O.isUploaded)}getReadyItems(){return this.queue.filter(O=>O.isReady&&!O.isUploading).sort((O,M)=>O.index-M.index)}onAfterAddingAll(O){return{fileItems:O}}onBuildItemForm(O,M){return{fileItem:O,form:M}}onAfterAddingFile(O){return{fileItem:O}}onWhenAddingFileFailed(O,M,T){return{item:O,filter:M,options:T}}onBeforeUploadItem(O){return{fileItem:O}}onProgressItem(O,M){return{fileItem:O,progress:M}}onProgressAll(O){return{progress:O}}onSuccessItem(O,M,T,R){return{item:O,response:M,status:T,headers:R}}onErrorItem(O,M,T,R){return{item:O,response:M,status:T,headers:R}}onCancelItem(O,M,T,R){return{item:O,response:M,status:T,headers:R}}onCompleteItem(O,M,T,R){return{item:O,response:M,status:T,headers:R}}onCompleteAll(){}_mimeTypeFilter(O){return!(O?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(O.type))}_fileSizeFilter(O){return!(this.options.maxFileSize&&O.size>this.options.maxFileSize)}_fileTypeFilter(O){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(f.getMimeClass(O)))}_onErrorItem(O,M,T,R){O._onError(M,T,R),this.onErrorItem(O,M,T,R)}_onCompleteItem(O,M,T,R){O._onComplete(M,T,R),this.onCompleteItem(O,M,T,R);const u=this.getReadyItems()[0];this.isUploading=!1,u?u.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(O){return M=>M?O[M.toLowerCase()]||void 0:O}_xhrTransport(O){const M=this,T=O._xhr=new XMLHttpRequest;let R;if(this._onBeforeUploadItem(O),"number"!=typeof O._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(R=this.options.formatDataFunction(O));else{R=new FormData,this._onBuildItemForm(O,R);const u=()=>R.append(O.alias,O._file,O.file.name);this.options.parametersBeforeFiles||u(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(w=>{let C=this.options.additionalParameter?.[w];"string"==typeof C&&C.indexOf("{{file_name}}")>=0&&O.file?.name&&(C=C.replace("{{file_name}}",O.file.name)),R.append(w,C)}),u&&this.options.parametersBeforeFiles&&u()}if(T.upload.onprogress=u=>{const w=Math.round(u.lengthComputable?100*u.loaded/u.total:0);this._onProgressItem(O,w)},T.onload=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this[`_on${this._isSuccessCode(T.status)?"Success":"Error"}Item`](O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},T.onerror=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this._onErrorItem(O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},T.onabort=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this._onCancelItem(O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},O.method&&O.url&&T.open(O.method,O.url,!0),T.withCredentials=O.withCredentials,this.options.headers)for(const u of this.options.headers)T.setRequestHeader(u.name,u.value);if(O.headers.length)for(const u of O.headers)T.setRequestHeader(u.name,u.value);this.authToken&&this.authTokenHeader&&T.setRequestHeader(this.authTokenHeader,this.authToken),T.onreadystatechange=function(){T.readyState==XMLHttpRequest.DONE&&M.response.emit(T.responseText)},this.options.formatDataFunctionIsAsync?R.then(u=>T.send(JSON.stringify(u))):T.send(R),this._render()}_getTotalProgress(O=0){if(this.options.removeAfterUpload)return O;const M=this.getNotUploadedItems().length,R=100/this.queue.length;return Math.round((M?this.queue.length-M:this.queue.length)*R+O*R/100)}_getFilters(O){if(!O)return this.options?.filters||[];if(Array.isArray(O))return O;if("string"==typeof O){const M=O.match(/[^\s,]+/g);return this.options?.filters||[].filter(T=>-1!==M?.indexOf(T.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(O,M,T){return this._failFilterIndex=-1,!M.length||M.every(R=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,R.fn.call(this,O,T)))}_isSuccessCode(O){return O>=200&&O<300||304===O}_transformResponse(O,M){return O}_parseHeaders(O){const M={};let T,R,u;return O&&O.split("\n").map(w=>{u=w.indexOf(":"),T=w.slice(0,u).trim().toLowerCase(),R=w.slice(u+1).trim(),T&&(M[T]=M[T]?M[T]+", "+R:R)}),M}_onWhenAddingFileFailed(O,M,T){this.onWhenAddingFileFailed(O,M,T)}_onAfterAddingFile(O){this.onAfterAddingFile(O)}_onAfterAddingAll(O){this.onAfterAddingAll(O)}_onBeforeUploadItem(O){O._onBeforeUpload(),this.onBeforeUploadItem(O)}_onBuildItemForm(O,M){O._onBuildForm(M),this.onBuildItemForm(O,M)}_onProgressItem(O,M){const T=this._getTotalProgress(M);this.progress=T,O._onProgress(M),this.onProgressItem(O,M),this.onProgressAll(T),this._render()}_onSuccessItem(O,M,T,R){O._onSuccess(M,T,R),this.onSuccessItem(O,M,T,R)}_onCancelItem(O,M,T,R){O._onCancel(M,T,R),this.onCancelItem(O,M,T,R)}}let _=(()=>{class D{constructor(M){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=M}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(M){const T=this._getTransfer(M);if(!T)return;const R=this.getOptions(),u=this.getFilters();this._preventAndStop(M),R&&this.uploader?.addToQueue(T.files,R,u),this.fileOver.emit(!1),this.onFileDrop.emit(T.files)}onDragOver(M){const T=this._getTransfer(M);this._haveFiles(T.types)&&(T.dropEffect="copy",this._preventAndStop(M),this.fileOver.emit(!0))}onDragLeave(M){this.element&&M.currentTarget===this.element[0]||(this._preventAndStop(M),this.fileOver.emit(!1))}_getTransfer(M){return M.dataTransfer?M.dataTransfer:M.originalEvent.dataTransfer}_preventAndStop(M){M.preventDefault(),M.stopPropagation()}_haveFiles(M){return!!M&&(M.indexOf?-1!==M.indexOf("Files"):!!M.contains&&M.contains("Files"))}static{this.\u0275fac=function(T){return new(T||D)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","ng2FileDrop",""]],hostBindings:function(T,R){1&T&&i.bIt("drop",function(w){return R.onDrop(w)})("dragover",function(w){return R.onDragOver(w)})("dragleave",function(w){return R.onDragLeave(w)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return D})(),y=(()=>{class D{constructor(M){this.onFileSelected=new i.bkB,this.element=M}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const M=this.element.nativeElement.files,T=this.getOptions(),R=this.getFilters();this.uploader?.addToQueue(M,T,R),this.onFileSelected.emit(M),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(T){return new(T||D)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","ng2FileSelect",""]],hostBindings:function(T,R){1&T&&i.bIt("change",function(){return R.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return D})(),v=(()=>{class D{static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275mod=i.$C({type:D})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return D})()},86820:(N,b,n)=>{"use strict";n.d(b,{DP:()=>$e,eO:()=>st});var i=n(54438),t=n(7673),l=n(33726),e=n(73028),f=n(96354),m=n(88141),h=n(5964),_=n(43236),y=n(39974),v=n(54360),D=n(58750),M=n(41584);function u(Ie,We,Dt,kt){const ct=window&&!!window.document&&window.document.documentElement;let Ot=ct&&We?window:Dt;if(Ie&&(Ot=Ie&&ct&&"string"==typeof Ie?function w(Ie,We,Dt){return(Dt?window.document:We).querySelector(Ie)}(Ie,Dt.nativeElement,kt):Ie,!Ot))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return Ot}function C(Ie){return Ie&&!Ie.firstChange}const I={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class B{constructor(We=!0){this.vertical=We,this.propsMap=We?I:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function G(Ie){return["Window","global"].some(Dt=>Object.prototype.toString.call(Ie).includes(Dt))}function H(Ie,We){return Ie?We.document.documentElement:null}function V(Ie,We){const Dt=function Q({container:Ie,isWindow:We,axis:Dt}){const{offsetHeightKey:kt,clientHeightKey:ct}=q(Dt);return Y(Ie,We,kt,ct)}(We);return We.isWindow?function X(Ie,We,Dt){const{axis:kt,container:ct,isWindow:Ot}=Dt,{offsetHeightKey:ve,clientHeightKey:Be}=q(kt),pt=Ie+Z(H(Ot,ct),kt,Ot),dn=Y(We.nativeElement,Ot,ve,Be),an=function z(Ie,We,Dt){const kt=We.topKey();if(Ie.getBoundingClientRect)return Ie.getBoundingClientRect()[kt]+Z(Ie,We,Dt)}(We.nativeElement,kt,Ot)+dn;return{height:Ie,scrolled:pt,totalToScroll:an,isWindow:Ot}}(Dt,Ie,We):function J(Ie,We,Dt){const{axis:kt,container:ct}=Dt;return{height:Ie,scrolled:ct[kt.scrollTopKey()],totalToScroll:ct[kt.scrollHeightKey()],isWindow:!1}}(Dt,0,We)}function q(Ie){return{offsetHeightKey:Ie.offsetHeightKey(),clientHeightKey:Ie.clientHeightKey()}}function Y(Ie,We,Dt,kt){if(isNaN(Ie[Dt])){const ct=H(We,Ie);return ct?ct[kt]:0}return Ie[Dt]}function Z(Ie,We,Dt){const kt=We.pageYOffsetKey(),ct=We.scrollTopKey(),Ot=We.offsetTopKey();return isNaN(window.pageYOffset)?H(Dt,Ie)[ct]:Ie.ownerDocument?Ie.ownerDocument.defaultView[kt]:Ie[Ot]}function oe(Ie,We={down:0,up:0},Dt){let kt,ct;if(Ie.totalToScroll<=0)return!1;const Ot=Ie.isWindow?Ie.scrolled:Ie.height+Ie.scrolled;return Dt?(kt=(Ie.totalToScroll-Ot)/Ie.totalToScroll,ct=(We?.down?We.down:0)/10):(kt=Ie.scrolled/(Ie.scrolled+(Ie.totalToScroll-Ot)),ct=(We?.up?We.up:0)/10),kt<=ct}class ye{constructor({totalToScroll:We}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=We}updateScrollPosition(We){return this.lastScrollPosition=We}updateTotalToScroll(We){this.lastTotalToScroll!==We&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=We)}updateScroll(We,Dt){this.updateScrollPosition(We),this.updateTotalToScroll(Dt)}updateTriggeredFlag(We,Dt){Dt?this.triggered.down=We:this.triggered.up=We}isTriggeredScroll(We,Dt){return Dt?this.triggered.down===We:this.triggered.up===We}}function De(Ie){const{scrollContainer:We,scrollWindow:Dt,element:kt,fromRoot:ct}=Ie,Ot=function W({windowElement:Ie,axis:We}){return function j(Ie,We){const Dt=Ie.isWindow||We&&!We.nativeElement?We:We.nativeElement;return{...Ie,container:Dt}}({axis:We,isWindow:G(Ie)},Ie)}({axis:new B(!Ie.horizontal),windowElement:u(We,Dt,kt,ct)}),ve=new ye({totalToScroll:V(kt,Ot)}),pt={up:Ie.upDistance,down:Ie.downDistance};return function nt(Ie){let We=(0,l.R)(Ie.container,"scroll");return Ie.throttle&&(We=We.pipe(function T(Ie,We=_.E,Dt){const kt=(0,M.O)(Ie,We);return function O(Ie,We){return(0,y.N)((Dt,kt)=>{const{leading:ct=!0,trailing:Ot=!1}=We??{};let ve=!1,Be=null,pt=null,dn=!1;const an=()=>{pt?.unsubscribe(),pt=null,Ot&&(Wt(),dn&&kt.complete())},In=()=>{pt=null,dn&&kt.complete()},Tt=It=>pt=(0,D.Tg)(Ie(It)).subscribe((0,v._)(kt,an,In)),Wt=()=>{if(ve){ve=!1;const It=Be;Be=null,kt.next(It),!dn&&Tt(It)}};Dt.subscribe((0,v._)(kt,It=>{ve=!0,Be=It,(!pt||pt.closed)&&(ct?Wt():Tt(It))},()=>{dn=!0,(!(Ot&&ve&&pt)||pt.closed)&&kt.complete()}))})}(()=>kt,Dt)}(Ie.throttle,void 0,{leading:!0,trailing:!0}))),We}({container:Ot.container,throttle:Ie.throttle}).pipe((0,e.Z)(()=>(0,t.of)(V(kt,Ot))),(0,f.T)(dn=>function mt(Ie,We,Dt){const{scrollDown:kt,fire:ct}=function de(Ie,We,Dt){const kt=function se(Ie,We){return Ie<We.scrolled}(Ie,We);return{fire:oe(We,Dt,kt),scrollDown:kt}}(Ie,We,Dt);return{scrollDown:kt,fire:ct,stats:We}}(ve.lastScrollPosition,dn,pt)),(0,m.M)(({stats:dn})=>ve.updateScroll(dn.scrolled,dn.totalToScroll)),(0,h.p)(({fire:dn,scrollDown:an,stats:{totalToScroll:In}})=>function U(Ie,We,Dt){return!!(Ie&&We||!Dt&&We)}(Ie.alwaysCallback,dn,ve.isTriggeredScroll(In,an))),(0,m.M)(({scrollDown:dn,stats:{totalToScroll:an}})=>{ve.updateTriggeredFlag(an,dn)}),(0,f.T)(ot))}const xe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function ot(Ie){const{scrollDown:We,stats:{scrolled:Dt}}=Ie;return{type:We?xe.DOWN:xe.UP,payload:{currentScrollPosition:Dt}}}let $e=(()=>{class Ie{constructor(Dt,kt){this.element=Dt,this.zone=kt,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:Dt,infiniteScrollDisabled:kt,infiniteScrollDistance:ct}){const Ot=C(Dt),ve=C(kt),Be=C(ct),pt=!ve&&!this.infiniteScrollDisabled||ve&&!kt.currentValue||Be;(Ot||ve||Be)&&(this.destroyScroller(),pt&&this.setup())}setup(){(function S(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=De({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(Dt=>this.handleOnScroll(Dt))})}handleOnScroll({type:Dt,payload:kt}){const ct=Dt===xe.DOWN?this.scrolled:this.scrolledUp;(function Fe(Ie){return Ie.observed??Ie.observers.length>0})(ct)&&this.zone.run(()=>ct.emit(kt))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(kt){return new(kt||Ie)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:Ie,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.OA$]})}}return Ie})(),st=(()=>{class Ie{static{this.\u0275fac=function(kt){return new(kt||Ie)}}static{this.\u0275mod=i.$C({type:Ie})}static{this.\u0275inj=i.G2t({})}}return Ie})()},85188:(N,b,n)=>{"use strict";n.d(b,{Dz:()=>_,I0:()=>M,mB:()=>u});var i=n(74523),t=n(54438),l=n(89417),e=n(60177);const f=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),h=new t.nKC("initial ngx-mask config"),_={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},y=["Hh:m0:s0","Hh:m0","m0:s0"],v=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let D=(()=>{class C{constructor(I){this._config=I,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(L,B,U,W)=>{let j=[],G="";if(Array.isArray(U)){const q=new RegExp(U.map(Q=>"[\\^$.|?*+()".indexOf(Q)>=0?`\\${Q}`:Q).join("|"));j=L.split(q),G=L.match(q)?.[0]??""}else j=L.split(U),G=U;const H=j.length>1?`${G}${j[1]}`:"";let V=j[0]??"";const X=this.separatorLimit.replace(/\s/g,"");X&&+X&&(V="-"===V[0]?`-${V.slice(1,V.length).slice(0,X.length)}`:V.slice(0,X.length));const J=/(\d+)(\d{3})/;for(;B&&J.test(V);)V=V.replace(J,"$1"+B+"$2");return void 0===W?V+H:0===W?V:V+H.substring(0,W+1)},this.percentage=L=>Number(L)>=0&&Number(L)<=100,this.getPrecision=L=>{const B=L.split(".");return B.length>1?Number(B[B.length-1]):1/0},this.checkAndRemoveSuffix=L=>{for(let B=this.suffix?.length-1;B>=0;B--){const U=this.suffix.substring(B,this.suffix?.length);if(L.includes(U)&&B!==this.suffix?.length-1&&(B-1<0||!L.includes(this.suffix.substring(B-1,this.suffix?.length))))return L.replace(U,"")}return L},this.checkInputPrecision=(L,B,U)=>{if(B<1/0){if(Array.isArray(U)){const H=U.find(V=>V!==this.thousandSeparator);U=H||U[0]}const W=new RegExp(this._charToRegExpExpression(U)+`\\d{${B}}.*$`),G=(L.match(W)??[])[0]?.length??0;G-1>B&&(L=L.substring(0,L.length-(G-1-B))),0===B&&this._compareOrIncludes(L[L.length-1],U,this.thousandSeparator)&&(L=L.substring(0,L.length-1))}return L},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(I,L){const[B,U]=L;return this.customPattern=U,this.applyMask(I,B)}applyMask(I,L,B=0,U=!1,W=!1,j=(()=>{})){if(!L||"string"!=typeof I)return"";let G=0,H="",V=!1,X=!1,J=1,q=!1;I.slice(0,this.prefix.length)===this.prefix&&(I=I.slice(this.prefix.length,I.length)),this.suffix&&I?.length>0&&(I=this.checkAndRemoveSuffix(I));const Q=I.toString().split("");if("IP"===L){const de=I.split(".");this.ipError=this._validIP(de),L="099.099.099.099"}const Y=[];for(let de=0;de<I.length;de++)I[de]?.match("\\d")&&Y.push(I[de]??"");if("CPF_CNPJ"===L&&(this.cpfCnpjError=11!==Y.length&&14!==Y.length,L=Y.length>11?"00.000.000/0000-00":"000.000.000-00"),L.startsWith("percent")){if(I.match("[a-z]|[A-Z]")||I.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){I=this._stripToDecimal(I);const de=this.getPrecision(L);I=this.checkInputPrecision(I,de,this.decimalMarker)}I.indexOf(".")>0&&!this.percentage(I.substring(0,I.indexOf(".")))&&(I=`${I.substring(0,I.indexOf(".")-1)}${I.substring(I.indexOf("."),I.length)}`),H=this.percentage(I)?I:I.substring(0,I.length-1)}else if(L.startsWith("separator")){(I.match("[w\u0430-\u044f\u0410-\u042f]")||I.match("[\u0401\u0451\u0410-\u044f]")||I.match("[a-z]|[A-Z]")||I.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||I.match("[^A-Za-z0-9,]"))&&(I=this._stripToDecimal(I)),I=I.length>1&&"0"===I[0]&&I[1]!==this.thousandSeparator&&!this._compareOrIncludes(I[1],this.decimalMarker,this.thousandSeparator)&&!W?I.slice(0,I.length-1):I,W&&(I=this._compareOrIncludes(I[I.length-1],this.decimalMarker,this.thousandSeparator)?I.slice(0,I.length-1):I);const de=this._charToRegExpExpression(this.thousandSeparator);let te='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(de,"");if(Array.isArray(this.decimalMarker))for(const ye of this.decimalMarker)te=te.replace(this._charToRegExpExpression(ye),"");else te=te.replace(this._charToRegExpExpression(this.decimalMarker),"");const le=new RegExp("["+te+"]");(I.match(le)||1===I.length&&this._compareOrIncludes(I,this.decimalMarker,this.thousandSeparator))&&(I=I.substring(0,I.length-1));const Ee=this.getPrecision(L),be=(I=this.checkInputPrecision(I,Ee,this.decimalMarker)).replace(new RegExp(de,"g"),"");H=this._formatWithSeparators(be,this.thousandSeparator,this.decimalMarker,Ee);const pe=H.indexOf(",")-I.indexOf(","),re=H.length-I.length;if(re>0&&","!==H[B]){X=!0;let ye=0;do{this._shift.add(B+ye),ye++}while(ye<re)}else 0!==pe&&B>0&&!(H.indexOf(",")>=B&&B>3)||!(H.indexOf(".")>=B&&B>3)&&re<=0?(this._shift.clear(),X=!0,J=re,this._shift.add(B+=re)):this._shift.clear()}else for(let de=0,te=Q[0];de<Q.length&&G!==L.length;de++,te=Q[de]??"")if(this._checkSymbolMask(te,L[G]??"")&&"?"===L[G+1])H+=te,G+=2;else if("*"===L[G+1]&&V&&this._checkSymbolMask(te,L[G+2]??""))H+=te,G+=3,V=!1;else if(this._checkSymbolMask(te,L[G]??"")&&"*"===L[G+1])H+=te,V=!0;else if("?"===L[G+1]&&this._checkSymbolMask(te,L[G+2]??""))H+=te,G+=3;else if(this._checkSymbolMask(te,L[G]??"")){if("H"===L[G]&&Number(te)>2){G+=1,this._shiftStep(L,G,Q.length),de--,this.leadZeroDateTime&&(H+="0");continue}if("h"===L[G]&&"2"===H&&Number(te)>3){G+=1,de--;continue}if("m"===L[G]&&Number(te)>5){G+=1,this._shiftStep(L,G,Q.length),de--,this.leadZeroDateTime&&(H+="0");continue}if("s"===L[G]&&Number(te)>5){G+=1,this._shiftStep(L,G,Q.length),de--,this.leadZeroDateTime&&(H+="0");continue}const le=31;if("d"===L[G]&&(Number(te)>3&&this.leadZeroDateTime||Number(I.slice(G,G+2))>le||"/"===I[G+1])){G+=1,this._shiftStep(L,G,Q.length),de--,this.leadZeroDateTime&&(H+="0");continue}if("M"===L[G]){const be=0===G&&(Number(te)>2||Number(I.slice(G,G+2))>12||"/"===I[G+1]),pe=I.slice(G-3,G-1).includes("/")&&("/"===I[G-2]&&Number(I.slice(G-1,G+1))>12&&"/"!==I[G]||"/"===I[G]||"/"===I[G-3]&&Number(I.slice(G-2,G))>12&&"/"!==I[G-1]||"/"===I[G-1]),re=Number(I.slice(G-3,G-1))<=le&&!I.slice(G-3,G-1).includes("/")&&"/"===I[G-1]&&(Number(I.slice(G,G+2))>12||"/"===I[G+1]),ye=Number(I.slice(G-3,G-1))>le&&!I.slice(G-3,G-1).includes("/")&&!I.slice(G-2,G).includes("/")&&Number(I.slice(G-2,G))>12,De=Number(I.slice(G-3,G-1))<=le&&!I.slice(G-3,G-1).includes("/")&&"/"!==I[G-1]&&Number(I.slice(G-1,G+1))>12;if(Number(te)>1&&this.leadZeroDateTime||be||pe||re||ye||De){G+=1,this._shiftStep(L,G,Q.length),de--,this.leadZeroDateTime&&(H+="0");continue}}H+=te,G++}else" "===te&&" "===L[G]?(H+=te,G++):-1!==this.maskSpecialCharacters.indexOf(L[G]??"")?(H+=L[G],G++,this._shiftStep(L,G,Q.length),de--):this.maskSpecialCharacters.indexOf(te)>-1&&this.maskAvailablePatterns[L[G]??""]&&this.maskAvailablePatterns[L[G]??""]?.optional?(Q[G]&&"099.099.099.099"!==L&&"000.000.000-00"!==L&&"00.000.000/0000-00"!==L&&!L.match(/^9+\.0+$/)&&(H+=Q[G]),G++,de--):"*"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(te)===this.maskExpression[G+2]&&V||"?"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(te)===this.maskExpression[G+2]&&V?(G+=3,H+=te):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(te)<0&&te!==this.placeHolderCharacter&&(q=!0);H.length+1===L.length&&-1!==this.maskSpecialCharacters.indexOf(L[L.length-1]??"")&&(H+=L[L.length-1]);let z=B+1;for(;this._shift.has(z);)J++,z++;let Z=U&&!L.startsWith("separator")?G:this._shift.has(B)?J:0;q&&Z--,j(Z,X),J<0&&this._shift.clear();let oe=!1;W&&(oe=Q.every(de=>this.maskSpecialCharacters.includes(de)));let se=`${this.prefix}${oe?"":H}${this.suffix}`;return 0===H.length&&(se=`${this.prefix}${H}`),se}_findSpecialChar(I){return this.maskSpecialCharacters.find(L=>L===I)}_checkSymbolMask(I,L){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[L]?.pattern&&this.maskAvailablePatterns[L]?.pattern.test(I))??!1}_stripToDecimal(I){return I.split("").filter((L,B)=>{const U="string"==typeof this.decimalMarker?L===this.decimalMarker:this.decimalMarker.includes(L);return L.match("^-?\\d")||L===this.thousandSeparator||U||"-"===L&&0===B&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(I){return I&&(" "===I?"\\s":"[\\^$.|?*+()".indexOf(I)>=0?`\\${I}`:I)}_shiftStep(I,L,B){const U=/[*?]/g.test(I.slice(0,L))?B:L;this._shift.add(U+this.prefix.length||0)}_compareOrIncludes(I,L,B){return Array.isArray(L)?L.filter(U=>U!==B).includes(I):I===L}_validIP(I){return!(4===I.length&&!I.some((L,B)=>I.length!==B+1?""===L||Number(L)>255:""===L||Number(L.substring(0,3))>255))}}return C.\u0275fac=function(I){return new(I||C)(t.KVO(f))},C.\u0275prov=t.jDH({token:C,factory:C.\u0275fac}),C})(),O=(()=>{class C extends D{constructor(I,L,B,U){super(L),this.document=I,this._config=L,this._elementRef=B,this._renderer=U,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=W=>{}}applyMask(I,L,B=0,U=!1,W=!1,j=(()=>{})){if(!L)return I!==this.actualValue?this.actualValue:I;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(I||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(I||"#")),!I&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const G=I&&"number"==typeof this.selStart?I[this.selStart]??"":"";let H="";if(void 0!==this.hiddenInput&&!this.writingValue){let q=this.actualValue.split("");""!==I&&q.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(I.length>q.length?q.splice(this.selStart,0,G):I.length<q.length&&(q.length-I.length==1?q.splice(this.selStart-1,1):q.splice(this.selStart,this.selEnd-this.selStart))):q=[],this.showMaskTyped&&(I=this.removeMask(I)),H=this.actualValue.length&&q.length<=I.length?this.shiftTypedSymbols(q.join("")):I}this.showMaskTyped&&(I=this.removeMask(I)),H=H&&H.length?H:I;const V=super.applyMask(H,L,B,U,W,j);if(this.actualValue=this.getActualValue(V),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(q=>!this._compareOrIncludes(q,this.decimalMarker,this.thousandSeparator))),this.formControlResult(V),!this.showMaskTyped)return this.hiddenInput&&V&&V.length?this.hideInput(V,this.maskExpression):V;const X=V.length,J=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const q=this._numberSkipedSymbols(V);return V+J.slice(X+q)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?V+J:V+J.slice(X)}_numberSkipedSymbols(I){const L=/(^|\D)(\d\D)/g;let B=L.exec(I),U=0;for(;null!=B;)U+=1,B=L.exec(I);return U}applyValueChanges(I,L,B,U=(()=>{})){const W=this._elementRef.nativeElement;W.value=this.applyMask(W.value,this.maskExpression,I,L,B,U),W!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(I,L){return I.split("").map((B,U)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[L[U]??""]&&this.maskAvailablePatterns[L[U]??""]?.symbol?this.maskAvailablePatterns[L[U]??""]?.symbol:B).join("")}getActualValue(I){const L=I.split("").filter((B,U)=>{const W=this.maskExpression[U]??"";return this._checkSymbolMask(B,W)||this.maskSpecialCharacters.includes(W)&&B===W});return L.join("")===I?L.join(""):I}shiftTypedSymbols(I){let L="";return(I&&I.split("").map((U,W)=>{if(this.maskSpecialCharacters.includes(I[W+1]??"")&&I[W+1]!==this.maskExpression[W+1])return L=U,I[W+1];if(L.length){const j=L;return L="",j}return U})||[]).join("")}numberToString(I){return I||0===I?Number(I).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(I)}showMaskInInput(I){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(I){if("IP"===this.maskExpression)return this._checkForIp(I);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(I)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const I=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==I.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(I.value,this.maskExpression))}set formElementProperty([I,L]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,I,L))}checkSpecialCharAmount(I){return I.split("").filter(B=>this._findSpecialChar(B)).length}removeMask(I){return this._removeMask(this._removeSuffix(this._removePrefix(I)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(I){if("#"===I)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const L=[];for(let B=0;B<I.length;B++){const U=I[B]??"";U&&U.match("\\d")&&L.push(U)}return L.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>3&&L.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>6&&L.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(I){const L=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,B=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===I)return L;const U=[];for(let W=0;W<I.length;W++){const j=I[W]??"";j&&j.match("\\d")&&U.push(j)}return U.length<=3?L.slice(U.length,L.length):U.length>3&&U.length<=6?L.slice(U.length+1,L.length):U.length>6&&U.length<=9?L.slice(U.length+2,L.length):U.length>9&&U.length<11?L.slice(U.length+3,L.length):11===U.length?"":12===U.length?B.slice(17===I.length?16:15,B.length):U.length>12&&U.length<=14?B.slice(U.length+4,B.length):""}_getActiveElement(I=this.document){const L=I?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):I.activeElement}formControlResult(I){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(I)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(I)):this._removeSuffix(I))}_toNumber(I){if(!this.isNumberValue||""===I)return I;const L=Number(I);return Number.isNaN(L)?I:L}_removeMask(I,L){return I&&I.replace(this._regExpForRemove(L),"")}_removePrefix(I){return this.prefix?I&&I.replace(this.prefix,""):I}_removeSuffix(I){return this.suffix?I&&I.replace(this.suffix,""):I}_retrieveSeparatorValue(I){return this._removeMask(this._removeSuffix(this._removePrefix(I)),this.maskSpecialCharacters)}_regExpForRemove(I){return new RegExp(I.map(L=>`\\${L}`).join("|"),"gi")}_replaceDecimalMarkerToDot(I){const L=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return I.replace(this._regExpForRemove(L),".")}_checkSymbols(I){if(""===I)return I;const L=this._retrieveSeparatorPrecision(this.maskExpression),B=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(I));return this.isNumberValue?L?I===this.decimalMarker?null:this._checkPrecision(this.maskExpression,B):Number(B):B}_retrieveSeparatorPrecision(I){const L=I.match(new RegExp("^separator\\.([^d]*)"));return L?Number(L[1]):null}_checkPrecision(I,L){return I.indexOf("2")>0?Number(L).toFixed(2):Number(L)}}return C.\u0275fac=function(I){return new(I||C)(t.KVO(e.qQ),t.KVO(f),t.KVO(t.aKT),t.KVO(t.sFG))},C.\u0275prov=t.jDH({token:C,factory:C.\u0275fac}),C})(),M=(()=>{class C{constructor(I,L,B){this.document=I,this._maskService=L,this._config=B,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=U=>{},this.onTouch=()=>{}}ngOnChanges(I){const{maskExpression:L,specialCharacters:B,patterns:U,prefix:W,suffix:j,thousandSeparator:G,decimalMarker:H,dropSpecialCharacters:V,hiddenInput:X,showMaskTyped:J,placeHolderCharacter:q,shownMaskExpression:Q,showTemplate:Y,clearIfNotMatch:z,validation:Z,separatorLimit:oe,allowNegativeNumbers:se,leadZeroDateTime:de,triggerOnMaskChange:te}=I;if(L&&(L.currentValue!==L.previousValue&&!L.firstChange&&(this._maskService.maskChanged=!0),L.currentValue&&L.currentValue.split("||").length>1?(this._maskExpressionArray=L.currentValue.split("||").sort((le,Ee)=>le.length-Ee.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=L.currentValue||"",this._maskService.maskExpression=this._maskValue)),B){if(!B.currentValue||!Array.isArray(B.currentValue))return;this._maskService.maskSpecialCharacters=B.currentValue||[]}U&&U.currentValue&&(this._maskService.maskAvailablePatterns=U.currentValue),W&&(this._maskService.prefix=W.currentValue),j&&(this._maskService.suffix=j.currentValue),G&&(this._maskService.thousandSeparator=G.currentValue),H&&(this._maskService.decimalMarker=H.currentValue),V&&(this._maskService.dropSpecialCharacters=V.currentValue),X&&(this._maskService.hiddenInput=X.currentValue),J&&(this._maskService.showMaskTyped=J.currentValue),q&&(this._maskService.placeHolderCharacter=q.currentValue),Q&&(this._maskService.shownMaskExpression=Q.currentValue),Y&&(this._maskService.showTemplate=Y.currentValue),z&&(this._maskService.clearIfNotMatch=z.currentValue),Z&&(this._maskService.validation=Z.currentValue),oe&&(this._maskService.separatorLimit=oe.currentValue),se&&(this._maskService.allowNegativeNumbers=se.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(le=>"-"!==le))),de&&(this._maskService.leadZeroDateTime=de.currentValue),te&&(this._maskService.triggerOnMaskChange=te.currentValue),this._applyMask()}validate({value:I}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(I);if(this._maskService.cpfCnpjError)return this._createValidationError(I);if(this._maskValue.startsWith("separator")||v.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(y.includes(this._maskValue))return this._validateTime(I);if(I&&I.toString().length>=1){let L=0;for(const B in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[B]?.optional&&(this._maskValue.indexOf(B)!==this._maskValue.lastIndexOf(B)?L+=this._maskValue.split("").filter(W=>W===B).join("").length:-1!==this._maskValue.indexOf(B)&&L++,-1!==this._maskValue.indexOf(B)&&I.toString().length>=this._maskValue.indexOf(B)||L===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&I.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&I.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&I.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(I);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const B=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-L:this._maskValue.length-L;if(I.toString().length<B)return this._createValidationError(I)}}return I&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(I){(""===I||null==I)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(I){const L=I.target;if(this._inputValue=L.value,this._setMask(),!this._maskValue)return void this.onChange(L.value);const B=1===L.selectionStart?L.selectionStart+this._maskService.prefix.length:L.selectionStart;let U=0,W=!1;if(this._maskService.applyValueChanges(B,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(G,H)=>{this._justPasted=!1,U=G,W=H}),this._getActiveElement()!==L)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let j=this._position?this._inputValue.length+B+U:B+("Backspace"!==this._code||W?U:0);j>this._getActualInputLength()&&(j=this._getActualInputLength()),j<0&&(j=0),L.setSelectionRange(j,j),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(I){if(!this._maskValue)return;const L=I.target;null!==L&&null!==L.selectionStart&&L.selectionStart===L.selectionEnd&&L.selectionStart>this._maskService.prefix.length&&38!==I.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),L.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===L.value?(L.focus(),L.setSelectionRange(0,0)):L.selectionStart>this._maskService.actualValue.length&&L.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const W=L&&(L.value&&L.value!==this._maskService.prefix?L.value:this._maskService.prefix+this._maskService.maskIsShown);L&&L.value!==W&&(L.value=W),L&&(L.selectionStart||L.selectionEnd)<=this._maskService.prefix.length?L.selectionStart=this._maskService.prefix.length:L&&L.selectionEnd>this._getActualInputLength()&&(L.selectionEnd=this._getActualInputLength())}onKeyDown(I){if(!this._maskValue)return;this._code=I.code?I.code:I.key;const L=I.target;if(this._inputValue=L.value,this._setMask(),38===I.keyCode&&I.preventDefault(),37===I.keyCode||8===I.keyCode||46===I.keyCode){if(8===I.keyCode&&0===L.value.length&&(L.selectionStart=L.selectionEnd),8===I.keyCode&&0!==L.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&L.selectionStart<=this.prefix.length)L.setSelectionRange(this.prefix.length,L.selectionEnd);else if(this._inputValue.length!==L.selectionStart&&1!==L.selectionStart)for(;this.specialCharacters.includes((this._inputValue[L.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&L.selectionStart>this.prefix.length||0===this.prefix.length);)L.setSelectionRange(L.selectionStart-1,L.selectionEnd);this.checkSelectionOnDeletion(L),this._maskService.prefix.length&&L.selectionStart<=this._maskService.prefix.length&&L.selectionEnd<=this._maskService.prefix.length&&I.preventDefault(),8===I.keyCode&&!L.readOnly&&0===L.selectionStart&&L.selectionEnd===L.value.length&&0!==L.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<L.selectionStart?L.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===I.keyCode&&I.ctrlKey||65===I.keyCode&&I.metaKey)&&(L.setSelectionRange(0,this._getActualInputLength()),I.preventDefault()),this._maskService.selStart=L.selectionStart,this._maskService.selEnd=L.selectionEnd}writeValue(I){var L=this;return(0,i.A)(function*(){"object"==typeof I&&null!==I&&"value"in I&&("disable"in I&&L.setDisabledState(!!I.disable),I=I.value),("number"==typeof I||L._maskValue.startsWith("separator"))&&(I=L._maskService.numberToString(I),Array.isArray(L.decimalMarker)||(I="."!==L.decimalMarker?I.replace(".",L.decimalMarker):I),L._maskService.isNumberValue=!0),"string"!=typeof I&&(I=""),L._inputValue=I,L._setMask(),I&&L._maskService.maskExpression||L._maskService.maskExpression&&(L._maskService.prefix||L._maskService.showMaskTyped)?(L._maskService.writingValue=!0,L._maskService.formElementProperty=["value",L._maskService.applyMask(I,L._maskService.maskExpression)],L._maskService.writingValue=!1):L._maskService.formElementProperty=["value",I],L._inputValue=I})()}registerOnChange(I){this._maskService.onChange=this.onChange=I}registerOnTouched(I){this.onTouch=I}_getActiveElement(I=this.document){const L=I?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):I.activeElement}checkSelectionOnDeletion(I){I.selectionStart=Math.min(Math.max(this.prefix.length,I.selectionStart),this._inputValue.length-this.suffix.length),I.selectionEnd=Math.min(Math.max(this.prefix.length,I.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(I){this._maskService.formElementProperty=["disabled",I]}_repeatPatternSymbols(I){return I.match(/{[0-9]+}/)&&I.split("").reduce((L,B,U)=>{if(this._start="{"===B?U:this._start,"}"!==B)return this._maskService._findSpecialChar(B)?L+B:L;this._end=U;const W=Number(I.slice(this._start+1,this._end));return L+new Array(W+1).join(I[this._start-1])},"")||I}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(I){const L=this._maskValue.split("").filter(B=>":"!==B).length;return I&&(0==+(I[I.length-1]??-1)&&I.length<L||I.length<=L-2)?this._createValidationError(I):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(I){return{mask:{requiredMask:this._maskValue,actualValue:I}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(I=>{const L=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(I)?.length;if(this._inputValue&&L)return this._maskValue=I,this.maskExpression=I,this._maskService.maskExpression=I,L;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return C.\u0275fac=function(I){return new(I||C)(t.rXU(e.qQ),t.rXU(O),t.rXU(f))},C.\u0275dir=t.FsC({type:C,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(I,L){1&I&&t.bIt("paste",function(){return L.onPaste()})("ngModelChange",function(U){return L.onModelChange(U)})("input",function(U){return L.onInput(U)})("blur",function(){return L.onBlur()})("click",function(U){return L.onClick(U)})("keydown",function(U){return L.onKeyDown(U)})},inputs:{maskExpression:[t.Mj6.None,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:l.kq,useExisting:(0,t.Rfq)(()=>C),multi:!0},{provide:l.cz,useExisting:(0,t.Rfq)(()=>C),multi:!0},O]),t.OA$]}),C})();function R(C,S){return S instanceof Function?{...C,...S()}:{...C,...S}}let u=(()=>{class C{static forRoot(I){return{ngModule:C,providers:[{provide:m,useValue:I},{provide:h,useValue:_},{provide:f,useFactory:R,deps:[h,m]},D]}}static forChild(){return{ngModule:C}}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275mod=t.$C({type:C}),C.\u0275inj=t.G2t({}),C})();const w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};w.KeyboardEvent||(w.KeyboardEvent=function(C,S){})},72234:(N,b,n)=>{"use strict";n.d(b,{Yq:()=>y,Zm:()=>_});var i=n(54438),t=n(60177);const l=["*"],e=(v,D,O,M,T)=>({"custom-content":v,circle:D,progress:O,"progress-dark":M,pulse:T});function f(v,D){1&v&&i.SdG(0)}function m(v,D){if(1&v&&(i.j41(0,"div",0),i.DNE(1,f,1,0),i.k0s()),2&v){const O=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===O.appearance,"circle"===O.appearance,"progress"===O.animation,"progress-dark"===O.animation,"pulse"===O.animation))("ngStyle",O.theme),i.BMQ("aria-label",O.ariaLabel)("aria-valuetext",O.loadingText),i.R7$(),i.vxM(1,"custom-content"===O.appearance?1:-1)}}const h=new i.nKC("ngx-skeleton-loader.config");let _=(()=>{class v{constructor(O){this.config=O;const{appearance:M="line",animation:T="progress",theme:R=null,loadingText:u="Loading...",count:w=1,ariaLabel:C="loading"}=O||{};this.appearance=M,this.animation=T,this.theme=R,this.loadingText=u,this.count=w,this.items=[],this.ariaLabel=C}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const O=["progress","progress-dark","pulse","false"];-1===O.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${O.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:M}=this.config||{};M&&M.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(O){["count","animation","appearance"].find(M=>O[M]&&(O[M].isFirstChange()||O[M].previousValue===O[M].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(M){return new(M||v)(i.rXU(h,8))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:l,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(M,T){1&M&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&M&&i.Dyx(T.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return v})(),y=(()=>{class v{static forRoot(O){return{ngModule:v,providers:[{provide:h,useValue:O}]}}static{this.\u0275fac=function(M){return new(M||v)}}static{this.\u0275mod=i.$C({type:v})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return v})()},31635:(N,b,n)=>{"use strict";function f(oe,se,de,te){var be,le=arguments.length,Ee=le<3?se:null===te?te=Object.getOwnPropertyDescriptor(se,de):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(oe,se,de,te);else for(var pe=oe.length-1;pe>=0;pe--)(be=oe[pe])&&(Ee=(le<3?be(Ee):le>3?be(se,de,Ee):be(se,de))||Ee);return le>3&&Ee&&Object.defineProperty(se,de,Ee),Ee}function m(oe,se){return function(de,te){se(de,te,oe)}}function D(oe,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(oe,se)}function O(oe,se,de,te){return new(de||(de=Promise))(function(Ee,be){function pe(De){try{ye(te.next(De))}catch(nt){be(nt)}}function re(De){try{ye(te.throw(De))}catch(nt){be(nt)}}function ye(De){De.done?Ee(De.value):function le(Ee){return Ee instanceof de?Ee:new de(function(be){be(Ee)})}(De.value).then(pe,re)}ye((te=te.apply(oe,se||[])).next())})}function L(oe){return this instanceof L?(this.v=oe,this):new L(oe)}function B(oe,se,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,te=de.apply(oe,se||[]),Ee=[];return le=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),pe("next"),pe("throw"),pe("return",function be(xe){return function(ot){return Promise.resolve(ot).then(xe,nt)}}),le[Symbol.asyncIterator]=function(){return this},le;function pe(xe,ot){te[xe]&&(le[xe]=function($e){return new Promise(function(Fe,st){Ee.push([xe,$e,Fe,st])>1||re(xe,$e)})},ot&&(le[xe]=ot(le[xe])))}function re(xe,ot){try{!function ye(xe){xe.value instanceof L?Promise.resolve(xe.value.v).then(De,nt):mt(Ee[0][2],xe)}(te[xe](ot))}catch($e){mt(Ee[0][3],$e)}}function De(xe){re("next",xe)}function nt(xe){re("throw",xe)}function mt(xe,ot){xe(ot),Ee.shift(),Ee.length&&re(Ee[0][0],Ee[0][1])}}function W(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,se=oe[Symbol.asyncIterator];return se?se.call(oe):(oe=function u(oe){var se="function"==typeof Symbol&&Symbol.iterator,de=se&&oe[se],te=0;if(de)return de.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&te>=oe.length&&(oe=void 0),{value:oe&&oe[te++],done:!oe}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),de={},te("next"),te("throw"),te("return"),de[Symbol.asyncIterator]=function(){return this},de);function te(Ee){de[Ee]=oe[Ee]&&function(be){return new Promise(function(pe,re){!function le(Ee,be,pe,re){Promise.resolve(re).then(function(ye){Ee({value:ye,done:pe})},be)}(pe,re,(be=oe[Ee](be)).done,be.value)})}}}n.d(b,{AQ:()=>B,Cg:()=>f,N3:()=>L,Qj:()=>m,Sn:()=>D,sH:()=>O,xN:()=>W}),"function"==typeof SuppressedError&&SuppressedError}},N=>{N(N.s=47859)}]);